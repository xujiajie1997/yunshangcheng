(function(){var Il={23128:function(ce,k,c){"use strict";c.d(k,{wx:function(){return T}});var r=c(9575),d=c(91520),b=c(95681),w=c.n(b),P=c(78646),h=c(13806),x=c(37890),E=c(26114),m=c(15066),D=c(27319),y;(function(ee){var oe=ee.Keys=["v","locked"],pe=ee.defaultProps={v:!0}})(y||(y={}));var A=function(ee){return ee[ee.Min=0]="Min",ee[ee.Center=1]="Center",ee[ee.Max=2]="Max",ee[ee.Stretch=3]="Stretch",ee[ee.Scale=4]="Scale",ee}({}),C=function(ee){return ee[ee.h=0]="h",ee[ee.v=1]="v",ee}({}),I;(function(ee){var oe=ee.defaultProps={h:A.Min,v:A.Min},pe=ee.defaultScaleProps={h:A.Scale,v:A.Scale}})(I||(I={}));var S;(function(ee){var oe=ee.defaultProps={locked:!1,exports:[],aspectRatio:!1}})(S||(S={}));var O;(function(ee){})(O||(O={}));var T;(function(ee){var oe=ee.Keys=["x","y","complex"];function pe(Ne,Ze){var et=Ne.x,Je=Ne.y,gt=Ne.complex;gt!==null?(Ze.a=gt.a,Ze.b=gt.b,Ze.c=gt.c,Ze.d=gt.d):(Ze.a=1,Ze.b=0,Ze.c=0,Ze.d=1),Ze.x=et,Ze.y=Je}ee.parseInto=pe;function ve(Ne){var Ze=Ne.x,et=Ne.y,Je=new P.h,gt=Ne.complex;return gt!==null&&(Je.a=gt.a,Je.b=gt.b,Je.c=gt.c,Je.d=gt.d),Je.x=Ze,Je.y=et,Je}ee.parse=ve;function Pe(Ne){return{x:Ne.x,y:Ne.y,complex:Ne.complex}}ee.clone=Pe;function He(Ne){return Ne.isTranslate()?{x:Ne.x,y:Ne.y,complex:null}:{x:Ne.x,y:Ne.y,complex:{a:Ne.a,b:Ne.b,c:Ne.c,d:Ne.d}}}ee.serialize=He})(T||(T={}));var f=function(ee){return ee[ee.Alpha=1]="Alpha",ee[ee.Shape=2]="Shape",ee}({}),B;(function(ee){var oe=ee.Keys=["o","blend","shadows","blur","mask"],pe=ee.defaultProps={blend:x.b.PassThrough,blur:null,mask:null,o:1,shadows:[]}})(B||(B={}));var u=function(ee){return ee[ee.EvenOdd=0]="EvenOdd",ee[ee.NonZero=1]="NonZero",ee}({}),U;(function(ee){var oe=ee.emptyProps={fills:[],strokeFills:[],strokeShape:E.AZ.empty},pe=ee.defaultProps={strokeFills:[],fills:[h.wG.defaultGrey],strokeShape:E.AZ.empty}})(U||(U={}));var L;(function(ee){var oe=ee.defaultProps=(0,d.Z)((0,d.Z)((0,d.Z)({},y.defaultProps),S.defaultProps),B.defaultProps)})(L||(L={}));var F;(function(ee){var oe=ee.defaultProps=(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({constraint:I.defaultProps},U.defaultProps),y.defaultProps),S.defaultProps),B.defaultProps),pe=ee.defaultStrokeFill={v:!0,type:h.Y_.Solid,color:D.I.gray255(151),blend:x.b.Normal}})(F||(F={}));var N;(function(ee){var oe=ee.defaultProps=(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({constraint:I.defaultProps},U.defaultProps),y.defaultProps),S.defaultProps),B.defaultProps),{},{strokeFills:[{type:h.Y_.Solid,color:D.I.gray255(151),v:!0,blend:x.b.Normal}],fills:[],strokeShape:E.AZ.default1Center})})(N||(N={}));var H;(function(ee){var oe=ee.defaultProps={start:0,sweep:1,ratio:0},pe=ee.Keys=["start","sweep","ratio"]})(H||(H={}));var V;(function(ee){var oe=ee.defaultProps=(0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)((0,d.Z)({constraint:I.defaultProps},U.defaultProps),{},{strokeShape:(0,d.Z)((0,d.Z)({},E.AZ.empty),{},{align:E.kl.Outside})},y.defaultProps),S.defaultProps),B.defaultProps),m.R3.defaultProps),{},{fills:[]})})(V||(V={}));var G;(function(ee){var oe=ee.defaultProps=(0,d.Z)((0,d.Z)((0,d.Z)({constraint:I.defaultProps,clip:!1,layoutGrid:[],guides:[]},y.defaultProps),S.defaultProps),B.defaultProps)})(G||(G={}));var R;(function(ee){var oe=ee.defaultProps=(0,d.Z)((0,d.Z)({},G.defaultProps),{},{previousParents:[]})})(R||(R={}));var z=function(ee){return ee[ee.text=0]="text",ee[ee.fills=1]="fills",ee[ee.shadows=2]="shadows",ee[ee.blur=3]="blur",ee[ee.grids=4]="grids",ee}({}),K=function(ee){return ee[ee.local=0]="local",ee[ee.foreign=1]="foreign",ee[ee.published=2]="published",ee}({}),Y;(function(ee){var oe=ee.ShapeKeysNotNeededByLeftPanel=["w","h","corner","x","y","complex"],pe=ee.ShapeKeys=["w","h","vector","corner"].concat((0,r.Z)(m.Ho.Keys),["combineType"],(0,r.Z)(H.Keys)),ve=ee.OtherKeys=["combinedType","clip"],Pe=ee.CanCopyProps=["strokeFills","fills","style","strokeShape"].concat((0,r.Z)(m.R3.Keys),["blend","blur","shadows","corner","o"])})(Y||(Y={}));var q={SIZE:["h","w"],NAME:["name"],STROKE:["strokeFills","strokeShape"],FILLS:["fills"],VISIBLE:["v"],TEXT:["paragraphs"],TEXT_STYLE:m.Ho.StyleKeys,SHADOWS:["shadows"],BLUR:["blur"],OTHER:["o","blend","locked","corner"]},Q=w()(Object.values(q))},31588:function(ce,k,c){"use strict";c.d(k,{F8:function(){return w},WN:function(){return h},XW:function(){return P},_b:function(){return C},g6:function(){return A},je:function(){return y},nF:function(){return x}});var r=c(91520),d=c(9575),b=c(8159);function w(I,S,O,T){var f=O.current.getBoundingClientRect(),B=f.top,u=f.left,U=T.current.getBoundingClientRect(),L=U.top,F=U.left,N;if(u===F)S<Math.min(B,L)?N=B<L?0:100:S>Math.max(B,L)?N=B<L?100:0:N=Math.abs((S-B)/Math.abs(L-B)*100).toFixed(0);else if(B===L)I<Math.min(u,F)?N=u<F?0:100:I>Math.max(u,F)?N=u<F?100:0:N=Math.abs((I-u)/Math.abs(F-u)*100).toFixed(0);else{var H=(B-L)/(u-F),V=B-H*u,G=-1/H,R=S-G*I,z=(R-V)/(H-G),K=Math.abs(u-F);z<Math.min(u,F)?N=u<F?0:100:z>Math.max(u,F)?N=u<F?100:0:N=Math.round(Math.abs(u-z)/K*100)}return N}var P=function(S,O){var T=[];return S.map(function(f,B){var u=f[3],U=b.Il.toHexAndAlpha(f)[0],L={hex:U,alpha:u,point:O[B]};T.push(L)}),T},h=function(S,O,T){var f=[].concat((0,d.Z)(S),[T]).sort(function(R,z){return R-z}),B=f.findIndex(function(R){return R===T}),u=(0,d.Z)(O);if(B===0)u=[u[0]].concat((0,d.Z)(O));else if(B===u.length)u=[].concat((0,d.Z)(O),[u[u.length-1]]);else{u.splice(B,0,null);var U=Math.min(Math.max(B,f.length-1),0),L=Math.max(Math.min(B,0),f.length-1),F=u[U],N=u[L],H=f[U],V=f[L],G=(T-H)/(V-H||1);u[B]=[F[0]+(N[0]-F[0])*G,F[1]+(N[1]-F[1])*G,F[2]+(N[2]-F[2])*G,F[3]+(N[3]-F[3])*G]}return{nextColors:u,nextStops:f,index:B}},x=function(S){var O=(0,r.Z)((0,r.Z)({},S),{},{colors:(0,d.Z)(S.colors),stops:(0,d.Z)(S.stops)}),T=O.stops.map(function(f,B){return[f,O.colors[B]]});return T.sort(function(f,B){return f[0]-B[0]}),O.colors=T.map(function(f){return f[1]}),O.stops=T.map(function(f){return f[0]}),O},E=function(S,O){return Math.round(Number(S)*Math.pow(10,O))/Math.pow(10,O)},m=function(S,O,T,f){O===void 0&&(O=2),T===void 0&&(T=-1/0),f===void 0&&(f=1/0);var B=E(Math.min(Math.max(S,T),f),O);return isNaN(B)?0:B},D=function(S){return S.length===4?"rgba("+m(S[0]*255,0)+","+m(S[1]*255,0)+","+m(S[2]*255,0)+","+m(S[3])+")":"rgba(16,16,16,1)"},y=function(S){var O=S.colors,T=S.stops,f=S.complex,B=S.x,u=S.y,U=b.wx.parse({x:B,y:u,complex:f}),L=U.decompose().ro,F=L*180/Math.PI,N=U.apply(b.Sg.xy(0,0)),H=U.apply(b.Sg.xy(1,0)),V=b.Sg.xy(.5,.5),G=Math.abs(Math.sin(L))+Math.abs(Math.cos(L)),R=b.Sg.rotate(V,L,b.Sg.xy((1-G)/2,.5)),z=b.Sg.rotate(V,L,b.Sg.xy((1+G)/2,.5)),K=b.x8.projectOnePoint2Line(N,[R,z]),Y=b.Sg.dot(b.Sg.subtract(K,R),b.Sg.subtract(z,R))>0?b.Sg.distance(K,R)/G:-b.Sg.distance(K,R)/G,q=b.x8.projectOnePoint2Line(H,[R,z]),Q=b.Sg.dot(b.Sg.subtract(q,R),b.Sg.subtract(z,R))>0?b.Sg.distance(q,R)/G:-b.Sg.distance(q,R)/G,ee=T.map(function(oe,pe){var ve=(Q-Y)*oe+Y;return D(O[pe])+" "+m(ve*100)+"%"});return"linear-gradient("+m(F+90)+"deg, "+ee.toString()+")"},A=function(S){var O=S.colors,T=S.stops,f=S.complex,B=S.x,u=S.y,U=f,L=U.a,F=U.b,N=U.c,H=U.d,V=new b.hB(L,F,N,H,0,0),G=V.apply(b.Sg.xy(1,1)),R=G.x,z=G.y,K=T.map(function(Y,q){return D(O[q])+" "+m(Y*100)+"%"});return"radial-gradient("+Math.abs(R)+"% "+Math.abs(z)+"% at "+B*100+"% "+u*100+"%, "+K.toString()+")"},C=function(S){return S===b.Y_.LinearGradient||S===b.Y_.RadialGradient||S===b.Y_.AngularGradient}},46486:function(ce,k,c){"use strict";c.d(k,{Sm:function(){return S},WX:function(){return T},XC:function(){return C},e7:function(){return I},k:function(){return O}});var r=c(61519),d=c(29442),b=c(21882),w=c(20018),P=c(85734),h=c.n(P),x=c(7485),E=c(26250),m=c.n(E),D=function(){return/(Macintosh)/i.test(navigator.userAgent)},y=new Map;function A(f){if(f){var B=y.get(f);if(B!==void 0)return B;var u=f.split("+");if(D()){var U=function(N){return N==="mod"?"\u2318":N==="alt"?"\u2325":N==="shift"?"\u21E7":N==="ctrl"?"\u2303":N==="backspace"?"\u232B":N==="del"?"Delete":N.charAt(0).toUpperCase()+N.slice(1)};B=u.map(U).join("")}else{var L=function(N){return N==="mod"?"Ctrl":N.toLowerCase()==="alt"?"Alt":N.toLowerCase()==="shift"?"Shift":N.toLowerCase()==="ctrl"?"Ctrl":N==="backspace"?"Backspace":N==="del"?"Delete":N.toLowerCase()==="return"?"Enter":N.charAt(0).toUpperCase()+N.slice(1)};B=u.map(L).join("+")}return y.set(f,B),B}}var C=(0,x.createContext)(void 0),I=function(f){return f[f.Normal=0]="Normal",f[f.Mode=100]="Mode",f[f.FloatingPanel=200]="FloatingPanel",f[f.Input=201]="Input",f[f.TextEditor=300]="TextEditor",f[f.BlockingPanel=400]="BlockingPanel",f}({}),S=function(){function f(){(0,d.Z)(this,f),(0,w.Z)(this,"keys",new Map),(0,w.Z)(this,"globalKeys",new Map),(0,w.Z)(this,"sheetsBound",new Set)}return(0,b.Z)(f,[{key:"createHandler",value:function(u,U){var L=this;return U===void 0&&(U=!1),function(F){return L.invoke(u,U)}}},{key:"invoke",value:function(u,U){U===void 0&&(U=!1);var L=U?this.globalKeys.get(u):this.keys.get(u);return L&&L.length>0?(L[0].keys[u](),!1):!0}},{key:"bind",value:function(u){if(u.isGlobal)for(var U=0,L=Object.entries(u.keys);U<L.length;U++){var F=(0,r.Z)(L[U],1),N=F[0],H=this.globalKeys.get(N);if(H)H.push(u),H.sort(function(Q,ee){return ee.priority-Q.priority});else{var V=this.createHandler(N,!0);m().bindGlobal(N,V),this.globalKeys.set(N,[u])}}else for(var G=0,R=Object.entries(u.keys);G<R.length;G++){var z=(0,r.Z)(R[G],1),K=z[0],Y=this.keys.get(K);if(Y)Y.push(u),Y.sort(function(Q,ee){return ee.priority-Q.priority});else{var q=this.createHandler(K);m().bind(K,q),this.keys.set(K,[u])}}this.sheetsBound.add(u)}},{key:"unbind",value:function(u){u.isGlobal?this.globalKeys.forEach(function(U,L){h()(U,function(F){return F===u})}):this.keys.forEach(function(U,L){h()(U,function(F){return F===u})}),this.sheetsBound.delete(u)}},{key:"pause",value:function(){m().pause()}},{key:"unpause",value:function(){m().unpause()}}]),f}();function O(f){var B=(0,x.useContext)(C);return(0,x.useEffect)(function(){B.pause();var u=function(L){L.key==="Escape"&&!L.shiftKey&&!L.metaKey&&!L.ctrlKey&&!L.altKey&&(L.preventDefault(),f.dismiss())};return document.addEventListener("keydown",u),function(){B.unpause(),document.removeEventListener("keydown",u)}}),null}var T=(0,x.memo)(function(f){var B=(0,x.useContext)(C);return(0,x.useEffect)(function(){return B.bind(f.sheet),function(){B.unbind(f.sheet)}}),null})},56099:function(ce,k,c){"use strict";c.d(k,{w:function(){return V}});var r=c(91520),d=c(91452),b=c(53485),w=c(29442),P=c(21882),h=c(38899),x=c(68101),E=c(28535),m=c(20018),D=c(7485),y=c(89870),A=c(37771),C=c(34788),I=c.n(C),S=c(74934),O=c(90553),T=c(19130),f=c(9430),B=c(24455),u=c(70423),U=c(11685),L=c(98385),F=c(63748),N=c(83587),H=c(35269),V=function(q){(0,x.Z)(ee,q);var Q=(0,E.Z)(ee);function ee(){var oe;(0,w.Z)(this,ee);for(var pe=arguments.length,ve=new Array(pe),Pe=0;Pe<pe;Pe++)ve[Pe]=arguments[Pe];return oe=Q.call.apply(Q,[this].concat(ve)),(0,m.Z)((0,h.Z)(oe),"handleHover",function(He,Ne){var Ze=oe.props.onHover;(0,u.tq)()||Ze&&(He.stopPropagation(),He.preventDefault(),Ze(Ne))}),(0,m.Z)((0,h.Z)(oe),"handlePointerDown",function(){if(!(0,u.tq)()){var He=oe.props.onPointerDown;He&&He()}}),(0,m.Z)((0,h.Z)(oe),"createAnnotateRef",function(He){return oe.$AnnotateRef=He}),(0,m.Z)((0,h.Z)(oe),"handleClickOutSide",function(He){var Ne=He.target;if(oe.$AnnotateRef&&!oe.$AnnotateRef.contains(Ne)){var Ze=oe.props.onClickOutSide;Ze&&Ze()}}),oe}return(0,P.Z)(ee,[{key:"render",value:function(){var pe=this,ve=this.props,Pe=ve.widget,He=Pe.bind_widget_cid,Ne=Pe.order,Ze=ve.isSelect,et=ve.isQuickAnnotate,Je=ve.isDragCreateAnnotate,gt=ve.number,Ve=(0,F.zQ)(Ne);return(0,H.jsxs)(N.b,{className:I()(Ze?"isSelect":"",{isQuickAnnotate:et}),ref:this.createAnnotateRef,onMouseEnter:function(Ct){return pe.handleHover(Ct,!0)},onMouseLeave:function(Ct){return pe.handleHover(Ct,!1)},onPointerDown:this.handlePointerDown,children:[(0,H.jsx)("span",{className:I()("annotate-number","digit-"+Ve),children:Ne||gt}),He&&(0,H.jsx)(A.q,{name:"art_board/canvas/annotate/binding",className:"binding"}),Je&&(0,H.jsx)("span",{className:"roundDot"}),(0,H.jsx)(A.q,{name:"art_board/canvas/annotate",className:"water-drop"}),(0,H.jsx)(f.ZP,{target:document,onPointerDown:(0,f.Yc)(this.handleClickOutSide,{capture:!0})})]})}}]),ee}(D.PureComponent),G=function(Q,ee){var oe=(0,B.dAH)(Q),pe=(0,B.gAr)(Q),ve=ee.widget,Pe=oe.map(function(Ze){var et=Ze.cid;return et}),He=Pe.includes(ve.cid),Ne=pe&&pe.name===U.l.Annotate;return{isSelect:He,isQuickAnnotate:Ne}},R=(0,y.connect)(G)(V),z=function(q){(0,x.Z)(ee,q);var Q=(0,E.Z)(ee);function ee(){return(0,w.Z)(this,ee),Q.apply(this,arguments)}return(0,P.Z)(ee,[{key:"getTreeNodeStyle",value:function(pe){var ve=pe.props,Pe=ve.annotateShow,He=ve.scale,Ne=pe.treeData.widget,Ze=100/He,et="scale("+Ze+")",Je=Pe?Ne.o/100:0,gt=Pe?"":"none";return(0,r.Z)((0,r.Z)({},(0,d.Z)((0,b.Z)(ee.prototype),"getTreeNodeStyle",this).call(this,pe)),{},{transform:et,opacity:Je,pointerEvents:gt})}},{key:"renderWidgetContent",value:function(pe){var ve=pe.annotateShow;return ve?(0,H.jsx)(R,{widget:this.widget}):null}},{key:"renderLinkablePlaceHolder",value:function(){return null}}]),ee}(S.d),K=function(q){(0,x.Z)(ee,q);var Q=(0,E.Z)(ee);function ee(){return(0,w.Z)(this,ee),Q.apply(this,arguments)}return(0,P.Z)(ee,[{key:"renderWidgetContent",value:function(){return null}}]),ee}(O.u),Y=function(q){(0,x.Z)(ee,q);var Q=(0,E.Z)(ee);function ee(){return(0,w.Z)(this,ee),Q.apply(this,arguments)}return(0,P.Z)(ee,[{key:"renderWidgetContent",value:function(){var pe=this.widgetStore.widgetNode.cid===L.oT;return(0,H.jsx)(V,{widget:this.widget,isDragCreateAnnotate:pe})}}]),ee}(T.h);k.Z=[z,K,Y]},79075:function(ce,k,c){"use strict";c.d(k,{Ex:function(){return U},bv:function(){return L}});var r=c(91520),d=c(38899),b=c(91452),w=c(53485),P=c(20018),h=c(29442),x=c(21882),E=c(68101),m=c(28535),D=c(7485),y=c(74934),A=c(90553),C=c(19130),I=c(24064),S=c(29048),O=c(79292),T=c(35565),f=c(70956),B=c(68517),u=c(35269),U=function(G){var R={};return G.fills&&(R.background=(0,B.iF)(G)),R},L=function(V){(0,E.Z)(R,V);var G=(0,m.Z)(R);function R(){return(0,h.Z)(this,R),G.apply(this,arguments)}return(0,x.Z)(R,[{key:"render",value:function(){var K=this.props,Y=K.widget,q=K.onMouseDown,Q=K.onCopy,ee=(0,I.NW)({widget:Y}),oe=ee.minX,pe=ee.minY,ve=ee.maxX,Pe=ee.maxY,He=(0,O.L3)(Y),Ne=He.lineColor,Ze=He.textPlaceHolder,et={lf:oe,lr:ve,lb:Pe,lt:pe},Je=Y.point?Y.point:null,gt=!1;Je&&Je[0]&&Je[0]>oe-20&&Je[0]<ve+20&&(Je[1]<pe||Je[1]>Pe)&&(gt=!0);var Ve=!1,ht=!0;Je&&(ht=oe>=Je[0]),Y.point||(ht=oe>160,gt=!1,Ve=!0);var Ct=!1;Je&&Je[0]>oe&&Je[0]<ve&&Je[1]>pe&&Je[1]<Pe&&(Ct=!0);var wt,zt={},Ut=null,Ot={x:0,y:0},Lt={x:0,y:0},$t=Je&&(Je[0]<oe||Je[0]>ve)&&Je[1]>pe+8&&Je[1]<Pe-8,Yt=Je&&(Je[1]<pe||Je[1]>Pe)&&Je[0]>oe+8&&Je[0]<ve-8,xt=Je&&Je[1]<pe,we=Je&&Je[1]>Pe,Ie=Je&&Je[0]<oe,Ge=Je&&Je[0]>ve;if(Ve){var De=(0,T.dv)({isLeftSticky:ht,side:et});wt=De.svgContainer,Ut=De.path,Ot=De.circleStart,Lt=De.circleEnd,zt=De.pointStyle}else if(Ct){var xe=(0,T.hl)({originXY:Je,side:et});wt=xe.svgContainer,Ut=xe.path,Ot=xe.circleStart,Lt=xe.circleEnd,zt=xe.pointStyle}else if(Yt){var Ce=(0,T.Lr)({originXY:Je,isLineTop:xt,isLineBottomn:we,side:et});wt=Ce.svgContainer,Ut=Ce.path,Ot=Ce.circleStart,Lt=Ce.circleEnd,zt=Ce.pointStyle}else if($t){var Me=(0,T.OT)({originXY:Je,isLineLeft:Ie,isLineRight:Ge,side:et});wt=Me.svgContainer,Ut=Me.path,Ot=Me.circleStart,Lt=Me.circleEnd,zt=Me.pointStyle}else if(!Ct&&!gt&&!Yt&&!$t){var Oe=(0,T.Al)({originXY:Je,isLineLeft:Ie,side:et});wt=Oe.svgContainer,Ut=Oe.path,Ot=Oe.circleStart,Lt=Oe.circleEnd,zt=Oe.pointStyle}else if(!Ct&&gt&&!Yt&&!$t){var Be=(0,T.xk)({originXY:Je,side:et});wt=Be.svgContainer,Ut=Be.path,Ot=Be.circleStart,Lt=Be.circleEnd,zt=Be.pointStyle}var Ae=(0,f.VV)(Y.text),ye=document.createElement("div");ye.innerHTML=Ae;var be=ye.innerText.trim()?Ae:'<p style="color: '+Ze+'">'+I18N.SettingPanel.design.input_annotations+"</p>";return wt.pointerEvents="none",(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"text",dangerouslySetInnerHTML:{__html:be},onCopy:Q}),(0,u.jsxs)("svg",{style:wt,xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:Ut,stroke:Ne,strokeWidth:"2",strokeLinecap:"round",fill:"transparent"}),(0,u.jsx)("circle",{cx:Ot.x,cy:Ot.y,r:"3",fill:Ne}),(0,u.jsx)("circle",{cx:Lt.x,cy:Lt.y,r:"3",fill:Ne,className:"stickyCircle"})]}),(0,u.jsx)("div",{style:zt,className:"point",onMouseDown:q})]})}}]),R}(D.PureComponent),F=function(V){(0,E.Z)(R,V);var G=(0,m.Z)(R);function R(){var z;(0,h.Z)(this,R);for(var K=arguments.length,Y=new Array(K),q=0;q<K;q++)Y[q]=arguments[q];return z=G.call.apply(G,[this].concat(Y)),(0,P.Z)((0,d.Z)(z),"handleMouseDown",function(Q,ee){var oe=(0,d.Z)(z),pe=oe.widget,ve=ee||{scale:100},Pe=ve.scale;Q.stopPropagation();var He=Q.clientX,Ne=Q.clientY,Ze=pe.point?pe.point:null;if(!pe.point){var et=(0,I.NW)({widget:pe}),Je=et.minX,gt=et.minY,Ve=et.maxX,ht=Je<160?Ve+35:Je-35,Ct=gt+8;Ze=[ht,Ct]}var wt=function(Ot){var Lt=Ot.clientX-He,$t=Ot.clientY-Ne,Yt=Lt/Pe*100,xt=$t/Pe*100;pe.point=[Math.round(Ze[0]+Yt),Math.round(Ze[1]+xt)],MB.action("update:widgets",{widgets:[(0,r.Z)({},pe)],shouldBreakLeftUICache:!1})},zt=function Ut(){(0,S.v8)(pe,{screenMetaCid:pe.screen_cid,screenStateCid:pe.screenstate_cid}),document.removeEventListener("mousemove",wt),document.removeEventListener("mouseup",Ut)};document.addEventListener("mousemove",wt),document.addEventListener("mouseup",zt)}),z}return(0,x.Z)(R,[{key:"getTreeNodeStyle",value:function(K){var Y=K.props.annotateShow,q=K.treeData.widget,Q=Y&&q.v?q.o/100:0,ee=Y&&q.v?"":"none";return(0,r.Z)((0,r.Z)({},(0,b.Z)((0,w.Z)(R.prototype),"getTreeNodeStyle",this).call(this,K)),{},{opacity:Q,pointerEvents:ee})}},{key:"style",get:function(){return Object.assign((0,b.Z)((0,w.Z)(R.prototype),"style",this),U(this.widget))}},{key:"renderWidgetContent",value:function(K){var Y=this,q=K.annotateShow;return q?(0,u.jsx)(L,{widget:this.widget,onMouseDown:function(ee){return Y.handleMouseDown(ee,K)}}):null}},{key:"renderLinkablePlaceHolder",value:function(){return null}}]),R}(y.d),N=function(V){(0,E.Z)(R,V);var G=(0,m.Z)(R);function R(){return(0,h.Z)(this,R),G.apply(this,arguments)}return(0,x.Z)(R,[{key:"renderWidgetContent",value:function(){return null}}]),R}(A.u),H=function(V){(0,E.Z)(R,V);var G=(0,m.Z)(R);function R(){return(0,h.Z)(this,R),G.apply(this,arguments)}return(0,x.Z)(R,[{key:"style",get:function(){return Object.assign((0,b.Z)((0,w.Z)(R.prototype),"style",this),U(this.widget))}},{key:"renderWidgetContent",value:function(){return(0,u.jsx)(L,{widget:this.widget})}}]),R}(C.h);k.ZP=[F,N,H]},27585:function(ce,k,c){"use strict";c.d(k,{A:function(){return ye},a:function(){return be}});var r=c(11685),d=c(12834),b=c(69586),w=c(6353),P=c(649),h=c(80891),x=c(854),E=c(75092),m=c(98363),D=c(40463),y=c(49073),A=c(18307),C=c(46888),I=c(35246),S=c(78661),O=c(32676),T=c(56757),f=c(54075),B=c(67812),u=c(96712),U=c(41235),L=c(37214),F=c(79075),N=c(73327),H=c(40702),V=c(79687),G=c(57814),R=c(60634),z=c(15693),K=c(97103),Y=c(16975),q=c(58753),Q=c(16957),ee=c(45471),oe=c(78956),pe=c(43726),ve=c(27065),Pe=c(87958),He=c(27894),Ne=c(27377),Ze=c(3435),et=c(42181),Je=c(95219),gt=c(38530),Ve=c(83117),ht=c(50580),Ct=c(91764),wt=c(47623),zt=c(5588),Ut=c(76194),Ot=c(37451),Lt=c(22749),$t=c(87419),Yt=c(28521),xt=c(56642),we=c(92056),Ie=c(95861),Ge=c(53907),De=c(37446),xe=c(19365),Ce=c(81915),Me=c(74744),Oe=c(22649),Be=c(56099),Ae=c(84809),ye=function(je){return je[je.design=0]="design",je[je.preview=1]="preview",je[je.snapshot=2]="snapshot",je}({});function be(je){var le=[ye.design,ye.preview,ye.snapshot].indexOf(je),Ee={[r.l.ScreenMeta]:d.ZP[le],[r.l.Group]:Ot.Z[le],[r.l.MTooltip]:b.Z[le],[r.l.TextField]:w.Z[le],[r.l.NavBar]:w.Z[le],[r.l.NavigationBar]:w.Z[le],[r.l.LegacyIphoneStatusBar]:P.Z[le],[r.l.LegacyIphoneXStatusBar]:P.Z[le],[r.l.LegacyIpadStatusBar]:P.Z[le],[r.l.Switch]:h.Z[le],[r.l.IOSSwitch]:h.Z[le],[r.l.CircleRect]:x.Z[le],[r.l.RoundedRect]:x.Z[le],[r.l.TextView]:x.Z[le],[r.l.LR]:E.Z[le],[r.l.TabBar]:E.Z[le],[r.l.Rectangle]:E.Z[le],[r.l.IOSStatusBar]:m.Z[le],[r.l.IPhoneXStatusBar]:D.Z[le],[r.l.AndroidStatusBar]:y.Z[le],[r.l.LegacyAndroidStatusBar]:A.Z[le],[r.l.MTextInput]:C.Z[le],[r.l.MTextArea]:I.Z[le],[r.l.MCheckBox]:S.Z[le],[r.l.MFileInput]:O.Z[le],[r.l.MRadioButton]:f.Z[le],[r.l.MSelect]:B.Z[le],[r.l.Button]:u.Z[le],[r.l.ButtonSolid]:u.Z[le],[r.l.HR]:U.Z[le],[r.l.Line]:L.Z[le],[r.l.AndroidSwitch]:N.Z[le],[r.l.TriangleB]:H.Z[le],[r.l.TriangleL]:H.Z[le],[r.l.Sticky]:F.ZP[le],[r.l.VideoView]:Y.Z[le],[r.l.MapView]:pe.Z[le],[r.l.AndroidCheck]:q.Z[le],[r.l.AndroidRadio]:Q.Z[le],[r.l.Webpage]:ee.Z[le],[r.l.TabItem]:ve.Z[le],[r.l.IconButton]:oe.Z[le],[r.l.SVGIconButton]:Pe.Z[le],[r.l.SVGIconPath]:He.Z[le],[r.l.PG]:Ct.Z[le],[r.l.Arrow]:G.Z[le],[r.l.Audio]:gt.Z[le],[r.l.Video]:Ve.Z[le],[r.l.QRCode]:ht.Z[le],[r.l.Polygon]:wt.Z[le],[r.l.Star]:zt.Z[le],[r.l.Panel]:Ut.Z[le],[r.l.Chart]:Lt.Z[le],[r.l.Placeholder]:Ne.Z[le],[r.l.Carousel]:Ze.Z[le],[r.l.Table]:Je.Z[le],[r.l.ImageView]:et.Z[le],[r.l.VE]:R.Z[le],[r.l.UnifiedKeyboard]:z.Z[le],[r.l.IOSCheck]:K.Z[le],[r.l.Label]:T.Z[le],[r.l.SearchBar]:V.Z[le],[r.l.RichText]:$t.Z[le],[r.l.DigitalStepper]:Yt.Z[le],[r.l.PaginationMobile]:we.Z[le],[r.l.PaginationWeb]:xt.Z[le],[r.l.Slider]:Ie.Z[le],[r.l.DropMenu]:Ge.Z[le],[r.l.NavigationMenu]:De.Z[le],[r.l.NavigationMenuV]:De.Z[le],[r.l.NavigationMenuH]:De.Z[le],[r.l.Collapse]:xe.Z[le],[r.l.SegmentedControl]:Ce.Z[le],[r.l.Tabs]:Oe.Z[le],[r.l.Annotate]:Be.Z[le],[r.l.MobileTabBars]:Ae.Z[le],[r.l.SelectionControl]:Me.Z[le]};return function(Fe,We){return new Ee[Fe](We)}}},43985:function(ce,k,c){"use strict";c.d(k,{UC:function(){return y},o7:function(){return E}});var r=c(91520),d=c(64555),b=c(72005),w=c(35517),P=c(25797),h=function(){var S=(0,b.Z)((0,d.Z)().mark(function O(T){var f,B;return(0,d.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.prev=0,U.next=3,(0,P.EE)("/api/accesses/v4/project/"+T+"/permission_check?permission=P:update");case 3:return f=U.sent,B=f.result,U.abrupt("return",B);case 8:return U.prev=8,U.t0=U.catch(0),U.next=12,(0,w.Vz)(U.t0);case 12:case"end":return U.stop()}},O,null,[[0,8]])}));return function(T){return S.apply(this,arguments)}}(),x=function(){var S=(0,b.Z)((0,d.Z)().mark(function O(T){return(0,d.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.prev=0,B.next=3,(0,P._Z)("/api/upper/web_v1/basics/"+T.cid,T);case 3:B.next=8;break;case 5:B.prev=5,B.t0=B.catch(0),console.warn(B.t0);case 8:case"end":return B.stop()}},O,null,[[0,5]])}));return function(T){return S.apply(this,arguments)}}(),E=function(){var S=(0,b.Z)((0,d.Z)().mark(function O(T,f){var B,u;return(0,d.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(L.prev=0,!f){L.next=7;break}return L.next=4,(0,P.EE)("/api/proto7/web_v1/project_share/"+T+"?access_token="+f);case 4:return B=L.sent,u=B.projectShare,L.abrupt("return",{projectShare:u});case 7:L.next=13;break;case 9:return L.prev=9,L.t0=L.catch(0),L.next=13,(0,w.Vz)(L.t0);case 13:case"end":return L.stop()}},O,null,[[0,9]])}));return function(T,f){return S.apply(this,arguments)}}(),m=function(){var S=(0,b.Z)((0,d.Z)().mark(function O(T){var f;return(0,d.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,(0,P.IP)("/api/proto7/web_v1/project_share/"+T.cid,{project_share:T});case 3:return f=u.sent,u.abrupt("return",f);case 7:return u.prev=7,u.t0=u.catch(0),u.next=11,(0,w.Vz)(u.t0);case 11:case"end":return u.stop()}},O,null,[[0,7]])}));return function(T){return S.apply(this,arguments)}}(),D=function(){var S=(0,b.Z)((0,d.Z)().mark(function O(T){var f,B;return(0,d.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,P.EE)("/api/upper/web_v1/basics/dashboard/"+T);case 2:return f=U.sent,B=f.screen_metas,U.abrupt("return",{screenMetaList:B});case 5:case"end":return U.stop()}},O)}));return function(T){return S.apply(this,arguments)}}(),y=function(){var S=(0,b.Z)((0,d.Z)().mark(function O(T){var f;return(0,d.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return f=T.projectCid,u.prev=1,u.next=4,(0,P.EE)("/api/proto7/web_v1/project_share/"+f+"/all");case 4:return u.abrupt("return",u.sent);case 7:return u.prev=7,u.t0=u.catch(1),u.next=11,(0,w.Vz)(u.t0);case 11:case"end":return u.stop()}},O,null,[[1,7]])}));return function(T){return S.apply(this,arguments)}}(),A=function(){var S=(0,b.Z)((0,d.Z)().mark(function O(T){var f,B,u,U,L;return(0,d.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return f=T.projectCid,B=T.accessToken,N.prev=1,N.next=4,(0,P.EE)("/api/proto7/web_v1/project_share/"+f+"?access_token="+B);case 4:return u=N.sent,U=u.projectShare,L=u.projectBasicToken,N.abrupt("return",{sharings:U,projectBasicToken:L});case 10:return N.prev=10,N.t0=N.catch(1),N.next=14,(0,w.Vz)(N.t0);case 14:case"end":return N.stop()}},O,null,[[1,10]])}));return function(T){return S.apply(this,arguments)}}(),C=function(){var S=(0,b.Z)((0,d.Z)().mark(function O(T){var f,B;return(0,d.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return f=T.projectCid,B=T.sharing,U.prev=1,U.next=4,(0,P.Gf)("/api/proto7/web_v1/project_share/"+f,(0,r.Z)({},B));case 4:return U.abrupt("return",U.sent);case 7:return U.prev=7,U.t0=U.catch(1),U.next=11,(0,w.Vz)(U.t0);case 11:case"end":return U.stop()}},O,null,[[1,7]])}));return function(T){return S.apply(this,arguments)}}(),I=function(){var S=(0,b.Z)((0,d.Z)().mark(function O(T){var f,B;return(0,d.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return f=T.projectCid,B=T.projectShareCid,U.prev=1,U.next=4,(0,P.Bh)("/api/proto7/web_v1/project_share/"+B+"?project_cid="+f);case 4:return U.abrupt("return",U.sent);case 7:return U.prev=7,U.t0=U.catch(1),U.next=11,(0,w.Vz)(U.t0);case 11:case"end":return U.stop()}},O,null,[[1,7]])}));return function(T){return S.apply(this,arguments)}}();k.ZP={checkSharingPermission:h,updateSharingProject:x,requestProjectShare:E,updateCurrentProjectShare:m,requestProjectBasicScreenMetaList:D,deleteSharing:I,addNewSharing:C,getAllSharings:y,getAllSharingsWithoutPermissionCheck:A}},41768:function(ce,k,c){"use strict";c.d(k,{AI:function(){return u},Fv:function(){return B},I3:function(){return O},Py:function(){return E},YE:function(){return P},_D:function(){return h},eF:function(){return y},gk:function(){return H},kj:function(){return m},ou:function(){return U},vL:function(){return f},yM:function(){return V},zt:function(){return T}});var r=c(61519),d=c(3954),b={iphone:0,android:1,ipad:2,web:3,apple_watch:4,smart_car:5,customize:6},w=Object.entries(d).map(function(z){var K=(0,r.Z)(z,2),Y=K[0],q=K[1];return{device:Y,modalList:Object.entries(q).map(function(Q){var ee=(0,r.Z)(Q,2),oe=ee[0],pe=ee[1],ve=pe.name,Pe=pe.width,He=pe.height,Ne=pe.hide;return{name:ve,width:Pe,height:He,hide:Ne,key:oe}})}}).sort(function(z,K){return b[z.device]-b[K.device]}),P=Object.entries(d).reduce(function(z,K){var Y=(0,r.Z)(K,2),q=Y[0],Q=Y[1];return Object.assign(z,Object.entries(Q).reduce(function(ee,oe){var pe=(0,r.Z)(oe,2),ve=pe[0],Pe=pe[1],He=Pe.name,Ne=Pe.width,Ze=Pe.height,et=Pe.hide;return Object.assign(ee,{[ve]:{name:He,width:Ne,height:Ze,device:q,hide:et}})},{Android:{name:"Android",width:360,height:640,device:"android"}}))},{}),h=["iphone_8","iphone_8_plus","google_pixel_2","mac_book_pro","imac","iphone_12_pro_max","iphone_12_pro","iphone_se"],x="light",E="dark",m={grid_size:10,theme:x},D="#ffffff",y={h:20,v:10},A={row:{count:0,gutter:20,size:144},col:{count:4,gutter:20,size:0}},C="rgba(41, 141, 248, 0.24)",I="screen-history-onLeave-project",S=!!Number(sessionStorage.getItem("inClowdz")),O={light:"rgba(245, 245, 245, 1)",dark:"rgba(21, 21, 21, 1)"},T=[20,30,50,75,80,90,100,120,150,200,300,400],f=T[0],B=T[T.length-1],u=300,U=300,L=16,F=111,N=98,H=380,V=36,G=250,R=230},88468:function(ce,k,c){"use strict";c.d(k,{C2:function(){return x},SW:function(){return E},Tk:function(){return h},To:function(){return m},WB:function(){return D},Zv:function(){return y},eB:function(){return w},n$:function(){return A},pY:function(){return C},rU:function(){return r},xm:function(){return S},yE:function(){return I},yv:function(){return P}});var r;(function(O){var T=O.TYPE={screen_link:1,state_link:2,panel_link:3,widget_link:4,hyperlink:5,scroll_link:6,visibility_link:7,screen_link_from_dynamic_panel:8,state_link_from_dynamic_panel:9},f=O.TRANSITION_TYPE={none_action_transition:0,default_action_transition:1},B=O.ANIMATION_DURATION={none_animation:"0s",default_animation:"0.2s"},u=function(U){return U[U.hide=0]="hide",U[U.show_mark=1]="show_mark",U[U.show_mark_and_line=2]="show_mark_and_line",U}({});O.displaySetting=u})(r||(r={}));var d=[r.TYPE.panel_link,r.TYPE.scroll_link,r.TYPE.visibility_link];function b(O){var T=r.TRANSITION_TYPE,f=T.none_action_transition,B=T.default_action_transition,u=r.ANIMATION_DURATION,U=u.none_animation,L=u.default_animation,F={[f]:U,[B]:L};return F[O]}var w="prev",P="KEEP_STATE",h="PREV_LINKED_STATE",x="FIRST_STATE",E="LAST_STATE",m="PREV_STATE",D="NEXT_STATE",y=[P,x,E],A=[x,E,m,D,h],C=[x,E,m,D],I=["inPage","newTab"],S="CURRENT_WIDGET"},37054:function(ce,k,c){"use strict";c.d(k,{G:function(){return A}});var r=c(91520),d=c(9575),b=c(29442),w=c(21882),P=c(20018),h=c(27444),x=c(65244),E=c(11685),m=c(77506),D=c(14730),y=c(63748),A=function(){function C(I,S){(0,b.Z)(this,C),(0,P.Z)(this,"panelCacheSet",new Set),this._itemSelector=I,this._nodeFactory=S,this.nodeMap=new Map,this.linkMap=new Map,this.linkDataMap=new Map,this.fontsInUse=new Set,this.linkList=[],this.annotateBindMap=new Map}return(0,w.Z)(C,[{key:"buildWidgetTree",value:function(S,O){this.cacheMap={},this.buildCache(S,O,!1);var T=this.cacheMap[S+"-"+O];this.widgetNode=this.build(S,null,T)}},{key:"buildLinkList",value:function(S){for(var O=this,T=[S],f=[],B=[];T.length;){var u=T.pop(),U=u.links.concat(u.innerLinks);U.length&&(B.push(u),f.push.apply(f,(0,d.Z)(U)),U.forEach(function(L){O.linkMap.set(L.cid,L)})),T.push.apply(T,(0,d.Z)(u.children))}return this.hasLinkNodeList=B,this.linkList=f,f}},{key:"getLinkData",value:function(S){return this.linkDataMap.get(S)}},{key:"getLinkNode",value:function(S){return this.linkMap.get(S)}},{key:"getLinkByWidgetCid",value:function(S){var O=[];return this.linkDataMap.forEach(function(T){T.widget_cids===S&&O.push(T)}),O}},{key:"getNode",value:function(S){if(typeof S=="string")return this.nodeMap.get(S);var O=S[0],T=this.nodeMap.get(O);return T.childrenByRef(S)}},{key:"getWidget",value:function(S){return this.nodeMap.get(S).widget}},{key:"applyChanges",value:function(S){var O=this,T=new Map;S.forEach(function(f){if(x.RI.willBreakLink(f)){var B=O.nodeMap.get(f==null?void 0:f.cid);B==null||B.collectUpdatedLinks(T)}}),T.size&&this.updateLinks(T)}},{key:"updateWidgets",value:function(S){var O=this,T=this.widgetNode.dup();S.forEach(function(B){var u=O.nodeMap.get(B.cid),U=u.dup();for(O.nodeMap.set(U.cid,U),U.widget=B;U.parent;){var L=U.parent.dup();O.nodeMap.set(L.cid,L),L.children=(0,h.Up)(L.children,function(F){return F.cid===U.cid},U).sort(function(F,N){return F.widget.z-N.widget.z}),U=L}T=U});var f=new Map;return T.children.forEach(function(B,u){B!==O.widgetNode[u]&&B.collectUpdatedLinks(f)}),f.size&&this.updateLinks(f),this.widgetNode=T}},{key:"replaceSymbolTree",value:function(S,O,T){this.buildCache(O,T,!1);var f=this.build(O,S,this.cacheMap[O+"-"+T],[S]),B=this.nodeMap.get(S).dup();for(B.children=[f],this.nodeMap.set(B.cid,B);B.parent;){var u=B.parent.dup();this.nodeMap.set(u.cid,u),u.children=(0,h.Up)(u.children,function(U){return U.cid===B.cid},B).sort(function(U,L){return U.widget.z-L.widget.z}),B=u}this.widgetNode=B}},{key:"updateLinks",value:function(S){var O=this,T=(0,d.Z)(this.linkList);T.forEach(function(f,B){S.has(f.ref)&&(T[B]=S.get(f.ref),O.linkMap.set(f.cid,f))}),this.linkList=T}},{key:"build",value:function(S,O,T,f){var B=this;f===void 0&&(f=[]);var u=T.widgetMap,U=T.childMap,L=u[S],F=this._nodeFactory(L.name,this),N=f.length===0?S:[].concat((0,d.Z)(f),[S]);if(F.cid=S,F.ref=N,F.parentRef=O,F.widget=L,F.type=L.name,F.type===m.Jq.panel){var H=this._itemSelector.getSymbolPathData(L),V=H.screenMetaCid,G=H.screenStateCid,R=this.cacheMap[V+"-"+G];if(R){var z=this.build(V,F.ref,R,[].concat((0,d.Z)(f),[F.cid]));F.children=[z]}else F.children=[]}else F.children=(U[S]||[]).map(function(K){return B.build(K,F.ref,T,f)}).filter(function(K){return K.valid}).sort(function(K,Y){return K.widget.z-Y.widget.z});return F.valid&&this.nodeMap.set(S,F),F.type in m.Bn&&(this.fontsInUse=new Set([].concat((0,d.Z)(this.fontsInUse),(0,d.Z)((0,D.QT)(F.widget))))),F}},{key:"buildCache",value:function(S,O,T,f){var B=this;T===void 0&&(T=!0),f===void 0&&(f=new Set);var u=function F(N,H,V,G){if(V===void 0&&(V=!0),G===void 0&&(G=new Set),!(V&&B.cacheMap[N+"-"+H])){var R=B._itemSelector.getScreenMetaByCid(N),z=B._itemSelector.queryItemList(N,H);if(z&&R){var K={[N]:(0,r.Z)((0,r.Z)({},R),{},{screenStateCid:H,name:"screen_meta",display_name:R.name,left:0,top:0,ro:0,v:!0,o:100})},Y={},q=[];z.forEach(function(ee){if(ee.name===E.l.RichText){var oe=ee,pe=oe.text;if(!Array.isArray(pe))return}if(ee.name===E.l.Link)q.push(ee);else{if(ee.name===E.l.Panel){if(B.panelCacheSet.has(ee.cid))return;var ve=B._itemSelector.getSymbolPathData(ee),Pe=ve.screenMetaCid,He=ve.screenStateCid,Ne=Pe+"-"+He;if(G.has(Ne))return;var Ze=new Set(G);Ze.add(Ne),q=q.concat(F(Pe,He,!0,Ze)),Y[ee.cid]=ee}K[ee.cid]=ee}});var Q={[N]:[]};return Object.values(K).forEach(function(ee){if(ee.cid!==N)if(K[ee.gid]){var oe;Q[oe=ee.gid]||(Q[oe]=[]),Q[ee.gid].push(ee.cid)}else Q[N].push(ee.cid)}),Object.keys(Y).forEach(function(ee){return B.panelCacheSet.add(ee)}),B.cacheMap[N+"-"+H]={widgetMap:K,childMap:Q,symbolMap:Y},Object.values(Y).forEach(function(ee){var oe=ee,pe=oe.screen_meta_cid,ve=oe.screen_state_cid;q=q.concat(F(pe,ve,!0,G))}),q}}},U=u(S,O,T,f).filter(function(F){return!!F}),L=function(N){var H=B.linkDataMap,V=B.cacheMap[S+"-"+O].symbolMap,G=[];Object.values(B.cacheMap).forEach(function(R){var z=R.widgetMap;G.push.apply(G,(0,d.Z)(Object.values(z)))}),N.forEach(function(R){B._itemSelector.checkIsValidLink(R,V,G)&&H.set(R.cid,R)})};L(U)}},{key:"buildAnnotateList",value:function(S){for(var O=[S],T=new Map;O.length;){var f=O.pop();f.type===E.l.Annotate&&T.set(f.cid,f.widget),O.push.apply(O,(0,d.Z)(f.children))}var B=C.setAnnotateList(T),u=(0,y.Lx)(B);return this.updateAnnotateBindMap(B),{annotateSortList:B,annotateData:u}}},{key:"getAnnotateBindCids",value:function(S){return this.annotateBindMap.get(S)}},{key:"updateAnnotateBindMap",value:function(S){var O=new Map;S.forEach(function(T){if(T.bind_widget_cid){var f=O.get(T.bind_widget_cid);if(f)f.add(T.cid),O.set(T.bind_widget_cid,f);else{var B=new Set;B.add(T.cid),O.set(T.bind_widget_cid,B)}}}),this.annotateBindMap=O}}],[{key:"setAnnotateList",value:function(S){return(0,d.Z)(S.values()).sort(function(O,T){return O.ctime-T.ctime})}}]),C}()},98385:function(ce,k,c){"use strict";c.d(k,{i5:function(){return r},oT:function(){return d}});var r=function(h){return h.landscape="landscape",h.portrait="portrait",h.folder="folder",h}({}),d="dummy-screen-meta-cid",b="dummy-screen-state-cid",w="dummy-screen-glue-cid",P={cid:d,name:"screen_meta",screen_glue_cid:w,width:390,height:844,orientation:r.portrait}},72324:function(ce,k,c){"use strict";c.d(k,{_:function(){return d},s:function(){return r}});var r=function(b){return b.GUIDE_PAGE_STATE="pageState",b.GUIDE_WIDGET_STATE="widgetState",b.GUIDE_TRASH_TIP="trashTip",b.GUIDE_VIDEO_TIP="videoTip",b.GUIDE_TOURIST_MORE="touristMore",b.GUIDE_VERSIONS="versioins",b.GUIDE_DEGREE="GUIDE_DEGREE",b.GUIDE_TOOLBAR_TRASH="GUIDE_TOOLBAR_TRASH_6",b.GUIDE_TOOLBAR_CENTER_SAVE="GUIDE_TOOLBAR_CENTER_SAVE",b.GUIDE_TOOLBAR_EXPORT_TO_ABOARD="guide_toolbar_export_to_aboard",b.GUIDE_TOOLBAR_EXPORT_TO_ABOARD_CLOSE="guide_toolbar_export_to_aboard_close",b.GUIDE_RESOURCES_SHOW="GUIDE_RESOURCES_SHOW",b.GUIDE_RESOURCES_PANEL_V7="guide_resources_panel_v7",b.GUIDE_QUICK_GET_START="GUIDE_QUICK_GET_START",b.GUIDE_SHORT_CUT_PANEL="GUIDE_SHORT_CUT_PANEL",b.GUIDE_FIRST_CLOSE_DAILY_TIPS="GUIDE_FIRST_CLOSE_DAILY_TIPS",b.GUIDE_ANNOTATE_BIND="guide_annotate_bind",b.GUIDE_ANNOTATE_EDIT="guide_annotate_edit",b.GUIDE_PREVIEW_ADD_COMMENT="guide_preview_add_comment",b.GUIDE_GRID_ABTEST="guide_grid_abtest",b.GUIDE_POPUP_PANEL="guide_popup_panel",b.WIDGET_BUILTIN_PANEL="widget_builtin_panel",b.WIDGET_USER_PANEL="widget_user_panel",b.WIDGET_ORG_PANEL="widget_org_panel",b.IMAGE_PANEL="image_panel",b.PAGE_PANEL="page_panel",b.GUIDE_SEARCH_RESOURCES_DETAILS="guide_search_resources_details",b.GUIDE_PAGE_CHARACTERISTIC="guide_page_characteristic",b.GUIDE_IMAGE_SLICING="guide_image_slicing",b.GUIDE_AUTO_FILL="guide_auto_fill",b.GUIDE_IMAGE_RESOURCE="guide_image_resource",b.GUIDE_GRADIENT_FILL="guide_gradient_fill",b.GUIDE_RULER_V1="guide_ruler_v1",b.GUIDE_LINK_1="guide_link_1",b.GUIDE_LINK_2="guide_link_2",b.GUIDE_LINK_3="guide_link_3",b.GUIDE_LINK_4="guide_link_4",b.GUIDE_MARKET_SCREEN="guide_market_screen",b}({}),d;(function(b){var w=function(x){return x.GUIDE_SHOW_TASK_LIST="GUIDE_SHOW_TASK_LIST",x.GUIDE_CREATE_COMPONENT_TASK="GUIDE_CREATE_COMPONENT_TASK",x.GUIDE_INTERACTION_TASK="GUIDE_INTERACTION_TASK",x.GUIDE_PREVIEW_TASK="GUIDE_PREVIEW_TASK",x.GUIDE_SHARE_TASK="GUIDE_SHARE_TASK",x.GUIDE_CLICK_BACK_DESIGN_IN_PREVIEW="GUIDE_CLICK_BACK_DESIGN_IN_PREVIEW",x}({});b.TaskListGuideKey=w;var P=function(x){return x.GUIDE_CREATE_COMPONENT_TASK_BIND="guide_create_component_task_bind",x.GUIDE_INTERACTION_TASK_BIND="guide_interaction_task_bind",x.GUIDE_PREVIEW_TASK_BIND="guide_preview_task_bind",x.GUIDE_SHARE_TASK_BIND="guide_share_task_bind",x.GUIDE_CLICK_BACK_DESIGN_IN_PREVIEW_BIND="guide_click_back_design_in_preview_bind",x}({});b.TaskListGuideBindClass=P;var h=function(x){return x.FLAG_SHOW_TASK_LIST="FLAG_SHOW_TASK_LIST",x.FLAG_HIDE_TASK_LIST="FLAG_HIDE_TASK_LIST",x.FLAG_TASK_LIST_COMPLETE="FLAG_TASK_LIST_COMPLETE",x.FLAG_OPEN_TASK_LIST_GUIDE_MODAL="FLAG_OPEN_TASK_LIST_GUIDE_MODAL",x.FLAG_CLOSE_TASK_LIST_GUIDE_MODAL="FLAG_CLOSE_TASK_LIST_GUIDE_MODAL",x.FLAG_CLOSE_HIDE_TASK_LIST_CONFIRM_MODAL="FLAG_CLOSE_HIDE_TASK_LIST_CONFIRM_MODAL",x.FLAG_OPEN_TASK_LIST_RECEIVED_COUPON_MODAL="FLAG_OPEN_TASK_LIST_RECEIVED_COUPON_MODAL",x.FLAG_CHECK_TASK_LIST_RECEIVED_COUPON="FLAG_CHECK_TASK_LIST_RECEIVED_COUPON",x.FLAG_CLOSE_TASK_LIST_RECEIVED_COUPON_MODAL="FLAG_CLOSE_TASK_LIST_RECEIVED_COUPON_MODAL",x.FLAG_DRAG_COMPONENT="FLAG_DRAG_COMPONENT",x.FLAG_DRAG_DESIGN_LINK="FLAG_DRAG_DESIGN_LINK",x.FLAG_CLICK_PREVIEW="FLAG_CLICK_PREVIEW",x.FLAG_CLICK_SHARE_IN_PREVIEW="FLAG_CLICK_SHARE_IN_PREVIEW",x.FLAG_CLICK_SHARE_IN_DESIGN="FLAG_CLICK_SHARE_IN_DESIGN",x.FLAG_GET_COUPON_SUCCESS="FLAG_GET_COUPON_SUCCESS",x.FLAG_GET_COUPON_FAIL="FLAG_GET_COUPON_FAIL",x}({});b.TaskListFlag=h})(d||(d={}))},14974:function(ce,k,c){"use strict";c.d(k,{B:function(){return b},I:function(){return w}});var r=c(45090),d=c(60843),b=(0,r.default)(d.Z).withConfig({displayName:"styles__StyledLoginModal",componentId:"sc-1gfow3q-0"})(["&.login-modal{width:424px;overflow:hidden;height:638px;border-radius:8px;header{display:none;}.content{height:100%;padding:0;iframe{width:100%;height:100%;border:0;}}}"]),w=(0,r.default)(d.Z).withConfig({displayName:"styles__StyledLoginModal4WS",componentId:"sc-1gfow3q-1"})(["&.login-modal{width:500px;overflow:hidden;height:633px;border-radius:10px;header{display:none;}.content{height:100%;padding:0;iframe{width:100%;height:100%;border:0;}}}"])},58057:function(ce,k,c){"use strict";c.d(k,{$s:function(){return u},D:function(){return A},Dm:function(){return B},FJ:function(){return f},Qu:function(){return O},Tf:function(){return I},bO:function(){return S},rt:function(){return m},yR:function(){return y}});var r=c(91520),d=c(21586),b=c(68951),w=function(F,N){var H=F.getLocalScreenRuntimeStateListByScreenGlueCid(N.cid),V=H.length>1,G=Object.keys(H[0].dataMap).length>1;return(0,r.Z)((0,r.Z)({},N),{},{multi_screens:V,multi_states:G,is_single_state:!(G||V)})},P=function(F){var N=ProjectExchange.getProjectStoreByUpperCid(F),H=C(F),V=[];return H.forEach(function(G){var R=G.cid,z=G.project_meta_cid,K=U(z,R);if(K.length!==0){var Y=getHomeScreenFromScreenMetaList(K);V.push(_objectSpread(_objectSpread({},w(N,G)),{},{home_screen_meta_cid:Y.cid}))}}),V},h=function(F){var N=ProjectExchange.getProjectStore(F),H=N.getLocalScreenGlueList(),V=[];return H.forEach(function(G){var R=G.cid,z=G.project_meta_cid,K=U(z,R);if(K.length!==0){var Y=getHomeScreenFromScreenMetaList(K);V.push(_objectSpread(_objectSpread({},w(N,G)),{},{home_screen_meta_cid:Y.cid}))}}),V},x=function(F){var N=[];return F.forEach(function(H){var V=H.cid,G=H.project_meta_cid,R=ProjectExchange.getProjectStore(G),z=U(G,V),K=getHomeScreenFromScreenMetaList(z);N.push(_objectSpread(_objectSpread({},w(R,H)),{},{home_screen_meta_cid:K.cid}))}),N},E=function(F){var N=ProjectExchange.getProjectStore(F),H=N.getLocalScreenGlueList(),V=[];return H.forEach(function(G){var R=G.cid,z=G.type,K=G.project_meta_cid;if(z===GlueType.PROJECT_TEMPLATE){var Y=U(K,R);if(Y.length!==0){var q=getHomeScreenFromScreenMetaList(Y);V.push(_objectSpread(_objectSpread({},G),{},{home_screen_meta_cid:q.cid}))}}}),V},m=function(F){return ProjectExchange.getProjectStore(F).getLocalScreenGlueList()},D=function(F,N){var H=ProjectExchange.getProjectStore(F).getLocalScreenRuntimeStateByCid(N),V=H.dataMap,G=Object.values(V).sort(function(R,z){return R.position-z.position});return G[0]},y=function(F,N){var H=ProjectExchange.getProjectStore(F);if(H){var V=H.getLocalScreenRuntimeStateByCid(N);if(V&&V.dataMap){var G=V.dataMap,R=Object.values(G);if(R!=null&&R.length)return R[0]}}return{}},A=function(F){var N=ProjectExchange.getProjectStore(F),H=N.getLocalScreenGlueList().find(function(V){return V.type===b.O.PROJECT_MAIN});return N.getLocalScreenMetaListByScreenGlueCid(H.cid)},C=function(F){return ProjectExchange.getProjectStoreByUpperCid(F).getLocalScreenGlueList()},I=function(F,N){return ProjectExchange.getProjectStore(F).getLocalScreenMetaByCid(N)},S=function(F,N){return ProjectExchange.getProjectStore(F).getLocalScreenMetaListByScreenGlueCid(N)},O=function(F,N){var H=ProjectExchange.getProjectStore(F),V=H.getLocalScreenGlueByCid(N);return w(H,V)},T=function(F,N,H){var V=ProjectExchange.getProjectStore(F),G=V.getLocalScreenGlueByCid(N);return{projectMeta:V.getLocalProjectMeta(),screenGlue:w(V,G),screenMeta:V.getLocalScreenMetaByCid(H)}},f=function(F,N){return ProjectExchange.getProjectStore(F).getLocalScreenRuntimeStateByCid(N)},B=function(F,N,H){var V=ProjectExchange.getProjectStore(F).getLocalScreenRuntimeStateByCid(N);if(V){var G=V.itemListMap;return G[H]||[]}else return[]},u=function(F){return ProjectExchange.getLocalProjectMetaByUpperCid(F)},U=function(F,N){var H=ProjectExchange.getProjectStore(F).getLocalScreenMetaList();return H.filter(function(V){return V.screen_glue_cid===N})}},92408:function(ce,k,c){"use strict";c.d(k,{B7:function(){return C},Hf:function(){return I},X9:function(){return S},Zx:function(){return K},gI:function(){return O},jz:function(){return z},wq:function(){return y}});var r=c(9575),d=c(91520),b=c(61519),w=c(68427),P=c(66302),h=c(81786),x=c(5207),E=c(88468),m=c(58057),D=[E.yv,E.C2],y=function(q){var Q=q.screenRuntimeState;return Object.keys(Q.dataMap)[0]},A=function(q,Q){for(var ee=q.projectMetaCid,oe=q.getLocalScreenMetaByCid(Q),pe=q.getLocalScreenRuntimeStateByCid(Q),ve=(0,w.hV)(Q),Pe=pe.dataMap,He=pe.itemListMap,Ne=function(){var gt=(0,b.Z)(et[Ze],2),Ve=gt[0],ht=gt[1];ve.dataMap[Ve]=ht,ve.itemListMap[Ve]=He[Ve].filter(function(Ct){return Ct.name==="panel"?(0,h._s)(Ct,ee,Q):!0}).map(function(Ct){return(0,x.W3)(Ct,oe.cid,Ve,ee)})},Ze=0,et=Object.entries(Pe);Ze<et.length;Ze++)Ne();return{screenMeta:oe,screenRuntimeState:ve}},C=function(q,Q,ee){ee===void 0&&(ee=E.C2);var oe=q.projectMetaCid,pe=ee;if(D.includes(pe)){var ve=(0,P.$l)(oe,Q);pe=ve[0].cid}var Pe=A(q,Q),He=Pe.screenMeta,Ne=Pe.screenRuntimeState,Ze={},et=Ne.itemListMap[pe].filter(function(Je){return Je.name==="panel"}).map(function(Je){return(0,x.W3)(Je,Q,pe,oe)});return et.forEach(function(Je){Ze[Je.cid]=I(q,Je)}),{cid:Q,stateCid:pe,panelInfoMap:Ze,screenMeta:He,screenRuntimeState:Ne}},I=function(q,Q){var ee=Q.screen_glue_cid,oe=Q.screen_meta_cid,pe=Q.screen_state_cid,ve=q.projectMetaCid,Pe=(0,m.Qu)(ve,ee),He=(0,m.bO)(ve,ee),Ne={};return He.forEach(function(Ze){var et=Ze.cid;Ne[et]=A(q,et)}),{cid:Q.cid,panelScreens:[oe],currentScreenMetaCid:oe,currentScreenStateCid:pe,screenGlue:Pe,screenDataMap:Ne}},S=function(q,Q){var ee=Q.panelCid,oe=Q.panelScreenCid,pe=Q.transition,ve=q.panelInfoMap[ee],Pe=ve.panelScreens,He=ve.screenDataMap,Ne=new Set(Pe);Ne.add(oe);var Ze=(0,d.Z)((0,d.Z)({},ve),{},{transition:pe,panelScreens:Array.from(Ne),currentScreenMetaCid:oe,currentScreenStateCid:y(He[oe])});return(0,d.Z)((0,d.Z)({},q),{},{panelInfoMap:(0,d.Z)((0,d.Z)({},q.panelInfoMap),{},{[ee]:Ze})})},O=function(q,Q){var ee=Q.panelCid,oe=Q.panelStateCid,pe=Q.transition,ve=Q.callback,Pe=q.panelInfoMap[ee],He=(0,d.Z)((0,d.Z)({},Pe),{},{currentScreenStateCid:oe,transition:(0,d.Z)((0,d.Z)({},pe),{},{callback:ve})});return(0,d.Z)((0,d.Z)({},q),{},{panelInfoMap:(0,d.Z)((0,d.Z)({},q.panelInfoMap),{},{[ee]:He})})},T=E.rU.TYPE,f=T.hyperlink,B=T.screen_link,u=T.state_link,U=T.widget_link,L=T.scroll_link,F=T.screen_link_from_dynamic_panel,N=T.visibility_link,H=T.panel_link,V=[f,B,u,F],G=[L],R=[U,N,H,u],z=function(q,Q){var ee=q.reduce(function(oe,pe){return oe.find(function(ve){return ve===pe.gesture})?oe:[].concat((0,r.Z)(oe),[pe.gesture])},[]).reduce(function(oe,pe){var ve=new Map;R.forEach(function(Ze){return ve.set(Ze,[])});var Pe=[],He=[],Ne=q.filter(function(Ze){return Ze.gesture===pe}).map(function(Ze){return ve.has(Ze.link_type)&&(ve.get(Ze.link_type).find(function(et){return et===Ze.target_cid})||Ze.target_cid===E.xm&&ve.get(Ze.link_type).find(function(et){return et===Q}))||Pe.length>0&&V.includes(Ze.link_type)&&Ze.screen_target_cid===void 0||He.length>0&&G.includes(Ze.link_type)?(0,d.Z)((0,d.Z)({},Ze),{},{ineffective:!0}):(V.includes(Ze.link_type)&&Pe.push(Ze.link_type),G.includes(Ze.link_type)&&Ze.screen_target_cid===void 0&&He.push(Ze.link_type),R.includes(Ze.link_type)&&ve.set(Ze.link_type,[].concat((0,r.Z)(ve.get(Ze.link_type)),[Ze.target_cid])),(0,d.Z)((0,d.Z)({},Ze),{},{ineffective:!1}))});return[].concat((0,r.Z)(oe),(0,r.Z)(Ne))},[]);return ee},K=function(q){var Q=q.filter(function(pe){return pe.ineffective===!1}),ee=[],oe=[];return Q.forEach(function(pe){V.includes(pe.link_type)?pe.link_type===u&&pe.screen_target_cid!==void 0?ee.push(pe):oe.push(pe):ee.push(pe)}),ee.concat(oe)}},68235:function(ce,k,c){"use strict";c.d(k,{Be:function(){return x},DW:function(){return P},Mb:function(){return h},_N:function(){return b},bT:function(){return d},ik:function(){return w},ow:function(){return E}});var r=c(45090),d=r.default.div.withConfig({displayName:"styles__StyledShareItem",componentId:"sc-s8lcmt-0"})(["padding:16px 14px;height:128px;background:",";border-radius:8px;display:flex;flex-direction:column;justify-content:center;.item-header{display:flex;align-items:center;height:24px;margin-bottom:10px;.name-input{height:24px;padding-top:2px;input{color:",";border-bottom:1px solid rgba(22,132,252,0.3);}}svg{cursor:pointer;}.title{color:",";flex-grow:1;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:600;.toggle-input{cursor:text;}}.right{width:150px;display:flex;flex-direction:row-reverse;.visible-button,.qr-button{pointer-events:",";}.svg-icon{color:",";}.page-size{line-height:16px;display:flex;align-items:center;color:",";margin-right:6px;}}.misc{flex-grow:0;width:48px;height:21px;}}.item-center{display:flex;align-itmes:center;margin-bottom:10px;.left{border-top:1px solid ",";border-left:1px solid ",";border-bottom:1px solid ",";}.permission-select{background:",";}.share-button{background:",";}}.item-bottom{display:flex;justify-content:center;align-items:center;height:24px;.visit-count{flex-grow:1;color:",";}.expiration-time{display:flex;align-items:center;color:",";.expire-text{margin:0 6px;}&.is-expired{color:",";}svg{color:",";cursor:pointer;&.self-transform{transition:all 0.4s;transform:rotate(360deg);}}}}.context-menu-mask{z-index:1024;}"],function(m){return m.theme.color_background},function(m){return m.theme.color_text_L1},function(m){return m.theme.color_text_L1},function(m){return m.isExpired?"none":""},function(m){return m.isExpired?m.theme.color_text_L3:m.theme.color_text_L1},function(m){return m.theme.color_text_L1},function(m){return m.theme.color_background_split},function(m){return m.theme.color_background_split},function(m){return m.theme.color_background_split},function(m){return m.theme.color_text_white},function(m){return m.theme.color_primary_proto01},function(m){return m.theme.color_text_L3},function(m){return m.theme.color_text_L3},function(m){return m.theme.color_text_L1},function(m){return m.theme.color_text_L1}),b=r.default.div.withConfig({displayName:"styles__StyledCenterItem",componentId:"sc-s8lcmt-1"})(["display:flex;min-height:36px;width:100%;.left{flex-grow:1;background-color:",";border-radius:4px 0px 0px 4px;display:flex;align-items:center;&.normal-hover{cursor:pointer;&:hover{background-color:",";}}.chore{margin-left:9px;color:",";}.view-access-select{margin-left:20px;display:flex;align-items:center;.access-name{color:",";}&.is-expired{","}.svg-icon{color:",";transition:all 0.2s;transform :",";}}.single-preview{width:100%;padding:0 6px;color:",";}}.copy-button{flex-grow:0;background-color:",";width:116px;border-radius:0px 4px 4px 0px;span{color:",";}}"],function(m){return m.isViewActiveDropdown?m.theme.color_background_white_modal_hover:m.theme.color_background_white},function(m){return m.theme.color_background_white_modal_hover},function(m){return m.theme.color_text_L3},function(m){return m.theme.color_text_L1},function(m){return m.theme.color_text_L3},function(m){return m.theme.color_text_L1},function(m){return m.isViewActiveDropdown?"rotate(-180deg)":""},function(m){return m.theme.color_text_L1},function(m){return m.theme.color_primary_proto01},function(m){return m.theme.color_text_white}),w=(0,r.default)(d).withConfig({displayName:"styles__StyledDeletingItem",componentId:"sc-s8lcmt-2"})(["padding:14px 12px;border:",";cursor:pointer;.item-header{display:flex;align-items:center;span{color:",";}.title{display:flex;align-items:center;width:313px;font-weight:600;.sm-check{margin-right:5px;.Check-state{background-color:transparent;border:1px solid ",";}.Check-label{color:",";}&.is-checked .Check-state{background-color:#1684fc;border:1px solid #1684fc;.icon{color:#fff;}}}.text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#999;}}.right{display:flex;flex-direction:row-reverse;div{display:flex;align-items:center;justify-content:center;width:24px;height:24px;}.svg-icon{color:",";}.page-size{line-height:16px;display:flex;align-items:center;color:#999;margin-right:6px;}}}.item-bottom{.expiration-time{color:#999;.expire-text{color:#999;}.svg-icon{color:#999;}}}"],function(m){return m.isSelected?"2px solid "+m.theme.color_primary_proto01:"2px solid transparent"},function(m){return m.theme.color_text_L3},function(m){return m.theme.color_text_disabled},function(m){return m.theme.color_text_L1},function(m){return m.theme.color_text_L3}),P=r.default.div.withConfig({displayName:"styles__StyledDeletingItemCenter",componentId:"sc-s8lcmt-3"})(["display:flex;min-height:36px;width:100%;.left{flex-grow:1;background-color:",";border-radius:4px 0px 0px 4px;display:flex;align-items:center;.chore{margin-left:9px;color:",";}.view-access-select{margin-left:20px;display:flex;align-items:center;color:#999;.svg-icon{color:#999;}}}.copy-button{flex-grow:0;background:",";width:116px;border-radius:0 4px 4px 0;span{color:",";}}"],function(m){return m.theme.color_background_white},function(m){return m.theme.color_text_L3},function(m){return m.theme.btn_unselectable},function(m){return m.theme.text_unselectable}),h=r.default.div.withConfig({displayName:"styles__StyledPreviewItem",componentId:"sc-s8lcmt-4"})(["left:19px;top:111px;padding:17px 15px;margin:0 25px 10px 0;background:",";border-radius:8px;display:flex;flex-direction:column;justify-content:center;.item-header{display:flex;justify-content:center;height:21px;margin-bottom:10px;.svg-click{cursor:pointer;.qr-button{pointer-events:",";}}.title{color:",";flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:600;}.page-size{display:flex;align-items:center;margin-right:6px;}.misc{flex-grow:0;width:48px;height:21px;}}.item-center{display:flex;margin-bottom:10px;.left{border-top:1px solid ",";border-left:1px solid ",";border-bottom:1px solid ",";}.permission-select{background:",";}.share-button{background:",";}}.item-bottom{display:flex;justify-content:center;align-items:center;height:24px;.visit-count{display:flex;justify-content:center;color:",";}}"],function(m){return m.theme.color_background},function(m){return m.isExpired?"none":""},function(m){return m.theme.color_text_L1},function(m){return m.theme.color_background_split},function(m){return m.theme.color_background_split},function(m){return m.theme.color_background_split},function(m){return m.theme.color_text_white},function(m){return m.theme.color_primary_proto01},function(m){return m.theme.color_text_L3}),x=(0,r.createGlobalStyle)([".context-menu-mask{z-index:1000;}"]),E=r.default.div.withConfig({displayName:"styles__StyledNormalPreviewItem",componentId:"sc-s8lcmt-5"})(["padding:16px 14px;height:128px;background:",";border-radius:8px;display:flex;flex-direction:column;justify-content:center;.item-header{display:flex;justify-content:center;align-items:center;height:21px;margin-bottom:10px;color:",";svg{width:21px;height:21px;cursor:",";color:",";}.page-size{display:flex;align-items:center;margin-right:6px;}.title{color:",";flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:600;}.misc{flex-grow:0;width:48px;height:21px;}}.item-center{display:flex;margin-bottom:10px;color:",";.left{border-top:1px solid ",";border-left:1px solid ",";border-bottom:1px solid ",";}.permission-select{background:",";}.share-button{background:",";}}.item-bottom{display:flex;justify-content:center;height:24px;color:",";svg{width:24px;height:24px;color:",";}.visit-count{flex-grow:1;}.expiration-time{display:flex;align-items:center;}}"],function(m){return m.theme.color_background},function(m){return m.isExpired?m.theme.color_text_L3:m.theme.color_text_L1},function(m){return m.isExpired?"":"pointer"},function(m){return m.isExpired?m.theme.color_text_L3:m.theme.color_text_L1},function(m){return m.theme.color_text_L1},function(m){return m.isExpired?m.theme.color_text_L3:m.theme.color_text_L1},function(m){return m.theme.color_background_split},function(m){return m.theme.color_background_split},function(m){return m.theme.color_background_split},function(m){return m.theme.color_text_white},function(m){return m.theme.color_primary_proto01},function(m){return m.theme.color_text_L3},function(m){return m.isExpired?m.theme.color_text_L3:m.theme.color_text_L1})},17626:function(ce,k,c){"use strict";c.d(k,{CW:function(){return E},E2:function(){return b},K:function(){return D},M9:function(){return P},R7:function(){return m},_B:function(){return w},ls:function(){return x},tV:function(){return y},xG:function(){return h}});var r="sharing-simulatorDisplayType",d="sharing-is-stickyshow",b="local_sharing_copy_url",w=function(C){return[{value:1,label:C.allPages},{value:2,label:C.partPages}]},P=function(C){return[{value:"device",label:C.imockSharing.prd_device},{value:"long_page",label:C.imockSharing.prd_page},{value:"outside_artboard",label:C.imockSharing.prd_prd}]},h={device:"\u771F\u673A",long_page:"\u957F\u9875\u9762",outside_artboard:"\u9875\u9762\u5916\u5185\u5BB9"},x={device:"\u771F\u673A",long_page:"\u957F\u9875\u9762",outside_artboard:"PRD"},E=function(C){return{public:C.imockSharing.share_anyone_view,restricted:C.imockSharing.org_members_only}},m=function(C){return{"7d":C.imockSharing.days7,"15d":C.imockSharing.days15,forever:C.forever}},D=function(C){return{"7d":C.imockSharing.days7,"15d":C.imockSharing.days15,forever:C.forever}},y=function(C){return P(C).slice(0,2)}},20702:function(ce,k,c){"use strict";c.d(k,{Ez:function(){return T},F2:function(){return R},JF:function(){return L},QS:function(){return F},SG:function(){return G},SN:function(){return I},VN:function(){return V},VV:function(){return D},Xi:function(){return U},dL:function(){return N},hP:function(){return B},jH:function(){return H},kz:function(){return S},n7:function(){return f},rD:function(){return y},vS:function(){return A},wr:function(){return C}});var r=c(61519),d=c(25370),b=c.n(d),w=c(17626),P=c(72744),h=c(70423),x=c(70956),E=c(7108),m=c.n(E),D=function(K){return b()([{value:"public",label:I18N.imockSharing.share_anyone_view},K&&{value:"restricted",label:I18N.imockSharing.org_members_only}])},y=function(K){var Y=K.accessToken,q=K.screenMetaCidToStartOn;return location.origin+"/app/"+Y+(q?"#screen="+q:"")},A=function(K,Y,q,Q){return K+" #"+(0,x.FQ)(Y)+"-"+(0,x.FQ)(q)+"  "+Q},C=function(K){var Y=["v6.modao.cc"].includes(location.host)?"https://modao.cc":location.origin;return Y+"/app/"+K},I=function(K,Y,q){var Q=S(K,Y);return q>=Q},S=function(K,Y){var q=O(K,Y),Q=q.maxSharingCount;return Q},O=function(K,Y){if(Y){var q=Y.limitation,Q=1;return q.max_project_share_count===null?Q=1:Q=q.max_project_share_count,{maxSharingCount:Q}}if(K&&K.cid){var ee=K.current_plan;return{maxSharingCount:ee==="solo"?3:1}}return{maxSharingCount:1}},T=function(K,Y){var q=/shareName\d+/g,Q=0;return K.filter(function(ee){var oe;return(oe=ee.link_name)==null?void 0:oe.match(q)}).forEach(function(ee){var oe=ee.link_name,pe=oe.match(q),ve=pe[0].length,Pe=oe.indexOf(Y),He=Pe+ve===oe.length;if(He){var Ne=parseInt(oe.trim().slice(Pe+2));Ne>Q&&(Q=Ne)}}),Q},f=function(K){var Y=K.sharingList,q=B(window.location.href);return Y.find(function(Q){return Q.access_token===q})},B=function(K){var Y="";if(K.includes("/app/")){var q;K.includes("/design/")?q=K.split("design/").reverse()[0]:q=K.split("app/").reverse()[0],Y=u(q)}else if(K.includes("/app_share/")){var Q=K.split("app_share/")[1];Y=u(Q)}return Y},u=function(K){if(K.includes("?")&&K.includes("#")){var Y=K.indexOf("?"),q=K.indexOf("#");return Y<q?K.split("?")[0]:K.split("#")[0]}else return K.includes("?")?K.split("?")[0]:K.includes("#")?K.split("#")[0]:K},U=function(K,Y){return K.created_at>Y.created_at?-1:K.created_at===Y.created_at?0:1},L=function(K,Y,q){var Q,ee;Y.password!==""?Y.view_access==="public"?ee="\u6240\u6709\u4EBA\u53EF\u89C1":ee="\u4EC5\u4F01\u4E1A\u6210\u5458\u53EF\u89C1":Y.view_access==="public"?ee="\u6240\u6709\u4EBA\u53EF\u89C1-\u5BC6\u7801":ee="\u4EC5\u4F01\u4E1A\u6210\u5458\u53EF\u89C1-\u5BC6\u7801",P.xd.trackShareProjectSetting({project_type:"\u539F\u578B",source:(0,P.Wb)(),project_name:K.name,project_cid:K.cid,view_permission:ee,password_protection:Y.password!=="",share_link_name:Y.link_name,validity:w.K[Y.expire_type],page_choice:((Q=Y.screen_visible_list)==null?void 0:Q.length)===Object.keys(q).length,page_switch_all:!Y.screen_visible_switch,notice_permission:Y.sticky,comment_permission:Y.comment_permission==="org_member",view_page_outside:Y.view_prd,preview_mode:w.xG[Y.simulator_type],comment_display:Y.view_sticky,run_inside_wechatbrowser:Y.wechat})},F=function(){var K=(0,h.tq)()?(0,h.li)()?"\u79FB\u52A8\u7AEF\u67E5\u770B":"h5":(0,h.d)()?"PC\u5BA2\u6237\u7AEF":(0,h.V5)()||(0,h.ED)()?"PC\u6D4F\u89C8\u5668\u67E5\u770B":"";return K},N=function(K){var Y=K.project,q=K.action,Q=K.linkName,ee=K.isFromScreenList;P.xd.trackShareProjectAction({project_type:"\u539F\u578B",source:ee?"\u9875\u9762\u5217\u8868\u83DC\u5355":(0,P.Wb)(),project_name:Y.name,project_cid:Y.cid,share_link_action:q,share_link_name:Q})},H=function(K){if(!K)return!1;var Y=K.created_at;return m()(Y).isBetween(m()().subtract(3,"days"),m()())},V=function(K){return Object.entries(K).filter(function(Y){var q=(0,r.Z)(Y,2),Q=q[0],ee=q[1];return ee.orientation!=="folder"}).map(function(Y){return Y[0]})},G=function(K,Y,q){if(K)return q.length;var Q=0;return Y==null||Y.forEach(function(ee){var oe=q.find(function(pe){return pe===ee});oe&&(Q+=1)}),Q},R=function(K,Y,q){var Q=G(!Y.screen_visible_switch,Y.screen_visible_list,K.pageCidList),ee=K.pageCidList.length;return Y.screen_visible_switch?Q+"/"+ee:q.Comment.all}},54635:function(ce,k,c){"use strict";c.d(k,{$5:function(){return L},Kb:function(){return u},LL:function(){return x},Q7:function(){return z},Ts:function(){return F},Uo:function(){return C},Z7:function(){return B},_F:function(){return I},aF:function(){return K},dD:function(){return S},hi:function(){return H},lM:function(){return V},m:function(){return f},ty:function(){return N},xi:function(){return R},z:function(){return U}});var r=c(69770),d=c(30733),b=c(77200),w=c(33038),P=c(72744);function h(Y,q){if(!Y||Y.length!==q.length)return!1;for(var Q=0,ee=Y.length;Q<ee;Q++)if(Y[Q]!==q[Q])return!1;return!0}function x(Y){var q,Q;return function(){return h(Q,arguments)||(q=Y.apply(null,arguments),Q=arguments),q}}var E=["https://qiniu.modao.cc","https://qiniu-us.modao.cc","https://qiniu-test.modao.cc"],m=function(q){return E.some(function(Q){return q.startsWith(Q)})},D={"&amp;":"&","&lt;":"<","&gt;":">"},y=/(&amp;|&lt;|&gt;)/g,A=function(q){return D[q]||q},C=function(q){return q&&q.replace(y,A)},I=function(q,Q,ee){return q===void 0&&(q=0),Q===void 0&&(Q=1),ee===void 0&&(ee=0),Number(parseFloat((1/Q*q).toFixed(2)))+ee},S=function(q){var Q=q.image,ee=q.adjust,oe=Q.naturalWidth,pe=Q.naturalHeight;oe>=pe?Q.style.maxWidth=ee+"px":Q.style.maxHeight=ee+"px"},O=/\s|<|>|《|》|:|：|？|\?|\\|\/|"|”|\||\./g,T=function(q){return q&&q.replace(O,"_")},f=function(q){var Q=q.url,ee=q.name,oe=q.type,pe=document.createElement("a"),ve=T(ee)||"\u672A\u547D\u540D",Pe=m(Q);if(Pe){var Ne=""+encodeURIComponent(ve);pe.href=Q+"?attname="+Ne+"."+oe}else{var He=ve;pe.setAttribute("download",He),pe.href=""+Q}pe.click()},B=function(q){return Number(q.toFixed(2))},u=function(q){return new Promise(function(Q){return setTimeout(Q,q)})},U=function(){return console.error("\u4E0B\u8F7D\u5931\u8D25")},L=function(){try{var q=(0,d.GQ)("user_pick_color");return JSON.parse(q||"[]")}catch(Q){return[]}},F=function(q){var Q=L();return Q.includes(q)?{history:Q,focusColor:q}:(Q.unshift(q),Q.length>40&&Q.pop(),(0,d.A6)("user_pick_color",JSON.stringify(Q)),{history:Q,focusColor:null})},N=function(q){var Q=L(),ee=Q.indexOf(q);return Q.splice(ee,1),(0,d.A6)("user_pick_color",JSON.stringify(Q)),Q},H=function(){if((0,w.xM)())return!0;var q;try{q=(window.parent===window?!0:/^\/app\/(design|preview)/.test(window.parent.location.pathname))&&(MB.isDashboard||!MB.f.inSharing&&window.location.protocol!=="file:")}catch(Q){console.warn(Q),q=!1}return q},V=function(q){var Q=1/0,ee=1/0,oe=-1/0,pe=-1/0,ve=(0,r.Z)(q),Pe;try{for(ve.s();!(Pe=ve.n()).done;){var He=Pe.value;isFinite(He.top)&&isFinite(He.left)&&isFinite(He.width)&&isFinite(He.height)&&(Q=Math.min(Q,He.left),oe=Math.max(oe,He.left+He.width),ee=Math.min(ee,He.top),pe=Math.max(pe,He.top+He.height))}}catch(Ze){ve.e(Ze)}finally{ve.f()}var Ne={minX:Q,minY:ee,maxX:oe,maxY:pe};return Ne},G=function(){var q=new Map;return function(Q,ee,oe){var pe=Q+"-"+ee;if(q.get(pe))return q.get(pe);var ve=V(oe);return q.set(pe,ve),ve}},R=G(),z=function(q){var Q,ee,oe,pe,ve,Pe;q===void 0&&(q=!0);var He=(Q=MB)==null||(ee=Q.webpackInterface)==null?void 0:ee.store.getState(),Ne=(0,b.GP)(He),Ze=Ne.isHTMLZip,et=(0,b.CD)(He),Je=et.isOnPremises;return q?!!((oe=MB)!=null&&(pe=oe.user)!=null&&pe.id)||Ze||Je:!!((ve=MB)!=null&&(Pe=ve.user)!=null&&Pe.id)||Ze},K=function(q,Q,ee,oe){Q===void 0&&(Q=!0);var pe=z(Q);pe||(MB.global.popupHelper.loginAsync({onConfirm:function(){setTimeout(function(){return location.reload()},50)},type:"signin",source:q,entryTerm:ee,entry:oe}),P.xd.userSourceTrack(ee))}},31033:function(ce,k,c){"use strict";c.d(k,{$1:function(){return P},$k:function(){return x},AX:function(){return h},Ab:function(){return b},Pw:function(){return E},c6:function(){return r},nh:function(){return d},sK:function(){return w}});var r="preview",d="inspect",b="comment",w={iphone_14_pro:48,iphone_14_pro_max:48,iphone_13_pro:44,iphone_12_pro:44,iphone_x:44,iphone_11_pro:44,iphone_11_pro_max:44,iphone:20,ipad:24,ipad_3_4:20,ipad_pro:24,android:24},P=function(D){var y=D.model,A=D.device;return y==="iphone_14_pro"||y==="iphone_14_pro_max"?"iphone_14_pro":y==="iphone_12_pro"||y==="iphone_13_pro"||y==="iphone_x"||y==="iphone_xs_max"||y==="iphone_11_pro"||y==="iphone_11_pro_max"||y==="iphone_12_pro_max"||y==="iphone_13_pro_max"?"iphone_x":A==="iphone"?"iphone":y==="ipad_3_4"?"ipad_3_4":y==="ipad_pro"?"ipad_pro":y==="ipad_mini"||y==="ipad_pro_11"||y==="ipad_pro_12"?"ipad":A==="android"?"android":""},h=111,x=1e3,E=240},48164:function(ce,k,c){"use strict";c.d(k,{U:function(){return h}});var r=c(9575),d=c(91520),b=c(4082),w=c(68937),P=c(21540),h;(function(x){var E=x.empty=D(0,0,0,0);function m(R,z){return D(R.x*z,R.y*z,R.w*z,R.h*z)}x.mul=m;function D(R,z,K,Y){return(0,b.L)(K>=0),(0,b.L)(Y>=0),{x:R,y:z,w:K,h:Y}}x.xywh=D;function y(R,z,K,Y){return(0,b.L)(K>=R),(0,b.L)(Y>=z),{x:R,y:z,w:K-R,h:Y-z}}x.ltrb=y;function A(R,z){return{x:R.x+z.x,y:R.y+z.y,w:R.w,h:R.h}}x.translate=A;function C(R){return(0,d.Z)({w:R.w,h:R.h},w.S.zero)}x.fromSize=C;function I(R,z){return{x:R.x-z,y:R.y-z,w:R.w+z*2,h:R.h+z*2}}x.enlarge=I;function S(R,z){return{x:R.x-z.x,y:R.y-z.y,w:R.w+z.x*2,h:R.h+z.y*2}}x.enlargeVec=S;function O(R){return Number.isInteger(R.x)&&Number.isInteger(R.y)&&Number.isInteger(R.w)&&Number.isInteger(R.h)}x.isInteger=O;function T(R,z){var K=P.H.fromRect(z);return f(R,K.tl)&&f(R,K.tr)&&f(R,K.bl)&&f(R,K.br)}x.containsRect=T;function f(R,z){var K=z.x,Y=z.y;return R.x<=K&&K<=R.x+R.w&&R.y<=Y&&Y<=R.y+R.h}x.contains=f;var B=x.intersect=function(R,z){var K=H([R,z]);return K.w<R.w+z.w&&K.h<R.h+z.h};function u(R,z){return f(R,z)||B(R,z)}x.intersectOrContains=u;function U(R,z){return z.x<R.x&&z.y<R.y?"tl":z.x>R.x+R.w&&z.y<R.y?"tr":z.x>R.x+R.w&&z.y>R.y+R.h?"br":z.x<R.x&&z.y>R.y+R.h?"bl":z.x<R.x?"l":z.x>R.x+R.w?"r":null}x.inCorner=U;function L(R){var z=R.map(function(oe){return oe.x}),K=R.map(function(oe){return oe.y}),Y=Math.min.apply(Math,(0,r.Z)(z)),q=Math.min.apply(Math,(0,r.Z)(K)),Q=Math.max.apply(Math,(0,r.Z)(z)),ee=Math.max.apply(Math,(0,r.Z)(K));return h.ltrb(Y,q,Q,ee)}x.enclosing=L;function F(R){return{x:R.x+R.w/2,y:R.y+R.h/2}}x.center=F;function N(R,z){return R===null?z:H([z,R])}x.enclosingBoth=N;function H(R){var z=1/0,K=1/0,Y=-1/0,q=-1/0;return R.forEach(function(Q){K=Math.min(Q.x,K),z=Math.min(Q.y,z),Y=Math.max(Q.x+Q.w,Y),q=Math.max(Q.y+Q.h,q)}),h.ltrb(K,z,Y,q)}x.enclosingRects=H;var V=x.getAngleByDragIndex=function(R,z){switch(R){case"tl":return G({x:-1,y:-1},z);case"t":return G({x:0,y:-1},z);case"tr":return G({x:1,y:-1},z);case"r":return G({x:1,y:0},z);case"br":return G({x:1,y:1},z);case"b":return G({x:0,y:1},z);case"bl":return G({x:-1,y:1},z);case"l":return G({x:-1,y:0},z)}},G=function(z,K){var Y=K.applyWithoutXY(z);return Math.atan2(Y.y,Y.x)/Math.PI*180+90}})(h||(h={}))},68937:function(ce,k,c){"use strict";c.d(k,{S:function(){return d}});var r=c(69770),d;(function(b){var w=b.zero={x:0,y:0},P=b.horizontal={x:1,y:0},h=b.vertical={x:0,y:1};function x(Y,q){return{x:Y,y:q}}b.xy=x;function E(Y){return{x:Y,y:Y}}b.diagonal=E;function m(Y){return{x:Y.w,y:Y.h}}b.fromSize=m;function D(Y){return{x:-Y.x,y:-Y.y}}b.neg=D;function y(Y,q){return{x:Math.min(Y.x,q.x),y:Math.min(Y.y,q.y)}}b.min=y;function A(Y,q){return Y.x*q.x+Y.y*q.y}b.dot=A;function C(Y,q){var Q=Y.x*q.y-Y.y*q.x;return Q}b.cross=C;function I(Y,q){var Q=Y.x-q.x,ee=Y.y-q.y;return Math.sqrt(Q*Q+ee*ee)}b.distance=I;function S(Y){return Math.sqrt(Y.x*Y.x+Y.y*Y.y)}b.distance2zero=S;function O(Y){return{x:Math.round(Y.x),y:Math.round(Y.y)}}b.round=O;function T(Y){var q=(0,r.Z)(Y),Q;try{for(q.s();!(Q=q.n()).done;){var ee=Q.value;if(ee.x!==0||ee.y!==0)return ee}}catch(oe){q.e(oe)}finally{q.f()}return d.zero}b.firstNoneZero=T;function f(Y,q){return d.mul(q,d.dot(Y,q)/d.dot(q,q))}b.project=f;function B(Y){return{x:Math.round(Y.x*2)/2,y:Math.round(Y.y*2)/2}}b.roundHalf=B;function u(Y,q){return{x:Y.x+q.x,y:Y.y+q.y}}b.add=u;function U(Y,q){return{x:Y.x-q.x,y:Y.y-q.y}}b.subtract=U;function L(Y,q){return{x:Y.x/q,y:Y.y/q}}b.div=L;function F(Y,q){return{x:Y.x*q,y:Y.y*q}}b.mul=F;function N(Y,q){return Y.x===q.x&&Y.y===q.y}b.isEqual=N;function H(Y,q){var Q=Y.x+q.x,ee=Y.y+q.y;return{x:Q/2,y:ee/2}}b.average=H;function V(Y,q){var Q=Y.x,ee=Y.y,oe=q.x,pe=q.y,ve=Q*oe+ee*pe,Pe=Q*pe-ee*oe;return Math.atan2(Pe,ve)}b.radian=V;function G(Y,q){var Q=Y.x,ee=Y.y,oe=q.x,pe=q.y,ve=Q*oe+ee*pe,Pe=ee*oe-Q*pe;return Math.atan2(Pe,ve)}b.radianClockWise=G;function R(Y,q,Q){var ee={x:Q.x-Y.x,y:Q.y-Y.y},oe=ee.x,pe=ee.y,ve=oe*Math.cos(q)-pe*Math.sin(q),Pe=pe*Math.cos(q)+oe*Math.sin(q);return{x:ve+Y.x,y:Pe+Y.y}}b.rotate=R;function z(Y,q,Q){var ee=Y.x,oe=Y.y,pe=q.x,ve=q.y,Pe=Q.x,He=Q.y;return(pe-ee)*(He-oe)-(ve-oe)*(Pe-ee)}b.sideOfLine=z;function K(Y){var q=d.distance(w,Y);return{x:Y.x/q,y:Y.y/q}}b.unitization=K})(d||(d={}))},35517:function(ce,k,c){"use strict";c.d(k,{Vz:function(){return b},hW:function(){return P},v5:function(){return h}});var r=c(64555),d=c(72005),b=function(){var x=(0,d.Z)((0,r.Z)().mark(function E(m,D){var y,A,C,I,S;return(0,r.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!(m.status===403||/403/.test(m.message))){T.next=6;break}return(y=MB)==null||(A=y.messageBucket)==null||A.send("mobileLoadProjectError",{errMsg:I18N.dPages.cant_edit_desc}),T.next=4,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(function(){return D?D():MB.global.onBackButtonClick()});case 4:T.next=18;break;case 6:if(!(m.status===401||/401/.test(m.message))){T.next=12;break}return h(),T.next=10,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(function(){return D?D():MB.global.onBackButtonClick()});case 10:T.next=18;break;case 12:T.next=14;break;case 14:return S=String(m.status||m.message||"UNKNOWN").replace(/\s/g,"").slice(0,16),(C=MB)==null||(I=C.messageBucket)==null||I.send("mobileLoadProjectError",{errMsg:window.I18N.dModule.unknown_error.replace(/%s/i,S)}),T.next=18,MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,S),isHTML:!0});case 18:case"end":return T.stop()}},E)}));return function(m,D){return x.apply(this,arguments)}}(),w=function(E){E.status===404&&E.error_type==="MT_NOT_FOUND"&&MB.notice({text:"\u8BE5\u7D20\u6750\u5DF2\u4E0B\u67B6",type:"error"})},P=function(){var x=(0,d.Z)((0,r.Z)().mark(function E(m,D){return(0,r.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(!(m.status===403||/403/.test(m.message))){A.next=4;break}D(),A.next=7;break;case 4:if(!(m.status===401||/401/.test(m.message))){A.next=7;break}return A.next=7,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(function(){return MB.global.onBackButtonClick()});case 7:case"end":return A.stop()}},E)}));return function(m,D){return x.apply(this,arguments)}}(),h=function(){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:loginInvalid"}),"*")}},50501:function(ce,k,c){"use strict";c.d(k,{Hs:function(){return Ze},W4:function(){return Ie},cR:function(){return we},gS:function(){return Je}});var r=c(9575),d=c(61519),b=c(69770),w=c(64555),P=c(72005),h=c(33433),x=c.n(h),E=c(75751),m=c(47098),D=c.n(m),y=c(73117),A=c.n(y),C=c(60978),I=c(47273),S=c(88468),O=c(42416),T=c(92599),f=c(45294),B=c(32638),u=c(2111),U=c(21800),L=c(75886),F=c(37054),N=c(76760),H=c(79292),V=c(27135),G=c(58057),R=c(27585),z=c(81786),K=c(77506),Y=c(14730),q=c(512),Q=c(60217),ee=c(67173),oe=c(68517),pe=c(13806),ve=c(27319),Pe=c(33258),He=function(xe,Ce,Me){return Ce=Ce===S.C2?Object.keys(xe.dataMap)[0]:Ce,{cid:xe.screenMetaCid,stateList:[{cid:Ce,data:xe.dataMap[Ce],itemList:xe.itemListMap[Ce].filter(function(Oe){return Oe.name==="panel"?(0,z._s)(Oe,Me,xe.screenMetaCid):!0})}]}},Ne=function(xe){var Ce=xe.projectStore,Me=xe.screenMeta,Oe=xe.stateCid,Be=Me.cid,Ae=Me.project_meta_cid,ye=Ce.getLocalScreenRuntimeStateByCid(Be),be=He(ye,Oe,Ae),je=[Me],le=[be];return be.stateList[0].itemList.forEach(function(Ee){var Fe=Ee.screen_meta_cid,We=Ee.screen_state_cid,he=Ee.name;if(he==="panel"){var fe=(0,G.Tf)(Ae,Fe);if(fe){var Qe=Ce.getLocalScreenRuntimeStateByCid(fe.cid);if(Qe.itemListMap[We]){var Ke=He(Qe,We,Ae);je.push(fe),le.push(Ke)}}}}),{screenMetaList:je,projectScreenObjectList:le}};function Ze(De){var xe=De.projectStore,Ce=De.currentProject,Me=De.screenMeta,Oe=De.screenStateCid,Be=Oe===void 0?S.C2:Oe,Ae=De.isClip,ye=De.isSticky,be=De.hasWaterMark,je=De.canvasBg,le=De.scale,Ee=De.isShowShell,Fe=De.isShowAnnotate,We=Me.cid,he=Me.name,fe=Ne({projectStore:xe,screenMeta:Me,stateCid:Be}),Qe=fe.screenMetaList,Ke=fe.projectScreenObjectList,_e=(0,O.u)({screenMetaList:Qe,projectScreenObjectList:Ke},ye,Fe),rt=_e.renderHtmlSourceString,st=rt("other",We,Be,Ae,Ee,Ce),qe=st.htmlSourceString,at=st.boundingRect,Mt=st.fontsInUse,ft=Ke[0].stateList[0].data.name,vt=Be!==S.C2?"_"+ft:"",Zt=""+he+vt,dn="/mb-workspace/images/water_mark_new.png",on='<div style="position: absolute;top:0; bottom:0;left:0; right:0;z-index:9999;background: repeat url('+dn+') "></div>',Tn=at.x,qt=at.y,fn=at.w,yn=at.h,pn=(0,Pe.Wi)(Me,Ce.device);(pn.includes("android")||pn.includes("others"))&&Mt.add("Roboto|normal|400");var ur='\n  <div style="display: block; transform:scale('+le+"); transform-origin:top left; width:"+fn+"px; height:"+yn+"px; padding-top: "+-qt+"px; padding-left: "+-Tn+"px; background-color:"+(Ae?"transparent":je)+'" class="'+pn+'">\n    '+qe+"\n    "+(be?on:"")+"\n  </div>";return{htmlString:ur,width:fn*le,height:yn*le,fileName:Zt,fontsInUse:Mt}}var et=function(){var De=(0,P.Z)((0,w.Z)().mark(function xe(Ce,Me){var Oe;return(0,w.Z)().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Oe={libURL:location.origin+"/mb-workspace/browser-image-compression@2.0.2/browser-image-compression.js",maxSizeMB:10,onProgress:Me?function(ye){return Me(ye)}:void 0},Ae.abrupt("return",(0,C.Z)(Ce,Oe));case 2:case"end":return Ae.stop()}},xe)}));return function(Ce,Me){return De.apply(this,arguments)}}(),Je=function(){var De=(0,P.Z)((0,w.Z)().mark(function xe(Ce,Me,Oe){var Be,Ae,ye,be,je,le,Ee,Fe;return(0,w.Z)().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return Me===void 0&&(Me=!0),Be=Ce.fileName,Ae=Ce.htmlString,ye=Ce.width,be=Ce.height,je=Ce.fontsInUse,he.next=4,(0,T.X)({width:ye,height:be,htmlSource:Ae,fileName:Be,fontsInUse:je});case 4:if(le=he.sent,Ee=le.pngDataUrl,!Me){he.next=12;break}return he.next=9,gt(Ee,Be,Oe);case 9:he.t0=he.sent,he.next=13;break;case 12:he.t0=Ee;case 13:return Fe=he.t0,he.abrupt("return",{snapShotDataURL:Fe,snapShotName:Be});case 15:case"end":return he.stop()}},xe)}));return function(Ce,Me,Oe){return De.apply(this,arguments)}}(),gt=function(){var De=(0,P.Z)((0,w.Z)().mark(function xe(Ce,Me,Oe){var Be;return(0,w.Z)().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.next=2,C.Z.getFilefromDataUrl(Ce,Me);case 2:return Be=ye.sent,ye.abrupt("return",et(Be,Oe));case 4:case"end":return ye.stop()}},xe)}));return function(Ce,Me,Oe){return De.apply(this,arguments)}}(),Ve=function(){var De=(0,P.Z)((0,w.Z)().mark(function xe(Ce){var Me,Oe,Be,Ae,ye,be,je,le,Ee,Fe,We,he,fe,Qe,Ke,_e,rt,st,qe,at;return(0,w.Z)().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(Me=Ce.snapShotList,Oe=Ce.fileName,Be=Ce.onProgress,!(Me.length>1)){ft.next=36;break}be=x()(),je=be.folder(Oe),le=(0,b.Z)(Me.entries()),ft.prev=5,le.s();case 7:if((Ee=le.n()).done){ft.next=22;break}return Fe=(0,d.Z)(Ee.value,2),We=Fe[0],he=Fe[1],ft.next=11,Je(he,!1);case 11:return fe=ft.sent,Qe=fe.snapShotDataURL,Ke=fe.snapShotName,ft.next=16,C.Z.getFilefromDataUrl(Qe,Ke);case 16:_e=ft.sent,je.file(Ke+".png",_e),rt=(We+1)*100/Me.length,Be(rt);case 20:ft.next=7;break;case 22:ft.next=27;break;case 24:ft.prev=24,ft.t0=ft.catch(5),le.e(ft.t0);case 27:return ft.prev=27,le.f(),ft.finish(27);case 30:return ft.next=32,be.generateAsync({type:"blob"});case 32:Ae=ft.sent,ye=Oe+".zip",ft.next=43;break;case 36:return ft.next=38,Je(Me[0],!1,Be);case 38:st=ft.sent,qe=st.snapShotDataURL,at=st.snapShotName,Ae=qe,ye=at+".png";case 43:return ft.abrupt("return",{downloadable:Ae,downloadFileName:ye});case 44:case"end":return ft.stop()}},xe,null,[[5,24,27,30]])}));return function(Ce){return De.apply(this,arguments)}}(),ht=function(){var De=(0,P.Z)((0,w.Z)().mark(function xe(Ce){var Me,Oe,Be,Ae,ye,be,je,le,Ee,Fe,We,he,fe,Qe,Ke,_e,rt;return(0,w.Z)().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:Me=Ce.snapShotList,Oe=Ce.fileName,Be=Ce.onProgress,Ae=Me[0],ye=Ae.width,be=Ae.height,je=new E.kH(ye>be?"l":"p","px",[ye,be]),le=(0,b.Z)(Me.entries()),qe.prev=4,le.s();case 6:if((Ee=le.n()).done){qe.next=25;break}return Fe=(0,d.Z)(Ee.value,2),We=Fe[0],he=Fe[1],fe=he.width,Qe=he.height,qe.next=11,Je(he,!0);case 11:return Ke=qe.sent,_e=Ke.snapShotDataURL,qe.t0=je,qe.next=16,(0,f.w)(_e);case 16:qe.t1=qe.sent,qe.t2=fe,qe.t3=Qe,qe.t0.addImage.call(qe.t0,qe.t1,"png",0,0,qe.t2,qe.t3),We!==Me.length-1&&je.addPage(),rt=(We+1)*100/Me.length,Be(rt);case 23:qe.next=6;break;case 25:qe.next=30;break;case 27:qe.prev=27,qe.t4=qe.catch(4),le.e(qe.t4);case 30:return qe.prev=30,le.f(),qe.finish(30);case 33:return qe.abrupt("return",{downloadable:je,downloadFileName:Oe+".pdf"});case 34:case"end":return qe.stop()}},xe,null,[[4,27,30,33]])}));return function(Ce){return De.apply(this,arguments)}}(),Ct=function(xe,Ce){saveAs(xe,Ce)},wt=function(xe){var Ce=xe.tc,Me=xe.fills,Oe=xe.view_box,Be=xe.display_name,Ae=xe.path,ye=xe.text_shadow,be=xe.width,je=xe.height,le=ye?(0,I.oA)(ye):null,Ee=le?"drop-shadow("+le+")":"none",Fe="",We=(0,H.ub)(xe);We&&(Fe+="border-color: "+We.borderColor+";border-width: "+We.borderWidth+";border-style: "+We.borderStyle);var he=Me[0],fe=(0,oe.qb)(he,{w:be,h:je}),Qe=null,Ke=Ce==="unset"?"unset":null,_e=fe.type===pe.Y_.RadialGradient||fe.type===pe.Y_.LinearGradient;_e?Qe=he:fe.type===pe.Y_.Solid&&(Ke=ve.I.toRGBAStr(fe.color));var rt=(0,Q.EJ)(Ae,Ke,Qe,Ce==="unset"),st=Oe.split(" ").map(function(Mt){return Number(Mt)}),qe='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="'+Oe+'" width="'+be+'" height="'+je+'" style="'+Fe+'" filter="'+Ee+'">\n    '+(_e?(0,ee.K3)(fe,Qe,{minX:st[0],minY:st[1],width:st[2],height:st[3]}):"")+"\n    <g>\n    "+rt+"\n    </g>\n  </svg>",at=new Blob([qe],{type:"image/svg"});return new File([at],Be+".svg",{type:"image/svg"})},zt=function(xe){var Ce=N.Rect.enclosing(N.TransformAndRect.points(xe.worldBoundingBoxWithShadow)),Me=-Ce.x,Oe=-Ce.y,Be=Ce.w,Ae=Ce.h;return{marginLeft:Me,marginTop:Oe,width:Be,height:Ae}},Ut=function(){var De=(0,P.Z)((0,w.Z)().mark(function xe(Ce){var Me,Oe,Be,Ae,ye,be,je,le,Ee,Fe,We,he,fe;return(0,w.Z)().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:return Me=Ce.snapShotFileName,Oe=Ce.marginLeft,Be=Ce.marginTop,Ae=Ce.width,ye=Ce.height,be=Ce.scale,je=Ce.widgetTreeData,le=Ce.fontsInUse,Ee=Ce.screenClassName,Fe=A().renderToString(je.render()),We='<div style="display:block;margin-left:'+Oe*be+"px;margin-top:"+Be*be+'px;">\n      <div style="position:relative;transform:scale('+be+');transform-origin:top left;" class="'+Ee+'">\n        '+Fe+"\n     </div>\n    </div>",Ke.next=5,(0,T.X)({width:Ae*be,height:ye*be,htmlSource:We,fileName:Me,fontsInUse:le});case 5:return he=Ke.sent,fe=he.pngDataUrl,Ke.t0=et,Ke.next=10,C.Z.getFilefromDataUrl(fe,Me+".png");case 10:return Ke.t1=Ke.sent,Ke.abrupt("return",(0,Ke.t0)(Ke.t1));case 12:case"end":return Ke.stop()}},xe)}));return function(Ce){return De.apply(this,arguments)}}(),Ot=function(xe){var Ce=xe.affix,Me=xe.scale,Oe=xe.widgetTreeData,Be=xe.stateName,Ae=xe.screenClassName,ye="@"+Me+"x",be=Ce==="prefix"?ye:"",je=Ce==="suffix"?ye:"",le=Oe.widget.name==="rich_text"?(0,B.gh)(Oe.widget):Oe.widget.display_name,Ee=""+be+le+(Be?"_"+Be:"")+je,Fe=zt(Oe),We=Fe.marginLeft,he=Fe.marginTop,fe=Fe.width,Qe=Fe.height,Ke=new Set;return(Ae.includes("android")||Ae.includes("others"))&&Ke.add("Roboto|normal|400"),(0,q.tX)(Oe,function(_e){_e.type in K.Bn&&(Ke=new Set([].concat((0,r.Z)(Ke),(0,r.Z)((0,Y.QT)(_e.widget)))))}),{snapShotFileName:Ee,marginLeft:We,marginTop:he,width:fe,height:Qe,scale:Me,widgetTreeData:Oe,fontsInUse:Ke,screenClassName:Ae}},Lt=function(){var De=(0,P.Z)((0,w.Z)().mark(function xe(Ce,Me){var Oe,Be,Ae,ye,be,je,le,Ee,Fe,We,he;return(0,w.Z)().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:for(Oe=x()(),Be=0,Ae=Object.entries(Me);Be<Ae.length;Be++){ye=(0,d.Z)(Ae[Be],2),be=ye[0],je=ye[1],le=Oe.folder(be),Ee=(0,b.Z)(je);try{for(Ee.s();!(Fe=Ee.n()).done;)We=Fe.value,le.file(We.name,We)}catch(Ke){Ee.e(Ke)}finally{Ee.f()}}return Qe.next=4,Oe.generateAsync({type:"blob"});case 4:he=Qe.sent,(0,m.saveAs)(he,Ce+".zip");case 6:case"end":return Qe.stop()}},xe)}));return function(Ce,Me){return De.apply(this,arguments)}}(),$t=function(xe,Ce,Me,Oe){var Be,Ae;return xe<=0||Ce<=0?(Be=!1,Ae=I18N.WidgetExport.errorMessage.data_exception_error):(Be=(0,u.Rp)({width:xe,height:Ce,scale:Me}),Ae=Oe?I18N.WidgetExport.errorMessage.multiple_widget:I18N.WidgetExport.errorMessage.single_widget),{exportable:Be,errorMessage:Ae}},Yt=function(xe){var Ce=!0,Me="",Oe=(0,b.Z)(xe),Be;try{for(Oe.s();!(Be=Oe.n()).done;){var Ae=Be.value,ye=Ae.width,be=Ae.height,je=Ae.scale,le=$t(ye,be,je,xe.length>1);if(Ce=le.exportable,Me=le.errorMessage,!Ce){MB.global.popupHelper.alertAsync({desc:Me,isHTML:!0,title:I18N.ExportManager.popup.title,confirmText:I18N.ExportManager.popup.confirmText});break}}}catch(Ee){Oe.e(Ee)}finally{Oe.f()}return Ce},xt=function De(xe){return xe.children.length?xe.children.some(function(Ce){return De(Ce)}):xe.widget.name==="rich_text"&&xe.widget.text.some(function(Ce){return Ce.children.some(function(Me){return U.SP.map(function(Oe){return Oe.value}).includes(Me.fontFamily)})})},we=function(){var De=(0,P.Z)((0,w.Z)().mark(function xe(Ce,Me,Oe,Be,Ae,ye,be,je){var le,Ee,Fe,We,he,fe,Qe,Ke,_e,rt,st,qe,at,Mt,ft,vt,Zt,dn,on,Tn,qt,fn,yn,pn,ur,Ft,me;return(0,w.Z)().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:le=be.onStartExport,Ee=be.onEndExport,Fe=je===void 0?{}:je,We=Fe.isInspectInPanel,he=Fe.selectedPanel,fe=Fe.panelStateCid,Qe=[],Ke=!1,_e=(0,b.Z)(Me);try{for(_e.s();!(rt=_e.n()).done;)st=rt.value,qe=st.widgetTree,at=st.affix,Mt=st.scale,ft=st.panelStateName,vt=(0,V.z)(Ce.cid,ProjectExchange),Zt=(0,R.a)(R.A.snapshot),dn=new F.G(vt,Zt),dn.buildWidgetTree(Ae.cid,Oe),We&&dn.replaceSymbolTree(he.cid,he.screen_meta_cid,fe),on=void 0,qe.type==="table"?on=dn.getNode(((Tn=qe.widget)==null?void 0:Tn.source_cid)||qe.widget.cid):on=dn.getNode(qe.widget.cid),Ke||(Ke=xt(on),!ye&&Ke&&MB.notice({text:I18N.ExportManager.export_downloading_tips+'<a class="question-action" href="'+I18N.link.link_article_business_font_state+'" target="_blank" rel="noopener noreferrer">'+L.$s+"</a>",type:"export-downloading",duration:5e3,showClose:!0})),qt=(0,Pe.Wi)(Ae,Be),Qe.push(Ot({affix:at,scale:Mt,widgetTreeData:on,stateName:ft,screenClassName:qt}))}catch(tt){_e.e(tt)}finally{_e.f()}if(Yt(Qe)){Re.next=8;break}return Re.abrupt("return");case 8:if(le(),Re.prev=9,Qe.length!==1){Re.next=18;break}return Re.t0=m.saveAs,Re.next=14,Ut(Qe[0]);case 14:Re.t1=Re.sent,(0,Re.t0)(Re.t1),Re.next=44;break;case 18:fn=Ae.name,yn=[],pn=(0,b.Z)(Qe),Re.prev=21,pn.s();case 23:if((ur=pn.n()).done){Re.next=32;break}return Ft=ur.value,Re.t2=yn,Re.next=28,Ut(Ft);case 28:Re.t3=Re.sent,Re.t2.push.call(Re.t2,Re.t3);case 30:Re.next=23;break;case 32:Re.next=37;break;case 34:Re.prev=34,Re.t4=Re.catch(21),pn.e(Re.t4);case 37:return Re.prev=37,pn.f(),Re.finish(37);case 40:return me={},me[fn]=yn,Re.next=44,Lt(fn,me);case 44:Re.next=49;break;case 46:Re.prev=46,Re.t5=Re.catch(9),console.error(Re.t5);case 49:Ee();case 50:case"end":return Re.stop()}},xe,null,[[9,46],[21,34,37,40]])}));return function(Ce,Me,Oe,Be,Ae,ye,be,je){return De.apply(this,arguments)}}(),Ie=function(){var De=(0,P.Z)((0,w.Z)().mark(function xe(Ce,Me,Oe,Be,Ae,ye,be){var je,le,Ee,Fe,We,he,fe,Qe,Ke,_e,rt,st,qe,at,Mt;return(0,w.Z)().wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if(je=ye.onStartExport,le=ye.onEndExport,Ee=be===void 0?{}:be,Fe=Ee.isInspectInPanel,We=Ee.selectedPanel,he=Ee.panelStateCid,fe=Me[0].widgetTree.widget.display_name,Qe=Me.filter(function(Zt){return Zt.format==="png"}).map(function(Zt){var dn=Zt.widgetTree,on=Zt.affix,Tn=Zt.scale,qt=(0,V.z)(Ce.cid,ProjectExchange),fn=(0,R.a)(R.A.snapshot),yn=new F.G(qt,fn);yn.buildWidgetTree(Ae.cid,Oe),Fe&&yn.replaceSymbolTree(We.cid,We.screen_meta_cid,he);var pn=yn.getNode(dn.widget.cid),ur=(0,Pe.Wi)(Ae,Be);return Ot({affix:on,scale:Tn,widgetTreeData:pn,stateName:"",screenClassName:ur})}),Yt(Qe)){vt.next=6;break}return vt.abrupt("return");case 6:je(),vt.prev=7,Ke=Me.filter(function(Zt){return Zt.format==="svg"}).map(function(Zt){return wt(Zt.widgetTree.widget)}),_e=[].concat(Ke),rt=(0,b.Z)(Qe),vt.prev=11,rt.s();case 13:if((st=rt.n()).done){vt.next=22;break}return qe=st.value,vt.t0=_e,vt.next=18,Ut(qe);case 18:vt.t1=vt.sent,vt.t0.push.call(vt.t0,vt.t1);case 20:vt.next=13;break;case 22:vt.next=27;break;case 24:vt.prev=24,vt.t2=vt.catch(11),rt.e(vt.t2);case 27:return vt.prev=27,rt.f(),vt.finish(27);case 30:if(_e.length!==1){vt.next=34;break}(0,m.saveAs)(_e[0]),vt.next=39;break;case 34:return at=fe,Mt={},Mt[at]=_e,vt.next=39,Lt(at,Mt);case 39:vt.next=44;break;case 41:vt.prev=41,vt.t3=vt.catch(7),console.error(vt.t3);case 44:le();case 45:case"end":return vt.stop()}},xe,null,[[7,41],[11,24,27,30]])}));return function(Ce,Me,Oe,Be,Ae,ye,be){return De.apply(this,arguments)}}(),Ge=function(){var De=(0,P.Z)((0,w.Z)().mark(function xe(Ce,Me,Oe,Be,Ae,ye,be,je){var le,Ee,Fe,We,he,fe,Qe,Ke,_e,rt,st,qe,at,Mt,ft,vt,Zt,dn,on,Tn,qt,fn,yn,pn;return(0,w.Z)().wrap(function(Ft){for(;;)switch(Ft.prev=Ft.next){case 0:le=je.onStartExport,Ee=je.onEndExport,Fe=Oe[0].widgetTree.widget.display_name,We=!1,he=[],fe=(0,b.Z)(Oe);try{for(fe.s();!(Qe=fe.n()).done;)Ke=Qe.value,_e=Ke.panelStateName,rt=Ke.panelStateCid,st=Ke.widgetTree,qe=Ke.affix,at=Ke.scale,Mt=(0,V.p)(Ce.cid,ProjectExchange,Me,rt),ft=(0,R.a)(R.A.snapshot),vt=new F.G(Mt,ft),vt.buildWidgetTree(ye.cid,Be),Zt=vt.getNode(st.widget.cid),We||(We=xt(Zt),!be&&We&&MB.notice({text:I18N.ExportManager.export_downloading_tips+'<a class="question-action" href="'+I18N.link.link_article_business_font_state+'" target="_blank" rel="noopener noreferrer">'+L.$s+"</a>",type:"export-downloading",duration:5e3,showClose:!0})),dn=(0,Pe.Wi)(ye,Ae),he.push(Ot({affix:qe,scale:at,widgetTreeData:Zt,stateName:_e,screenClassName:dn}))}catch(me){fe.e(me)}finally{fe.f()}if(Yt(he)){Ft.next=8;break}return Ft.abrupt("return");case 8:if(le(),Ft.prev=9,he.length!==1){Ft.next=18;break}return Ft.t0=m.saveAs,Ft.next=14,Ut(he[0]);case 14:Ft.t1=Ft.sent,(0,Ft.t0)(Ft.t1),Ft.next=44;break;case 18:on=Fe,Tn=[],qt=(0,b.Z)(he),Ft.prev=21,qt.s();case 23:if((fn=qt.n()).done){Ft.next=32;break}return yn=fn.value,Ft.t2=Tn,Ft.next=28,Ut(yn);case 28:Ft.t3=Ft.sent,Ft.t2.push.call(Ft.t2,Ft.t3);case 30:Ft.next=23;break;case 32:Ft.next=37;break;case 34:Ft.prev=34,Ft.t4=Ft.catch(21),qt.e(Ft.t4);case 37:return Ft.prev=37,qt.f(),Ft.finish(37);case 40:return pn={},pn[on]=Tn,Ft.next=44,Lt(on,pn);case 44:Ft.next=49;break;case 46:Ft.prev=46,Ft.t5=Ft.catch(9),console.error(Ft.t5);case 49:Ee();case 50:case"end":return Ft.stop()}},xe,null,[[9,46],[21,34,37,40]])}));return function(Ce,Me,Oe,Be,Ae,ye,be,je){return De.apply(this,arguments)}}()},60747:function(ce,k,c){"use strict";c.d(k,{LE:function(){return T},Zl:function(){return I},sD:function(){return C},uL:function(){return y},wQ:function(){return A}});var r=c(91520),d=c(9575),b=c(61519),w=c(75844),P=c(3954),h=c(2909),x=c(98385),E=c(41768),m=Object.fromEntries(Object.entries(E.YE).filter(function(f){var B=(0,b.Z)(f,1),u=B[0];return!["Android"].concat((0,d.Z)(E._D)).includes(u)})),D=function(B){return!!w[B.model]},y=function(B){return D(B)?"device":"none"},A=function(B,u,U){var L=I(B,u),F=U==="landscape",N,H;if(u==="device"&&L.bg){var V=F?[L.height,L.width]:[L.width,L.height],G=(0,b.Z)(V,2);N=G[0],H=G[1]}else{var R=F?[B.height,B.width]:[B.width,B.height],z=(0,b.Z)(R,2);N=z[0],H=z[1]}return{width:N,height:H}},C=function(B,u,U,L){var F=I(B,u),N=U?[F.height,F.width]:[F.width,F.height],H=(0,b.Z)(N,2),V=H[0],G=H[1],R=L&&B.platform!=="web"?60:0;return{width:V,height:G+R}},I=function(B,u){return S(B,u)||O(B,u)},S=function(B,u){var U=B.model;return u!=="device"?null:w[U]?(0,r.Z)({},w[U]):null},O=function(B,u){var U=u==="none"?0:12,L=B.width+U*2,F=B.height+U*2,N=(0,h.CB)(B)?[Math.min(L,F),Math.max(L,F)]:[L,F],H=(0,b.Z)(N,2),V=H[0],G=H[1];return{device:"default",top:U,left:U,width:V,height:G}},T=function(B,u,U,L,F){var N,H=F===x.i5.landscape,V=w[u],G=(N=P[B])==null?void 0:N[u];if(!G||G&&(H?L:U)!==G.width){var R=Object.keys(m).filter(function(z){return!E._D.includes(z)}).find(function(z){return m[z].width===(H?L:U)});if(!R)return null;G=m[R],V=w[R]}return!V||!G?null:H?(0,r.Z)((0,r.Z)({},V),{},{bg:V.bg+"_land",screenWidth:G.height,screenHeight:G.width,width:V.height,height:V.width,top:V.left,left:V.top}):(0,r.Z)((0,r.Z)({},V),{},{screenWidth:G.width,screenHeight:G.height})}},59729:function(ce,k,c){"use strict";c.d(k,{gn:function(){return x},ll:function(){return h}});var r=c(70956),d="jsid",b=function(){try{var m=new URLSearchParams(location.search),D=m.get(d);D?window.localStorage.setItem(d,D):window.localStorage.removeItem(d)}catch(y){window.localStorage.removeItem(d)}},w=function(m){m===void 0&&(m=!1);try{if(ENV.IS_ON_PREMISES||ENV.IS_WONDER_SHARE)return"";var D=window.localStorage.getItem(d);return D?m?"&jsid="+D:"?jsid="+D:""}catch(y){return""}};function P(E){var m=/^[^?#]+\?([^#]+)/.test(E),D=w(m),y=D&&(E==null?void 0:E.includes(D==null?void 0:D.slice(1)));return""+E+(y?"":D)}var h=function(m){var D=P(m);location.href=D},x=function(m,D,y){var A=P(m);(0,r.MI)(A,D,y)}},46506:function(ce,k,c){"use strict";c.d(k,{yI:function(){return r}});function r(w){return w.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}var d=function(P){return P.replace(/_(\w)/g,function(h,x){return x.toUpperCase()})},b=function(P){return P.replace(/([A-Z])/g,"_$1").toLowerCase()}},14730:function(ce,k,c){"use strict";c.d(k,{QT:function(){return S},T_:function(){return E},Tj:function(){return y},qH:function(){return D},tX:function(){return m}});var r=c(9575),d=c(18582),b=c(14914),w=c(13228),P=c(59234),h=Object.fromEntries(d.map(function(O){return[O.family,O.typeList.map(function(T){return(0,b.a7)(T,0)})]})),x=Object.fromEntries(d.map(function(O){return[O.family,["normal"].concat((0,r.Z)(O.typeList.find(function(T){return T.toLowerCase().includes("italic")})?["italic"]:[]))]})),E=function(){for(var T=(0,w.e)(),f=$(T).find(".ah"),B=12,u=12;u>=1;u--)f.css("font-size",u+"px"),f.css("line-height","100%"),f.text("a").height()===u&&(B=u);return B},m=function(T){return T.name==="rich_text"?{width:(0,P.bZ)(T),height:(0,P.xz)(T)}:{width:T.width,height:T.height}},D=function(T){return T.name==="rich_text"?A(T):T.height},y=function(T){return T.name==="rich_text"?C(T):T.height},A=function(T){if(T.name!=="rich_text")return null;var f=(0,w.e)(),B=f.getElementsByClassName("auto-width")[0];B.classList.add(T.font_direction),B.style.height=T.height+"px",B.innerHTML=(0,b.Hp)(T.text);var u=B.getBoundingClientRect();return B.classList.remove(T.font_direction),Math.ceil(u.width)},C=function(T){if(T.name!=="rich_text")return null;var f=(0,w.e)(),B=f.getElementsByClassName("auto-height")[0];B.classList.add(T.font_direction),B.style.width=T.width+"px",B.innerHTML=(0,b.Hp)(T.text);var u=B.getBoundingClientRect();return B.classList.remove(T.font_direction),Math.ceil(u.height)},I=function(T,f){var B=_objectSpread(_objectSpread({},T[0]),{},{children:void 0}),u=_objectSpread(_objectSpread({},T[0].children[0]),{},{text:void 0});return f.map(function(U){return _objectSpread(_objectSpread({},B),{},{children:[_objectSpread(_objectSpread({},u),{},{text:U})]})})},S=function(T){var f=new Set;return T.text.forEach(function(B){B.children.forEach(function(u){var U,L,F=(0,b.a7)(u.fontWeight,u.boldType);F=(U=h[u.fontFamily])!=null&&U.includes(F)?F:400;var N=(L=x[u.fontFamily])!=null&&L.includes(u.fontStyle)?u.fontStyle:"normal",H=u.fontFamily+"|"+N+"|"+F;f.add(H)})}),f}},29661:function(ce,k,c){"use strict";c.d(k,{Ep:function(){return m},pb:function(){return E}});var r=c(69770),d=c(58057),b=c(512),w=c(82418),P=6,h=function y(A,C,I){var S=C[A]||[];return{cid:A,data:I[A],children:S.map(function(O){var T=O.cid;return y(T,C,I)})}},x=function(A){var C=0,I=(0,b.Vx)(A);return""+(I?w.SU:w.qX)+w.UD+C};function E(y,A){A===void 0&&(A=!0);var C={},I=Object.fromEntries(y.map(function(O){return[O.cid,O]}));y.forEach(function(O){var T=I[O.parent_cid],f=T&&T.cid!==O.cid?T.cid:"root";if(A){var B=(0,d.yR)(O.project_meta_cid,O.cid);B.icon||(B.icon=x(O)),O.firstState=B}for(var u=f,U=0;U<P&&u!=="root";U++){var L;u=((L=I[u])==null?void 0:L.parent_cid)||"root"}u!=="root"?(O.parent_cid="",C.root=(C.root||[]).concat([O])):(O.parent_cid=f==="root"?"":f,C[f]=(C[f]||[]).concat([O]))}),Object.values(C).forEach(function(O){return O.sort(function(T,f){return T.position-f.position})});var S=h("root",C,I);return{screenTreeData:S,treeMap:C,dataMap:I}}function m(y,A,C,I){A===void 0&&(A=!0);var S={},O=Object.fromEntries(y.map(function(R){return[R.cid,R]})),T=Object.fromEntries(I.map(function(R){return[R.cid,R]})),f=y;f=[];var B=(0,r.Z)(C.screen_visible_list),u;try{var U=function(){var z=u.value,K=y.find(function(Y){return Y.cid===z});K&&f.push(K)};for(B.s();!(u=B.n()).done;)U()}catch(R){B.e(R)}finally{B.f()}f.forEach(function(R){var z=O[R.parent_cid],K=z&&z.cid!==R.cid?z.cid:"root";if(A){var Y=(0,d.yR)(R.project_meta_cid,R.cid);Y.icon||(Y.icon=x(R)),R.firstState=Y}for(var q=K,Q=0;Q<P&&q!=="root";Q++){var ee;q=((ee=O[q])==null?void 0:ee.parent_cid)||"root"}q!=="root"?(R.parent_cid="",S.root=(S.root||[]).concat([R])):(R.parent_cid=K==="root"?"":K,S[K]=(S[K]||[]).concat([R]))});var L=(0,r.Z)(S.root),F;try{for(L.s();!(F=L.n()).done;){var N=F.value;if(T[N.cid].parent_cid){var H=N.cid,V=D(T,H);O[H].position=V}}}catch(R){L.e(R)}finally{L.f()}Object.values(S).forEach(function(R){return R.sort(function(z,K){return z.position-K.position})});var G=h("root",S,O);return{screenTreeData:G,treeMap:S,dataMap:O}}var D=function(A,C){var I=0,S=function f(B){var u=A[B];if(!u)return 1;var U=String(u.position||1);return u.parent_cid?(I+=U.length,f(u.parent_cid)+U):U},O=S(C),T=parseInt(O)/Math.pow(10,I);return T}},79292:function(ce,k,c){"use strict";c.d(k,{L3:function(){return L},Vu:function(){return U},_3:function(){return f},aq:function(){return O},ov:function(){return u},qQ:function(){return B},ub:function(){return F},vV:function(){return H},wY:function(){return S}});var r=c(61519),d=c(5207),b=c(17119),w=c(49548),P=c(55806),h=c(47273),x=c(1372),E=c(27783),m=c(35576),D=c(11685),y=c(38130),A=c(97358),C=c(68517),I=c(27319),S=function(G){return G.border_radius.split(",").map(function(R){return(parseInt(R)||0)+"px"}).join(" ")},O=function(G){var R;G.border?R=G.border:R=(0,b.DA)(G,"border");var z=(0,P.f8)(R);return z.isEnable?z.width:0},T=function(G){var R=(G.fs||0).toFixed(1);return R>0&&R<MB.config.minFS&&(MB.action?MB.action("entry:min:fontsize:issue"):MB.webpackInterface&&MB.webpackInterface.store.dispatch({type:"entry:min:fontsize:issue"})),R},f=function(G){var R=(0,d.xh)(G),z={};if(G.zoomable!==" "&&(z.width=G.width,z.height=G.height),G.background&&R.indexOf("background")!==-1&&!A.g5.includes(G.name)&&(z.backgroundColor=U(G)),R.indexOf("border")!==-1){var K=F(G);if(K){var Y=K.borderColor,q=K.borderWidth,Q=K.borderStyle;z.borderColor=Y,E.v8.indexOf(G.name)!==-1&&(z.borderWidth=q),E.u1.indexOf(G.name)!==-1&&(z.borderStyle=Q)}else z.borderWidth=0,z.borderStyle="none",z.borderColor="unset"}G.box_shadow&&R.indexOf("box_shadow")!==-1&&(z.boxShadow=(0,h.mm)(G.box_shadow)),G.tc&&R.indexOf("tc")!==-1&&(z.color=typeof G.tc=="number"?(0,x.LW)(G.tc):G.tc),R.indexOf("text_shadow")!==-1&&G.text_shadow?z.textShadow=(0,h.oA)(G.text_shadow):G.ts>0&&(z.textShadow="0 0 "+G.ts+" "+G.tsc),R.indexOf("border_radius")!==-1&&(G.border_radius&&(z.borderRadius=S(G)),G.name===D.l.ImageView&&G.clip_type===y.eE.circular&&(z.borderRadius="100%")),G.clip&&R.indexOf("clip")!==-1&&(z.clipPath=G.clip,z.WebkitClipPath=G.clip);var ee=T(G);return R.indexOf("fs")!==-1&&ee>0&&(z.fontSize=ee+"px"),R.indexOf("padding")!==-1&&(z.padding=G.padding),R.indexOf("ha")!==-1&&(z.textAlign=G.ha),R.indexOf("lh")!==-1&&(z.lineHeight=G.lh+"px"),z.fontWeight=G.bo?"bold":"normal",z.fontStyle=G.i?"italic":"normal",z},B=function(G,R){var z=R===void 0?{}:R,K=z.isPreview,Y=K===void 0?!1:K,q=z.isSnapshot,Q=q===void 0?!1:q,ee=f(G),oe=(0,d.xh)(G);ee.zIndex=G.z,ee.left=G.left,ee.top=G.top,oe.indexOf("ro")!==-1&&G.ro&&(ee.transform="rotate("+G.ro+"deg)",ee.WebkitTransform="rotate("+G.ro+"deg)"),Y&&!Q&&G.ani_name!=="none"&&(G.ani_delay&&G.ani_delay!=="0"&&(ee.animationDelay=G.ani_delay),ee.animationIterationCount=G.ani_count,G.ani_duration&&G.ani_duration!=="0"&&(ee.animationDuration=G.ani_duration));var pe;G.v?pe=oe.indexOf("o")!==-1?G.o/100:"":pe=0;var ve;return!G.v&&Y&&(ve="none"),pe!==""&&(ee.opacity=pe),ve&&(ee.pointerEvents=ve),G.transition&&(ee.transition=G.transition),ee},u=function(G,R){var z=R===void 0?{}:R,K=z.links,Y=K===void 0?null:K,q=z.isPreview,Q=q===void 0?!1:q,ee=z.isSnapshot,oe=ee===void 0?!1:ee,pe="widget "+G.name;return(0,d.xh)(G).indexOf("ha")!==-1&&(pe+=" h"+G.ha),(0,d.xh)(G).indexOf("va")!==-1&&(pe+=" v"+G.va),G.td!=="normal"&&(pe+=" td"+G.td),G.name==="pg"&&(pe+=" s"+G.icon),G.name==="switch"&&G.checked&&(pe+=" checked"),Q&&!oe&&(Y&&Y.length&&G.v&&G.link_cids&&(pe+=(0,m.a0)(Y)),G.ani_name!=="none"&&G.v&&(pe+=" animated "+G.ani_name)),G.name==="rich_text"&&G.size_type===0&&(pe+=" auto"),pe},U=function(G){var R;return G.background?R=G.background:R=(0,b.DA)(G,"background"),(0,w.mg)(R)||"transparent"},L=function(G){var R=(0,C.qb)(G.fills[0],{w:G.width,h:G.height}),z=I.I.toRGBAStr(R.color||R.colors[0]),K=N(z,-20);(z==="transparent"||!R.v)&&(K="#ccc"),z||(K="#c1b97e");var Y=G.tc?N(G.tc,20):"#7D8694";return{lineColor:K,textPlaceHolder:Y}},F=function(G){var R;return G.border?R=G.border:R=(0,b.DA)(G,"border"),(0,P.zf)(R)};function N(V,G){var R=0,z=0,K=0,Y=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,q=/^rgb/i;if(Y.test(V))R=parseInt(V.substring(1,3),16),z=parseInt(V.substring(3,5),16),K=parseInt(V.substring(5,7),16);else if(q.test(V)){var Q,ee=((Q=V.split("rgba("))==null?void 0:Q.length)===1?V.split("rgb("):V.split("rgba("),oe=ee[1].split(")")[0].split(",");R=oe[0],z=oe[1],K=oe[2]}else return V;R=parseInt(R*(100+G)/100),z=parseInt(z*(100+G)/100),K=parseInt(K*(100+G)/100),R=R<255?R:255,z=z<255?z:255,K=K<255?K:255;var pe=R.toString(16).length===1?"0"+R.toString(16):R.toString(16),ve=z.toString(16).length===1?"0"+z.toString(16):z.toString(16),Pe=K.toString(16).length===1?"0"+K.toString(16):K.toString(16);return"#"+pe+ve+Pe}var H=function(G){var R=(0,r.Z)(G,7),z=R[0],K=R[1],Y=R[2],q=R[3],Q=R[4];return z?"drop-shadow("+Y+"px "+q+"px "+Q+"px "+(0,x.LW)(K)+")":null}},54977:function(ce,k,c){"use strict";c.d(k,{$E:function(){return ht},$V:function(){return ee},JC:function(){return I},JS:function(){return x},L6:function(){return C},LJ:function(){return gt},SI:function(){return et},TG:function(){return G},TX:function(){return oe},X2:function(){return $t},XZ:function(){return R},Yr:function(){return He},ZF:function(){return ve},ZW:function(){return Q},_W:function(){return zt},_z:function(){return Lt},aK:function(){return S},bf:function(){return B},br:function(){return Y},ep:function(){return Ve},h5:function(){return V},iE:function(){return Yt},iK:function(){return Ut},in:function(){return Ct},nI:function(){return wt},tG:function(){return Ne},vz:function(){return Pe},xF:function(){return K},yd:function(){return pe},zQ:function(){return O}});var r=c(91520),d=c(9575),b=c(69770),w=c(61519),P=c(12107),h=c(95349),x=1,E={middle:"center",top:"flex-start",bottom:"flex-end"},m={center:"middle","flex-start":"top","flex-end":"bottom"},D={ha:["text-align","left"],va:["align-items","center"],fontSize:["font-size",14],color:["color","#101010"],boldType:["font-weight","normal"],fontStyle:["font-style","normal"],textDecoration:["text-decoration","normal"],lineHeight:["line-height",20],padding:["padding",4]},y=function(we){var Ie=new Map;return Object.entries(we).forEach(function(Ge){var De=(0,w.Z)(Ge,2),xe=De[0],Ce=De[1],Me=xe.split("-"),Oe=(0,w.Z)(Me,2),Be=Oe[0],Ae=Oe[1],ye=(0,w.Z)(Ce,2),be=ye[0],je=ye[1];Be=Number(Be),Ae=Number(Ae);for(var le=Be;le<=Be+be-1;le++)for(var Ee=Ae;Ee<=Ae+je-1;Ee++)Ie.set(le+"-"+Ee,xe)}),Ie},A=function(we,Ie,Ge,De,xe,Ce,Me){var Oe=we.tableData.mergeCells;if(Object.keys(Oe).length===0)return{};var Be=new Map,Ae=y(Oe);(Ce==="row"||Ce==="deleterow")&&Object.entries(Oe).forEach(function(We){var he=(0,w.Z)(We,2),fe=he[0],Qe=he[1],Ke=fe.split("-"),_e=(0,w.Z)(Ke,2),rt=_e[0],st=_e[1],qe=(0,w.Z)(Qe,2),at=qe[0],Mt=qe[1];if(rt=Number(rt),st=Number(st),Ce==="row"?st>=Ge:st+Me>=Ge)Be.set(rt+"-"+(st+Me),Qe);else if(st+Mt-1<Ge)Be.set(fe,Qe);else for(var ft=Ie;ft<=De;ft++)for(var vt=Ge;vt<=xe;vt++){var Zt=ft+"-"+vt;Ae.has(Zt)&&!Be.has(Ae.get(Zt))&&(at===1&&Mt+Me===1||Mt+Me!==0&&Be.set(fe,[at,Mt+Me]))}}),(Ce==="column"||Ce==="deletecolumn")&&Object.entries(Oe).forEach(function(We){var he=(0,w.Z)(We,2),fe=he[0],Qe=he[1],Ke=fe.split("-"),_e=(0,w.Z)(Ke,2),rt=_e[0],st=_e[1],qe=(0,w.Z)(Qe,2),at=qe[0],Mt=qe[1];if(rt=Number(rt),st=Number(st),Ce==="column"?rt>=Ie:rt+Me>=Ie)Be.set(rt+Me+"-"+st,Qe);else if(rt+at-1<Ie)Be.set(fe,Qe);else for(var ft=Ie;ft<=De;ft++)for(var vt=Ge;vt<=xe;vt++){var Zt=ft+"-"+vt;Ae.has(Zt)&&!Be.has(Ae.get(Zt))&&(at+Me===1&&Mt===1||at+Me!==0&&Be.set(fe,[at+Me,Mt]))}});var ye={},be=(0,b.Z)(Be),je;try{for(be.s();!(je=be.n()).done;){var le=(0,w.Z)(je.value,2),Ee=le[0],Fe=le[1];ye[Ee]=Fe}}catch(We){be.e(We)}finally{be.f()}return ye},C=function(we,Ie,Ge,De){var xe=we.tableData,Ce=xe.rows,Me=xe.data,Oe=xe.cellStyles,Be=xe.columns,Ae=Ze(we.tableData),ye=(0,d.Z)(Ce),be=(0,d.Z)(Me),je=(0,d.Z)(Oe),le=(0,d.Z)(Ae),Ee=Ge+1;De&&(Ee=Ge);var Fe=A(we,0,Ee,Be.length-1,Ee+Ie-1,"row",Ie);ye.splice.apply(ye,[Ee,0].concat((0,d.Z)(Array(Ie).fill(ye[Ge]))));var We=Array(Ie).fill(Array(Be.length).fill(""));le.splice.apply(le,[Ee,0].concat((0,d.Z)(We))),be.splice.apply(be,[Ee,0].concat((0,d.Z)(We))),je.splice.apply(je,[Ee,0].concat((0,d.Z)(We)));var he=T(ye),fe=B({height:he,width:we.width,columns:we.tableData.columns,rows:ye}),Qe=fe.widthProportion,Ke=fe.heightProportion,_e=(0,r.Z)((0,r.Z)({},we),{},{height:he,widthProportion:Qe,heightProportion:Ke,tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{data:be,links:le,rows:ye,cellStyles:je,mergeCells:Fe})});return _e},I=function(we,Ie,Ge){var De=we.tableData,xe=De.rows,Ce=De.data,Me=De.cellStyles,Oe=De.columns;if(Ge===xe.length)return P.R.externalFunc.limitOneRowOrCoulumAlert(),{};var Be=Ze(we.tableData),Ae=(0,d.Z)(xe),ye=(0,d.Z)(Ce),be=(0,d.Z)(Me),je=(0,d.Z)(Be),le=[],Ee=A(we,0,Ie,Oe.length-1,Ie+Ge-1,"deleterow",-Ge);Ae.splice(Ie,Ge),je.splice(Ie,Ge),ye.splice(Ie,Ge),be.splice(Ie,Ge);for(var Fe=Ie;Fe<Ie+Ge;Fe++){var We=Be[Fe];We.forEach(function(rt){le=[].concat((0,d.Z)(le),(0,d.Z)(P.R.externalFunc.getLinkCidArr(rt)))})}var he=T(Ae),fe=B({height:he,width:we.width,columns:we.tableData.columns,rows:Ae}),Qe=fe.widthProportion,Ke=fe.heightProportion,_e=(0,r.Z)((0,r.Z)({},we),{},{widthProportion:Qe,heightProportion:Ke,height:he,tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{data:ye,links:je,rows:Ae,cellStyles:be,mergeCells:Ee})});return{newWidget:_e,linkCidArr:le}},S=function(we,Ie,Ge,De){var xe=we.tableData,Ce=xe.columns,Me=xe.data,Oe=xe.cellStyles,Be=xe.rows,Ae=Ze(we.tableData),ye=(0,d.Z)(Ce),be=Ge+1;De&&(be=Ge);var je=A(we,be,0,Be.length-1,be+Ie-1,"column",Ie),le=Ae.map(function(_e){var rt=(0,d.Z)(_e);return rt.splice.apply(rt,[be,0].concat((0,d.Z)(Array(Ie).fill("")))),rt}),Ee=Me.map(function(_e){var rt=(0,d.Z)(_e);return rt.splice.apply(rt,[be,0].concat((0,d.Z)(Array(Ie).fill("")))),rt}),Fe=Oe.map(function(_e){var rt=(0,d.Z)(_e);return rt.splice.apply(rt,[be,0].concat((0,d.Z)(Array(Ie).fill("")))),rt});ye.splice.apply(ye,[be,0].concat((0,d.Z)(Array(Ie).fill(ye[Ge]))));var We=f(ye),he=B({height:we.height,width:We,columns:ye,rows:we.tableData.rows}),fe=he.widthProportion,Qe=he.heightProportion,Ke=(0,r.Z)((0,r.Z)({},we),{},{widthProportion:fe,heightProportion:Qe,width:We,tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{data:Ee,links:le,columns:ye,cellStyles:Fe,mergeCells:je})});return Ke},O=function(we,Ie,Ge){var De=we.tableData,xe=De.columns,Ce=De.data,Me=De.cellStyles,Oe=De.rows;if(Ge===xe.length)return P.R.externalFunc.limitOneRowOrCoulumAlert(),{};var Be=Ze(we.tableData),Ae=(0,d.Z)(xe),ye=[],be=A(we,Ie,0,Oe.length-1,Ie+Ge-1,"deletecolumn",-Ge),je=Be.map(function(Ke){var _e=(0,d.Z)(Ke);return _e.splice(Ie,Ge),_e}),le=Ce.map(function(Ke){var _e=(0,d.Z)(Ke);return _e.splice(Ie,Ge),_e}),Ee=Me.map(function(Ke){var _e=(0,d.Z)(Ke);return _e.splice(Ie,Ge),_e});Ae.splice(Ie,Ge);var Fe=f(Ae),We=B({height:we.height,width:Fe,columns:Ae,rows:we.tableData.rows}),he=We.widthProportion,fe=We.heightProportion,Qe=(0,r.Z)((0,r.Z)({},we),{},{width:Fe,widthProportion:he,heightProportion:fe,tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{data:le,links:je,columns:Ae,cellStyles:Ee,mergeCells:be})});return Be.forEach(function(Ke){for(var _e=Ie;_e<Ie+Ge;_e++)ye=[].concat((0,d.Z)(ye),(0,d.Z)(P.R.externalFunc.getLinkCidArr(Ke[_e])))}),{newWidget:Qe,linkCidArr:ye}},T=function(we){return we.reduce(function(Ie,Ge){return Ie+Number.parseFloat(Ge.height)},0)},f=function(we){return we.reduce(function(Ie,Ge){return Ie+Number.parseFloat(Ge.width)},0)},B=function(we){var Ie=we.height,Ge=we.width,De=we.columns,xe=we.rows,Ce=[],Me=[];return De.forEach(function(Oe){return Me.push(Oe.width/Ge)}),Object.values(xe).forEach(function(Oe){return Ce.push(Number.parseFloat(Oe.height)/Ie)}),{widthProportion:Me,heightProportion:Ce}},u=function(we){var Ie=we.tableData.columns;return x*Ie.length},U=function(we){var Ie=we.tableData.rows;return x*Ie.length},L=function(we,Ie){for(var Ge=we.reduce(function(De,xe){return De+xe},0);Ie&&Ge;)we=we.map(function(De){return De&&Ie?(Ie=Ie-1,Ge=Ge-1,De-1):0});return we},F=function(we){var Ie=we.width,Ge=we.height,De=we.widthProportion,xe=we.heightProportion,Ce=we.tableData,Me=Ce.rows,Oe=Ce.columns,Be=we;Be=N(Be,De,Ie),Be=H(Be,xe,Ge);var Ae=!1,ye=!1,be=Be,je=be.tableData,le=je.rows,Ee=je.columns;if(le.some(function(ft){return ft.height<x})&&(ye=!0),Ee.some(function(ft){return ft.width<x})&&(Ae=!0),Ae){var Fe=f(Oe),We=Fe-Ie,he=Oe.map(function(ft){return ft.width-x}),fe=_toConsumableArray(he);he=L(he,We);var Qe=Oe.map(function(ft,vt){return{type:"text",width:ft.width-(fe[vt]-he[vt])}}),Ke=[];Qe.forEach(function(ft){return Ke.push(ft.width/Ie)}),Be.tableData.columns=Qe,Be.widthProportion=Ke}if(ye){var _e=T(Me),rt=_e-Ge,st=Me.map(function(ft){return ft.height-x}),qe=_toConsumableArray(st);st=L(st,rt);var at=Me.map(function(ft,vt){return{height:ft.height-(qe[vt]-st[vt])}}),Mt=[];Object.values(at).forEach(function(ft){return Mt.push(Number.parseFloat(ft.height)/Ge)}),Be.tableData.rows=at,Be.heightProportion=Mt}return Be},N=function(we,Ie,Ge){var De=Ie.length-1,xe=Ie.map(function(Ce){return{type:"text",width:Math.floor(Ge*Ce)}});return xe[De]={type:"text",width:Ge-xe.reduce(function(Ce,Me,Oe){return Oe===De&&(Me={width:0}),Ce=Ce+Me.width,Ce},0)},_objectSpread(_objectSpread({},we),{},{tableData:_objectSpread(_objectSpread({},we.tableData),{},{columns:xe})})},H=function(we,Ie,Ge){var De=Ie.length-1,xe=Ie.map(function(Ce){return{height:Math.floor(Ge*Ce)}});return xe[De]={height:Ge-xe.reduce(function(Ce,Me,Oe){return Oe===De&&(Me={height:0}),Ce=Ce+Number(Me.height),Ce},0)},_objectSpread(_objectSpread({},we),{},{tableData:_objectSpread(_objectSpread({},we.tableData),{},{rows:xe})})},V=function(we,Ie,Ge){var De=we.tableData.rows,xe=De.map(function(Ae,ye){return Ie===ye?(0,r.Z)((0,r.Z)({},Ae),{},{height:Ge}):(0,r.Z)({},Ae)}),Ce=T(xe),Me=B({height:Ce,width:we.width,columns:we.tableData.columns,rows:xe}),Oe=Me.widthProportion,Be=Me.heightProportion;return(0,r.Z)((0,r.Z)({},we),{},{height:Ce,widthProportion:Oe,heightProportion:Be,tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{rows:xe})})},G=function(we,Ie,Ge){var De=we.tableData.columns,xe=De.map(function(Ae,ye){return Ie===ye?(0,r.Z)((0,r.Z)({},Ae),{},{width:Ge}):(0,r.Z)({},Ae)}),Ce=f(xe),Me=B({height:we.height,width:Ce,columns:xe,rows:we.tableData.rows}),Oe=Me.widthProportion,Be=Me.heightProportion;return(0,r.Z)((0,r.Z)({},we),{},{width:Ce,widthProportion:Oe,heightProportion:Be,tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{columns:xe})})},R=function(we,Ie){var Ge=we.selectionLeftTopInfo,De=Ge.x,xe=Ge.y,Ce=(0,h.mb)(Ie.tableData.cellStyles[xe][De]);return z(Ce)},z=function(we){var Ie={newOverOld:!1,showContentBox:!1,ha:"center",va:"middle",fontSize:14,color:"rgba(91, 107, 115, 1)",boldType:0,fontStyle:"normal",textDecoration:"normal",lineHeight:20,padding:0,haDisabled:!1,vaDisabled:!1,canShowParagraph:!0,isDisabledFontDropdown:!1,isDisabledFontRadioLine:!1,isEditing:!1};return Object.keys(Ie).forEach(function(Ge){D[Ge]&&(Ie[Ge]=we.get(D[Ge][0])||D[Ge][1])}),Ie.va=m[Ie.va],Ie.padding=Number.parseInt(Ie.padding),Ie.fontSize=Number.parseInt(Ie.fontSize),Ie.lineHeight=Number.parseInt(Ie.lineHeight),Ie.boldType=+(Ie.boldType==="bold"),Ie},K=function(we,Ie,Ge,De){var xe=Ie.selectionLeftTopInfo,Ce=xe.x,Me=xe.y,Oe=Ie.selectionRightBottomInfo,Be=Oe.x,Ae=Oe.y,ye=we.tableData,be=ye.rows,je=ye.columns,le=be,Ee=je;De==="rows"&&(le=be.map(function(Ke,_e){return _e>=Me&&_e<=Ae?{height:Ge}:Ke})),De==="columns"&&(Ee=je.map(function(Ke,_e){return _e>=Ce&&_e<=Be?(0,r.Z)((0,r.Z)({},Ke),{},{width:Ge}):Ke}));var Fe=f(Ee),We=T(le),he=B({height:We,width:Fe,columns:Ee,rows:le}),fe=he.widthProportion,Qe=he.heightProportion;return(0,r.Z)((0,r.Z)({},we),{},{width:Fe,height:We,widthProportion:fe,heightProportion:Qe,tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{rows:le,columns:Ee})})},Y=function(we,Ie,Ge,De){switch(De==="cellBackground"&&(De="background"),De){case"va":De="align-items",Ge=E[Ge];break;case"ha":De="text-align";break;case"fontSize":De="font-size",Ge=Ge+"px";break;case"boldType":De="font-weight",Ge=Ge?"bold":"normal";break;case"fontStyle":De="font-style";break;case"textDecoration":De="text-decoration",Ge=Ge==="normal"?"none":Ge;break;case"padding":Ge=Ge+"px";break;case"lineHeight":De="line-height",Ge=Ge+"px";break}for(var xe=Ie.selectionLeftTopInfo,Ce=xe.x,Me=xe.y,Oe=Ie.selectionRightBottomInfo,Be=Oe.x,Ae=Oe.y,ye=we.tableData.cellStyles,be=JSON.parse(JSON.stringify(ye)),je=Ce;je<=Be;je++)for(var le=Me;le<=Ae;le++)be[le][je]=q(De,Ge,ye[le][je]);return(0,r.Z)((0,r.Z)({},we),{},{tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{cellStyles:be})})},q=function(we,Ie,Ge,De){De===void 0&&(De="change");var xe=(0,h.mb)(Ge);xe.set(we,Ie);var Ce="";return xe.forEach(function(Me,Oe){De==="delete"&&Oe===we||(Ce=Ce+(Oe+": "+Me+";"))}),Ce},Q=function(we,Ie,Ge,De){var xe=we.tableData.data,Ce=xe.map(function(Me,Oe){return Me.map(function(Be,Ae){return Number(Ie)===Ae&&Number(Ge)===Oe?De:Be})});return(0,r.Z)((0,r.Z)({},we),{},{tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{data:Ce})})},ee=function(we,Ie,Ge,De,xe,Ce){var Me=we.tableData,Oe=Me.data,Be=Me.mergeCells,Ae=y(Be),ye=Oe.map(function(be,je){return be.map(function(le,Ee){return Ce.has(Ee+"-"+je)&&!(!Be[Ee+"-"+je]&&Ae.has(Ee+"-"+je))?Ce.get(Ee+"-"+je)||"":le})});return(0,r.Z)((0,r.Z)({},we),{},{tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{data:ye})})},oe=function(we,Ie,Ge,De,xe,Ce,Me){var Oe=we.tableData,Be=Oe.data,Ae=Oe.links,ye=Oe.cellStyles,be=Oe.mergeCells,je=P.R.externalFunc.getCurrentScreen().cid,le=P.R.externalFunc.getCurrentScreenStateCid(),Ee=y(be),Fe=function(Ke,_e){return Ke.map(function(rt,st){return rt.map(function(qe,at){if(Ce.has(at+"-"+st)&&!(!be[at+"-"+st]&&Ee.has(at+"-"+st))){var Mt=Ce.get(at+"-"+st);if(_e==="link"&&Mt&&Mt[_e]){var ft=P.R.externalFunc.getLinkCidArr(Mt[_e]),vt=[];return ft.forEach(function(Zt){var dn=P.R.externalFunc.getRandomItemCid();vt.push(dn);var on=P.R.externalFunc.createLink((0,r.Z)((0,r.Z)({},Me[Zt]),{},{cid:dn}));P.R.externalFunc.updateItemState(on,{screenMetaCid:je,screenStateCid:le})}),vt.join(",")}else return Mt&&Mt[_e]||""}else return qe})})},We=Fe(Be,"data"),he=Fe(Ae,"link"),fe=Fe(ye,"cellStyle");return P.R.externalFunc.renderLinks(),(0,r.Z)((0,r.Z)({},we),{},{tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{data:We,links:he,cellStyles:fe})})},pe=function(we,Ie,Ge,De,xe,Ce){var Me=we.tableData,Oe=Me.cellStyles,Be=Me.mergeCells,Ae=y(Be),ye=Oe.map(function(be,je){return be.map(function(le,Ee){return Ce.has(Ee+"-"+je)&&!(!Be[Ee+"-"+je]&&Ae.has(Ee+"-"+je))?Ce.get(Ee+"-"+je)||"":le})});return(0,r.Z)((0,r.Z)({},we),{},{tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{cellStyles:ye})})},ve=function(we,Ie,Ge,De,xe,Ce,Me,Oe){var Be=we.tableData,Ae=Be.links,ye=Be.mergeCells,be=new Map,je=P.R.externalFunc.getCurrentScreen().cid,le=P.R.externalFunc.getCurrentScreenStateCid(),Ee=P.R.externalFunc.getCurrentProjectMeta().cid,Fe=Oe!==Ee,We=y(ye),he=Ae.map(function(fe,Qe){return fe.map(function(Ke,_e){if(Ce.has(_e+"-"+Qe)&&!(!ye[_e+"-"+Qe]&&We.has(_e+"-"+Qe))){var rt=Ce.get(_e+"-"+Qe),st=[];return rt&&(st=P.R.externalFunc.getLinkCidArr(rt).map(function(qe){if(!Me[qe])return"";var at=P.R.externalFunc.filterCopyItem(Me[qe],Fe,new Set(je),new Set(le));if(!at)return"";var Mt=P.R.externalFunc.getRandomItemCid();return be.set(qe,Mt),Mt}).filter(function(qe){return qe})),st.join(",")}else return Ke})});return P.R.externalFunc.renderLinks(),be.forEach(function(fe,Qe){var Ke=P.R.externalFunc.createLink((0,r.Z)((0,r.Z)({},Me[Qe]),{},{cid:fe}));P.R.externalFunc.updateItemState(Ke,{screenMetaCid:je,screenStateCid:le})}),(0,r.Z)((0,r.Z)({},we),{},{tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{links:he})})},Pe=function(we,Ie){var Ge=we.tableData,De=Ge.data,xe=Ge.links,Ce=Ge.cellStyles,Me=Ie.selectionLeftTopInfo,Oe=Me.x,Be=Me.y,Ae=Ie.selectionRightBottomInfo,ye=Ae.x,be=Ae.y,je=new Map;return De.forEach(function(le,Ee){return le.forEach(function(Fe,We){Oe<=We&&We<=ye&&Ee>=Be&&Ee<=be&&je.set(We+"-"+Ee,{data:Fe,link:xe[Ee][We],cellStyle:Ce[Ee][We]})})}),je},He=function(we,Ie,Ge){for(var De=Ie.selectionLeftTopInfo,xe=De.x,Ce=De.y,Me=Ie.selectionRightBottomInfo,Oe=Me.x,Be=Me.y,Ae=Ge.start,ye=Ge.end,be=Ge.isV,je=Ae.x,le=Ae.y,Ee=ye.x,Fe=ye.y,We=new Map,he=Math.abs(Oe-xe+1),fe=Math.abs(Be-Ce+1),Qe=[],Ke=le;Ke<=Fe;Ke++){for(var _e=[],rt=je;rt<=Ee;rt++)_e.push([rt,Ke]);Qe.push(_e)}return Qe.forEach(function(st){st.forEach(function(qe){var at=(0,w.Z)(qe,2),Mt=at[0],ft=at[1],vt,Zt;be?(vt=Mt,Zt=fe===0?Ce:Ce+(ft-le)%fe):(vt=he===0?xe:xe+(Mt-je)%he,Zt=ft),We.set(Mt+"-"+ft,we.get(vt+"-"+Zt))})}),We},Ne=function(we,Ie,Ge,De,xe){for(var Ce=new Map,Me=we;Me<=Ge;Me++)for(var Oe=Ie;Oe<=De;Oe++)Ce.set(Me+"-"+Oe,xe);return Ce},Ze=function(we){if(we.links&&we.links.length&&we.links[0].length)return JSON.parse(JSON.stringify(we.links));var Ie=we.rows.length,Ge=we.columns.length,De=Array(Ie).fill("");return De.map(function(){return Array(Ge).fill("")})},et=function(we,Ie){var Ge=we.selectionLeftTopInfo,De=Ge.x,xe=Ge.y,Ce=we.selectionRightBottomInfo,Me=Ce.x,Oe=Ce.y,Be=Ie.endX,Ae=Ie.endY,ye=Math.abs(Be-Me),be=Math.abs(Ae-Oe),je=be>ye,le=!1,Ee={x:0,y:0},Fe={x:0,y:0};if(je){if(Ae>=xe&&Ae<=Oe)return null;xe>Ae?(le=!0,Ee={x:De,y:Ae},Fe={x:Me,y:xe-1}):(Ee={x:De,y:Oe+1},Fe={x:Me,y:Ae})}else{if(Be>=De&&Be<=Me)return null;De>Be?(le=!0,Ee={x:Be,y:xe},Fe={x:De-1,y:Oe}):(Ee={x:Me+1,y:xe},Fe={x:Be,y:Oe})}return{start:Ee,end:Fe,isV:je,isToTopOrLeft:le}},Je=function(we){return we.map(function(Ie){return Ie.map(function(Ge){return Ge})})},gt=function(we,Ie,Ge){for(var De=we.tableData,xe=De.data,Ce=De.links,Me=De.cellStyles,Oe=Ie.selectionLeftTopInfo,Be=Oe.x,Ae=Oe.y,ye=Ie.selectionRightBottomInfo,be=ye.x,je=ye.y,le=[],Ee=[],Fe=[],We={},he=Je(Ce),fe=Je(Me),Qe=Je(xe),Ke=Ae;Ke<=je;Ke++){for(var _e=[],rt=[],st=[],qe=Be;qe<=be;qe++){_e.push(xe[Ke][qe].replace(/(\r\n|\r|\n)/g,"<br/>")),rt.push(Ce[Ke][qe]),st.push(Me[Ke][qe]),he[Ke][qe]="",fe[Ke][qe]="",Qe[Ke][qe]="";var at=P.R.externalFunc.getLinkCidArr(Ce[Ke][qe]);at.forEach(function(Zt){We[Zt]=Ge[Zt]})}Ee.push(rt),Fe.push(st),le.push(_e.join("	"))}var Mt=le.join("\n"),ft={copyStr:Mt,copyLinkCids:Ee,copyStyles:Fe,copyLinkMap:We,olProjectMetaCid:P.R.externalFunc.getCurrentProjectMeta().cid};P.R.externalFunc.saveTableInfoToClipboard(ft);var vt=P.R.tableHandle.el.querySelector(".jexcel_textarea");return vt.value=Mt,vt.select(),document.execCommand("copy"),{widget:(0,r.Z)((0,r.Z)({},we),{},{tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{links:he,data:Qe,cellStyles:fe})}),str:Mt}},Ve=function(we,Ie,Ge,De){var xe=we.tableData,Ce=xe.rows,Me=xe.columns,Oe=Me.length-1,Be=Ce.length-1,Ae=Ie.split("\n").filter(Boolean).map(function(Qe){return Qe.split("	").filter(Boolean).map(function(Ke){return Ke.replace("\r","")})}),ye=P.R.externalFunc.readTableInfoFromClipboard(),be=!1,je,le,Ee,Fe;ye&&ye.copyStr===Ie.replace(/\r/g,"")&&(be=!0,je=ye.copyLinkCids,le=ye.copyStyles,Ee=ye.copyLinkMap,Fe=ye.olProjectMetaCid);var We=new Map,he=new Map;be||(We=null,he=null);var fe=new Map;return Ae.forEach(function(Qe,Ke){Qe.forEach(function(_e,rt){var st=Ge+rt,qe=De+Ke;st>Oe||qe>Be||(fe.set(st+"-"+qe,_e),be&&(We.set(st+"-"+qe,je[Ke][rt]),he.set(st+"-"+qe,le[Ke][rt])))})}),{willCopyLinks:We,willCopyStyles:he,copyLinkMap:Ee,map:fe,olProjectMetaCid:Fe,endX:Math.min(Ge+Ae[0].length-1,Oe),endY:Math.min(De+Ae.length-1,Be)}},ht=function(we,Ie){var Ge=we.tableData.mergeCells,De=Ie.selectionLeftTopInfo,xe=De.x,Ce=De.y,Me=(0,r.Z)({},Ge);return Me[xe+"-"+Ce]&&delete Me[xe+"-"+Ce],(0,r.Z)((0,r.Z)({},we),{},{tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{mergeCells:Me})})},Ct=function(we,Ie){for(var Ge=we.tableData,De=Ge.mergeCells,xe=Ge.data,Ce=Ge.links,Me=Ge.cellStyles,Oe=(0,r.Z)({},De),Be=Ie.selectionLeftTopInfo,Ae=Be.x,ye=Be.y,be=Ie.selectionRightBottomInfo,je=be.x,le=be.y,Ee=le-ye+1,Fe=je-Ae+1,We=Ae;We<=je;We++)for(var he=ye;he<=le;he++)Oe[We+"-"+he]&&delete Oe[We+"-"+he];var fe=function(dn){var on=[],Tn=dn.map(function(qt,fn){return qt.map(function(yn,pn){return Ae<=pn&&pn<=je&&fn>=ye&&fn<=le?(pn===Ae&&fn===ye||on.push(yn),""):yn})});return{deleteValues:on,newArr:Tn}},Qe=[],Ke=fe(xe),_e=Ke.newArr,rt=fe(Ce),st=rt.newArr,qe=rt.deleteValues;qe.forEach(function(Zt){Qe=[].concat((0,d.Z)(Qe),(0,d.Z)(P.R.externalFunc.getLinkCidArr(Zt)))});var at=fe(Me),Mt=at.newArr;_e[ye][Ae]=xe[ye][Ae],st[ye][Ae]=Ce[ye][Ae];for(var ft=Ae;ft<=je;ft++)for(var vt=ye;vt<=le;vt++)Mt[vt][ft]=Me[ye][Ae];return Oe[Ae+"-"+ye]=[Fe,Ee],{linkCidArr:Qe,newWidget:(0,r.Z)((0,r.Z)({},we),{},{tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{mergeCells:Oe,data:_e,links:st,cellStyles:Mt})})}};function wt(xt){var we=xt.keyCode;return we===229||we>47&&we<58||we===32||we>64&&we<91||we>95&&we<112||we>185&&we<193||we>218&&we<223}var zt=function(we,Ie,Ge){var De=we.tableData,xe=De.mergeCells,Ce=De.rows,Me=De.columns,Oe=Me.length-1,Be=Ce.length-1,Ae=y(xe),ye=Ie,be=ye.x1,je=ye.y1,le=be+"-"+je;if(!xe[le]&&Ae.has(le)){var Ee=Ae.get(le).split("-").map(function(Mt){return Number(Mt)}),Fe=(0,w.Z)(Ee,2),We=Fe[0],he=Fe[1],fe=(0,w.Z)(xe[We+"-"+he],2),Qe=fe[0],Ke=fe[1];Ge==="up"?Ie=(0,r.Z)((0,r.Z)({},Ie),{},{y1:he,y2:he}):Ge==="down"?Ie=(0,r.Z)((0,r.Z)({},Ie),{},{y1:he+Ke,y2:he+Ke}):Ge==="left"?Ie=(0,r.Z)((0,r.Z)({},Ie),{},{x1:We,x2:We}):Ge==="right"?Ie=(0,r.Z)((0,r.Z)({},Ie),{},{x1:We+Qe,x2:We+Qe}):Ge==="tab"&&(Ie=(0,r.Z)((0,r.Z)({},Ie),{},{x1:We+Qe}),Ie.x1>Oe&&(je+1>Be?Ie=null:Ie={y1:je+1,x1:0}))}var _e=Ie.x1+"-"+Ie.y1;if(Ie.x1>Oe||Ie.y1>Be)return!1;if(!xe[_e]&&Ae.has(_e)||Ie.x1>Oe||Ie.y1>Be){var rt=Ae.get(_e).split("-").map(function(Mt){return Number(Mt)}),st=(0,w.Z)(rt,2),qe=st[0],at=st[1];Ie=(0,r.Z)((0,r.Z)({},Ie),{},{x1:qe,x2:qe,y1:at,y2:at})}return Ie},Ut=function(we,Ie){if(!(!Ie||!we)){var Ge=we.selectionLeftTopInfo,De=Ge.x,xe=Ge.y,Ce=we.selectionRightBottomInfo,Me=Ce.x,Oe=Ce.y,Be=!(De===Me&&xe===Oe),Ae=Ie.tableData,ye=Ae.columns,be=Ae.rows,je=Ae.cellStyles,le=Ae.mergeCells,Ee=(0,h.mb)(je[xe][De]),Fe=ye[De].width,We=be[xe].height,he=!1,fe=!1;if(Be){for(var Qe=De+1;Qe<=Me;Qe+=1)Fe!==ye[Qe].width&&(he=!0);for(var Ke=xe+1;Ke<=Oe;Ke+=1)We!==be[Ke].height&&(fe=!0)}if(le[De+"-"+xe]){for(var _e=(0,w.Z)(le[De+"-"+xe],2),rt=_e[0],st=_e[1],qe=De+1;qe<=De+rt-1;qe++)Fe+=ye[qe].width;for(var at=xe+1;at<=xe+st-1;at++)We+=be[at].height}return{width:Fe,height:We,color:Ee.get("color")||"#101010",background:Ee.get("background")||Ot(P.R.tableHandle.el.querySelector('[data-xy="'+De+"-"+xe+'"] .tdDiv')),isShowMultipleWidth:he,isShowMultipleHeight:fe,placeholder:Be?I18N.SettingPanel.multiple_value:""}}},Ot=function(we){if(!we)return"#fff";var Ie=window.getComputedStyle(we,null);return Ie.getPropertyValue("background-color")},Lt=function(we,Ie){var Ge=we.tableData.cellStyles,De=h.xK[Ie],xe=Ge.map(function(Ae){return Ae.map(function(ye){return q("background","#ffffffff",ye,"delete")})}),Ce=[1,3688619007,1,0],Me=[1,3688619007,1,0],Oe=[1,3688619007,1,0];De==="noBorderInterlacing"&&(Ce=[0,3688619007,1,0],Me=[0,3688619007,1,0]);var Be=(0,r.Z)((0,r.Z)({},we),{},{innerBorderV:Ce,innerBorderH:Me,outerBorder:Oe,styleType:Ie,tableData:(0,r.Z)((0,r.Z)({},we.tableData),{},{cellStyles:xe})});return Be},$t=function(we,Ie){for(var Ge=we.selectionLeftTopInfo,De=Ge.x,xe=Ge.y,Ce=we.selectionRightBottomInfo,Me=Ce.x,Oe=Ce.y,Be=Ie.tableData,Ae=Be.data,ye=Be.links,be=!1,je=De;je<=Me;je++)for(var le=xe;le<=Oe;le++)je===De&&le===xe||(Ae[le][je]||ye[le][je])&&(be=!0);return be},Yt=function(we){var Ie=we.tableData,Ge=Ie.data,De=Ie.columns,xe=Ie.rows,Ce=Ie.cellStyles,Me=Ie.mergeCells,Oe=function(be,je){var le=De.reduce(function(Fe,We,he){return Fe+(he<=je?We.width:0)},0),Ee=xe.reduce(function(Fe,We,he){return Fe+(he<=be?We.height:0)},0);return{left:le,top:Ee}},Be=y(Me),Ae=[];return Ge.forEach(function(ye,be){ye.forEach(function(je,le){if(!(Be.has(le+"-"+be)&&!Me[le+"-"+be])){var Ee=De[le].width,Fe=xe[be].height;if(Me[le+"-"+be]){for(var We=(0,w.Z)(Me[le+"-"+be],2),he=We[0],fe=We[1],Qe=le+1;Qe<=le+he-1;Qe++)Ee+=De[Qe].width;for(var Ke=be+1;Ke<=be+fe-1;Ke++)Fe+=xe[Ke].height}var _e=Oe(be,le),rt=_e.left,st=_e.top,qe=(0,h.mb)(Ce[be][le]),at=z(qe);Ae.push((0,r.Z)((0,r.Z)({},we),{},{cid:""+we.cid+be+le,source_cid:we.cid,table_cell_text:je,id:""+we.cid+be+le,src_top:we.src_top+st-xe[be].height,src_left:we.src_left+rt-De[le].width,src_width:Ee,src_height:Fe,width:Ee,height:Fe,left:we.left+rt-De[le].width,top:we.top+st-xe[be].height,ha:at.ha,va:at.va,color:at.color,fontStyle:at.fontStyle,lineHeight:at.lineHeight,lh:at.lineHeight,fs:at.fontSize,table_cell_background:qe.get("background")||"#ffffff"}))}})}),Ae}},96106:function(){(function(ce){if(ce){var k={},c=ce.prototype.stopCallback;ce.prototype.stopCallback=function(r,d,b,w){var P=this;return P.paused||MB.f.isDragging||MB.f.isSelecting||MB.f.isEditTable||MB.f.isEditingAnnotate||MB.f.editing||d.getAttribute("contenteditable")==="true"&&!d.closest(".editorContent")?!0:k[b]||k[w]?!1:c.call(P,r,d,b)},ce.prototype.bindGlobal=function(r,d,b){var w=this;if(w.bind(r,d,b),r instanceof Array){for(var P=0;P<r.length;P++)k[r[P]]=!0;return}k[r]=!0},ce.init()}})(typeof Mousetrap<"u"?Mousetrap:void 0)},72969:function(){(function(ce){var k=ce.prototype.stopCallback;ce.prototype.stopCallback=function(c,r,d){var b=this;return b.paused?!0:k.call(b,c,r,d)},ce.prototype.pause=function(){var c=this;c.paused=!0},ce.prototype.unpause=function(){var c=this;c.paused=!1},ce.init()})(Mousetrap)},37775:function(ce,k,c){"use strict";c.d(k,{D:function(){return w},w:function(){return b}});var r=c(91520),d=c(61519),b=function(S,O,T){T===void 0&&(T=100);var f=h(S,O),B=(0,d.Z)(f,2),u=B[0],U=B[1],L=E(S),F=(0,d.Z)(L,2),N=F[0],H=F[1],V=A(S,O),G=(0,d.Z)(V,2),R=G[0],z=G[1],K=C(S,O,T),Y=(0,d.Z)(K,2),q=Y[0],Q=Y[1];return[(0,r.Z)((0,r.Z)({display:u},R),{},{zIndex:N,transform:q}),(0,r.Z)((0,r.Z)({display:U},z),{},{zIndex:H,transform:Q})]},w=function(S){switch(S){case"none":return"none";case"leftmenu":return"leftmenu-reverse";case"rightmenu":return"rightmenu-reverse";case"leftdrawer":return"leftdrawer-reverse";case"rightdrawer":return"rightdrawer-reverse";case"slideright":return"slideleft";case"slideleft":return"slideright";case"slidetop":return"slidebottom";case"slidebottom":return"slidetop";case"slideleft2":return"leftout";case"slideright2":return"rightout";case"topin":return"topout";case"popin":return"popout";case"leftout":return"slideleft2";case"rightout":return"slideright2";case"topout":return"topin";case"popout":return"popin"}},P=["leftmenu","rightmenu","leftdrawer","rightdrawer"],h=function(S,O){if(S==="none")return O<1?["","none"]:["none",""];if(O<1)return["",""];var T=P.includes(S)?"":"none";return[T,""]},x=["leftout","rightout","topout","popout","slideleft2-reverse","slideright2-reverse","topin-reverse","popin-reverse","leftmenu","rightmenu","leftdrawer-reverse","rightdrawer-reverse"],E=function(S){return x.includes(S)?[3,2]:[2,3]},m={boxShadow:"0 0 8px #aaa",borderLeft:"1px solid #bbb"},D={boxShadow:"0 0 8px #aaa",borderRight:"1px solid #bbb"},y={boxShadow:"0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22), 0 0 10px 1000px rgba(0, 0, 0, 0.2)"},A=function(S,O){switch(S){case"leftmenu":return[m,null];case"leftmenu-reverse":return O<1?[null,m]:[null,null];case"rightmenu":return[D,null];case"rightmenu-reverse":return O<1?[null,D]:[null,null];case"leftdrawer":case"rightdrawer":return[null,y];case"leftdrawer-reverse":case"rightdrawer-reverse":return O<1?[y,null]:[null,null];default:return[null,null]}},C=function(S,O,T){var f=O*T;switch(S){case"none":return["none","none"];case"leftmenu":return["translateX("+(0+f)+"%)","translateX("+(-100+f)+"%)"];case"leftmenu-reverse":return["translateX("+(-100+T-f)+"%)","translateX("+(0+T-f)+"%)"];case"rightmenu":return["translateX("+(0-f)+"%)","translateX("+(100-f)+"%)"];case"rightmenu-reverse":return["translateX("+(100-T+f)+"%)","translateX("+(0-T+f)+"%)"];case"leftdrawer":return["none","translateX("+(-100+f)+"%)"];case"leftdrawer-reverse":return["translateX("+(-100+T-f)+"%)","none"];case"rightdrawer":return["none","translateX("+(100-f)+"%)"];case"rightdrawer-reverse":return["translateX("+(100-T+f)+"%)","none"];case"slideright":return["translateX("+f+"%)","translateX("+(-100+f)+"%)"];case"slideleft":return["translateX("+(0-f)+"%)","translateX("+(100-f)+"%)"];case"slidetop":return["translateY("+f+"%)","translateY("+(-100+f)+"%)"];case"slidebottom":return["translateY("+(0-f)+"%)","translateY("+(100-f)+"%)"];case"slideleft2":return["none","translateX("+(-100+f)+"%)"];case"slideright2":return["none","translateX("+(100-f)+"%)"];case"topin":return["none","translateY("+(-100+f)+"%)"];case"popin":return["none","translateY("+(100-f)+"%)"];case"leftout":return["translateX("+(0-f)+"%)","none"];case"rightout":return["translateX("+f+"%)","none"];case"topout":return["translateY("+(0-f)+"%)","none"];case"popout":return["translateY("+f+"%)","none"];default:return console.error("\u53D1\u73B0\u672A\u77E5\u52A8\u753B\u540D\u79F0: "+S),["none","none"]}}},9795:function(ce,k,c){"use strict";c.d(k,{F:function(){return m},f:function(){return D}});var r=c(67041),d=c(18030),b=c(2568),w=c(76188),P=c(57237),h=c(99284),x=c(47416),E=[{key:"md",data:b},{key:"mb",data:w},{key:"ci",data:P},{key:"fa5",data:d},{key:"antFill",data:h},{key:"antOutline",data:x}],m={};E.forEach(function(y){var A=y.key,C=y.data;return C.forEach(function(I){I.type=A,A==="fa5"?m[A+"-"+I.id+"-"+I.lib]=I:m[A+"-"+I.id]=I})});var D={};r.forEach(function(y){y.type="fa",D["fa-"+y.id]=y})},61134:function(ce,k,c){"use strict";c.d(k,{$h:function(){return w},Ec:function(){return d},N_:function(){return h},eq:function(){return x}});var r=null,d=["mp4","webm","ogg"],b=null,w=["https:"],P={isOnPremises:!1,isWonderShare:!1},h=function(m,D){return P[m]=D},x=function(m){return P[m]}},33038:function(ce,k,c){"use strict";c.d(k,{Kk:function(){return r},gB:function(){return x},u0:function(){return h},xM:function(){return w}});var r={projectExit:"projectExit",enterPreview:"enterPreview",enterEdit:"enterEdit",projectNameChange:"projectNameChange",loadSuccess:"loadSuccess",workspaceUploadRightBtn:"workspaceUploadRightBtn",currentTheme:"currentTheme"},d=function(m){return new URLSearchParams(location.search.slice(1)).get(m)},b=function(){var m,D=MB.getRootProject&&((m=MB)==null?void 0:m.getRootProject())||MB.currentProject;return!!(D&&D.is_sub_project)},w=function(){return d("from")==="zboard"},P=function(){return d("isPreview")==="1"},h=function(){try{x(JSON.stringify({type:r.loadSuccess,payload:{from:"prototype"}}))}catch(m){console.log("### error:",m)}},x=function(m){w()&&window.top&&window.top.postMessage(m)}},77200:function(ce,k,c){"use strict";c.d(k,{Bi:function(){return Ze},CD:function(){return S},CL:function(){return Q},Ci:function(){return et},Ds:function(){return Pe},Dx:function(){return Ct},EK:function(){return K},EZ:function(){return He},Eg:function(){return Me},Ei:function(){return gt},GP:function(){return I},H9:function(){return be},HR:function(){return oe},IR:function(){return ve},JH:function(){return We},Kv:function(){return Ce},N7:function(){return z},NK:function(){return Ne},Ny:function(){return Ie},P8:function(){return Y},Rp:function(){return R},T4:function(){return Lt},Uq:function(){return we},V2:function(){return xt},W9:function(){return B},Wf:function(){return Ee},XA:function(){return u},XL:function(){return Yt},_L:function(){return f},aO:function(){return Be},aS:function(){return wt},cM:function(){return G},d9:function(){return Ve},e4:function(){return H},gh:function(){return U},gi:function(){return xe},gz:function(){return Ge},it:function(){return je},jQ:function(){return ht},k6:function(){return Fe},kc:function(){return C},ki:function(){return pe},ku:function(){return V},nB:function(){return $t},oD:function(){return zt},os:function(){return ye},pt:function(){return O},px:function(){return Oe},rJ:function(){return T},tF:function(){return A},ts:function(){return D},uX:function(){return Je},v8:function(){return q},vo:function(){return N},yB:function(){return Ot},yT:function(){return ee},yZ:function(){return Ae},yh:function(){return De},z7:function(){return y},zI:function(){return Ut}});var r=c(77646),d=c(31033),b=c(512),w=c(29661),P=c(54635),h=c(61994),x=c(41768),E=c(11685),m=c(63748),D=function(fe){return fe.model.user},y=function(fe){return fe.container.common.scale},A=function(fe){return fe.container.common.screenCommentThreadCountMap},C=function(fe){return fe.container.previewSetting},I=function(fe){return fe.container.common.previewOptions},S=function(fe){return fe.container.common.designOptions},O=function(fe){return fe.container.common.guideOptions},T=function(fe){return fe.container.common.experienceSnapshotUrlMap},f=function(fe){return fe.container.common.offset},B=function(fe){return fe.container.common.keyFlags.isSpaceDown},u=function(fe){return fe.container.common.previewOptions.isVersionEmbedded},U=function(fe){return fe.container.common.preference.theme},L=function(fe){return fe.model.screens},F=function(fe){return fe.container.current.originalScreenMetaList},N=function(fe){return fe.container.current.rootProject},H=function(fe){return fe.container.current.projectMeta},V=function(fe){return fe.container.current.screenGlue},G=function(fe){return fe.container.current.projectShare},R=function(fe){return fe.container.current.previewCommonGuidesHasShown},z=function(fe){return fe.container.current.previewCommonGuidesToBeShown},K=function(fe){return fe.container.current.screenMetaList},Y=function(fe){return fe.container.current.refreshCount},q=function(fe){return fe.container.current.screenGlue.type==="project-main"},Q=function(fe){return fe.container.current.screenMeta},ee=function(fe){return fe.container.current.isPanelPreviewMode},oe=function(fe){return fe.container.previewSetting.simulatorType},pe=function(fe){return fe.container.previewSetting.isShowShell},ve=function(fe){return fe.container.previewSetting.isDummyApk},Pe=function(fe){return fe.container.previewSetting.toolbarActiveItem},He=function(fe){return fe.container.previewSetting.isStickyShow},Ne=function(fe){return fe.container.previewSetting.isStickyAvailable},Ze=function(fe){return fe.container.previewSetting.isHighlight},et=function(fe){return fe.container.previewSetting.isShowOfflineModal},Je=function(fe){return fe.container.previewSetting.isAppOffline},gt=function(fe){return fe.container.previewSetting.isAppCacheNeedUpToDate},Ve=function(fe){return fe.container.previewSetting.isStatePanelShow},ht=function(fe){return fe.container.previewSetting.isMinimized},Ct=function(fe){return fe.container.annotatePanel.annotatePanelShow},wt=function(fe){return fe.container.annotatePanel.annotateSelectWidgetCid},zt=function(fe){return fe.container.annotatePanel.annotatePanelWidth},Ut=function(fe){return fe.container.comment.commentThreads},Ot=function(fe){return fe.container.comment.comments},Lt=function(fe){return fe.container.sharingManager.isShowSharingManager},$t=(0,r.P1)([Pe],function(he){return{isPreview:he==="preview",isInspect:he==="inspect",isComment:he==="comment"}}),Yt=function(fe){return fe.container.previewSetting.isFullScreenMode},xt=function(fe){return fe.container.previewSetting.isShowColorPicker},we=function(fe){return fe.container.runner},Ie=function(fe){return fe.container.runner.activeCid},Ge=(0,r.P1)([Pe],function(he){return he===d.nh||he===d.Ab}),De=(0,r.P1)([Pe,oe],function(he,fe){return[d.nh,d.Ab].includes(he)||fe!=="device"}),xe=(0,r.P1)([L],function(he){var fe={};return he.forEach(function(Qe){return fe[Qe.cid]=Qe}),fe}),Ce=(0,r.P1)([L,H,V,G,F],function(he,fe,Qe,Ke,_e){var rt=he.filter(function(Zt){return Zt.screen_glue_cid===Qe.cid}),st=!!Ke,qe=!!_e;if(st&&qe&&Ke.screen_visible_switch){var at=(0,w.Ep)(rt,!0,Ke,_e),Mt=at.screenTreeData;return Mt}else{var ft=(0,w.pb)(rt),vt=ft.screenTreeData;return vt}}),Me=(0,r.P1)([Ce],function(he){return(0,b.qv)(he)}),Oe=(0,r.P1)([Ce],function(he){return(0,b.qv)(he).filter(function(fe){return!(0,b.Vx)(fe)})}),Be=function(fe){return fe.container.common.viewport},Ae=function(fe){return fe.container.common.scale},ye=function(fe){return fe.container.common.offset},be=function(fe){return fe.container.common.currentScreenOriginOffset},je=(0,r.P1)([we,Be,Ae,V],function(he,fe,Qe,Ke){var _e=he.activeCid,rt=he.screenInfoMap,st=rt[_e];if(!st)return{x:0,y:0};var qe=st.screenMeta,at=st.stateCid,Mt=st.screenRuntimeState.itemListMap,ft=Mt[at],vt=qe.width,Zt=qe.height,dn=(0,h.G)(location.pathname)?(0,P.xi)(_e,at,ft):(0,P.lM)(ft),on=dn.minX,Tn=dn.minY,qt=dn.maxX,fn=dn.maxY;on=Math.min(on*Qe/100,-fe.width*3/2),qt=Math.max(qt*Qe/100,fe.width*3/2),Tn=Math.min(Tn*Qe/100,-fe.height*3/2),fn=Math.max(fn*Qe/100,fe.height*3/2);var yn=Ke.height>Zt?Ke.height:Zt,pn=Ke.width>vt?Ke.width:vt,ur=Math.max(-on,qt,pn),Ft=Math.max(-Tn,fn,yn),me=fe.height*100/yn,Ue=fe.width*100/pn;return Qe>Ue&&(ur+=(Qe-Ue)*5),Qe>me&&(Ft+=(Qe-me)*10),le(ur*2,Ft*2)}),le=(0,P.LL)(function(he,fe){return{x:he,y:fe}}),Ee=(0,r.P1)([U,N],function(he,fe){var Qe=fe.attr instanceof Object&&fe.attr.bgcolor||x.I3[he];return Qe}),Fe=(0,r.P1)([Q,Be,Ae,ye,V],function(he,fe,Qe,Ke,_e){if(!fe)return{canvasTop:0,canvasLeft:0};var rt=[he.width,he.orientation==="portrait"?_e.height:_e.width],st=rt[0],qe=rt[1],at=Math.round(Ke.x),Mt=Math.round(Ke.y);return{canvasTop:fe.top+Math.floor((fe.height-qe*Qe/100)/2)+Mt,canvasLeft:Math.floor((window.innerWidth-st*Qe/100)/2)+at}}),We=(0,r.P1)([Q,we,Pe,wt,Ct,He],function(he,fe,Qe,Ke,_e,rt){var st=fe.screenInfoMap,qe=[],at=st[he.cid];if(at){var Mt=at.stateCid,ft=at.screenRuntimeState.itemListMap[Mt];qe=(0,m.H$)(ft.filter(function(Zt){return Zt.name===E.l.Annotate}))}var vt=Qe===d.c6&&qe.length>0&&_e&&rt;return{annotateSortList:qe,show:vt}})},79172:function(ce,k,c){"use strict";var r=c(64555),d=c(72005),b=c(46198),w=c(43980),P=c(63077),h=c(7485),x=c(39110),E=c(21202),m={};window.$=window.jQuery=c(8435),c(82888),c(34268),c(87645),c(22020),c(11460);var D=c(14730),y=c(21586),A=c(21772),C=c(1e3),I=c(29442),S=c(21882),O=c(68101),T=c(28535),f=c(20018),B=c(7627),u=c.n(B),U=c(89870),L=c(91520),F=c(61519),N=c(61994),H="icon_group",V="combo_group",G="screen_list",R="asset",z="asset_group_folder",K="combo_group_folder",Y={0:"bar_chart",1:"horizontal_bar_chart",2:"line_chart",3:"line_area_chart",4:"pie_chart",5:"ring_chart",6:"progress_chart",7:"radar_chart",8:"mixed_bar_line_chart"},q={bar_chart:0,horizontal_bar_chart:1,line_chart:2,line_area_chart:3,pie_chart:4,ring_chart:5,progress_chart:6,radar_chart:7,mixed_bar_line_chart:8},Q=c(11685),ee=c(7108),oe=c.n(ee),pe=c(98674),ve=c(27783),Pe=c(8465),He=c(68633),Ne=function(i){var t=_slicedToArray(i,8),n=t[0],e=t[1],o=t[2],s=t[3],l=t[4],p=t[5],v=t[6],M=t[7];return{id:n,cat:e,view_box:o,path:s,keywords:l,lib:p,fill:v,stroke:M}},Ze=function(i,t){var n={},e={},o=[];n.All=o;var s=_createForOfIteratorHelper(i),l;try{for(s.s();!(l=s.n()).done;){var p=l.value,v=Ne(p);v.cid=getRandomItemCid(),v.icongroup=!0,v.type=t,o.push(v);var M=v.cat;if(e[v.cid]=v,M){var j=_createForOfIteratorHelper(M.split(",")),Z;try{for(j.s();!(Z=j.n()).done;){var W=Z.value,X=n[W]||(n[W]=[]);X.push(v)}}catch(J){j.e(J)}finally{j.f()}}}}catch(J){s.e(J)}finally{s.f()}return{iconGroupData:n,iconData:e}},et={"Font Awesome":"fa","Font Awesome 5":"fa5","Material Design":"md",MockingBot:"mb",Mockitt:"mb","Custom Icons":"ci","Ant Icon OutLine":"antOutline","Ant Icon Fill":"antFill",Zenticons:"ze","Hawcons Stroke":"haStroke","Hawcons Fill":"haFill","RemixIcon Line":"riLine","RemixIcon Fill":"riFill","Icon Font":"if","Strawberry Line":"stLine",Strawberry:"st",Icofont:"if",iconfont:"if",IconPark:"iconPark","Semi Design":"semiDesign","Arco Design":"arcoDesign"},Je={fa:"Font Awesome",md:"Material Design",mb:"Mockitt",ci:"Custom Icons",fa5:"Font Awesome 5",antOutline:"Ant Icon OutLine",antFill:"Ant Icon Fill",ze:"Zenticons",haStroke:"Hawcons Stroke",haFill:"Hawcons Fill",riLine:"RemixIcon Line",riFill:"RemixIcon Fill",if:"Icon Font",stLine:"Strawberry Line",st:"Strawberry",iconPark:"IconPark",semiDesign:"Semi Design\u56FE\u6807\u5E93",arcoDesign:"Arco Design"},gt=null,Ve=function(a){return a.Widget="search_widget",a.MarketTemplate="search_template",a.Group="search_group",a.SelfMakeCombo="search_make_combo",a.Resources="search_resources",a.IconList="search_icon_list",a.Icon="search_icon",a.Asset="search_asset",a.FindPicture="search_find_picture",a}({}),ht=(0,Pe.V)(function(){return(0,pe.ZO)(window.MBLocale,window.I18N)}),Ct=(0,Pe.V)(function(a){return(0,pe.sA)(window.MBLocale,window.I18N,a)}),wt=[Q.l.RichText,Q.l.RoundedRect,Q.l.CircleRect,Q.l.Line,Q.l.ImageView,Q.l.LR],zt=[Q.l.MTextInput,Q.l.MTextArea,Q.l.MSelect,Q.l.MFileInput,Q.l.SelectionControlRadio,Q.l.SelectionControlCheckbox,Q.l.AndroidSwitch,Q.l.IOSSwitch,Q.l.Slider,Q.l.DigitalStepper],Ut=[Q.l.DropMenu,Q.l.NavigationMenu,Q.l.NavigationMenuV,Q.l.NavigationMenuH,Q.l.MobileTabBars,Q.l.SegmentedControl,Q.l.Collapse,Q.l.Tabs,Q.l.PaginationMobile,Q.l.PaginationWeb],Ot=[Q.l.BarChart,Q.l.HorizontalBarChart,Q.l.LineChart,Q.l.LineAreaChart,Q.l.MixedBarLineChart,Q.l.PieChart,Q.l.RingChart,Q.l.ProgressChart,Q.l.RadarChart],Lt=[Q.l.ImageView,Q.l.Carousel,Q.l.Webpage,Q.l.Video,Q.l.Audio,Q.l.QRCode,Q.l.MapView,Q.l.MTooltip],$t=[Q.l.RichText,Q.l.RoundedRect,Q.l.CircleRect,Q.l.Line,Q.l.ImageView,Q.l.LR,Q.l.Button,Q.l.ButtonSolid,Q.l.Placeholder,Q.l.Table,Q.l.Sticky,Q.l.Arrow,Q.l.MTextInput,Q.l.MTextArea,Q.l.MSelect,Q.l.Polygon,Q.l.Star,Q.l.TriangleB,Q.l.TriangleL,Q.l.PG,Q.l.DropMenu],Yt=[Q.l.Annotate].map(function(a){return ve.qw[a]}),xt=[Q.l.Button,Q.l.ButtonSolid,Q.l.Placeholder,Q.l.Table,Q.l.Sticky,Q.l.Annotate,Q.l.Arrow,Q.l.MTextInput,Q.l.MTextArea,Q.l.MSelect,Q.l.Polygon,Q.l.Star,Q.l.TriangleB,Q.l.TriangleL,Q.l.Carousel,Q.l.Webpage,Q.l.Video,Q.l.Audio,Q.l.QRCode,Q.l.PG,Q.l.MFileInput,Q.l.MTooltip,Q.l.MapView],we=[Q.l.RichText,Q.l.RoundedRect,Q.l.CircleRect,Q.l.Line,Q.l.LR,Q.l.ImageView],Ie=function(i){return i?[[WidgetType.Annotate,WidgetType.Sticky]]:WidgetType.Sticky},Ge=function(i){var t=we.concat(Ie(i));return t.map(function(n){return Array.isArray(n)?{name:"shape",svg_icon:"shape-svg",shapeList:n.map(function(e){return itemDisplayMap[e]})}:itemDisplayMap[n]})},De=[Q.l.DropMenu,Q.l.NavigationMenu,Q.l.NavigationMenuV,Q.l.NavigationMenuH,Q.l.Collapse,Q.l.SegmentedControl,Q.l.Tabs,Q.l.PaginationMobile,Q.l.PaginationWeb,Q.l.Slider,Q.l.DigitalStepper,"ios_switch","android_switch","mobile_tab_bars","selection_control_radio","selection_control_checkbox"],xe=$t.map(function(a){return ve.qw[a]}),Ce=zt.map(function(a){return ve.qw[a]}),Me=Ut.map(function(a){return ve.qw[a]}),Oe=function(){return Ot.map(function(i){return itemDisplayMap[i]})},Be=Lt.map(function(a){return ve.qw[a]}),Ae=[].concat(De).map(function(a){return ve.qw[a]}),ye=[].concat(wt,xt).map(function(a){return ve.qw[a]}),be=[].concat(wt,xt).filter(function(a){return![Q.l.PG,Q.l.Annotate].includes(a)}).map(function(a){return ve.qw[a]}),je=function(i){var t=i.mode,n=t===void 0?"":t,e=i.withDynamicWidget,o=i.marketTemplateList,s=i.builtinListInvisibleSet,l=s===void 0?new Set:s;if(n==="library"){if(!e)return{comboGroupList:[],screenList:[]};var p=[],v=[],M=_createForOfIteratorHelper(o),j;try{for(M.s();!(j=M.n()).done;){var Z=j.value;Z.category==="combo_group"?p.push(Z):Z.category==="screen_list"&&v.push(Z)}}catch(ie){M.e(ie)}finally{M.f()}return{comboGroupList:p,screenList:v}}else{if(!e)return{comboGroupList:[],screenList:[]};var W=[],X=[],J=_createForOfIteratorHelper(o),_;try{for(J.s();!(_=J.n()).done;){var te=_.value,ne=te.cid;l.has(ne)||(te.category==="combo_group"?W.push(te):te.category==="screen_list"&&X.push(te))}}catch(ie){J.e(ie)}finally{J.f()}return{comboGroupList:W,screenList:X}}},le=function(i){var t=_slicedToArray(i,8),n=t[0],e=t[1],o=t[2],s=t[3],l=t[4],p=t[5],v=t[6],M=t[7];return{groupCid:n,title:e,id:o,cat:s,view_box:l,path:p,keywords:v,lib:M}},Ee=function(i){var t=i.combo_groups,n=i.icon_groups,e=i.project_uppers,o=i.screen_lists,s=i.user_combo_groups,l=new Map,p=[],v=_createForOfIteratorHelper(t),M;try{var j=function(){var Te=M.value,Le=Te.item_cid,ke=Te.upper_cid,nt=e[ke],it=nt.market_template,ct=nt.screen_glues,de=nt.screen_metas,ue=ct.find(function($e){var Ye=$e.cid;return Ye===Le}),ge=de.find(function($e){var Ye=$e.screen_glue_cid;return Ye===Le});ge&&ue&&(l.set(Le,it),p.push({cid:Le,name:ue.name,projectBasicCid:it.cid,projectMetaCid:ue.project_meta_cid,screenGlue:ue,screenMetaCid:ge.cid,type:"combo_group",policy:it.policy,title:it.title}))};for(v.s();!(M=v.n()).done;)j()}catch(Se){v.e(Se)}finally{v.f()}var Z=[],W=_createForOfIteratorHelper(o),X;try{var J=function(){var Te=X.value,Le=Te.item_cid,ke=Te.upper_cid,nt=e[ke],it=nt.market_template,ct=nt.screen_glues,de=nt.screen_metas,ue=de.find(function($e){var Ye=$e.cid;return Ye===Le}),ge=ct.find(function($e){var Ye=$e.cid;return Ye===(ue==null?void 0:ue.screen_glue_cid)});ue&&ge&&(l.set(Le,it),Z.push({cid:Le,name:ue.name,projectBasicCid:it.cid,projectMetaCid:ue.project_meta_cid,screenGlue:ge,screenMetaCid:Le,type:"screen_list",policy:it.policy}))};for(W.s();!(X=W.n()).done;)J()}catch(Se){W.e(Se)}finally{W.f()}var _=Fe(n),te=new Map,ne=_createForOfIteratorHelper(s),ie;try{var se=function(){var Te=ie.value,Le=Te.item_cid,ke=Te.upper_cid,nt=e[ke],it=nt.user_combo_group,ct=nt.screen_glues,de=nt.screen_metas,ue=ct.find(function($e){var Ye=$e.cid;return Ye===Le});if(ue){var ge=getHomeScreenFromScreenMetaList(de);p.push(_objectSpread(_objectSpread({},ue),{},{home_screen_meta_cid:ge.cid})),te.set(it.project_meta_cid,it)}};for(ne.s();!(ie=ne.n()).done;)se()}catch(Se){ne.e(Se)}finally{ne.f()}return{comboItems:p,screenItems:Z,iconItems:_,userComboGroupMap:te,marketTemplateListMap:l}},Fe=function(i){var t=[],n=_createForOfIteratorHelper(i),e;try{for(n.s();!(e=n.n()).done;){var o=e.value;if(o){var s=le(o);s.type=ICON_LIBRARY_TYPE_MAP[s.title]||"svg",t.push(s)}}}catch(l){n.e(l)}finally{n.f()}return t},We=function(i){var t=function(p){var v=xe;if(p){var M=xe.map(function(Z){return Z});M.splice(11,0,Yt[0]);var j=ht();M.splice(21,0,j[1]),M.splice(23,0,j[0]),v=M}return{cid:BUILTIN_COMMON_COLLAPSE,groupName:I18N.dConst.library.highCommon,items:v}},n=t(i),e=Me;if(i){var o=Me.map(function(l){return l});o.splice(1,0,Ct(!1)),e=o}var s=[_objectSpread({},n),{cid:BUILTIN_FORM_COLLAPSE,groupName:I18N.Resources.form_widget,items:Ce},{cid:BUILTIN_NAV_COLLAPSE,groupName:I18N.Resources.nav_widget,items:e},{cid:BUILTIN_CHART_COLLAPSE,groupName:I18N.Resources.chart_widget,items:Oe()},{cid:BUILTIN_MULTIMEDIA_COLLAPSE,groupName:I18N.Resources.multimedia_widget,items:Be}];return s},he=function(){return We(!1).map(function(i){var t=i.cid,n=i.groupName;return{cid:t,groupName:n}})},fe=function(i,t){var n=i?ye.concat(ht()):be,e=n.concat(Ae).concat(Oe()),o=e.filter(function(s){var l=s.name;return I18N.w[l]?I18N.w[l].includes(t):l.includes(t)});return o.length>0?{cid:SEARCH_COMBO_BUILT_COLLAPSE,groupName:I18N.LeftSidePanel.builtin,type:SearchResultType.Widget,items:o}:null},Qe="2022-04-13 00:00:00",Ke=function(i){if(i){var t=moment(i).isBefore(Qe);return t?!0:moment().isAfter(moment(i).add(1,"days"))}return!1},_e="user-combo-collapse",rt="org-combo-collapse",st="user-asset-collapse",qe="org-asset-collapse",at="icon_used_collapse",Mt="icon_library_collapse",ft="builtin_common_collapse",vt="builtin_basic_collapse",Zt="builtin_high_collapse",dn="builtin_sticky_collapse",on="builtin_form_collapse",Tn="builtin_nav_collapse",qt="builtin_chart_collapse",fn="builtin_multi_media_collapse",yn="search_combo_built_collapse",pn="search_combo_user_collapse",ur="search_combo_org_collapse",Ft="search_combo_find_collapse",me="search_page_star_collapse",Ue="search_page_find_collapse",Re="search_asset_user_collapse",tt="search_asset_org_collapse",yt="search_asset_find_collapse",pt=function(a){return a.State="state",a.Builtin="builtin",a.Icon="icon",a.Page="page",a.Template="template",a.Asset="asset",a.History="history",a.Search="search",a.Library="library",a.Dashboard="dashboard",a.Detail="detail",a.SearchDetail="searchDetail",a}({}),nn=[pt.Builtin,pt.Icon,pt.Asset,pt.Page,pt.Template],rn={[pt.Builtin]:V,[pt.Icon]:H,[pt.Asset]:R,[pt.Page]:G,[pt.Template]:""},St=function(a){return a.ToolBar="toolbar",a.shortCut="shortcut",a}({}),jt={[ft]:"\u5E38\u7528",[on]:"\u8868\u5355",[Tn]:"\u5BFC\u822A",[qt]:"\u56FE\u8868",[fn]:"\u591A\u5A92\u4F53",group:"\u7EC4\u5408",builtin:"\u5185\u7F6E"},Gt=function(a){return a.Copy="\u590D\u5236\u521B\u5EFA",a.ToolBar="\u9876\u90E8\u680F",a.ShortCut="\u5FEB\u6377\u952E",a.BuiltPanel="\u7EC4\u4EF6\u9762\u677F",a.SearchPanel="\u641C\u7D22\u9762\u677F",a}({}),Ht=function(a){return a.Drag="\u62D6\u62FD",a.DoubleClick="\u53CC\u51FB",a.Click="\u5355\u51FB",a.Import="\u7F6E\u5165",a}({}),hn=function(i){var t;return(t=I18N.w[i])==null?void 0:t.replace("Chart","")},ln=function(i){var t=i.source,n=i.widgetName,e=i.groupCid,o=e===void 0?BUILTIN_COMMON_COLLAPSE:e,s=i.rootProject;if(jt[o]){var l=s.cid,p=s.name;saTrack("add_widget",{source:t,widget_name:n,widget_type:jt[o],project_id:l,project_name:p})}},xr={[H]:"\u56FE\u6807",[V]:"\u7EC4\u4EF6",[G]:"\u9875\u9762",[R]:"\u56FE\u7247"},Fr={user_made:"\u7528\u6237\u4E0A\u4F20",official_sort:"\u5B98\u65B9\u6574\u7406",official_made:"\u5B98\u65B9\u81EA\u5236"},vi=function(a){return a.User="\u6211\u7684",a.Star="\u6536\u85CF",a.Org="\u4F01\u4E1A",a.Find="\u53D1\u73B0",a.Square="\u7D20\u6750\u5E7F\u573A",a}({}),Ya={[pt.Builtin]:"\u7EC4\u4EF6\u9762\u677F",[pt.Icon]:"\u56FE\u6807\u9762\u677F",[pt.Asset]:"\u56FE\u7247\u9762\u677F",[pt.Page]:"\u9875\u9762\u9762\u677F",[pt.Search]:"\u641C\u7D22\u9762\u677F",[pt.History]:"\u5386\u53F2\u9762\u677F",[pt.Template]:"\u6BCD\u7248\u9762\u677F",[pt.Library]:"\u7D20\u6750\u5E93\u9762\u677F",[pt.Dashboard]:"\u9879\u76EE\u7BA1\u7406\u9875",[pt.Detail]:"\u8BE6\u60C5",[pt.SearchDetail]:"\u641C\u7D22\u8BE6\u60C5"},Ll=function(i){var t=i.popupsName,n=i.addType,e=i.source,o=i.category,s=i.vipTemplate,l=s===void 0?0:s,p=i.templateGroupName,v=p===void 0?"":p,M=i.copyright,j=M===void 0?"":M,Z=i.name,W=Z===void 0?"":Z,X=i.classify,J=X===void 0?"":X,_=i.rootProject,te=Ya[t];if(te){var ne=te+"-"+e;if(xr[o]){var ie=_.cid,se=_.name;saTrack("add_template",{source:ne,add_type:n,widget_type:xr[o],vip_template:l,template_group_name:v,template_source_type:Fr[j]||"",project_id:ie,project_name:se,template_name:W,classify:J})}}},Nl=function(i){var t=i.tab,n=t===void 0?vi.User:t,e=i.popupsName,o=i.addType,s=i.category,l=i.name,p=i.rootProject,v=i.currentOrg,M=v===void 0?null:v,j=i.currentUser,Z=p.cid,W=p.name,X=Ya[e];if(X){var J=X+"-"+n,_=n===vi.Org?M==null?void 0:M.cid:j==null?void 0:j.cid,te=xr[s];te&&(e===PopupsName.Search?J=X+"-"+te+"-"+n:e===PopupsName.History&&(J=X+"-"+te),saTrack("add_template",{source:J,add_type:o,widget_type:te,project_id:Z,project_name:W,template_name:l,template_group_name:_}))}},Rl=function(i,t){var n,e=i.name,o=i.chartType,s="",l=getDesignWidgetGroupList(!1),p=(n=l.find(function(M){var j=M.items;return j.find(function(Z){return Z.name===e})}))==null?void 0:n.cid;if(e===WidgetType.Chart){var v=CHART_TYPE_LIST[o];p=BUILTIN_CHART_COLLAPSE,s=I18N.w[v]}else[].concat(_toConsumableArray(BASIC_WIDGET_NAMES),_toConsumableArray(OTHER_WIDGET_NAMES),_toConsumableArray(COMMON_HIGH_WIDGET_NAMES),[WidgetType.Group]).includes(e)&&(s=I18N.w[e]);s&&p&&ln({source:Gt.Copy,widgetName:s,groupCid:p,rootProject:t})},Xa=function(i){saTrack("add_component_status",{source:i})},jl=function(i){var t=i.category,n=i.key_word,e=i.length,o=i.fromPanel,s=o===void 0?PopupsName.Search:o,l=i.isHistoryWord,p=l===void 0?!1:l,v=i.isHotKeyWord,M=v===void 0?!1:v,j=i.templateGroupName,Z=j===void 0?"":j,W=xr[t],X=Ya[s];W&&X&&saTrack("search_template",{key_word:n,search_type:W,source:X,search_result:e,isHotKeyWord:M,isHistoryWord:p,template_group_name:Z})},kl=function(a){return a.Search="\u641C\u7D22\u9875",a.SearchDetail="\u641C\u7D22\u8BE6\u60C5\u9875",a.Star="\u6536\u85CF",a.Recent="\u5386\u53F2",a.FindDetails="\u53D1\u73B0\u8BE6\u60C5\u9875",a.PaidModal="\u652F\u4ED8\u5F39\u7A97",a.Library="\u7D20\u6750\u5E93",a}({}),Bl=function(a){return a.Separately="\u5355\u72EC\u8D2D\u4E70",a.Discount="\u4F1A\u5458\u6298\u6263\u8D2D\u4E70",a.FreeForMember="\u4F1A\u5458\u514D\u8D39\u4F7F\u7528",a.Drag="\u62D6\u62FD",a.DoubleClick="\u53CC\u51FB",a.CreateNewPage="\u65B0\u5EFA\u9875\u9762\u7F6E\u5165",a.InsertPage="\u9875\u9762\u7F6E\u5165",a}({}),mi=function(i){var t=i.operation,n=i.source,e=i.title,o=i.name,s=o===void 0?"":o,l=i.category,p=xr[l];p&&saTrack("vip_template_buy",{operation:t,source:n,type:p,template_group_name:e,template_name:s||""})},Jt=c(9575),an=c(77646),re=c(77200),Ea=c(69770),To=c(14914),ra=c(1372),gr=c(47273),gi=c(21800),Qa=c(56416),Io=c(2909),Ur=c(79292),dr=function a(i,t){if(i===-1||!t)return null;if(t.cid===i)return t;if(t.children.length)for(var n=0;n<t.children.length;n++){var e=a(i,t.children[n]);if(e)return e}return null},Oo=function(i,t,n,e,o){var s=Do(i,t,n,e,o),l=s.map(function(W){return W[0]}),p=s.map(function(W){return W[1]}),v=Math.min.apply(null,l),M=Math.min.apply(null,p),j=Math.max.apply(null,l),Z=Math.max.apply(null,p);return{top:M,left:v,width:j-v,height:Z-M}},Do=function(i,t,n,e,o){var s=o*Math.PI/180,l=Math.sin(s),p=Math.cos(s),v=-n/2,M=-e/2,j=+n/2,Z=-e/2,W=+n/2,X=+e/2,J=-n/2,_=+e/2;return[[v*p-M*l,v*l+M*p],[j*p-Z*l,j*l+Z*p],[J*p-_*l,J*l+_*p],[W*p-X*l,W*l+X*p]].map(function(te){var ne=(0,F.Z)(te,2),ie=ne[0],se=ne[1];return[i+ie,t+se]})},Aa=c(95770),lt=c(54977),bt=c(61537),Rt=c(13806),en=c(55827),mn=c(27319),Or=c(68517),ar=/\\\w+/ig,_n=function(i){return i?typeof i=="number"?(0,ra.LW)(i):i.replace(ar,"").trim():Aa.Z},aa=function(i){return(0,Ur.Vu)(i)},pr=function(i){var t=(0,Ur.ub)(i);return t?t.borderColor:"transparent"},Hr=function(i){var t=(0,gr.N3)(i);return t.isEnable?{offset_x:t.offsetX,offset_y:t.offsetY,blur_radius:t.blurRadius,spread:t.spreadRadius,color:(0,ra.LW)((0,ra.SF)(t.color))}:null},Lo=function(i){var t=(0,gr.Pg)(i);return t.isEnable?{offset_x:t.offsetX,offset_y:t.offsetY,blur_radius:t.blurRadius,color:(0,ra.LW)((0,ra.SF)(t.color))}:null},Ma=function(i){return Number.isInteger(i)||i==="artboard-base"},No=function(i,t,n){var e=[],o=n.width,s=n.height;return i.forEach(function(l){var p=l.id,v=l.rotation,M=l.name,j=l.left,Z=l.top,W=l.width,X=l.height;if(M==="group"){e.push(l);return}if(v&&v!==0){var J={x:j+W/2,y:Z+X/2},_=[v].map(function(ue){return ue%180}).map(function(ue){return ue<90?ue:180-ue}),te=(0,F.Z)(_,1),ne=te[0],ie=Oo(J.x,J.y,W,X,ne);j=ie.left,Z=ie.top,W=ie.width,X=ie.height}var se=Ma(p)?o/t.width:1,Se=Z*se,Te=j*se,Le=W*se,ke=X*se,nt=Math.min(Math.max(Te,0),o),it=Math.min(Math.max(Te+Le,0),o),ct=Math.min(Math.max(Se,0),s),de=Math.min(Math.max(Se+ke,0),s);it-nt!==0&&de-ct!==0&&e.push((0,L.Z)((0,L.Z)({},l),{},{id:p,left:nt,top:ct,width:it-nt,height:de-ct,src_top:Number(parseFloat(Math.max(Z,0)).toFixed(2)),src_left:Number(parseFloat(Math.max(j,0)).toFixed(2)),src_width:Number(parseFloat(Math.min(j+W,t.width)-Math.max(j,0)).toFixed(2)),src_height:Number(parseFloat(Math.min(Z+X,t.height)-Math.max(Z,0)).toFixed(2)),rect_height:l.height,rect_width:l.width}))}),e},ia=function(i,t,n){var e=!!n.artboard_id,o=i.filter(function(s){return!["link","pg","lr","sticky","annotate"].includes(s.name)&&!(e&&s.name==="image_view"&&s.width===n.width&&s.height===n.height)}).sort(function(s,l){return s.z-l.z||s.timestamp-l.timestamp});return yi(o,t.device)},yi=function(i,t){var n=[],e=(0,Ea.Z)(i),o;try{for(e.s();!(o=e.n()).done;){var s=o.value,l=Wr(s,t),p=(0,L.Z)((0,L.Z)({},l),{},{id:s.cid,src_top:s.top,src_left:s.left,src_width:s.width,src_height:s.height});p.name!=="table"?n.push(p):(0,lt.iE)(p).map(function(v){n.push(Wr(v,t))})}}catch(v){e.e(v)}finally{e.f()}return n},Wr=function(i,t){var n={},e=i.name,o=i.ro,s=i.border_radius,l=(0,Ur.aq)(i),p=i.ha,v=i.va,M=i.lh,j=i.box_shadow,Z=i.text_shadow,W=i.sc,X=i.ds;e==="group"&&(n.left=0,n.top=0);var J=["video","audio","qrcode","webpage"].includes(e)?"":typeof i.text=="string"?i.text:JSON.stringify(i.text),_;if(J&&(_=Ja(J.replace(/<p>/g,"").replace(/<\/p>/g,"\n")),n.text_styles=(0,Qa.E)(i)?[Si(i.text)]:[{font_size:i.fs,color:_n(i.tc||Vt(e,"tc")),length:_.length,font_face:Fn(J,t)}],n.inspectText=_),i.table_cell_text&&(n.inspectText=i.table_cell_text,n.text_styles=[{fontStyle:i.fontStyle,letterSpacing:0,lineHeight:i.lineHeight,paraSpacing:5,font_size:i.fs,color:i.color,length:i.table_cell_text.length,font_face:Fn(i.table_cell_text,t)}]),p&&(n.alignment=p),v&&(n.vertical_alignment=v),M&&(n.line_height=M),s&&s!=="0"&&(n.bd_radius=s),o&&(n.rotation=o),n.border=pr(i),ve.v8.includes(e)&&l&&(n.borders=[{thickness:l,color:pr(i)}]),i.background&&(n.bg_colors=[{value:aa(i)}]),i.table_cell_background&&(n.bg_colors=[{value:i.table_cell_background}]),(e==="triangleb"||e==="triangletl")&&(n.bg_colors=[{value:aa(i)}]),(0,bt.yb)(e)&&(n.bg_colors=[{value:_n(i.tc||Vt(e,"tc"))}]),j){var te=j[0],ne=Hr(te);ne&&(n.shadows=[ne])}else W&&X&&(n.shadows=[{color:_n(W.replace(ar,"")),blur_radius:X}]);if(Z){var ie=Z[0],se=Lo(ie);se&&(n.textShadows=[se])}else i.ts&&(n.textShadows=[{color:_n(i.tsc.replace(ar,"")),blur_radius:i.ts}]);if((e==="label"||e==="text_view")&&(n.hiddSpacing=!0),i.fills){var Se=i.fills[0].split(","),Te=Number(Se[3]);Te=Te===Rt.Y_.Solid?"color":Te===Rt.Y_.LinearGradient?"linear":Te===Rt.Y_.RadialGradient?"radial":"";var Le={w:i.width,h:i.height};n.bg_colors=[(0,L.Z)({type:Te,opacity:"1",value:Te==="color"&&mn.I.toRGBAStr(Object.values((0,en.A$)(Se[4]))),gradient:{color_stops:Te!=="color"?Se.slice(7).map(function(ke){return{color:mn.I.toRGBAStr(Object.values((0,en.A$)(ke.slice(2))))}}):[],type:Te}},Te!=="color"?{sigmaPaint:(0,Or.qb)(i.fills[0],Le)}:{})]}return Object.assign({},i,n)},Ro=/<[^>]+>/ig,Ja=function(i){return i?i.replace(Ro,""):!1},Vt=function(i,t){var n=Aa.Z[i];return n&&n[t]?n[t]:Aa.Z[t]},Si=function(i){var t=(0,To.xP)(i),n=t.fontFamily,e=t.fontWeight,o=t.fontSize,s=t.color,l=t.fontStyle,p=t.letterSpacing,v=t.lineHeight,M=t.paraSpacing;return{font_face:""+(0,gi.$e)(n,e),font_size:o,color:s,fontStyle:l,letterSpacing:p,lineHeight:v,paraSpacing:M}},Fn=function(i,t){var n=Cn(i)?"chinese":"english",e=Pa()?"mac":"windows",o=(0,Io.No)(t);return oa[e][o][n]},Cn=function(i){var t=i.charCodeAt(0);return t>=19968&&t<=40869},Pa=function(){return/Mac|iPod|iPhone|iPad/.test(navigator.platform)},oa={mac:{ios:{chinese:"PingFang SC",english:"-apple-system"},android:{chinese:"PingFang SC",english:"Roboto"},others:{chinese:"PingFang SC",english:"Roboto"}},windows:{ios:{chinese:"Microsoft Yahei",english:"Arial"},android:{chinese:"Microsoft Yahei",english:"Roboto"},others:{chinese:"Microsoft Yahei",english:"Roboto"}}},yr={SKETCH_ARTBOARD:"sketch-artboard",SKETCH_LAYER:"sketch-layer",MB_SCREEN:"screen",MB_WIDGET:"widget",MB_GROUP:"group",MB_PANEL:"panel"},_a=function(i,t){return t.filter(function(n){var e=n.parent;return e===i||!e&&!i})},Ta=function(i){var t=null;return i.forEach(function(n){if(t==null){if(n.mask){t=n.object_id;return}return}if(n.mask){if(n.ignore_underlying_mask)return;n.maskedID=t,t=n.object_id;return}if(n.ignore_underlying_mask){t=null;return}n.maskedID=t}),i},jo=function(i){return i.sort(function(t,n){return n.level-t.level})},bi=function(i){var t=i.id,n=i.name,e=i.object_id,o=i.parent,s=i.type,l=i.mask,p=i.ignore_underlying_mask,v=i.level,M=i.maskedID,j=i.image_set;return{id:t,name:n,object_id:e,parent:o,type:s,mask:l,ignore_underlying_mask:p,level:v,maskedID:M,imageSet:j}},Dt=function(i){var t=function n(e,o,s){s===void 0&&(s=[_a.bind(null,e),Ta,jo]);var l=s.reduce(function(p,v){return v(p)},i);return l.reduce(function(p,v){return Kt(v.type)?[].concat((0,Jt.Z)(p),[{type:"compound",value:bi(v),depth:o,children:n(v.object_id,o+1)}]):[].concat((0,Jt.Z)(p),[{type:"basic",value:bi(v),depth:o}])},[])};return kt(i)?t(null,1):[]},kt=function(i){return i&&Array.isArray(i)&&i.every(function(t){return!!t.level})},Kt=function(i){return["group","shapeGroup"].includes(i)},wn=function a(i,t,n,e){var o=n[i];if(o.name==="group"){var s=t[i]||{children:[]};return{cid:o.cid,type:LAYER_TYPE.MB_GROUP,widget:o,children:s.children.map(function(p){return a(p,t,n,e)})}}else if(o.name==="panel"){var l=o.cid;return{cid:o.cid,type:LAYER_TYPE.MB_PANEL,widget:o,children:e[l].widgetTreeData.children}}else return{cid:o.cid,type:LAYER_TYPE.MB_WIDGET,widget:o,children:[]}},Un=function(i,t){return{cid:i.id,type:yr.SKETCH_ARTBOARD,widget:i,children:t.map(function(n){return{cid:n.cid,type:yr.SKETCH_LAYER,widget:n,children:[]}})}},Kn=function(i){return i.container.layers.activeLayerID},Yn=function(i){return i.container.layers.resourceByScreen},Ia=function(i){return i.container.layers.isWidgetBeingExported},Cr=function(i){return i.container.layers.selectedPanel},Oa=function(i){return i.container.layers.isInspectInPanel},Zl=function(i){return i.container.layers.inspectedPanelStateCid},nv=function(i){return i.container.layers.widgetLayersData},ko=function(i){return i.container.layers.widgetStore},rv=function(i){return i.container.layers.panelWidgetData},Fl=(0,an.P1)([re.Ny,Yn],function(a,i){return i[a]||{}}),av=(0,an.P1)([re.vo,re.Uq],function(a,i){var t=i.activeCid,n=i.screenInfoMap;if(!n[t])return[];var e=n[t],o=e.screenMeta,s=e.stateCid,l=e.screenRuntimeState,p=l.itemListMap[s];return ia(p,a,o)}),iv=(0,an.P1)([re.Ny,Yn,av],function(a,i,t){var n=i[a];if(!n)return[];var e=n.artboardLayer,o=n.sketchLayers;return e?[e].concat((0,Jt.Z)(t),(0,Jt.Z)(o)):t}),Da=(0,an.P1)([re.Uq,Yn,nv],function(a,i,t){var n=a.activeCid,e=a.screenInfoMap;if(!t)return null;if(!e[n])return{cid:n,type:"screen",widget:{},children:[]};var o=e[n].screenMeta,s=i[n]||{artboardLayer:{id:-1},sketchLayers:[]},l=s.artboardLayer,p=s.sketchLayers,v=Un(l,p);return{cid:o.cid,type:yr.MB_SCREEN,widget:l,children:[].concat((0,Jt.Z)(p.length?[v]:[]),[t])}}),ov=(0,an.P1)([re.Ny,Yn],function(a,i){var t=i[a];if(!t)return[];var n=t.sketchLayers,e=Dt(n);return e}),sv=(0,an.P1)([Cr,re.Uq],function(a,i){var t=i.activeCid,n=i.screenInfoMap;if(!t||!a)return null;var e=n[t].screenMeta,o=n[e.cid].panelInfoMap;if(!o[a.cid])return null;var s=o[a.cid]||{},l=s.screenDataMap,p=s.currentScreenMetaCid,v=l[p].screenRuntimeState.dataMap;return Object.values(v)}),Pt=c(54635),_t=function(i){var t,n,e,o,s,l,p=(t=MB)==null||(n=t.user)==null?void 0:n.id,v=(((e=MB)==null||(o=e.currentProject)==null?void 0:o.permissions)||[]).find(function(Z){return Z.user_id===p}),M=v&&v.role,j=p?M?"\u9879\u76EE\u4F01\u4E1A\u6210\u5458":"\u975E\u9879\u76EE\u4F01\u4E1A\u6210\u5458":"\u672A\u767B\u5F55";typeof C.U1=="function"&&(0,N.G)(location.pathname)&&(0,C.U1)("share_links_function_click",{operation_type:i,project_id:(s=MB.currentProject)==null?void 0:s.cid,project_name:(l=MB.currentProject)==null?void 0:l.name,user_rights:MB.canEditByCurrentUser?"\u53EF\u7F16\u8F91":"\u4EC5\u67E5\u770B",user_type:j})},Ul=function(i){typeof C.U1=="function"&&(0,C.U1)("share_links_no_access",{no_access_reason:i})},zr=function(i){var t,n,e=(t=MB)!=null&&(n=t.currentProject)!=null&&n.is_org_project?"\u4F01\u4E1A\u9879\u76EE":"\u4E2A\u4EBA\u9879\u76EE";(0,C.U1)("comment_function_click",{event_type:i,operation_type:e})},lv=function(i,t,n,e){var o=Ma(t.id),s=o?t.type:hn(t.name)||"";(0,C.U1)("tag_selected_element",{is_sketch:o,widget_name:s,in_master:n,in_dynamic_component:e})},xi=function(i){var t,n,e,o=(t=MB)==null||(n=t.webpackInterface)==null?void 0:n.store.getState(),s=Da(o),l=Kn(o),p=dr(l,s),v=Ma(p==null||(e=p.widget)==null?void 0:e.id),M=(0,Pt.Q7)();(0,C.U1)("tag_copy_tag_content",{is_sketch:v,is_sign_in:M,type:i})},cv=function(i,t,n){(0,C.U1)("tag_export_content",{is_sketch:t,is_sign_in:i,widget_name:n})},sn=c(88468),Hl=c(5207),Xt=c(56165),uv=c(55639),sa=c.n(uv),$r=c(66302),qa=c(35576),Wl=function(){return new Date().getTime()},dv=["mouseIn","mouseOut","left","right","up","down"],Bo=function(i){return i.some(function(t){return dv.includes(t)})},pv=function(){function a(){(0,I.Z)(this,a),this.coolDownTime=Wl(),this.coolDownInterval=200}return(0,S.Z)(a,[{key:"isCoolDown",value:function(t){if(t===void 0&&(t=[]),Bo(t))return!0;var n=Wl()-this.coolDownTime;return this.coolDownTime+=n,n>this.coolDownInterval}},{key:"resetCoolDown",value:function(){this.coolDownTime-=this.coolDownInterval}}]),a}(),gn=c(70423),qn=c(92408),zl=c(29846),$l=window,er=$l.$,fv=$l.Shake,hv=function(){function a(i,t,n){(0,I.Z)(this,a),(0,f.Z)(this,"hightTimer",null),(0,f.Z)(this,"swipeDownTarget",null),(0,f.Z)(this,"swipeDownTargetCanvas",null),this.store=i,this.timerHandler=t,this.runnerController=n,this.store=i,this.timerHandler=t,this.eventBucket=new pv,this.runnerController=n}return(0,S.Z)(a,[{key:"init",value:function(t,n){var e=this,o=n||{},s=o.isImmersive,l=o.isMobile,p=new(sa())(t,{touchAction:"auto",inputClass:(0,gn.tq)()?sa().TouchInput:null});p.get("swipe").set({direction:sa().DIRECTION_ALL,velocity:.05,threshold:10}),p.get("pan").set({direction:sa().DIRECTION_ALL,threshold:10}),p.on("panstart",function(M){e.prepareJump(M,["panstart"])}),p.on("panend",function(M){e.prepareJump(M,["panend"])}),p.on("swipeleft",function(M){e.prepareJump(M,["left"])}),p.on("swiperight",function(M){e.prepareJump(M,["right"])}),p.on("swipeup",function(M){e.prepareJump(M,["up"])}),p.on("swipedown",function(M){e.prepareJump(M,["down"])}),p.on("press",function(M){e.prepareJump(M,["hold","longpress"])}),p.on("tap",function(M){M.tapCount===1&&e.prepareJump(M,["tap","click"]),M.tapCount===2&&(e.eventBucket.resetCoolDown(),e.prepareJump(M,["dtap","dbclick"]))});var v=new fv({threshold:15});v.start(),window.addEventListener("shake",function(M){e.prepareJump(M,["shake"])},!1),er(t).on("mousedown",function(M){e.dragPanelEventHandler(M,{isImmersive:s,isMobile:l}),M.button===2&&e.prepareJump(M,["rightClick"])}),er(t).on("mouseenter",".mouseAble",function(M){e.prepareJump(M,["mouseIn"])}),er(t).on("mouseleave",".mouseAble",function(M){e.prepareJump(M,["mouseOut"])}),this.hammertime=p}},{key:"prepareJump",value:function(t,n,e){var o=this;e===void 0&&(e=!0);var s=(0,re.gz)(this.store.getState());if(!s&&!this.runnerController.isPreventEvent){var l=this.timerHandler.getIsPageTimerFired();if(this.eventBucket.isCoolDown(n)&&!l){var p=t.target.closest(".clickable");if(n.includes("left")||n.includes("right")||n.includes("up")||n.includes("down"))if(p){if(!this.swipeDownTarget||this.swipeDownTarget&&this.swipeDownTarget!==p)return}else this.swipeDownTarget&&(p=this.swipeDownTarget);var v=t.target.closest(".panel"),M;if(n.includes("shake")?this.runnerController.currentMenu?M=document.querySelector("#pscreen"+this.runnerController.currentMenu):M=document.querySelector(".pcanvas.active"):M=t.target.closest(".pcanvas"),n.includes("panstart")&&(p&&(this.swipeDownTarget=p),M&&(this.swipeDownTargetCanvas=M)),n.includes("panend")&&(this.swipeDownTarget=null,this.swipeDownTargetCanvas=null),!M)if(n.includes("left")||n.includes("right")||n.includes("up")||n.includes("down"))this.swipeDownTargetCanvas&&(M=this.swipeDownTargetCanvas);else return;var j=M.attributes["data-cid"].value;if(j){var Z=Xt.Z.getRunnerStateByScreenCid(this.store,j),W=Z.stateCid;if(this.runnerController.currentMenu&&j!==this.runnerController.currentMenu&&!Bo(n))return this.runnerController.closeMenu();if(v){if(this.panelEventHandler(t,n,{screenCid:j,stateCid:W}))return}else if(p){var X,J=p.attributes["data-link_cid"].value,_=(X=p.attributes["data-panel_cid"])==null?void 0:X.value,te;_?te=Xt.Z.findLinkInPanel(this.store,J,_,j):te=Xt.Z.findLink(this.store,J,j);var ne=(0,qn.Zx)((0,qn.jz)((0,qa.H9)(te).filter(function(it){return it&&n.includes(it.gesture)}),J));if(ne)if(_){var ie=this.runnerController.projectMeta,se=(0,$r.DV)(ie.cid,j,W),Se=se.find(function(it){var ct=it.cid;return ct===_});ne.forEach(function(it){o.clickInPanelWidget({link:it,panel:Se})});return}else(0,qn.Zx)(ne).forEach(function(it){o.runnerController.j(Xt.Z.getLinkTargetDomIfNeeded(it,p))});return}var Te=(0,$r.QP)(this.runnerController.projectMeta.cid,j,W),Le=(0,qn.Zx)((0,qn.jz)((0,qa.H9)(Te).filter(function(it){return n.includes(it.gesture)}),""));if(Le.length>0){var ke=Xt.Z.getScreenMetaListSet(this.store);Le.forEach(function(it){(0,re.yT)(o.store.getState())&&!Xt.Z.getIsLinkInCurrentScreebGlueInside(it,ke)||o.runnerController.j(Xt.Z.getLinkTargetDomIfNeeded(it,p))});return}if(e&&(0,re.Bi)(this.store.getState())&&!Bo(n)&&!er(t.target).closest(".play-pause").length&&!er(t.target).closest(".audio-progress").length&&!er(t.target).closest(".video").length&&!er(t.target).closest(".annotate").length){var nt=Xt.Z.getScreenStateValidLinkListForPreview(this.store,j,W);this.highlightClickables(nt,t)}}}}}},{key:"panelEventHandler",value:function(t,n,e){var o=this,s=e.screenCid,l=e.stateCid,p=t.target.closest(".clickable"),v=t.target.closest(".panel").closest(".tree-node"),M=v.attributes["data-cid"].value,j=this.runnerController.projectMeta,Z=(0,$r.DV)(j.cid,s,l),W=Z.find(function(de){var ue=de.cid;return ue===M});if(p){var X=p.attributes["data-link_cid"].value,J,_=Xt.Z.findLink(this.store,X,s),te=Xt.Z.findLinkInPanel(this.store,X,M,s);if(_&&_.length?J=_:J=te,!J||J.length===0)return!1;var ne=(0,qn.Zx)((0,qn.jz)((0,qa.H9)(J).filter(function(de){return de&&n.includes(de.gesture)}),X));if(ne.length===0)return!1;if(ne[0].target_cid===sn.eB)return this.runnerController.j(Xt.Z.getLinkTargetDomIfNeeded(ne[0],p)),!0;var ie=!1;if(ne.forEach(function(de){n.includes(de.gesture)&&(v===p?o.runnerController.j(Xt.Z.getLinkTargetDomIfNeeded(de,p)):o.clickInPanelWidget({link:de,panel:W,target:p}),ie=!0)}),ie)return!0}if(this.runnerController.getIsPanelTimerFired(W==null?void 0:W.cid))return!1;var se=Xt.Z.getRunnerStateByScreenCid(this.store,s),Se=se.panelInfoMap,Te=Se[W.cid],Le=Te.currentScreenMetaCid,ke=Te.currentScreenStateCid,nt=(0,$r.QP)(this.runnerController.projectMeta.cid,Le,ke),it=(0,qn.Zx)((0,qn.jz)((0,qa.H9)(nt).filter(function(de){return n.includes(de.gesture)}),""));if(it.length>0){var ct=Xt.Z.getScreenMetaListSet(this.store);return it.forEach(function(de,ue){if(Xt.Z.getIsScreenLinkJumpToMainGlue(de,ct)||de.link_type===sn.rU.TYPE.hyperlink)o.runnerController.j(Xt.Z.getLinkTargetDomIfNeeded(de,p));else if(de.targetstate_cid){var ge=Z.filter(function(Ye){return Ye.name==="panel"}).find(function(Ye){var Xe=Ye.screen_meta_cid;return Xe===void 0?!1:Xe===de.target_cid});ge?(o.runnerController.resetPanelTimerFlag(ge.cid),o.runnerController.jumpPanelState({panel:ge,targetStateCid:de.targetstate_cid,delay:parseFloat(de.ani_delay)*1e3,duration:parseFloat(de.ani_duration)*1e3})):ue===0&&de.targetstate_cid&&(o.runnerController.resetPanelTimerFlag(W.cid),o.runnerController.jumpPanelState({panel:W,targetStateCid:de.targetstate_cid,delay:parseFloat(de.ani_delay)*1e3,duration:parseFloat(de.ani_duration)*1e3}))}else{var $e=Z.filter(function(Ye){return Ye.name==="panel"}).find(function(Ye){var Xe=Ye.screen_meta_cid;return Xe===void 0?!1:Xe===de.target_cid});$e?o.runnerController.jumpPanelScreen({panel:$e,delay:parseFloat(de.ani_delay)*1e3,duration:parseFloat(de.ani_duration)*1e3,transition:["leftmenu","rightmenu","leftdrawer","rightdrawer"].includes(de.transition)?"none":de.transition,offset:/drawer|menu/.test(de.transition)?de.menu_offset:100,targetCid:de.target_cid}):ue===0&&o.runnerController.jumpPanelScreen({panel:W,delay:parseFloat(de.ani_delay)*1e3,duration:parseFloat(de.ani_duration)*1e3,transition:["leftmenu","rightmenu","leftdrawer","rightdrawer"].includes(de.transition)?"none":de.transition,offset:/drawer|menu/.test(de.transition)?de.menu_offset:100,targetCid:de.target_cid})}}),!0}return!1}},{key:"highlightClickables",value:function(t,n){var e=er(n.target).closest(".canClickableHighWidget");if(!(e.length>0)){var o=(0,Ea.Z)(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,p=er('.pcanvas.active [data-link_cid*="'+l.cid+'"] .region');p.show()}}catch(M){o.e(M)}finally{o.f()}er(".pcanvas.active .pg").css({display:"flex",opacity:.8});var v=er(".pcanvas.active .region");this.hightTimer=setTimeout(function(){v.hide(),er(".pcanvas.active .pg").css("opacity","0").hide()},400)}}},{key:"setupPageGesture",value:function(t){var n=Xt.Z.getRunnerStateByScreenCid(this.store,t.cid),e=n.stateCid,o=n.screenRuntimeState,s=o.itemListMap[e].filter(function(v){return v.name==="link"}),l=[];s.forEach(function(v){(v.gesture==="left"||v.gesture==="right")&&l.indexOf("pan-y")===-1&&l.push("pan-y"),(v.gesture==="up"||v.gesture==="down")&&l.indexOf("pan-x")===-1&&l.push("pan-x")});var p=l.length?l.join(" "):"auto";this.hammertime.touchAction.actions=p,er(".pcanvas.active .widgets").css("touch-action",p)}},{key:"dragPanelEventHandler",value:function(t,n){var e=this,o=n.isImmersive,s=n.isMobile;if(!(s||o)){var l=er(t.target).closest(".map_view .image"),p=er(t.target).closest(".panel"),v=l[0]||p[0];if(v&&!(v.clientWidth===v.scrollWidth&&v.clientHeight===v.scrollHeight)){var M=t.clientX,j=t.clientY,Z=v.scrollTop,W=v.scrollLeft,X=0,J=function(ne){ne.preventDefault(),X++,v.scrollTop=Z-(ne.clientY-j),v.scrollLeft=W-(ne.clientX-M)},_=function te(){X>5&&e.eventBucket.isCoolDown(),document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",te)};document.addEventListener("mousemove",J),document.addEventListener("mouseup",_)}}}},{key:"clickInPanelWidget",value:function(t){var n=t.link,e=t.panel,o=t.target,s=(0,re.gi)(this.store.getState()),l=s[n.target_cid];if(l&&n.link_type===sn.rU.TYPE.screen_link&&l.screen_glue_cid!==e.screen_glue_cid||n.link_type===sn.rU.TYPE.hyperlink)this.runnerController.j(Xt.Z.getLinkTargetDomIfNeeded(n,o));else{if(this.runnerController.getIsPanelTimerFired(e==null?void 0:e.cid))return!1;(0,zl.a)(n)||[sn.rU.TYPE.screen_link_from_dynamic_panel,sn.rU.TYPE.scroll_link,sn.rU.TYPE.visibility_link].includes(n.link_type)?this.runnerController.switchLink(Xt.Z.getLinkTargetDomIfNeeded(n,o)):n.link_type===sn.rU.TYPE.state_link?(this.runnerController.resetPanelTimerFlag(e.cid),this.runnerController.jumpPanelState({panel:e,targetStateCid:n.targetstate_cid,delay:parseFloat(n.ani_delay)*1e3,duration:parseFloat(n.ani_duration)*1e3})):this.runnerController.jumpPanelScreen({panel:e,delay:parseFloat(n.ani_delay)*1e3,duration:parseFloat(n.ani_duration)*1e3,transition:["leftmenu","rightmenu","leftdrawer","rightdrawer"].includes(n.transition)?"none":n.transition,offset:/drawer|menu/.test(n.transition)?n.menu_offset:100,targetCid:n.target_cid})}}}]),a}(),vv=function(){function a(){(0,I.Z)(this,a),this.timeoutMap=new Map}return(0,S.Z)(a,[{key:"setTimeout",value:function(i){function t(n,e,o){return i.apply(this,arguments)}return t.toString=function(){return i.toString()},t}(function(i,t,n){var e=this,o=setTimeout(function(){t(),e.clearTimeout(i,t)},n);return this.setToken(i,t,o),o})},{key:"clearTimeout",value:function(i){function t(n,e){return i.apply(this,arguments)}return t.toString=function(){return i.toString()},t}(function(i,t){var n=this.getToken(i,t);n!==void 0&&(clearTimeout(n),this.clearToken(i,t))})},{key:"clearTimeoutByKey",value:function(t){var n=this,e=this.timeoutMap.get(t);e!==void 0&&(e.forEach(function(o,s){return n.clearTimeout(t,s)}),this.timeoutMap.delete(t))}},{key:"clear",value:function(){var t=this;this.timeoutMap.forEach(function(n,e){return t.clearTimeoutByKey(e)})}},{key:"setToken",value:function(t,n,e){var o=this.timeoutMap.get(t);o===void 0&&(o=new Map,this.timeoutMap.set(t,o)),o.set(n,e)}},{key:"getToken",value:function(t,n){var e=this.timeoutMap.get(t);if(e)return e.get(n)}},{key:"clearToken",value:function(t,n){var e=this.timeoutMap.get(t);e&&e.delete(n)}}]),a}(),mv=function(){function a(i,t){(0,I.Z)(this,a),(0,f.Z)(this,"timerFired",!1),(0,f.Z)(this,"panelTimerMap",{}),this.store=i,this.runnerController=t,this.timeoutBucket=new vv,this.runnerController=t,this.store=i,this.runnerController=t}return(0,S.Z)(a,[{key:"resetPageTimerFlag",value:function(){this.timerFired=!1}},{key:"getIsPageTimerFired",value:function(){return this.timerFired}},{key:"getIsPanelTimerFired",value:function(t){return this.panelTimerMap[t]}},{key:"resetPanelTimerFlag",value:function(t){this.panelTimerMap[t]=!1}},{key:"clear",value:function(){this.timerFired=!1,this.panelTimerMap={},this.timeoutBucket.clear()}},{key:"setupPageTimers",value:function(t,n){var e=this;if(!(0,re.gz)(this.store.getState())){this.timeoutBucket.clear();var o=this.runnerController.projectMeta.cid,s=(0,$r.BK)(o,t.cid,n);if((0,re.yT)(this.store.getState())){var l=Xt.Z.getScreenMetaListSet(this.store);s.forEach(function(v){Xt.Z.getIsLinkInCurrentScreebGlueInside(v,l)&&e._pageTimer(v)})}else s.forEach(function(v){return e._pageTimer(v)});var p=(0,$r.dG)(o,t.cid,n);p.forEach(function(v){var M=v._mainScreenMetaCid,j=v._mainScreenStateCid;e.setupPanelTimers(v,M,j)})}}},{key:"setupPanelTimers",value:function(t,n,e){var o=this;this.timeoutBucket.clearTimeoutByKey(t.cid),this.panelTimerMap[t.cid]=!1;var s=Xt.Z.getScreenMetaListSet(this.store),l=(0,$r.BK)(this.runnerController.projectMeta.cid,n,e);l.forEach(function(p){sn.rU.TYPE.screen_link===p.link_type&&s.has(p.target_cid)?o._pageTimer(p):o._panelTimer(p,t)})}},{key:"_pageTimer",value:function(t){var n=this;this.timeoutBucket.setTimeout(t.cid,function(){if(!n.timerFired&&!Xt.Z.getCheckCurrentLinkCannotJump(n.store,t)&&(n.timerFired=!0,!(0,re.gz)(n.store.getState())))if([sn.rU.TYPE.visibility_link,sn.rU.TYPE.scroll_link].includes(t.link_type)){var e=document.querySelector('.scontainer [data-cid="'+t.target_cid+'"]');n.runnerController.j(Xt.Z.getLinkTargetDomIfNeeded(t,e))}else n.runnerController.j(t)},parseFloat(t.timer)*1e3)}},{key:"_panelTimer",value:function(t,n){var e=this;this.timeoutBucket.setTimeout(n.cid,function(){if(!(e.timerFired||e.panelTimerMap[n.cid])&&(e.panelTimerMap[n.cid]=!0,!(0,re.gz)(e.store.getState())))if(t.targetstate_cid)e.runnerController.jumpPanelState({panel:n,targetStateCid:t.targetstate_cid,delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3});else if([sn.rU.TYPE.visibility_link,sn.rU.TYPE.scroll_link].includes(t.link_type)){var o=document.querySelector('.scontainer [data-cid="'+t.target_cid+'"]');e.runnerController.j(Xt.Z.getLinkTargetDomIfNeeded(t,o))}else e.runnerController.jumpPanelScreen({panel:n,delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,transition:["leftmenu","rightmenu","leftdrawer","rightdrawer"].includes(t.transition)?"none":t.transition,offset:/drawer|menu/.test(t.transition)?t.menu_offset:100,targetCid:t.target_cid})},parseFloat(t.timer)*1e3)}}]),a}(),gv=function(){function a(i){(0,I.Z)(this,a),this.store=i,this.store=i}return(0,S.Z)(a,[{key:"getRunnerScreenDataMap",value:function(){return(0,re.gi)(this.store.getState())}},{key:"setCurrentScreen",value:function(t){this.store.dispatch({type:"entry:current:set-screen",payload:{screen:t}})}},{key:"reloadScreen",value:function(t){this.store.dispatch({type:"entry:runner:reload:screen",payload:{activeCid:t}})}},{key:"reloadScreens",value:function(){this.store.dispatch({type:"entry:runner:reload-screens"})}},{key:"backToPrevPage",value:function(t){var n=t.callback,e=t.noDuration,o=t.transition;this.store.dispatch({type:"entry:runner:back-to-prev-page",payload:{callback:n,noDuration:e,transition:o}})}},{key:"updateScrollTop",value:function(t,n){this.store.dispatch({type:"runner:update:scroll-top",payload:{screenMetaCid:t,scrollTop:n}})}},{key:"resetScreenScrollTopMap",value:function(){this.store.dispatch({type:"runner:update:state",payload:{screenScrollTopMap:{}}})}},{key:"clear",value:function(){this.store.dispatch({type:"entry:runner:cleanup:audio"}),this.store.dispatch({type:"runner:reset:state"}),this.store.dispatch({type:"container:comment:reset:state"}),this.store.dispatch({type:"preview:previewPanel:navindex",payload:{previewPanelNavIndex:0}})}},{key:"jumpPanelScreen",value:function(t){var n=t.targetCid,e=t.panel,o=t.delay,s=t.duration,l=t.transition,p=t.offset,v=p===void 0?100:p,M={name:l,delay:o,duration:s,offset:v};this.store.dispatch({type:"entry:runner:activate:panel-screen",payload:{panel:e,panelScreenCid:n,transition:M}})}},{key:"jumpPanelState",value:function(t){var n=t.panel,e=t.targetStateCid,o=t.delay,s=t.duration,l={delay:o,duration:s};this.store.dispatch({type:"entry:runner:activate:panel-state",payload:{panel:n,targetStateCid:e,transition:l}})}},{key:"jumpState",value:function(t){var n=t.delay,e=t.duration,o=t.screenCid,s=t.targetStateCid,l={delay:n,duration:e};this.store.dispatch({type:"entry:runner:activate:screen-state",payload:{screenCid:o,stateCid:s,transition:l}})}},{key:"jumpScreen",value:function(t){var n=t.transition,e=t.reset,o=t.delay,s=t.duration,l=t.offset,p=l===void 0?100:l,v=t.targetCid,M=t.targetStateCid,j={name:n,delay:o,duration:s,offset:p};if(v===sn.eB)this.store.dispatch({type:"entry:runner:back-to-prev-page",payload:{transition:j}});else{var Z=this.getRunnerScreenDataMap(),W=Z[v];if(!W)return;W.orientation!==Xt.Z.getCurrentScreen(this.store).orientation?this.store.dispatch({type:"entry:runner:activate:screen",payload:{screenCid:v,screenStateCid:M,resetTargetScreen:e}}):this.store.dispatch({type:"entry:runner:activate:screen",payload:{screenCid:v,screenStateCid:M,resetTargetScreen:e,transition:j}}),this.store.dispatch({type:"entry:sync-runner:set-screen",payload:{cid:v}}),this.store.dispatch({type:"entry:preview:reset:canvas:offset"})}}},{key:"jumpHyperLink",value:function(t){var n=t.hyperlink,e=t.transition;this.store.dispatch({type:"entry:runner:open:hyperlink",payload:{hyperlink:n,transition:e}})}}]),a}(),Gl={useTransform:!1,disableTouch:!1,disablePointer:!0,preventDefault:!0,probeType:3,ignoreEventException:function(i){if(i.metaKey||i.ctrlKey||i.buttons===4)return!0;var t=$(i.target).closest(".widget");if(t.length&&(t.hasClass("webpage")||t.hasClass("map_view")||t.find("input").length||t.hasClass("navigation_menu")||t.hasClass("collapse")))return!0;var n=$(i.target).closest(".panel");return!!(n.length&&(n[0].offsetWidth<n[0].scrollWidth||n[0].offsetHeight<n[0].scrollHeight)||i.touches&&i.touches.length===2)}},yv=(0,L.Z)((0,L.Z)({},Gl),{},{scrollbars:!0,mouseWheel:!0,disableMouse:!1,interactiveScrollbars:!0,shrinkScrollbars:"scale",fadeScrollbars:!0,HWCompositing:!1}),Sv=function(){function a(i,t){(0,I.Z)(this,a),this.store=i,this.runner=t,this.store=i,this.iScrollMap={}}return(0,S.Z)(a,[{key:"toggleScrollBar",value:function(t){Object.values(this.iScrollMap).forEach(function(n){t?n.enable():n.disable()})}},{key:"renderScrollbar",value:function(t){this.iScrollMap[t]?this.refreshScrollBar(t):this.initScrollBar(t)}},{key:"clear",value:function(){this.destroyScrollBar()}},{key:"refreshScrollBar",value:function(t){this.iScrollMap[t]&&this.iScrollMap[t].refresh()}},{key:"initScrollBar",value:function(t){var n=this;if(!this.iScrollMap[t]){var e=document.querySelector("#pscreen"+t+" .screen-content");if(e&&e.offsetParent){var o=(0,gn.tq)()?Gl:yv,s=Xt.Z.getScreenScrollTop(this.store,t);o.startY=s||0;var l=new window.IScroll(e,o);(0,gn.tq)()||$(e).on("wheel",function(p){p.metaKey||p.ctrlKey||e.offsetHeight!==e.scrollHeight&&p.stopPropagation()}),l.on("scroll",function(){n.runner.updateScrollTop(t,l.y)}),this.iScrollMap[t]=l}}}},{key:"resetScreenScrollState",value:function(t){this.runner.updateScrollTop(t,0)}},{key:"destroyScrollBar",value:function(){Object.values(this.iScrollMap).forEach(function(t){$(t.wrapper).off("wheel"),t.destroy()}),this.iScrollMap={}}},{key:"destroyScrollBarByCid",value:function(t){var n=this.iScrollMap[t];n&&($(n.wrapper).off("wheel"),n.destroy(),delete this.iScrollMap[t])}},{key:"resetCurrentScreenScrollState",value:function(t){var n=this.iScrollMap[t];n&&n.scrollTo(0,0)}},{key:"resetScrollState",value:function(){Object.values(this.iScrollMap).forEach(function(t){return t.scrollTo(0,0)}),this.runner.resetScreenScrollTopMap()}},{key:"scrollToElement",value:function(t,n,e){var o=this,s;e===void 0&&(e={delay:0,duration:0,scrollOffset:0});var l=document.querySelector(".screen-content [data-cid='"+n+"']"),p=1/0,v=function W(X){Array.from(X.children).forEach(function(J){if(J.className&&typeof J.className=="string"&&J.className.includes("group"))W(J);else{var _,te,ne=(_=J.attributes["data-cid"])==null?void 0:_.value,ie=(te=Xt.Z.getPanelFormRunState(o.store,ne))==null?void 0:te.panel;p=Math.min(p,parseInt((ie==null?void 0:ie.top)||0))}})};if(l.classList.contains("group"))v(l);else{var M,j=(M=Xt.Z.getPanelFormRunState(this.store,n))==null?void 0:M.panel;p=parseInt((j==null?void 0:j.top)||0)}var Z=this.iScrollMap[t];Z&&(p+=(s=e.scrollOffset)!=null?s:0,p=Math.max(-p,Z.maxScrollY),setTimeout(function(){p!==1/0&&Z&&Z.scrollTo(0,p,e.duration)},e.delay))}}]),a}(),bv=function(){function a(i,t,n){(0,I.Z)(this,a),(0,f.Z)(this,"linkQueryMap",null),this.runner=new gv(i.store),this.timerHandler=new mv(i.store,this),this.eventHandler=new hv(i.store,this.timerHandler,this),this.scrollHandler=new Sv(i.store,this.runner),this.clearCallbackBucket={},this.currentScreen=this.currentMenu=null,this.requestScreenCidSet=new Set,this.webpackInterface=i,this.messageBucket=t,this.f=n,this.isPreventEvent=!1,this.visibilityToggledMap=new Map,this.runtimeVisibilityMap=new Map;var e=(0,re.GP)(this.webpackInterface.store.getState()),o=e.isMobile;o&&this._bindMobileGlobalEvent()}return(0,S.Z)(a,[{key:"setIsPreventEvent",value:function(t){this.isPreventEvent=t}},{key:"currentScreen",get:function(){return this._currentScreen},set:function(t){this.setCurrentScreen(t)}},{key:"setCurrentScreen",value:function(t){this._currentScreen=t}},{key:"currentMenu",get:function(){return this._currentMenu},set:function(t){this.setCurrentMenu(t)}},{key:"setCurrentMenu",value:function(t){this._currentMenu=t}},{key:"getLinkQueryMap",value:function(){if(!this.linkQueryMap){var t=ProjectExchange.getProjectStore(this.projectMeta.cid),n=t.screenRuntimeStateStore.generateLocalDump(),e={};n.forEach(function(o){var s=o.screenMetaCid,l=o.itemListMap;Object.entries(l).forEach(function(p){var v=(0,F.Z)(p,2),M=v[0],j=v[1];j.forEach(function(Z){Z.name==="link"&&(e[Z.cid]=(0,L.Z)((0,L.Z)({},Z),{},{screen_cid:s,screenstate_cid:M}))})})}),this.linkQueryMap=e}return this.linkQueryMap}},{key:"_bindMobileGlobalEvent",value:function(){var t=this;window.addEventListener("message",function(n){try{var e=JSON.parse(n.data);if(e.event==="back"){var o=t.webpackInterface.store.getState().container.runner.history;o.length===1&&t.messageBucket?t.messageBucket.send("exit"):t.runner.backToPrevPage({transition:{name:"none",duration:0,delay:0}})}}catch(s){}},!1),window.onorientationchange&&window.addEventListener("orientationchange",function(){t.reload()}),window.addEventListener("resize",function(){document.activeElement.tagName!=="INPUT"&&t.reload()})}},{key:"init",value:function(t,n,e){var o=this,s=t.projectAlike,l=t.projectMeta,p=t.screenGlue,v=t.screenMeta,M=t.rootProject;e===void 0&&(e=!1),this.setCurrentScreen(v),this.projectMeta=l,this.currentProject=M||s,this.webpackInterface.store.dispatch({type:"entry:init:preview:related:data",payload:{previewMode:n,rootProject:M||s,projectMeta:l,screenGlue:p,screenMeta:v,isPanelPreviewMode:e}});var j=setTimeout(function(){if(o.webpackInterface.store.dispatch({type:"reducer:artboards:toggle:splash",payload:{isShowSplash:!1}}),o.webpackInterface.store.dispatch({type:"entry:runner:init:home-screen",payload:{activeCid:v.cid}}),o.webpackInterface.store.dispatch({type:"entry:preview:check:location-hash"}),o.messageBucket){o.messageBucket.request({type:"message:set:record",payload:{key:"preview-ready",value:!0}}),o.messageBucket.send("ready");var Z=setTimeout(function(){o.messageBucket.send("ready")},5e3);o.clearCallbackBucket.redundantReady=function(){return clearTimeout(Z)}}},1e3);this.clearCallbackBucket.init=function(){return clearTimeout(j)}}},{key:"jumpPanelScreen",value:function(t){this.runner.jumpPanelScreen(t)}},{key:"jumpPanelState",value:function(t){this.runner.jumpPanelState(t)}},{key:"setupPageTimers",value:function(t,n){this.timerHandler.setupPageTimers(t,n)}},{key:"getIsPanelTimerFired",value:function(t){return this.timerHandler.getIsPanelTimerFired(t)}},{key:"clearTimerHandler",value:function(){this.timerHandler.clear()}},{key:"resetPanelTimerFlag",value:function(t){this.timerHandler.resetPanelTimerFlag(t)}},{key:"setupPanelTimers",value:function(t,n,e){this.timerHandler.setupPanelTimers(t,n,e)}},{key:"initEventHandler",value:function(t,n){this.eventHandler.init(t,n)}},{key:"prepareJump",value:function(t,n,e){e===void 0&&(e=!0),this.eventHandler.prepareJump(t,n,e)}},{key:"clear",value:function(){Object.values(this.clearCallbackBucket).forEach(function(t){return t()}),this.currentScreen=this.currentMenu=null,this.linkQueryMap=null,this.scrollHandler.clear(),this.timerHandler.clear(),this.requestScreenCidSet.clear(),this.runner.clear()}},{key:"closeMenu",value:function(t,n){n===void 0&&(n=!1),this.runner.backToPrevPage({callback:t,noDuration:n})}},{key:"j",value:function(t){var n=this;if(t&&!Xt.Z.getCheckCurrentLinkCannotJump(this.webpackInterface.store,t)){this.timerHandler.clear();var e=t.target_cid;if(this.currentMenu){e===this.currentScreen?this.closeMenu():sn.rU.TYPE.screen_link!==t.link_type&&t.targetstate_cid?(this.switchLink(t),_t("\u70B9\u51FB\u5143\u7D20\u89E6\u53D1\u4EA4\u4E92\u4E8B\u4EF6")):this.closeMenu(function(){n.j(t)},!0);return}this.switchLink(t),_t("\u70B9\u51FB\u5143\u7D20\u89E6\u53D1\u4EA4\u4E92\u4E8B\u4EF6")}}},{key:"switchLink",value:function(t){var n=this;switch(t.link_type){case sn.rU.TYPE.screen_link:{this.runner.jumpScreen({transition:t.transition,delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,offset:/drawer|menu/.test(t.transition)?t.menu_offset:100,targetCid:t.target_cid,targetStateCid:t.targetstate_cid,reset:t.reset});break}case sn.rU.TYPE.screen_link_from_dynamic_panel:{this.runner.jumpState({delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,screenCid:t.screen_target_cid,targetStateCid:t.targetstate_cid});break}case sn.rU.TYPE.panel_link:{var e=Xt.Z.getPanelFormRunState(this.webpackInterface.store,t.target_cid),o=e.panel,s=e.screenCid,l=e.screenStateCid,p=this.projectMeta.cid;if(o){var v=(0,Hl.W3)(o,s,l,p);v.multi_states?this.runner.jumpPanelState({panel:v,targetStateCid:t.targetstate_cid,delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3}):this.runner.jumpPanelScreen({panel:v,delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,transition:["leftmenu","rightmenu","leftdrawer","rightdrawer"].includes(t.transition)?"none":t.transition,offset:/drawer|menu/.test(t.transition)?t.menu_offset:100,targetCid:t.target_cid})}else this.runner.jumpState({delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,screenCid:t.screen_target_cid,targetStateCid:t.targetstate_cid});break}case sn.rU.TYPE.state_link:{if((0,zl.a)(t)){var M=Xt.Z.getPanelFormRunStateByScreenMetaCid(this.webpackInterface.store,t.target_cid),j=M.panel,Z=M.screenCid,W=M.screenStateCid,X=this.projectMeta.cid;if(j){var J=(0,Hl.W3)(j,Z,W,X);J.multi_states?this.runner.jumpPanelState({panel:J,targetStateCid:t.targetstate_cid,delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3}):this.runner.jumpPanelScreen({panel:J,delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,transition:["leftmenu","rightmenu","leftdrawer","rightdrawer"].includes(t.transition)?"none":t.transition,offset:/drawer|menu/.test(t.transition)?t.menu_offset:100,targetCid:t.target_cid})}else this.runner.jumpState({delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,screenCid:t.target_cid,targetStateCid:t.targetstate_cid});break}this.runner.jumpState({delay:parseFloat(t.ani_delay)*1e3,duration:parseFloat(t.ani_duration)*1e3,screenCid:t.screen_cid,targetStateCid:t.targetstate_cid});break}case sn.rU.TYPE.hyperlink:{this.runner.jumpHyperLink({hyperlink:t.target_cid,transition:t.transition});break}case sn.rU.TYPE.scroll_link:{var _=parseFloat(t.ani_delay)*1e3,te=parseFloat(t.ani_duration)*1e3;if(!t.target)break;var ne=t.target.attributes["data-cid"].value;this.scrollHandler.scrollToElement((0,re.Ny)(this.webpackInterface.store.getState()),ne,{delay:_,duration:te,scrollOffset:t.scroll_offset});break}case sn.rU.TYPE.visibility_link:{var ie=parseInt(t.ani_delay)*1e3;if(!t.target)break;var se=t.target.dataset.cid;this.visibilityToggledMap.has(se)||this.visibilityToggledMap.set(se,{target:t.target,firstOpacity:t.target.style.opacity});var Se=function(){t.target.style.transition="all "+t.ani_duration,t.target.style.opacity=1,t.target.classList.add("clickable"),t.target.classList.remove("invisible"),n.runtimeVisibilityMap.set(se,"show")},Te=function(){t.target.style.transition="all "+t.ani_hide_duration,t.target.style.opacity=0,t.target.classList.remove("clickable"),t.target.classList.add("invisible"),n.runtimeVisibilityMap.set(se,"hide")};t.transition==="show"?setTimeout(function(){n.visibilityToggledMap.size!==0&&(Se(),n.webpackInterface.store.dispatch({type:"preview:refreshCount:udpate"}))},ie):t.transition==="hide"?setTimeout(function(){n.visibilityToggledMap.size!==0&&(Te(),n.webpackInterface.store.dispatch({type:"preview:refreshCount:udpate"}))},ie):t.target.style.opacity>0?setTimeout(function(){n.visibilityToggledMap.size!==0&&(Te(),n.webpackInterface.store.dispatch({type:"preview:refreshCount:udpate"}))},ie):setTimeout(function(){n.visibilityToggledMap.size!==0&&(Se(),n.webpackInterface.store.dispatch({type:"preview:refreshCount:udpate"}))},ie);break}default:console.error("Unknown Link Type",t)}}},{key:"doneTransition",value:function(t,n){var e=this;this.timerHandler.setupPageTimers(t,n);var o=(0,re.GP)(this.webpackInterface.store.getState()),s=o.isStandAlone,l=o.isAndroid;s&&Xt.Z.setupStatusBar(t,this.currentProject),l&&this.eventHandler.setupPageGesture(t),this.timerHandler.resetPageTimerFlag(),this.currentScreen=t,this.runner.setCurrentScreen(t),this.f.inSharing&&window.history.replaceState(null,null,"#screen="+t.cid);var p=(0,re.GP)(this.webpackInterface.store.getState()),v=p.isMobile,M=p.isEmbedV1,j=v||M||!(0,re.yh)(this.webpackInterface.store.getState());this.toggleScrollBar(j),setTimeout(function(){e.runner.reloadScreens()},10)}},{key:"reload",value:function(){var t=Xt.Z.getCurrentScreen(this.webpackInterface.store);t&&(this.runner.reloadScreen(t.cid),this.scrollHandler.resetScrollState())}},{key:"destroyScrollBarByCid",value:function(t){this.scrollHandler.destroyScrollBarByCid(t)}},{key:"renderScrollbar",value:function(t){this.scrollHandler.renderScrollbar(t)}},{key:"resetScreenScrollState",value:function(t){this.scrollHandler.resetScreenScrollState(t)}},{key:"toggleScrollBar",value:function(t){this.scrollHandler.toggleScrollBar(t)}},{key:"resetCurrentScreenScrollState",value:function(t){this.scrollHandler.resetCurrentScreenScrollState(t)}},{key:"removeToggledVisibility",value:function(){var t=function(o){o.style.opacity=1,o.classList.add("clickable"),o.classList.remove("invisible")},n=function(o){o.style.opacity=0,o.classList.remove("clickable"),o.classList.add("invisible")};this.visibilityToggledMap.forEach(function(e,o){parseInt(e.firstOpacity)===1?t(e.target):n(e.target)}),this.visibilityToggledMap.clear(),this.runtimeVisibilityMap.clear()}}]),a}(),xv=c(29661),In=c(512),Cv=function(i){var t=(0,xv.pb)(i),n=t.screenTreeData,e=t.dataMap,o=[];(0,In.tX)(n,function(J){var _=J.data;_&&!(0,In.Vx)(_)&&o.push(_),_&&_.parent_cid&&e[_.parent_cid]&&(0,In.Vx)(e[_.parent_cid])&&(_.parent_cid=e[_.parent_cid].parent_cid)});for(var s={},l=0,p=o;l<p.length;l++){var v=p[l],M=e[v.parent_cid],j=M&&M.cid!==v.cid?M.cid:"root";s[j]=s[j]||[],s[j].push(v)}for(var Z=0,W=Object.values(s);Z<W.length;Z++){var X=W[Z];X.forEach(function(J,_){J&&J.position!==0+_&&(J.position=0+_)})}return o},wv=function(){var i=function(s){var l=s.type,p=s.payload;try{return Kl[l]&&Kl[l]({type:l,payload:p})}catch(v){console.warn("[request] error message data",v,l,p)}},t=function(s,l,p){l===void 0&&(l={}),p===void 0&&(p="*"),s&&window.ReactNativeWebView?window.ReactNativeWebView.postMessage(JSON.stringify({event:s,payload:l})):s&&window.parent.postMessage(JSON.stringify({event:s,payload:l}),p)},n=function(s){if(!(s.source===window||s.origin.includes("qiyukf")||!s.data||typeof s.data!="string"))try{var l=JSON.parse(s.data),p=l.event,v=l.type,M=v===void 0?p:v,j=l.payload,Z=j===void 0?{}:j,W=i({type:M,payload:Z});W&&t(W.type,W.payload)}catch(X){console.warn("[receive] error message data",X,s)}},e=function(){return window.removeEventListener("message",n)};return(0,gn.Dt)()?document.addEventListener("message",n):window.addEventListener("message",n),{request:i,send:t,clear:e}},Vl={"preview-ready":!1},Kl={"message:get:record":function(){return{type:"message:data:record",payload:Vl}},"message:set:record":function(i){var t=i.payload,n=t.key,e=t.value;Vl[n]=e},"message:get:preview-state":function(){var i=Yl(),t=i.state,n=i.isHighlight;return{type:"message:data:preview-state",payload:{screenCid:t.container.current.screenMeta.cid,isHighlight:n}}},"message:set:preview-state":function(i){var t=i.payload,n=t.isHighlight,e=t.screenCid,o=Yl(),s=o.state,l=s.model.screens,p=s.container.current.screenMeta,v=o.dispatch;if(n!==void 0&&v({type:"reducer:preview-toolbar:update:highlight",payload:{isHighlight:n}}),p.cid&&e!==void 0&&e!==p.cid){if(!l.find(function(M){return M.cid===e}))return console.warn("[message:set:preview-state] invalid screenCid");v({type:"entry:sync-runner:set-screen",payload:{cid:e}})}},"message:get:screen-list":function(){var i=MB.webpackInterface.store.getState(),t=(0,re.vo)(i).cid,n=(0,re.Eg)(i),e=Cv(n.concat()),o=e.map(function(s){var l=s.cid,p=s.name,v=s.position,M=s.parent_cid;return{cid:l,name:p,position:v,parent_cid:M,project_cid:t}});return{type:"message:data:screen-list",payload:o}},"message:get:notification-state":function(){var i=MB.notification&&MB.notification.store&&MB.notification.store.getState()||{},t=i.notifications;return{type:"message:data:notification-state",payload:{unreadCount:t?t.notifications.unreadNum:0}}},"message:get:notification-list":function(){var i=MB.notification&&MB.notification.store&&MB.notification.store.getState()||{},t=i.notifications;return{type:"message:data:notification-list",payload:t?t.notifications.notifications:[]}},"message:set:offlineModal:show":function(){MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowOfflineModal:!0}})},"message:set:offlineModal:close":function(){MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowOfflineModal:!1}})},"message:get:app:state":function(i){var t=i.payload,n=t.isOffline,e=t.isUpToDate;MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{isAppOffline:n,isAppCacheNeedUpToDate:!e}})},"message:get:app:init:status":function(i){var t=i.payload,n=t.version,e=t.isHighlight,o=t.isDummyApk,s=o===void 0?!1:o;MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{appVeresion:n,isDummyApk:s}}),MB.webpackInterface.store.dispatch({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:e}})}},Yl=function(){var i=MB.webpackInterface.store,t=i.getState,n=i.dispatch,e=t(),o=(0,re.Bi)(e);return{dispatch:n,state:e,isHighlight:o}},La=c(70103),Ci=c(24978),Ev=c(16193),Av={"entry:preview:escape:key":function(i){var t=i.getState,n=i.dispatch,e=t(),o=(0,re.v8)(e),s=(0,re.XL)(e),l=(0,re.V2)(e);o&&(s||(l?n({type:"reducer:preview-toolbar:update",payload:{isShowColorPicker:!1}}):MB.f.inPreview&&(MB.action&&MB.action("entry:activate:screen",{screenCid:e.container.current.screenMeta.cid}),MB.backDesign())))}},Na=c(60747),Tt=c(30733),On=c(41768),Xl=c(17119),wi=function(a){return a[a.previewOrShare=0]="previewOrShare",a[a.version=1]="version",a[a.isEmbed=2]="isEmbed",a}({}),da=On.zt,Mv=function(i){return Number((0,Tt.GQ)("preview_scale_"+i))},Ql=function(i,t){return(0,Tt.A6)("preview_scale_"+i,t)},Pv={"entry:init:preview:scale":function(i){var t=i.getState,n=i.dispatch,e=t(),o=(0,re.vo)(e),s=(0,re.GP)(e),l=s.isUIChina,p=s.isForum,v=s.isSquare;if(l&&o.model==="car_play")n({type:"preview:set:scale",payload:{scale:40}});else if(p||v)n({type:"entry:auto-fit:preview:scale"});else{var M=Mv(o.cid);n(M?{type:"preview:set:scale",payload:{scale:M}}:{type:"entry:auto-fit:preview:scale"})}},"entry:auto-fit:preview:scale":function(i){var t=i.getState,n=i.dispatch,e=t(),o=(0,re.XL)(e),s=(0,re.GP)(e),l=s.isForum,p=s.isSquare,v=(0,re.vo)(e),M=(0,re.CL)(e),j=(0,re.HR)(e),Z=j==="device"?(0,Na.uL)(v):"none",W;if(v.category==="combo_group"&&!v.model){var X=(0,re.ku)(e);W={width:X.width,height:X.height}}else{var J=M.orientation==="landscape";W=(0,Na.sD)(v,Z,J,p)}var _,te,ne;o||l?_=te=ne=0:p?(_=0,te=184,ne=80*2):(_=44+40,te=260+20,ne=240+20);var ie=window.innerWidth-(te+ne),se=window.innerHeight-_,Se=Math.min(se/W.height,ie/W.width)*100,Te=Math.min(Math.max(Se,20),100);!p&&!o&&Ql(v.cid,Te),n({type:"preview:set:scale",payload:{scale:Te}})},"entry:preview:set:scale":function(i,t){var n=i.dispatch,e=i.getState,o=t.payload.scale,s=e(),l=(0,re.vo)(s);o=Math.min(Math.max(o,20),400);var p=s.container.previewSetting.isFullScreenMode;!p&&Ql(l.cid,o),n({type:"preview:set:scale",payload:{scale:o}}),_t("\u7F29\u653E")},"entry:preview:zoom-in":function(i){var t=i.getState,n=i.dispatch,e=t(),o=(0,re.z7)(e),s=da.findIndex(function(p){return p>o}),l=da[s]||da[da.length-1];n({type:"entry:preview:set:scale",payload:{scale:l}})},"entry:preview:zoom-out":function(i){var t=i.getState,n=i.dispatch,e=t(),o=(0,re.z7)(e),s=da.findIndex(function(p){return p>=o}),l=da[s-1]||da[0];n({type:"entry:preview:set:scale",payload:{scale:l}})},"entry:preview:zoom:annotate":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o.widget,l=o.mode,p=n(),v=!0,M=(0,re.oD)(p),j=document.querySelector("#widget"+s.cid+"p"),Z=document.querySelector("#simulator-container"),W=document.querySelector("#mb-preview-leftpane");if(j){var X=j.getBoundingClientRect();if(l===wi.isEmbed&&(Z=document.querySelector("#workspace")),Z){var J=Z.getBoundingClientRect(),_=J.left+(W==null?void 0:W.getBoundingClientRect().width),te=J.top,ne=J.width-(W==null?void 0:W.getBoundingClientRect().width)-M,ie=J.height,se=X.left>=_&&X.right<=_+ne,Se=X.top>=te&&X.bottom<=te+ie;v=se&&Se}}if(!v){var Te=(0,Xl.mi)([s]),Le=Te.width,ke=Te.height,nt=Te.left,it=Te.top,ct=(0,re.ku)(p),de=(0,re.CL)(p),ue=(0,re.z7)(p),ge=ue/100,$e=de.width,Ye=de.orientation,Xe=$e,ut=Ye==="portrait"?ct.height:ct.width,dt=(Xe-Le)/2-nt,mt=(ut-ke)/2-it,Nt=dt*ge,Bt=mt*ge;e({type:"preview:set:canvas:currentScreenOriginOffset",payload:{currentScreenOriginOffset:{x:Nt,y:Bt}}}),e({type:"preview:set:canvas:offset",payload:{offset:{x:Nt,y:Bt}}})}}},pa=c(67741),Tv=c(47345),Iv=c.n(Tv),Ov=c(37775),Zo=c(23340),Jl=c(72210),Dv=c(93075),Sn=c(31033),fr=c(59729),Lv=void 0,Nv=["screenCid"],Rv=["cid"],Fo={name:"none",delay:0,duration:0,offset:100},jv={"entry:runner:init:home-screen":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n,e){var o,s,l,p,v,M,j,Z,W,X;return(0,r.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o=n.getState,s=n.dispatch,l=e.payload.activeCid,p=o(),v=(0,re.Ds)(p),M=Fo,j=MB.currentProjectMeta.cid,Z=ProjectExchange.getProjectStore(j),W={[l]:(0,qn.B7)(Z,l)},X=W[l].stateCid,_.next=11,s({type:"runner:update:state",payload:{activeCid:l,transition:M,screenInfoMap:W,history:[l],currentScreenStateHistory:[X]}});case 11:v===Sn.nh&&s({type:"entry:inspect:init:data"});case 12:case"end":return _.stop()}},t)}));function i(t,n){return a.apply(this,arguments)}return i}(),"entry:runner:reload:screen":function(i,t){var n=i.dispatch,e=t.payload.activeCid;n({type:"entry:runner:init:home-screen",payload:{activeCid:e}}),n({type:"entry:runner:activate:screen",payload:{screenCid:e}})},"entry:runner:activate:screen":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o.screenCid,l=o.transition,p=o.resetTargetScreen,v=p===void 0?!0:p,M=o.screenStateCid,j=n(),Z=(0,re.Uq)(j),W=Z.activeCid,X=Z.screenInfoMap,J=Z.history,_=Z.audioList,te=Z.videoList;l=l||Fo,/drawer|menu/.test(l.name)?(MB.runnerController.setCurrentScreen(W),MB.runnerController.setCurrentMenu(s)):(MB.runnerController.setCurrentScreen(null),MB.runnerController.setCurrentMenu(null));var ne=function(){typeof l.callback=="function"&&l.callback(),MB.runnerController.removeToggledVisibility();for(var $e=n(),Ye=(0,re.Uq)($e),Xe=Ye.widgetStatusMap,ut=(0,L.Z)({},Xe),dt=0,mt=Object.entries(Xe);dt<mt.length;dt++){var Nt=(0,F.Z)(mt[dt],2),Bt=Nt[0],Wt=Nt[1],Gn=Bt.split("-"),Hn=(0,F.Z)(Gn,1),rr=Hn[0];rr!==W&&Object.assign(ut,{[Bt]:Object.assign(Wt,{optionData:Wt.defaultOptionData})})}e({type:"runner:update:state",payload:{widgetStatusMap:ut}})},ie=(0,L.Z)((0,L.Z)({},l),{},{callback:ne}),se=[s].concat((0,Jt.Z)(J.filter(function(ge){return ge!==s}))),Se=X[s],Te=Se?Se.stateCid:sn.C2,Le=(0,Zo.u)(s,M,Te),ke=Le===sn.yv,nt=MB.currentProjectMeta.cid,it=ProjectExchange.getProjectStore(nt),ct=Se&&ke?Se:(0,qn.B7)(it,s,Le),de=[ct.stateCid];v&&MB.runnerController.resetScreenScrollState(s);var ue=(0,L.Z)((0,L.Z)({},X),{},{[s]:ct});e({type:"entry:runner:playOrPauseAudioAndVideo",payload:{audioList:_,videoList:te,activeCid:W,screenCid:s}}),e({type:"runner:update:state",payload:{transition:ie,screenInfoMap:ue,activeCid:s,history:se,currentScreenStateHistory:de}})},"entry:runner:activate:screen-state":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o.screenCid,l=o.stateCid,p=o.transition,v=n(),M=(0,re.gi)(v),j=(0,re.Ds)(v),Z=(0,re.Uq)(v),W=Z.activeCid,X=Z.screenInfoMap,J=Z.currentScreenStateHistory;if(W===s){var _=X[W],te=_.stateCid,ne=_.panelInfoMap,ie=_.screenRuntimeState,se=l===sn.Tk?J[0]:(0,Zo.u)(s,l,te);if(te!==se){var Se=ie.dataMap[se];if(Se){var Te=M[W],Le=function(){MB.runnerController.setupPageTimers(Te,se);for(var ge=n(),$e=(0,re.Uq)(ge),Ye=$e.widgetStatusMap,Xe=(0,L.Z)({},Ye),ut=0,dt=Object.entries(Ye);ut<dt.length;ut++){var mt=(0,F.Z)(dt[ut],2),Nt=mt[0],Bt=mt[1],Wt=Nt.split("-")[1];Wt!==l&&Object.assign(Xe,{[Nt]:Object.assign(Bt,{optionData:Iv()(Bt.defaultOptionData)})})}e({type:"runner:update:state",payload:{widgetStatusMap:Xe}})},ke=(0,L.Z)((0,L.Z)({},p),{},{callback:Le}),nt=(0,L.Z)({},ne),it=MB.currentProjectMeta.cid,ct=ProjectExchange.getProjectStore(it),de=(0,$r.dG)(it,s,se);de.forEach(function(ue){nt[ue.cid]=(0,qn.Hf)(ct,ue)}),e({type:"entry:runner:update:screen",payload:{screenCid:s,stateCid:se,panelInfoMap:nt,transition:ke}}),j==="inspect"&&e({type:"entry:inspect:init:data"})}}}},"entry:runner:back-to-prev-page":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o===void 0?{}:o,l=n(),p=(0,re.gi)(l),v=(0,re.Uq)(l),M=v.history,j=v.transition,Z=j.name,W=j.duration,X=j.offset,J=v.activeCid,_=v.audioList,te=v.videoList;if(M.length!==1){var ne,ie=p[M[0]],se=p[M[1]];ie.orientation!==se.orientation?ne=Fo:s.transition?ne=s.transition:ne={name:(0,Ov.D)(Z),delay:0,duration:s.noDuration?0:W,offset:X,callback:s.callback};var Se=M.slice(1),Te=Se[0];e({type:"entry:runner:playOrPauseAudioAndVideo",payload:{audioList:_,videoList:te,activeCid:J,screenCid:Te}}),e({type:"runner:update:state",payload:{activeCid:Se[0],transition:ne,history:Se}})}},"entry:runner:update:screen":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o.screenCid,l=(0,pa.Z)(o,Nv),p=n(),v=(0,re.Uq)(p),M=v.screenInfoMap,j=v.currentScreenStateHistory,Z=M[s];if(!Z)throw new Error("\u66F4\u65B0\u4E86\u5C1A\u672A\u52A0\u8F7D\u7684\u9875\u9762!!");var W=(0,L.Z)((0,L.Z)({},Z),l),X=(0,L.Z)((0,L.Z)({},M),{},{[s]:W}),J=[Z.stateCid,j[0]];e({type:"runner:update:state",payload:{screenInfoMap:X,currentScreenStateHistory:J}})},"entry:runner:preload:screens":function(i){var t=i.getState,n=i.dispatch,e=t(),o=(0,re.ku)(e),s=(0,re.gi)(e),l=(0,re.Uq)(e),p=l.activeCid,v=l.screenInfoMap,M=l.history,j=M.slice(0,2);if(v[p]){var Z=v[p].stateCid,W=Xt.Z.getScreenStateValidLinkListForPreview(Lv.store,p,Z);W.forEach(function(te){if(te.link_type===sn.rU.TYPE.screen_link&&te.transition!=="none"&&te.target_cid!==sn.eB){var ne=s[te.target_cid];ne&&ne.screen_glue_cid===o.cid&&j.push(te.target_cid)}})}var X=MB.currentProjectMeta.cid,J=ProjectExchange.getProjectStore(X),_={};j.forEach(function(te){_[te]=v[te]||(0,qn.B7)(J,te)}),n({type:"runner:update:state",payload:{screenInfoMap:_}})},"entry:runner:activate:panel-screen":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o.panel,l=o.panelScreenCid,p=o.transition,v=n(),M=(0,re.Uq)(v),j=M.screenInfoMap,Z=s.cid,W=s.screen_cid,X=j[W],J=X==null?void 0:X.panelInfoMap[Z],_=J.screenDataMap;if(_[l]){var te=(0,qn.X9)(j[W],{panelCid:Z,panelScreenCid:l,transition:p}),ne=(0,L.Z)((0,L.Z)({},j),{},{[W]:te});e({type:"runner:update:state",payload:{screenInfoMap:ne}})}},"entry:runner:activate:panel-state":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o.panel,l=o.targetStateCid,p=o.transition,v=n(),M=(0,re.Uq)(v),j=M.screenInfoMap,Z=(0,re.CL)(v),W=Z.cid,X=s.cid,J=s.screen_cid,_=J||s.gid||W,te=j[_],ne=te==null?void 0:te.panelInfoMap[X];if(ne){var ie=ne.currentScreenMetaCid,se=ne.screenDataMap,Se=ne.currentScreenStateCid,Te=se[ie].screenRuntimeState.dataMap,Le=(0,Zo.u)(ie,l,Se);if(Se!==Le&&Te[Le]){var ke=function(){MB.runnerController.setupPanelTimers(s,ie,Le);for(var de=n(),ue=(0,re.Uq)(de),ge=ue.widgetStatusMap,$e=(0,L.Z)({},ge),Ye=0,Xe=Object.entries(ge);Ye<Xe.length;Ye++){var ut=(0,F.Z)(Xe[Ye],2),dt=ut[0],mt=ut[1],Nt=dt.split("-"),Bt=(0,F.Z)(Nt,2),Wt=Bt[0],Gn=Bt[1];Wt===s.screen_meta_cid&&Gn!==l&&Object.assign($e,{[dt]:Object.assign(mt,{optionData:mt.defaultOptionData})})}e({type:"runner:update:state",payload:{widgetStatusMap:$e}})},nt=(0,qn.gI)(j[_],{panelCid:X,panelStateCid:Le,transition:p,callback:ke}),it=(0,L.Z)((0,L.Z)({},j),{},{[_]:nt});e({type:"runner:update:state",payload:{screenInfoMap:it}})}}},"entry:runner:open:hyperlink":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o.hyperlink,l=o.transition,p=n(),v=(0,re.GP)(p),M=v.isMobile,j=(0,gn.CL)(),Z,W;try{var X=new URL(s);Z=X.href,W=X.hostname.split(".").slice(-2).join(".")}catch(_){Z="https://"+s,W=""}var J=function(){switch(l){case"inPage":(0,fr.gn)(Z,"_self");break;case"newTab":window.ReactNativeWebView?MB.messageBucket.send("openLinkByBrowser",{link:s}):(0,fr.gn)(Z,"_blank","noreferrer");break}};["wondershare.com","modao.cc"].includes(W)?j&&l==="newTab"?e({type:"previewModal:update:state",payload:{preOpenHyperlinkModal:{isOpen:!0,hyperlink:s,isMobile:M,displayWeChatNewTabInternalUrlTip:!0,confirmText:I18N.Common.confirm,onConfirm:J}}}):J():e({type:"previewModal:update:state",payload:{preOpenHyperlinkModal:{isOpen:!0,hyperlink:s,isMobile:M,displayWeChatNewTabExternalUrlTip:j&&l==="newTab",confirmText:I18N.SettingPanel.continue,onConfirm:J}}})},"entry:runner:update:audio:audioState":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o.cid,l=o.audioState,p=(0,re.Uq)(n()),v=p.audioList,M=v.find(function(j){return j.cid===s});M.audioState=l,e({type:"runner:update:state",payload:{audioList:[].concat((0,Jt.Z)(v.filter(function(j){return j.cid!==M.cid})),[M])}})},"entry:runner:append:audio":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload.widget,s=(0,re.Uq)(n()),l=s.activeCid,p=s.audioList,v=o.is_autoplay,M=o.is_loop,j=o.is_keep_alive,Z=new Audio(o.text),W=o.cid+"-"+o.text;Z.preload="meta",Z.autoplay=v,Z.loop=M;var X={cid:W,currentTime:0,duration:0,audioState:v?"play":"pause",audioObj:Z,keepAlive:j,previewAudioLoaded:!1,screenCid:l};Z.onloadedmetadata=function(J){e({type:"entry:runner:update:audio",payload:{cid:W,duration:J.target.duration}}),e({type:"entry:runner:update:audio",payload:{cid:W,previewAudioLoaded:!0}})},Z.ontimeupdate=function(J){e({type:"entry:runner:update:audio",payload:{cid:W,currentTime:J.target.currentTime}})},Z.onplay=function(){e({type:"entry:runner:update:audio",payload:{cid:W,audioState:"play"}})},Z.onpause=function(){e({type:"entry:runner:update:audio",payload:{cid:W,audioState:"pause"}})},e({type:"runner:update:state",payload:{audioList:[].concat((0,Jt.Z)(p),[X])}})},"entry:runner:tryRemove:audio":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload.widget,s=(0,re.Uq)(n()),l=o.cid,p=o.is_keep_alive,v=o.text,M=l+"-"+v,j=s.audioList;if(!p){var Z=j.find(function(W){return W.cid===M});if(!Z)return;Z.audioObj.src=null,e({type:"runner:update:state",payload:{audioList:(0,Jt.Z)(j.filter(function(W){return W.cid!==M}))}})}},"entry:runner:cleanup:audio":function(i){var t=i.getState,n=(0,re.Uq)(t()),e=n.audioList;e.forEach(function(o){o.audioObj.src=null})},"entry:runner:update:audio":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o.cid,l=(0,pa.Z)(o,Rv),p=(0,re.Uq)(n()),v=p.audioList,M=v.find(function(j){return j.cid===s});M&&(Object.assign(M,l),e({type:"runner:update:state",payload:{audioList:[].concat((0,Jt.Z)(v.filter(function(j){return j.cid!==s})),[M])}}))},"entry:runner:append:video":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload.widget,s=(0,re.Uq)(n()),l=s.videoList,p=o.cid,v=o.text,M=o.is_autoplay,j=o.is_loop,Z=o.is_muted,W=o.is_hide_controls,X=o.screen_cid,J=(0,Jl.Dc)(v)&&(0,Jl.dT)(new URL(v))?(0,Dv.q)(new URL(v),p,M,j,Z,W).iframeSrc:v,_={cid:o.cid,src:J,isAutoplay:o.is_autoplay,screenCid:X};e({type:"runner:update:state",payload:{videoList:[].concat((0,Jt.Z)(l),[_])}})},"entry:runner:tryRemove:video":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload.widget,s=(0,re.Uq)(n()),l=o.cid,p=s.videoList;e({type:"runner:update:state",payload:{videoList:(0,Jt.Z)(p.filter(function(v){return v.cid!==l}))}})},"entry:runner:append:widgetStatus":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o.widget,l=o.optionData,p=(0,re.Uq)(n()),v=s.cid,M=s.screen_cid,j=s.screenstate_cid,Z=p.widgetStatusMap,W={defaultOptionData:s.optionData,optionData:l};e({type:"runner:update:state",payload:{widgetStatusMap:(0,L.Z)((0,L.Z)({},Z),{},{[M+"-"+j+"-"+v]:W})}})},"entry:runner:update:widgetStatus":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o.optionData,l=o.cid,p=o.screenCid,v=o.screenStateCid,M=(0,re.Uq)(n()),j=M.widgetStatusMap,Z=j[p+"-"+v+"-"+l];e({type:"runner:update:state",payload:{widgetStatusMap:(0,L.Z)((0,L.Z)({},j),{},{[p+"-"+v+"-"+l]:Object.assign(Z,{optionData:s})})}})},"entry:runner:updateOrAppend:widgetStatus":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o.cid,l=o.screenCid,p=o.screenStateCid,v=o.defaultOptionData,M=o.optionData,j=(0,re.Uq)(n()),Z=j.widgetStatusMap,W=Z[l+"-"+p+"-"+s];e(W?{type:"runner:update:state",payload:{widgetStatusMap:(0,L.Z)((0,L.Z)({},Z),{},{[l+"-"+p+"-"+s]:Object.assign(W,{optionData:M})})}}:{type:"runner:update:state",payload:{widgetStatusMap:(0,L.Z)((0,L.Z)({},Z),{},{[l+"-"+p+"-"+s]:{defaultOptionData:v,optionData:M}})}})},"entry:runner:tryRemove:widgetStatus":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o.cid,l=o.screenCid,p=o.screenStateCid,v=(0,re.Uq)(n()),M=v.widgetStatusMap;delete M[l+"-"+p+"-"+s];var j=Object.assign(M);e({type:"runner:update:state",payload:{widgetStatusMap:j}})},"entry:runner:playOrPauseAudioAndVideo":function(i,t){var n=i.dispatch,e=t.payload,o=e.audioList,s=e.videoList,l=e.activeCid,p=e.screenCid,v=(0,Ea.Z)(o),M;try{for(v.s();!(M=v.n()).done;){var j=M.value;!j.keepAlive&&j.screenCid!==p&&(j.audioObj.pause(),j.audioObj.currentTime=0,n({type:"entry:update:audio",payload:{currentTime:0}})),j.screenCid===p&&j.audioObj.autoplay&&l!==p&&(j.audioObj.currentTime===0||j.audioObj.paused||j.audioObj.ended)&&j.audioObj.play()}}catch(_){v.e(_)}finally{v.f()}var Z=(0,Ea.Z)(s),W;try{for(Z.s();!(W=Z.n()).done;){var X=W.value,J=document.getElementById(X.cid);X.screenCid===p&&J.src!==X.src?(J.src=X.src,J.tagName==="VIDEO"&&X.isAutoplay&&J.play()):J.src=""}}catch(_){Z.e(_)}finally{Z.f()}}},kv=c(51514),Uo=c.n(kv),Zn={api:{}},Bv=function(i){Object.assign(Zn,i)},Zv=function(){var a=(0,d.Z)((0,r.Z)().mark(function i(t){var n,e,o,s;return(0,r.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!t.artboard_id){p.next=10;break}return p.next=3,Zn.api.requestSketchArtboardById(t.artboard_id);case 3:return n=p.sent,e=n.artboard,o=n.layers,s=Fv(o),p.abrupt("return",{artboard:e,layers:s,document:{document_colors:[],text_styles:[],global_colors:[]}});case 10:return p.abrupt("return",{artboard:{top:0,left:0,width:t.width,height:t.height},layers:[],document:{document_colors:[],text_styles:[],global_colors:[]}});case 11:case"end":return p.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),Fv=function(i){kt(i)||(i=i.filter(function(e){return e.kind!=="group"||e.kind==="group"&&e.image_set}));var t=i.map(function(e){return(0,L.Z)((0,L.Z)({},e),{},{inspectText:e.text,cid:e.id})}),n=t.some(function(e){var o=e.z;return o});return n?t.sort(function(e,o){return e.z-o.z}):t.sort(function(e,o){return parseInt(o.width)*parseInt(o.height)-parseInt(e.width)*parseInt(e.height)}),t},_l="RECEIVE_RESOURCE_SUCCESS",Uv=function(i,t){return{type:_l,payload:{screenID:i,data:t}}},ql="RECEIVE_RESOURCE_ERROR",Hv=function(i,t){return{type:ql,payload:{screenID:i,error:t}}},ec="REQUEST_INDIRECT_ENTER_LAYER",tc="REQUEST_INDIRECT_SELECTION_LAYER",nc="REQUEST_SELECT_LAYER",rc="REQUEST_ENTER_LAYER",Ei=function(i){return{type:nc,payload:{layerID:i}}},Wv=function(i){return{type:tc,payload:{layerID:i}}},ac="SELECT_LAYER",ic=function(i){return{type:ac,payload:{layerID:i}}},oc="ACTIVATE_LAYER",Ho=function(i){return{type:oc,payload:{layerID:i}}},zv=function(i){return{type:rc,payload:{layerID:i}}},$v=function(i){return{type:ec,payload:{layerID:i}}},sc="ENTER_LAYER",Wo=function(i){return{type:sc,payload:{layerID:i}}},Ai=c(27585),lc=c(37054),Gv={"entry:inspect:request:screen-data":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n,e){var o,s,l,p,v,M,j,Z,W,X,J,_,te,ne;return(0,r.Z)().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(o=n.getState,s=n.dispatch,l=e.payload.screenMetaCid,p=o(),v=Yn(p),M=(0,re.CL)(p),j=v[l],!(j&&!j.error)){se.next=8;break}return se.abrupt("return");case 8:if(!MB.runnerController.requestScreenCidSet.has(l)){se.next=10;break}return se.abrupt("return");case 10:return MB.runnerController.requestScreenCidSet.add(l),se.prev=11,se.next=14,Zv(M);case 14:X=se.sent,J=X.artboard,_=X.layers,te=X.document,Z={cid:M.cid,display_name:M.name,top:0,left:0,width:M.width,height:M.height,src_top:0,src_left:0,src_width:J.width,src_height:J.height,bg_colors:[{value:_n(M.bgcolor)}]},W=No(_,J,M),ne={artboard:J,artboardLayer:Z,sketchLayers:W,globalText:te.text_styles,globalColor:te.global_colors,documentColor:te.document_colors},MB.runnerController.requestScreenCidSet.delete(l),s(Uv(l,ne)),se.next=30;break;case 25:se.prev=25,se.t0=se.catch(11),console.log(se.t0.stack),MB.runnerController.requestScreenCidSet.delete(l),s(Hv(l,se.t0.message));case 30:case"end":return se.stop()}},t,null,[[11,25]])}));function i(t,n){return a.apply(this,arguments)}return i}(),"entry:inspect:init:widgetLayersData":function(i){var t=i.getState,n=i.dispatch,e=t(),o=e.container.runner,s=o.activeCid,l=o.screenInfoMap;if(s){var p=l[s],v=p.screenMeta,M=p.stateCid,j=(0,re.vo)(e),Z=l[v.cid],W=Z.panelInfoMap,X=Z.screenRuntimeState;if(!l[s]){n({type:"container:layer:set-widgetLayersData",payload:{widgetLayersData:[]}});return}var J={[v.cid]:v},_={[v.cid+"-"+M]:ia(X.itemListMap[M],j,v)};W&&Object.values(W).forEach(function(Se){var Te=Se.screenDataMap,Le=Se.currentScreenMetaCid;if(Te[Le]){var ke=Te[Le],nt=ke.screenMeta,it=ke.screenRuntimeState;J[Le]=nt;for(var ct=0,de=Object.entries(it.itemListMap);ct<de.length;ct++){var ue=(0,F.Z)(de[ct],2),ge=ue[0],$e=ue[1];_[Le+"-"+ge]=ia($e,j,nt)}}});var te={getScreenMetaByCid:function(Te){return J[Te]},getSymbolPathData:function(Te){return{screenMetaCid:Te.screen_meta_cid,screenStateCid:Te.screen_state_cid}},queryItemList:function(Te,Le){return _[Te+"-"+Le]},checkIsValidLink:function(){return!1}},ne=(0,Ai.a)(Ai.A.preview),ie=new lc.G(te,ne);ie.buildWidgetTree(v.cid,M);var se=ie.widgetNode;n({type:"container:layer:set-widgetStore",payload:{widgetStore:ie}}),n({type:"container:layer:set-widgetLayersData",payload:{widgetLayersData:se}})}},"entry:inspect:init:data":function(i){var t=i.dispatch;t({type:"entry:inspect:clear:panel:action"}),t(Wo(-1)),t(Ho(-1)),t({type:"entry:inspect:init:widgetLayersData"})},"entry:inspect:get:selectedPanel:widgetData":function(i,t){var n=i.dispatch,e=i.getState,o=t.payload.panelStateCid,s=e(),l=Cr(s),p=l.screen_meta_cid,v=l.cid,M=s.container.runner,j=M.activeCid,Z=M.screenInfoMap;if(j){var W=Z[j].screenMeta,X=Z[W.cid].panelInfoMap,J=X[v],_=J.screenDataMap,te=J.currentScreenMetaCid,ne=_[te],ie=ne.screenMeta,se=ne.screenRuntimeState,Se={[p]:ie},Te=se.itemListMap[o],Le={[p+"-"+o]:Te.filter(function(de){return!["link","pg","lr","sticky"].includes(de.name)})},ke={getScreenMetaByCid:function(ue){return Se[ue]},getSymbolPathData:function(ue){return{screenMetaCid:ue.screen_meta_cid,screenStateCid:ue.screen_state_cid}},queryItemList:function(ue,ge){return Le[ue+"-"+ge]},checkIsValidLink:function(){return!1}},nt=(0,Ai.a)(Ai.A.preview),it=new lc.G(ke,nt);it.buildWidgetTree(p,o);var ct=it.widgetNode;n({type:"container:layer:set-panelWidgetData",payload:{panelWidgetData:ct}})}},"entry:inspect:active:panelstate":function(i,t){var n=i.dispatch,e=i.getState,o=t.payload.panelStateCid,s=e(),l=Cr(s),p=ko(s);p.replaceSymbolTree(l.cid,l.screen_meta_cid,o),n({type:"container:layer:set-widgetLayersData",payload:{widgetLayersData:p.widgetNode}}),n(Ei(-1)),n({type:"container:layer:set-inspected-panel-state-cid",payload:{inspectedPanelStateCid:o}})},"entry:inspect:exit:panel":function(i){var t=i.dispatch,n=i.getState,e=n(),o=Cr(e);if(o){var s=ko(e),l=o.screen_state_cid;s.replaceSymbolTree(o.cid,o.screen_meta_cid,l),t({type:"container:layer:set-widgetLayersData",payload:{widgetLayersData:s.widgetNode}}),t({type:"entry:runner:activate:panel-state",payload:{panel:o,targetStateCid:l}})}t(Ei(-1)),t({type:"entry:inspect:clear:panel:action"})},"entry:inspect:clear:panel:action":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n){var e;return(0,r.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e=n.dispatch,e({type:"container:layer:set-isInspectInPanel",payload:{isInspectInPanel:!1}}),e({type:"container:layer:set-selectedPanel",payload:{selectedPanel:null}});case 3:case"end":return s.stop()}},t)}));function i(t){return a.apply(this,arguments)}return i}(),[nc]:function(a,i){var t=a.getState,n=a.dispatch,e=i.payload.layerID,o=t(),s=(0,re.CL)(o),l=Yn(o),p=cc(l[s.cid].sketchLayers,e);n(ic(p)),n(Ho(p))},[tc]:function(a,i){var t=a.getState,n=a.dispatch,e=i.payload.layerID,o=t(),s=(0,re.CL)(o),l=Yn(o),p=uc(l[s.cid].sketchLayers,e);n(ic(p)),n(Ho(p))},[rc]:function(a,i){var t=a.getState,n=a.dispatch,e=i.payload.layerID,o=t(),s=(0,re.CL)(o),l=Yn(o),p=cc(l[s.cid].sketchLayers,e);n(Wo(p))},[ec]:function(a,i){var t=a.getState,n=a.dispatch,e=i.payload.layerID,o=t(),s=(0,re.CL)(o),l=Yn(o),p=uc(l[s.cid].sketchLayers,e);n(Wo(p))}},cc=function(i,t){var n=Uo()(i,{id:t});return t},uc=function(i,t){var n=Uo()(i,{id:t});if(!n||!n.parent||n.image_set_zip||!n.maskedID)return t;if(n.maskedID&&n.parent){var e=Uo()(i,{object_id:n.parent});if(e)return e.id}return t},Vv={"entry:artboards:init":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n){var e,o,s,l,p,v,M,j;return(0,r.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(e=n.getState,o=n.dispatch,s=e(),l=s.model.screens,p=(0,re.vo)(s).cid,W.prev=4,v={},l.forEach(function(X){var J=X.width,_=X.height,te=X.cid;v[te]={width:J,height:_}}),!p){W.next=14;break}return W.next=10,Zn.api.requestSketchArtboardList(p);case 10:M=W.sent,j=M.artboards,j.length>0&&j.forEach(function(X){var J=X.width,_=X.height,te=X.screen_cid;v[te]={width:J,height:_}}),j.length>0&&!(0,Tt.RD)("new_version_artboard_guide_has_shown",!1,Tt.cM.Boolean)&&o({type:"preview:update:guideOptions",payload:{isShowNewVersionArtboardGuide:!0}});case 14:v={artboards:v},o({type:"reducer:artboards:success",payload:(0,L.Z)({},v)}),W.next=22;break;case 18:W.prev=18,W.t0=W.catch(4),console.log(W.t0.stack),o({type:"reducer:artboards:fail"});case 22:case"end":return W.stop()}},t,null,[[4,18]])}));function i(t){return a.apply(this,arguments)}return i}()},Kv=function(i){var t=i.width,n=t===void 0?1:t,e=i.height,o=e===void 0?1:e;return n>0&&o>0},Yv={"entry:image-slice:init":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n){var e,o,s,l,p,v;return(0,r.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(e=n.getState,o=n.dispatch,s=e(),l=(0,re.CL)(s),l){j.next=5;break}return j.abrupt("return");case 5:return j.prev=5,j.next=8,Zn.api.requestSliceByArtboardId(l.artboard_id);case 8:p=j.sent,v=p.slices.filter(Kv),o({type:"reducer:slice:success",payload:{slices:v}}),j.next=17;break;case 13:j.prev=13,j.t0=j.catch(5),console.log(j.t0.stack),o({type:"reducer:slice:fail"});case 17:case"end":return j.stop()}},t,null,[[5,13]])}));function i(t){return a.apply(this,arguments)}return i}()},k1="preview-is-scrollable",zo="preview-is-stickyshow",dc="preview-is-highlight",B1="preview-shell-type",pc="preview-is-statePanel",Z1="preview-is-outsideVisible",Xv="preview-is-shell-type",fc="preview-is-Minimized",hc=function(i){return"preview-simulator-type-"+i},vc=function(i,t){return i+"_"+t},Qv=function(i,t,n){var e=t.isSquare,o=t.isMobile,s=t.isEmbedV1,l=t.isEmbedV2,p=t.isHTMLZip,v=t.isVersionEmbedded;if(e)return{simulatorType:i.device==="web"||i.category==="combo_group"?"long_page":"device",isStickyShow:!1,isStickyAvailable:!0,isHighlight:!0,isShowOutsideArtboardNav:!1};var M=(0,Tt.RD)(zo,!0,Tt.cM.Boolean),j=(0,Tt.RD)(dc,!0,Tt.cM.Boolean);if(v)return{simulatorType:"outside_artboard",isStickyShow:!0,isHighlight:j,isStickyAvailable:!0,isShowOutsideArtboardNav:!0};if(o||s){var Z=n.highlight;return{simulatorType:"device",isStickyShow:M,isHighlight:Z,isShowOutsideArtboardNav:!1}}if(l)return{simulatorType:n.simulator_type||"device",isStickyShow:n.sticky,isStickyAvailable:n.view_sticky,isHighlight:n.highlight,isShowOutsideArtboardNav:n.view_prd};var W=(0,N.A)(location.pathname);if(W||p){var X=(0,Tt.RD)(hc(i.cid),"device",Tt.cM.String);return{simulatorType:X,isStickyShow:M,isHighlight:j,isShowOutsideArtboardNav:p?n.view_prd:!0,isStickyAvailable:!0}}var J=(0,N.G)(location.pathname);if(J){var _=Object.fromEntries(new URLSearchParams(location.search).entries()),te=_.simulator_type,ne=_.sticky,ie=ne===""?!0:(0,Tt.RD)(zo,!1,Tt.cM.Boolean),se=n.highlight,Se=MB.canEditByCurrentUser||n.view_prd;if(te){var Te=!Se&&te==="outside_artboard"?"device":te;return{simulatorType:Te,isStickyShow:ie,isHighlight:se,isShowOutsideArtboardNav:Se,isStickyAvailable:!0}}else return{simulatorType:n.simulator_type||"device",isStickyShow:n.sticky,isStickyAvailable:MB.canEditByCurrentUser||n.view_sticky,isHighlight:se,isShowOutsideArtboardNav:Se}}else return{simulatorType:i.device==="web"?"long_page":"device",isStickyShow:!1,isHighlight:!0,isStickyAvailable:!0,isShowOutsideArtboardNav:!1}},Jv={"entry:init:preview-setting":function(i){var t=i.getState,n=i.dispatch,e=t(),o=(0,re.vo)(e),s=(0,re.GP)(e),l=(0,re.cM)(e),p=Qv(o,s,l),v=p.simulatorType,M=p.isStickyShow,j=p.isHighlight,Z=p.isStickyAvailable,W=p.isShowOutsideArtboardNav,X=s.isUIChina,J=s.isForum,_=s.isEmbedV2,te=X||J||_,ne={simulatorType:v,isStickyShow:M,isShowOutsideArtboardNav:W,isStickyAvailable:Z,isStatePanelShow:(0,Tt.RD)(pc,!1,Tt.cM.Boolean),isHighlight:j,isMinimized:(0,Tt.RD)(vc(fc,o.cid),te,Tt.cM.Boolean)};n({type:"reducer:preview-toolbar:update",payload:ne}),n({type:"reducer:set:update:preview:annotate",payload:{annotatePanelShow:M}})},"entry:preview-setting:update:is-highlight":function(i,t){var n=i.dispatch,e=t.payload,o=e.isHighlight;(0,Tt.iO)(dc,o,Tt.cM.Boolean),n({type:"reducer:preview-toolbar:update",payload:{isHighlight:o}})},"entry:preview-setting:update:show:shell":function(i,t){var n=i.dispatch,e=t.payload,o=e.isShowShell;(0,Tt.iO)(Xv,o,Tt.cM.Boolean),n({type:"reducer:preview-toolbar:update",payload:{isShowShell:o}}),setTimeout(function(){MB.runnerController.reload()})},"entry:preview-setting:update:simulatorType":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o.simulatorType,l=n(),p=(0,re.CL)(l),v=(0,re.vo)(l);(0,Tt.iO)(hc(v.cid),s,Tt.cM.String),MB.runnerController.resetCurrentScreenScrollState(p.cid),e({type:"reducer:preview-toolbar:update",payload:{simulatorType:s}}),setTimeout(function(){MB.runnerController.reload()})},"entry:preview-setting:update:is-sticky-show":function(i,t){var n=i.dispatch,e=t.payload,o=e.isStickyShow;(0,Tt.iO)(zo,o,Tt.cM.Boolean),n({type:"reducer:preview-toolbar:update",payload:{isStickyShow:o}})},"entry:preview-setting:update:is-statePanel-show":function(i,t){var n=i.dispatch,e=t.payload,o=e.isStatePanelShow;(0,Tt.iO)(pc,o,Tt.cM.Boolean),n({type:"reducer:preview-toolbar:update",payload:{isStatePanelShow:o}})},"entry:preview-setting:toggle:isMinimized":function(i){var t=i.getState,n=i.dispatch,e=t(),o=(0,re.vo)(e),s=(0,re.jQ)(e),l=!s;(0,Tt.iO)(vc(fc,o.cid),l,Tt.cM.Boolean),n({type:"reducer:preview-toolbar:update",payload:{isMinimized:l}})},"entry:preview-setting:update:show-menu-list":function(i,t){var n=i.dispatch,e=t.payload,o=e.showMenuList;n({type:"reducer:preview-toolbar:update",payload:{showMenuList:o}})}},En=c(25797),Mi=function(i){if(i.status===401||/401/.test(i.message))MB.global.popupHelper.alertAsync({title:I18N.dApis.err_info_modal.INVALID_COOKIE.title,desc:I18N.dApis.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dApis.confirm}).then(function(){(0,fr.ll)(location.origin+"/signin")});else throw i},F1=function(i){return fetchGetJSON("/api/upper/web_v1/version/"+i+"/all")},U1=function(i){var t=i.projectCid,n=i.versionName,e=i.versionDesc;try{return fetchPostJSON("/project-buffer/prototype/check-duplicate/project-upper?upperCid="+t+"&upperAction=create-project-version",{railsExtra:{title:n,description:e}})}catch(o){Mi(o)}},H1=function(i){var t=i.projectCid,n=i.versionCid,e=i.newTitle,o=i.newDesc;try{return fetchPutJSON("/api/upper/web_v1/version/"+t+"/"+n,{title:e,description:o})}catch(s){Mi(s)}},W1=function(i){var t=i.versionCid;return fetchPostJSON("/project-buffer/prototype/check-duplicate/project-upper?upperCid="+t+"&upperAction=reset-project-version",{})},z1=function(i){var t=i.projectCid,n=i.versionCid;try{return fetchDeleteJSON("/api/upper/web_v1/version/"+t+"/"+n)}catch(e){Mi(e)}},$1=function(i){var t=i.orgCid,n=i.projectCid;return fetchGetJSON("/api/upper/web_v1/design/online_partner?project_cid="+n+"&org_cid="+t)},Pi=c(20702),Ra=function(i){if(i.status===401||/401/.test(i.message))Mi(i);else if(i.status===403||/403/.test(i.message))MB.global.popupHelper.alertAsync({title:I18N.dApis.err_info_modal.INVALID_COOKIE.title,desc:I18N.dApis.err_info_modal.access_error,confirmText:I18N.dApis.confirm}).then(function(){location.reload()});else throw i},_v={"entry:comment_thread_count_map:init":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n){var e,o,s,l,p;return(0,r.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return e=n.getState,o=n.dispatch,M.prev=1,s=(0,Pi.hP)(window.location.href),M.next=5,Zn.api.fetchProjectScreenCommentThreadCountMap({projectAccessToken:s,projectEncryptedPassword:(0,Tt.GQ)(s+"_pwd")||""});case 5:l=M.sent,p=l.screenCommentThreadCountMap,o({type:"preview:comment:update:screen_count_map",payload:{screenCommentThreadCountMap:p}}),M.next=14;break;case 10:M.prev=10,M.t0=M.catch(1),console.log(M.t0.stack),M.t0.status===404&&MB.global.popupHelper.alertAsync({title:I18N.pEntry.err_info_modal.COMMENT_NOT_FOUNT.title,desc:I18N.pEntry.err_info_modal.COMMENT_NOT_FOUNT.desc,confirmText:I18N.pEntry.confirm}).then(function(){location.reload()});case 14:case"end":return M.stop()}},t,null,[[1,10]])}));function i(t){return a.apply(this,arguments)}return i}(),"entry:comment:comment-threads:add":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n,e){var o,s,l,p,v,M,j,Z,W,X,J,_,te,ne,ie,se,Se;return(0,r.Z)().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return o=n.getState,s=n.dispatch,l=e.payload,p=l.top,v=l.left,M=l.message,j=o(),Z=(0,re.CL)(j),W=Z.cid,X=(0,re.zI)(j),J=(0,re.ts)(j),_=Date.now()*.001,te=(0,He.dM)("cmth"),ne=(0,re.cM)(j),ie={cid:te,top:p,left:v,screen_cid:W,user_id:J.id,created_at:_,updated_at:_},se=[].concat((0,Jt.Z)(X),[(0,L.Z)({},ie)]),s({type:"container:comment:commentThreads",payload:{threads:se}}),s({type:"container:comment:focus",payload:{focusCommentThreadCid:te}}),Se=(0,Tt.GQ)(ne.access_token+"_pwd")||"",Le.next=16,Zn.api.fetchCreateCommentThread((0,L.Z)((0,L.Z)({},ie),{},{password:Se,access_token:ne.access_token})).then(function(){M&&s({type:"entry:comment:comments:add",payload:{thread_cid:te,message:M,user_id:J.id,created_at:_,updated_at:_,user:J}})}).catch(function(ke){Ra(ke)});case 16:case"end":return Le.stop()}},t)}));function i(t,n){return a.apply(this,arguments)}return i}(),"entry:comment:comment-threads:delete":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n,e){var o,s,l,p,v,M;return(0,r.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return o=n.getState,s=n.dispatch,l=e.payload.cid,p=o(),v=(0,re.zI)(p),M=v.filter(function(W){return W.cid!==l}),s({type:"container:comment:commentThreads",payload:{threads:M}}),Z.prev=6,Z.next=9,Zn.api.fetchDeleteCommentThread(l);case 9:Z.next=14;break;case 11:Z.prev=11,Z.t0=Z.catch(6),Ra(Z.t0);case 14:case"end":return Z.stop()}},t,null,[[6,11]])}));function i(t,n){return a.apply(this,arguments)}return i}(),"entry:comment:comment-threads:update":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n,e){var o,s,l,p,v,M,j,Z,W;return(0,r.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(o=n.getState,s=n.dispatch,l=e.payload,p=o(),v=(0,re.zI)(p),M=(0,re.cM)(p),j=v.find(function(_){return _.cid===l.cid}),!j){J.next=18;break}return Z=v.map(function(_){return _.cid===l.cid?(0,L.Z)((0,L.Z)({},_),l):_}),W=(0,Tt.GQ)(M.access_token+"_pwd")||"",s({type:"container:comment:commentThreads",payload:{threads:Z}}),J.prev=10,J.next=13,Zn.api.fetchCreateCommentThread((0,L.Z)((0,L.Z)((0,L.Z)({},j),l),{},{password:W,access_token:M.access_token}));case 13:J.next=18;break;case 15:J.prev=15,J.t0=J.catch(10),Ra(J.t0);case 18:case"end":return J.stop()}},t,null,[[10,15]])}));function i(t,n){return a.apply(this,arguments)}return i}(),"entry:comment:comment-threads:update-local":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload.data,s=n(),l=(0,re.zI)(s),p=l.find(function(M){return M.cid===o.cid}),v=l;p?v=l.map(function(M){return M.cid===o.cid?(0,L.Z)((0,L.Z)({},M),o):M}):v=[].concat((0,Jt.Z)(l),[(0,L.Z)({},o)]),e({type:"container:comment:commentThreads",payload:{threads:v}})},"entry:comment:comment-threads:destroy-local":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload.cid,s=n(),l=(0,re.zI)(s),p=l.filter(function(v){return v.cid!==o});e({type:"container:comment:commentThreads",payload:{threads:p}})},"entry:comment:comments:add":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n,e){var o,s,l,p,v,M,j,Z,W,X;return(0,r.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o=n.getState,s=n.dispatch,l=e.payload,p=o(),v=(0,re.yB)(p),M=(0,re.cM)(p),j=(0,He.dM)("cm"),Z=(0,L.Z)((0,L.Z)({},l),{},{cid:j}),W=[].concat((0,Jt.Z)(v),[Z]),s({type:"container:comment:comments",payload:{comments:W}}),X=(0,Tt.GQ)(M.access_token+"_pwd")||"",_.prev=10,_.next=13,Zn.api.fetchCreateComment((0,L.Z)((0,L.Z)({},Z),{},{password:X,access_token:M.access_token}));case 13:_.next=18;break;case 15:_.prev=15,_.t0=_.catch(10),Ra(_.t0);case 18:case"end":return _.stop()}},t,null,[[10,15]])}));function i(t,n){return a.apply(this,arguments)}return i}(),"entry:comment:comments:delete":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n,e){var o,s,l,p,v,M;return(0,r.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return o=n.getState,s=n.dispatch,l=e.payload.cid,p=o(),v=(0,re.yB)(p),M=v.filter(function(W){return W.cid!==l}),s({type:"container:comment:comments",payload:{comments:M}}),Z.prev=6,Z.next=9,Zn.api.fetchDeleteComment(l);case 9:Z.next=14;break;case 11:Z.prev=11,Z.t0=Z.catch(6),Ra(Z.t0);case 14:case"end":return Z.stop()}},t,null,[[6,11]])}));function i(t,n){return a.apply(this,arguments)}return i}(),"entry:comment:comments:update":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n,e){var o,s,l,p,v,M,j,Z,W,X,J,_,te;return(0,r.Z)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(o=n.getState,s=n.dispatch,l=e.payload,p=Date.now()*.001,v=o(),M=(0,re.yB)(v),j=(0,re.cM)(v),Z=l.cid,W=l.message,X=M.find(function(se){return se.cid===Z}),!X){ie.next=21;break}return J=M.map(function(se){return se.cid===Z?(0,L.Z)((0,L.Z)({},se),{},{message:W,updated_at:p}):se}),s({type:"container:comment:comments",payload:{comments:J}}),_=(0,L.Z)((0,L.Z)({},X),{},{message:W,updated_at:p}),te=(0,Tt.GQ)(j.access_token+"_pwd")||"",ie.prev=13,ie.next=16,Zn.api.fetchCreateComment((0,L.Z)((0,L.Z)({},_),{},{password:te,access_token:j.access_token}));case 16:ie.next=21;break;case 18:ie.prev=18,ie.t0=ie.catch(13),Ra(ie.t0);case 21:case"end":return ie.stop()}},t,null,[[13,18]])}));function i(t,n){return a.apply(this,arguments)}return i}(),"entry:comment:comments:update-local":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload.data,s=n(),l=(0,re.yB)(s),p=l.find(function(M){return M.cid===o.cid}),v=l;p?v=l.map(function(M){return M.cid===o.cid?(0,L.Z)((0,L.Z)({},M),o):M}):v=[].concat((0,Jt.Z)(l),[(0,L.Z)({},o)]),e({type:"container:comment:comments",payload:{comments:v}})},"entry:comment:comments:destroy-local":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload.cid,s=n(),l=(0,re.yB)(s),p=l.filter(function(v){return v.cid!==o});e({type:"container:comment:comments",payload:{comments:p}})}},mc=c(50501),gc=function(i){return function(){return i({type:"container:layer:update",payload:{isWidgetBeingExported:!0}})}},yc=function(i){return function(){return i({type:"container:layer:update",payload:{isWidgetBeingExported:!1}})}},qv={"preview:download:selection":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n,e){var o,s,l,p,v,M,j,Z,W,X,J,_,te,ne,ie,se,Se;return(0,r.Z)().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return o=n.getState,s=n.dispatch,l=e.payload.downloadData,p=o(),v=(0,re.CL)(p),M=(0,re.Uq)(p),j=M.activeCid,Z=M.screenInfoMap,W=Z[j].stateCid,X=(0,re.vo)(p),J=X.device,_=(0,re.CD)(p),te=_.isWonderShare,ne=Oa(p),ie=Cr(p),se=Zl(p),Se=(0,re.e4)(p),Le.next=14,(0,mc.cR)(Se,l,W,J,v,te,{onStartExport:gc(s),onEndExport:yc(s)},{isInspectInPanel:ne,selectedPanel:ie,panelStateCid:se});case 14:case"end":return Le.stop()}},t)}));function i(t,n){return a.apply(this,arguments)}return i}(),"preview:download:selectedSvgIcon":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n,e){var o,s,l,p,v,M,j,Z,W,X,J,_,te,ne,ie;return(0,r.Z)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return o=n.getState,s=n.dispatch,l=e.payload.downloadData,p=o(),v=(0,re.CL)(p),M=(0,re.Uq)(p),j=M.activeCid,Z=M.screenInfoMap,W=Z[j].stateCid,X=(0,re.vo)(p),J=X.device,_=Oa(p),te=Cr(p),ne=Zl(p),ie=(0,re.e4)(p),Se.next=13,(0,mc.W4)(ie,l,W,J,v,{onStartExport:gc(s),onEndExport:yc(s)},{isInspectInPanel:_,selectedPanel:te,panelStateCid:ne});case 13:case"end":return Se.stop()}},t)}));function i(t,n){return a.apply(this,arguments)}return i}(),"entry:preview:export":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n,e){var o,s,l,p,v,M,j,Z,W;return(0,r.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:o=n.getState,s=n.dispatch,l=e.payload.configs,p=o(),v=Kn(p),M=Da(p),j=v!==-1?[dr(v,M)]:[],Z=j.length>0&&j[0].widget.name==="svg_icon_path",W=j.flatMap(function(_){return l.map(function(te){var ne=te.affix,ie=te.format,se=te.scale;return{widgetTree:_,format:ie,affix:ne,scale:se}})}),s(Z?{type:"preview:download:selectedSvgIcon",payload:{downloadData:W}}:{type:"preview:download:selection",payload:{downloadData:W}});case 9:case"end":return J.stop()}},t)}));function i(t,n){return a.apply(this,arguments)}return i}(),"entry:preview:update:root-project:exportSettings":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=n(),l=(0,re.vo)(s),p=o.exportSettings;l.attr?l.attr.export_settings=p:l.attr={export_settings:p},l=(0,A.K)(l),Zn.api.updateProjectBasicsInfo(l.cid,{cid:l.cid,attr:{export_settings:p}}),e({type:"preview:set:root-project",payload:{rootProject:l}})}},em=c(91045),Sc=c.n(em),Ti=function(){},tm=Sc().isEnabled?Sc():{isFullscreen:!1,on:Ti,off:Ti,request:Ti,exit:Ti},fa=tm,nm=(0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)({},Av),Pv),jv),Gv),Vv),Yv),Jv),_v),qv),{},{"entry:init:preview:options":function(i,t){var n=i.dispatch,e=t.payload.previewOptions;n({type:"preview:update:state",payload:{previewOptions:e}})},"entry:preview:check:location-hash":function(i){var t=i.getState,n=i.dispatch,e=window.location.hash||"";if(e.startsWith("#thread=")){var o=e.substr(8),s=t().model.commentThreads.find(function(l){return l.cid===o});if(!s)return console.warn("[checkLocationHash] missing commentThread: "+o);n({type:"entry:sync-runner:set-screen",payload:{cid:s.screen_cid}}),n({type:"entry:comment:set:active",payload:{isActive:!0}}),n({type:"container:comment:focus",payload:{focusCommentThreadCid:s.cid}})}},"entry:init:preview:preference":function(i,t){var n=i.dispatch,e=t.payload.preference,o=!e.theme||e.theme==="grey"?On.kj.theme:e.theme,s=(0,L.Z)((0,L.Z)({},e),{},{theme:o,grid_size:e.grid_size||On.kj.grid_size});n({type:"preview:update:state",payload:{preference:s}})},"entry:init:preview:related:data":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload,s=o.rootProject,l=o.projectMeta,p=o.screenGlue,v=o.screenMeta,M=o.previewMode,j=o.isPanelPreviewMode,Z=n(),W=(0,re.GP)(Z);e({type:"screens:refresh"}),e({type:"preview:current:update:state",payload:{rootProject:s,projectMeta:l,screenGlue:p,screenMeta:v,isPanelPreviewMode:j}}),e({type:"entry:comment:init:projectShare"}),e({type:"entry:init:preview:scale"});var X=MB.global.designOptions||{isDesign:!0};X.isDesign&&e({type:"entry:artboards:init"}),e({type:"entry:preview:reset:canvas:offset"}),e({type:"entry:init:preview-setting"});var J=X.isDesign?new Map:MB.experienceData.experienceSnapshotUrlMap;e({type:"preview:update:state",payload:{designOptions:X,experienceSnapshotUrlMap:J}}),e({type:"entry:preview:update-mode",payload:{toolbarActiveItem:M}});var _=W.isDesktop,te=W.isSquare,ne=W.isHTMLZip,ie=W.isVersionEmbedded,se=W.isEmbedV2;_&&!te&&!ne&&!ie&&!se&&e({type:"entry:comment_thread_count_map:init"})},"entry:current:set-screen":function(i,t){var n=i.dispatch,e=t.payload.screen;n({type:"preview:current:update:state",payload:{screenMeta:e}})},"entry:preview:select":function(i,t){var n=i.dispatch,e=i.getState,o=t.payload.toolbarActiveItem,s=e(),l=(0,re.Ds)(s);o!==l&&n({type:"entry:preview:update-mode",payload:{toolbarActiveItem:o}})},"entry:preview:update-mode":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n,e){var o,s,l,p,v;return(0,r.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(o=n.dispatch,s=n.getState,l=e.payload.toolbarActiveItem,p=s(),v=(0,re.CL)(p),l!==Sn.nh){j.next=8;break}return j.next=7,o({type:"entry:inspect:request:screen-data",payload:{screenMetaCid:v.cid}});case 7:o({type:"entry:inspect:init:data"});case 8:o({type:"reducer:preview-toolbar:update",payload:{toolbarActiveItem:l}}),o({type:"preview:previewPanel:navindex",payload:{previewPanelNavIndex:0}}),o({type:"entry:inspect:clear:panel:action"}),setTimeout(function(){var Z=(0,re.Ny)(s());Z&&MB.runnerController.reload()});case 12:case"end":return j.stop()}},t)}));function i(t,n){return a.apply(this,arguments)}return i}(),"entry:preview:set:canvas:offset":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload.offset,s=n(),l=(0,re.it)(s),p=o.x,v=o.y;p=-Math.max(Math.min(-p,l.x/2),-l.x/2),v=-Math.max(Math.min(-v,l.y/2),-l.y/2),e({type:"preview:set:canvas:offset",payload:{offset:{x:p,y:v}}})},"entry:preview:reset:canvas:offset":function(i){var t=i.getState,n=i.dispatch,e=t(),o=(0,re.ku)(e),s=(0,re.CL)(e),l=(0,re.yZ)(e),p=0,v=0,M=s.orientation==="landscape";M&&s.height<o.width&&(v=(o.width-s.height)/2),!M&&s.height<o.height&&(v=(o.height-s.height)/2),v=v*(l/100),n({type:"preview:set:canvas:currentScreenOriginOffset",payload:{currentScreenOriginOffset:{x:p,y:v}}}),n({type:"preview:set:canvas:offset",payload:{offset:{x:p,y:v}}})},"entry:enter:full-screen-mode":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n){var e;return(0,r.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=n.dispatch,s.next=3,fa.request();case 3:e({type:"entry:preview:select",payload:{toolbarActiveItem:"preview"}}),e({type:"reducer:preview-toolbar:fullscreen",payload:{isFullScreenMode:!0}}),e({type:"entry:auto-fit:preview:scale"}),e({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}});case 7:case"end":return s.stop()}},t)}));function i(t){return a.apply(this,arguments)}return i}(),"entry:exit:fill-screen-mode":function(i){var t=i.dispatch;t({type:"reducer:preview-toolbar:fullscreen",payload:{isFullScreenMode:!1}}),t({type:"entry:init:preview:scale"}),t({type:"entry:preview:reset:canvas:offset"})}}),rm=(0,L.Z)((0,L.Z)({},nm),{},{"entry:state:init":function(i){var t=i.dispatch;t({type:"user:set",payload:MB.user||void 0}),t({type:"teams:refresh"})},"entry:state:clear":function(i){var t=i.dispatch},"entry:sync-runner:set-screen":function(i,t){var n=i.dispatch,e=i.getState,o=t.payload.cid,s=e(),l=(0,re.Uq)(s),p=l.activeCid,v=(0,re.e4)(s),M=ProjectExchange.getProjectStore(v.cid),j=M.getLocalScreenMetaByCid(o);n({type:"entry:current:set-screen",payload:{screen:j}}),o!==p&&((0,re.Ds)(s)==="inspect"&&n({type:"entry:inspect:request:screen-data",payload:{screenMetaCid:o}}),MB.runnerController.clearTimerHandler(),n({type:"entry:runner:activate:screen",payload:{screenCid:o,transition:void 0}}),(0,re.Ds)(s)==="inspect"&&(n({type:"entry:inspect:clear:panel:action"}),n({type:"entry:inspect:init:data"})))},"entry:preview:clear":function(i,t){var n=i.dispatch;n({type:"reducer:preview-panel:reset"}),n({type:"container:layers:clear"})},"entry:preview:toggle:sharingManager":function(i){var t=i.dispatch,n=i.getState,e=n(),o=(0,re.T4)(e);t({type:"preview:sharingManager:udpate:state",payload:{isShowSharingManager:!o}})}}),Ii=c(32449),Gr=c(58057),am=[],$o=(0,Ci.Z7)(am),im=$o.getState,om=$o.setState,sm=$o.wrapEntry,lm={"screens:refresh":sm(function(a,i,t){var n=i.dispatch,e=MB.currentProjectMeta.cid,o=(0,Gr.rt)(e).filter(function(l){return l.type!==Ii._H.PROJECT_TRASHCAN}).map(function(l){return l.cid}),s=[];o.forEach(function(l){s.push.apply(s,(0,Jt.Z)((0,Gr.bO)(e,l)))}),n({type:"reducer:screens:update",payload:s})})},bc={entryMap:lm,getState:im,setState:om},cm=c(93834),xc={id:null,name:"",email:"",avatar:"",plan:{state:"",type:"free",rawType:"free",daysLeft:""}},Go=(0,Ci.Z7)(xc),um=Go.getState,dm=Go.setState,Cc=Go.wrapEntry,pm={"user:set":Cc(function(a,i,t){var n=i.dispatch,e=t.payload,o=e===void 0?{}:e,s=o.id,l=s===void 0?null:s,p=o.name,v=p===void 0?"":p,M=o.email,j=M===void 0?"":M,Z=o.avatar,W=Z===void 0?"":Z,X=o.created_at;n({type:"reducer:user:update",payload:(0,cm.hq)(a,{id:l,name:v,email:j,avatar:W,plan:fm(o),created_at:X})})}),"user:clear":Cc(function(a,i,t){var n=i.dispatch;n({type:"reducer:user:update",payload:xc})})};function fm(a){var i=a.plan,t=a.state,n=a.limitation,e=a.days_left,o=t==="active";return{state:t||"",type:o&&i||"free",rawType:i||"free",daysLeft:e||""}}var Vo={entryMap:pm,getState:um,setState:dm},ae=c(38899),ze=c(45090),Et=c(37771),At=c(37407);function wc(){var a=hm(["\n  &.Textarea,\n  &.CoreTextarea,\n  &.Input,\n  &.CoreInput {\n    display: inline-block;\n    color: #415058;\n    input,\n    textarea {\n      font-size: inherit;\n      color: inherit;\n      &:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n      &[readonly] {\n        color: #8d9ea7;\n      }\n      &:focus {\n        outline: 0;\n      }\n      &::placeholder {\n        color: #8d9ea7;\n      }\n    }\n  }\n  &.is-invalid input,\n  &.is-invalid textarea,\n  & input:not([type=email]):invalid,\n  & textarea:invalid {\n    border-color: #ff6161 !important;\n    box-shadow: 0 0 6px 0 rgba(#ff6161, .5) !important;\n  }\n  &:not(.unstyled) {\n    input,\n    textarea {\n      background-color: #f6f7f8;\n      border: 1px solid #f2f2f3;\n      border-radius: 2px;\n      caret-color: #298df8;\n      transition: 0.2s ease-out;\n      transition-property: background, border, box-shadow, opacity;\n      &:enabled:not([readonly]){\n        :hover {\n          border-color: #298df8;\n        }\n        :focus {\n          background-color: #fff;\n          border-color: #298df8;\n          box-shadow: 0 0 6px 0 rgba(41, 141, 248, .5);\n        }\n      }\n    }\n  }\n  &.is-readonly {\n    color: #8d9ea7;\n  }\n  &.Input,\n  &.CoreInput{\n    &.regular {\n      height: 34px;\n      font-size: 14px;\n    }\n    &.small {\n      height: 22px;\n      font-size: 12px;\n    }\n    input {\n      padding: 0 .5em;\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  &.Textarea,\n  &.CoreTextarea{\n    &.regular {\n      font-size: 14px;\n    }\n    &.small {\n      font-size: 12px;\n    }\n    textarea {\n      padding: .5em;\n      width: 100%;\n      min-height: 5em;\n      max-height: 10em;\n      resize: vertical;\n      &:disabled,\n      &[readonly] {\n        resize: none;\n      }\n    }\n  }\n  &.CoreInput:not(.unstyled) input,\n  &.CoreTextarea:not(.unstyled) textarea {\n    background-color: #fff;\n    border-color: #c8cdd1;\n  }\n  &.InputEmail, &.CoreInputEmail{\n    &:not(.unstyled).isnt-valid input {\n      box-shadow: 0 0 6px 0 rgba(255, 97, 97, .5) !important;\n      border-color: #ff6161 !important;\n    }\n  }\n"]);return wc=function(){return a},a}function hm(a,i){return i||(i=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(i)}}))}var Ec=ze.default.label(wc());function Oi(){return Oi=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])}return a},Oi.apply(this,arguments)}function Ac(a,i){if(a==null)return{};var t=vm(a,i),n,e;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);for(e=0;e<o.length;e++)n=o[e],!(i.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(a,n)&&(t[n]=a[n])}return t}function vm(a,i){if(a==null)return{};var t={},n=Object.keys(a),e,o;for(o=0;o<n.length;o++)e=n[o],!(i.indexOf(e)>=0)&&(t[e]=a[e]);return t}function Mc(a){return function(i){return a(i.target.value,i)}}function Ko(a){var i=a.size,t=a.theme,n=a.isInvalid,e=a.unstyled,o=a.className,s=a.value,l=a.type,p=a.onChange,v=a.isAutoFocus,M=Ac(a,["size","theme","isInvalid","unstyled","className","value","type","onChange","isAutoFocus"]),j=(0,At.A1)([t==="core"?"CoreInput":"Input",i,e&&"unstyled",n&&"is-invalid",o]);return h.createElement(Ec,{className:j},h.createElement("input",Oi({type:l,value:s,onChange:Mc(p),autoFocus:v},M)))}Ko.propTypes={type:u().string,size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),unstyled:u().bool,isInvalid:u().bool,className:u().string,value:u().string,onChange:u().func,isAutoFocus:u().bool},Ko.defaultProps={type:"text",size:"regular",theme:"plain",isAutoFocus:!1,onChange:function(){return null}};function Yo(a){var i=a.size,t=a.theme,n=a.unstyled,e=a.className,o=a.value,s=a.onChange,l=Ac(a,["size","theme","unstyled","className","value","onChange"]),p=(0,At.A1)([t==="core"?"CoreTextarea":"Textarea",i,n&&"unstyled",e]);return h.createElement(Ec,{className:p},h.createElement("textarea",Oi({value:o,onChange:Mc(s)},l)))}Yo.propTypes={className:u().string,size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),unstyled:u().bool,value:u().string,onChange:u().func},Yo.defaultProps={size:"regular",theme:"plain",onChange:function(){return null}};var mm=Ko,gm=c(60907),ei=c(49003),g=c(35269),ym={value:"",startValue:"",isEditing:!1},Xo=function(i,t){var n=t.onStart,e=t.onChange,o=t.onEnd;i=(0,L.Z)((0,L.Z)({},ym),i),i.startValue=i.value;var s=(0,gm.Z7)(i),l=s.subscribe,p=s.unsubscribe,v=s.getState,M=s.setState,j=function(){M({isEditing:!0}),n&&n(v()),M({startValue:v().value})},Z=function(){M({isEditing:!1}),o&&o(v())},W=function(J){var _=v();_.isEditing&&(M({value:J}),e&&e(v()))};return{subscribe:l,unsubscribe:p,getState:v,startEdit:j,endEdit:Z,setValue:W}},Di=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;(0,I.Z)(this,t),e=i.call(this,n);{var o=function(p,v){e.setState(p),!v.isEditing&&p.isEditing&&setTimeout(e.focusTextarea,0)};e.bindEditStore=function(l){e.setState(l.getState()),l.subscribe(o)},e.unbindEditStore=function(l){l.unsubscribe(o)},e.onChange=function(l){return e.props.textEditStore.setValue(l)},e.onKeyDown=function(l){var p=l.key===ei.Fn.Enter||l.which===13,v=p&&(!e.props.multiline||!l.shiftKey);v&&(l.preventDefault(),l.stopPropagation(),e.props.textEditStore.endEdit())}}{var s=null;e.setRef=function(l){s=l&&l.querySelector("textarea")},e.focusTextarea=function(){if(s){s.focus&&s.focus();var l=s.value.length;s.setSelectionRange(l,l)}},e.autoHeightTextarea=function(){!e.props.autoHeight||!s||(s.style.height="auto",s.style.height=Math.max(s.scrollHeight+2,s.offsetHeight,e.props.minHeight)+"px")}}return e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.bindEditStore(this.props.textEditStore),this.focusTextarea()}},{key:"componentDidUpdate",value:function(e){this.props.textEditStore!==e.textEditStore&&(this.unbindEditStore(e.textEditStore),this.bindEditStore(this.props.textEditStore)),this.autoHeightTextarea()}},{key:"render",value:function(){var e=this.props,o=e.placeholder,s=o===void 0?"":o,l=e.textEditStore,p=l.getState(),v=p.value;return(0,g.jsx)(Sm,{ref:this.setRef,children:(0,g.jsx)(Yo,{value:v,placeholder:s,rows:1,onChange:this.onChange,onKeyDown:this.onKeyDown})})}}]),t}(h.PureComponent);(0,f.Z)(Di,"propTypes",{textEditStore:u().object.isRequired,placeholder:u().string,multiline:u().bool,autoHeight:u().bool,minHeight:u().number});var Sm=ze.default.div.withConfig({displayName:"TextEditComponent__HackStyleDiv",componentId:"sc-64uaey-0"})(["&&& label{width:100%;display:flex;align-items:center;}&&& textarea{font-size:12px;resize:none;background-color:",";border:1px solid ",";color:",";caret-color:",";box-shadow:none;&::placeholder{color:",";}&:enabled:not([readonly]):focus{background-color:",";border-color:#1684fc;box-shadow:none;}}"],function(a){return a.theme.color_background},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_text_L3},function(a){return a.theme.color_background_white}),Pc=function(i,t,n){return(0,g.jsx)(bm,{className:"btn-wrap",children:(0,g.jsx)("button",{onClick:t,disabled:n,children:i})})},bm=ze.default.span.withConfig({displayName:"DarkerButton__StyledButton",componentId:"sc-1vtryx2-0"})(["height:28px;width:54px;display:inline-block;button{width:54px;height:100%;font-size:12px;line-height:16px;background:",";color:",";border:1px solid ",";border-radius:4px;&:not(:disabled):hover{background:",";}&:not(:disabled):active{background:",";}&:disabled{border-color:",";color:#999;cursor:not-allowed;}}"],function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_text_disabled}),Dr=c(70956),Lr=c(81188),xm=c(98059),Li=c.n(xm),Cm=c(18890),ti=c.n(Cm),Nr=c(13646),wm=9;function Qo(a){var i=a.$opener,t=a.$menuBase,n=a.menuX,e=a.menuY,o=e===void 0?"bottom":e,s=a.menuBaseStyle,l=s===void 0?{}:s,p=a.inflexible,v=p===void 0?!1:p,M=a.shouldSetMaxHeight,j=M===void 0?!1:M;if(!(!i||!t)){var Z=t.querySelector("*"),W={styleFor$menuBase:{},styleFor$menu:{}},X=function(dt){return Object.assign(W.styleFor$menuBase,dt)},J=function(dt){return Object.assign(W.styleFor$menu,dt)},_=Z.offsetWidth,te=Z.offsetHeight,ne=l.width||i.offsetWidth,ie=l.height||i.offsetHeight,se=i.getBoundingClientRect(),Se=Object.assign({top:se.top,right:se.right,bottom:se.bottom,left:se.left},l),Te=Se.top,Le=Se.right,ke=Se.bottom,nt=Se.left;X({top:"".concat(Te,"px"),left:"".concat(nt,"px"),width:"".concat(ne,"px"),height:"".concat(ie,"px")});var it=window,ct=it.innerHeight,de=10,ue=ct-10,ge=o==="top"?1/3:2/3,$e=ct*ge,Ye=Te+ie/2,Xe=Te+ie;return(v&&o==="bottom"||!v&&$e>=Ye)&&Xe+te+wm<ct?(W.isDownward=!0,j&&ke+te>ue&&J({maxHeight:"".concat(ue-ke,"px")})):(W.isDownward=!1,j&&Te-te<de&&J({maxHeight:"".concat(Te-de,"px")})),Object.assign(t.style,W.styleFor$menuBase),Object.assign(Z.style,W.styleFor$menu),W}}function Tc(){var a=Jo(["\n  position: fixed;\n  z-index: 1100;\n  pointer-events: none;\n"]);return Tc=function(){return a},a}function Ic(){var a=Jo(["\n  position: absolute;\n  margin: 0.25em 0;\n  width: -moz-fit-content;\n  width: -webkit-fit-content;\n  width: fit-content;\n  min-width: 7em;\n  font-size: 12px;\n  filter: drop-shadow(0 2px 10px rgba(39,54,78,0.12)) drop-shadow(4px 12px 40px rgba(39,54,78,0.12));\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.2s ease-in-out;\n  transition-property: transform, opacity;\n  transform-origin: 50% 0;\n  transform: scale(0.9);\n  &.is-open {\n    pointer-events: initial;\n    opacity: 1;\n    transform: scale(1);\n  }\n  &.x-left {\n    left: 0;\n  }\n  &.x-right {\n    left: initial;\n    right: 0;\n  }\n  &.x-center {\n    left: 50%;\n    transform: scale(0.9) translateX(-50%);\n    &.is-open {\n    transform: scale(1) translateX(-50%);\n    }\n  }\n\n  &.is-downward {\n    top: 100%;\n    bottom: initial;\n  }\n  &.is-upward {\n    top: initial;\n    bottom: 100%;\n  }\n  &.arrowed {\n    margin-top: 0.75em;\n    margin-bottom: 0.75em;\n    &.x-left.x-arrow-based {\n      left: 50%;\n      margin-left: -14px;\n    }\n    &.x-right.x-arrow-based {\n      left: initial;\n      right: 50%;\n      margin-right: -14px;\n    }\n  }\n  .arrow {\n    position: absolute;\n    top: 0;\n    left: calc(50% - 0.5em);\n    width: 1em;\n    height: 0.375em;\n    font-size: 14px;\n    line-height: 0;\n    fill: currentColor;\n    fill-rule: evenodd;\n    color: #fff;\n    svg {\n      position: absolute;\n      width: auto;\n      height: 5px;\n      transform: translateY(-100%);\n    }\n  }\n\n  &.dark .arrow {\n    color: rgba(30, 41, 46, .9);\n  }\n\n  &.x-left .arrow {\n    left: 0.5em;\n    right: initial;\n  }\n  &.x-right .arrow {\n    left: initial;\n    right: 0.5em;\n  }\n  &.is-upward .arrow {\n    transform: rotate(180deg);\n    top: initial;\n    bottom: 0;\n  }\n\n  .content {\n    padding: 0.75em 0.5em;\n    min-height: 32px;\n    background-color: #fff;\n    border-radius: 4px;\n  }\n  &.dark .content {\n    background-color: rgba(30, 41, 46, .9);\n    color: #fff;\n  }\n\n  ul.MenuList {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    text-align: center;\n    color: #5b6b73;\n    li {\n      line-height: 32px;\n      border-radius: 2px;\n      cursor: pointer;\n      &:not(.is-disabled):hover {\n        background-color: #f6f7f8;\n      }\n      &.is-active {\n        color: #298df8;\n      }\n      &.is-disabled {\n        cursor: not-allowed;\n        opacity: 0.5;\n      }\n    }\n  }\n"]);return Ic=function(){return a},a}function Oc(){var a=Jo(["\n  &.is-disabled {\n    opacity: 0.5;\n    > button {\n      cursor: not-allowed;\n    }\n  }\n"]);return Oc=function(){return a},a}function Jo(a,i){return i||(i=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(i)}}))}var Em=ze.default.label(Oc()),Am=ze.default.div(Ic()),Mm=ze.default.div(Tc());function Dc(a,i){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);i&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),t.push.apply(t,n)}return t}function Lc(a){for(var i=1;i<arguments.length;i++){var t=arguments[i]!=null?arguments[i]:{};i%2?Dc(Object(t),!0).forEach(function(n){Dn(a,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):Dc(Object(t)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(t,n))})}return a}function Ni(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ni=function(t){return typeof t}:Ni=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(a)}function Ri(){return Ri=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])}return a},Ri.apply(this,arguments)}function Nc(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function Rc(a,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}function jc(a,i,t){return i&&Rc(a.prototype,i),t&&Rc(a,t),a}function kc(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),i&&_o(a,i)}function _o(a,i){return _o=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},_o(a,i)}function Bc(a){var i=Tm();return function(){var n=ji(a),e;if(i){var o=ji(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return Pm(this,e)}}function Pm(a,i){return i&&(Ni(i)==="object"||typeof i=="function")?i:Nn(a)}function Nn(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Tm(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function ji(a){return ji=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ji(a)}function Dn(a,i,t){return i in a?Object.defineProperty(a,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[i]=t,a}var Zc="IBOT_DROPDOWN_MENU_ROOT",ki=document.getElementById(Zc)||Object.assign(document.createElement("div"),{id:Zc}),Fc=document.body;Fc.contains(ki)||Fc.appendChild(ki);var ni=function(a){kc(t,a);var i=Bc(t);function t(){var n;Nc(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),Dn(Nn(n),"state",{prevProps:n.props,isOpen:n.props.isOpen,$opener:null,currentMenuListItemIdx:n.props.currentMenuListItemIdx}),Dn(Nn(n),"leaveTimeoutList",[]),Dn(Nn(n),"toggle",function(l){return n.setState({isOpen:Li()(l)?l:!n.state.isOpen})}),Dn(Nn(n),"open",function(){return n.toggle(!0)}),Dn(Nn(n),"close",function(){return n.toggle(!1)}),Dn(Nn(n),"onMouseEnter",function(){var l=n.props.shouldOpenOnHover;l&&(clearTimeout(n.closeTimeout),Object.assign(Nn(n),{hoverTimeout:setTimeout(n.open,n.props.hoverDelay)}))}),Dn(Nn(n),"onMouseLeave",function(){var l=n.props.shouldOpenOnHover;l&&clearTimeout(n.hoverTimeout)}),Dn(Nn(n),"onMouseMove",function(l){var p=l.clientX,v=l.clientY,M=n.props,j=M.shouldOpenOnHover,Z=M.hoverDelay,W=M.hoverCloseDelay,X=n.state.$opener;if(j){clearTimeout(n.hoverTimeout);var J=document.elementFromPoint(p,v),_=!X.contains(J),te=!J.closest(".DropdownMenu");te?_&&te&&n.leaveTimeoutList.push(setTimeout(n.close,W!==void 0?W:Math.max(Z,300))):(n.leaveTimeoutList.map(clearTimeout),Object.assign(Nn(n),{leaveTimeoutList:[]}))}}),Dn(Nn(n),"set$opener",function(l){return n.setState({$opener:l})}),Dn(Nn(n),"onSelect",function(l){var p=l.currentTarget,v=n.props,M=v.menuList,j=v.onSelect,Z=v.shouldCloseOnSelect;if(typeof j=="function"){var W=p.dataset.idx,X=M[W],J=typeof X=="string"?X:X&&X.value;j(W,J),n.setState({currentMenuListItemIdx:W}),Z&&n.close()}}),n}return jc(t,[{key:"componentDidUpdate",value:function(e,o){var s=o.isOpen,l=this.props,p=l.onOpen,v=l.onClose,M=l.onToggle,j=this.state.isOpen;s!==j&&(j?(p(),M(!0)):(v(),M(!1)))}},{key:"render",value:function(){var e=this.props,o=e.className,s=e.opener,l=e.openerType,p=e.shouldCloseOnClickOutside,v=this.state,M=v.isOpen,j=v.$opener,Z=v.currentMenuListItemIdx,W=this.props.isDisabled||this.props.disabled,X=(0,At.A1)(["Dropdown",M&&"is-open",W&&"is-disabled",o]),J={onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,disabled:W};return h.createElement(Em,{ref:this.set$opener,className:X},l!=="button"&&(0,h.isValidElement)(s)?(0,h.cloneElement)(s,J):h.createElement("button",Ri({type:"button"},J),s),h.createElement(Uc,Ri({},this.props,{isOpen:M,$opener:j,onSelect:this.onSelect,onClose:this.close,shouldCloseOnClickOutside:p,currentMenuListItemIdx:Z})),M&&h.createElement(Nr.ZP,{target:document,onMouseMove:this.onMouseMove}))}}],[{key:"getDerivedStateFromProps",value:function(e,o){var s=o.prevProps,l=o.isOpen;return ti()(e,s)?null:Li()(e.isOpen)?{prevProps:e,isOpen:e.isOpen}:{prevProps:e}}}]),t}(h.PureComponent);Dn(ni,"positionMenu",Qo),Dn(ni,"propTypes",{isOpen:u().bool,mode:u().oneOf(["light","dark"]),opener:u().node,openerType:u().oneOf(["button","custom"]),className:u().string,portalClassName:u().string,menuBaseClassName:u().string,menuClassName:u().string,menuBaseStyle:u().shape({top:u().number,right:u().number,bottom:u().number,width:u().number,height:u().number}),menu:u().node,menuList:u().arrayOf(u().oneOfType([u().node,u().shape({label:u().node,value:u().any,isDisabled:u().bool})])),currentMenuListItemIdx:u().oneOfType([u().number,u().string]),shouldPreventScrollingPropagation:u().bool,shouldOpenOnHover:u().bool,shouldCloseOnClickOutside:u().bool,hoverDelay:u().oneOfType([u().number,u().string]),hoverCloseDelay:u().oneOfType([u().number,u().string]),arrowed:u().bool,inflexible:u().bool,menuX:u().oneOf(["left","center","right"]),menuY:u().oneOf(["top","bottom"]),menuBasedX:u().bool,isDisabled:u().bool,disabled:u().bool,onSelect:u().func,shouldCloseOnSelect:u().bool,onOpen:u().func.isRequired,onClose:u().func.isRequired,onToggle:u().func.isRequired}),Dn(ni,"defaultProps",{arrowed:!1,openerType:"button",mode:"light",shouldPreventScrollingPropagation:!0,shouldCloseOnSelect:!0,shouldOpenOnHover:!1,shouldCloseOnClickOutside:!0,hoverDelay:200,menuX:"center",menuY:"bottom",inflexible:!1,menuBasedX:!1,onOpen:function(){return null},onClose:function(){return null},onToggle:function(){return null}});var Uc=function(a){kc(t,a);var i=Bc(t);function t(){var n;Nc(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),Dn(Nn(n),"state",{isDownward:n.props.position==="bottom"}),Dn(Nn(n),"portal",(0,At.Qt)(ki,(0,At.A1)(["DropdownMenuPortal",n.props.portalClassName]))),Dn(Nn(n),"menuBaseRef",(0,h.createRef)()),Dn(Nn(n),"onResizeWindow",function(){return n.props.isOpen&&n.position()}),Dn(Nn(n),"onClickOutside",function(l){var p=l.target,v=n.props,M=v.$opener,j=v.onClose,Z=v.shouldCloseOnClickOutside;if(Z){var W=!ki.contains(p),X=p.closest("label"),J=X&&X.contains(M),_=!!(0,At.$)(".SelectMenu.is-open");W&&!J&&!_&&j()}}),Dn(Nn(n),"position",function(){var l=n.props,p=l.$opener,v=l.menuX,M=l.menuY,j=l.menuBaseStyle,Z=l.inflexible,W=Nn(n),X=W.menuBaseRef.current,J=Qo({$menuBase:X,$opener:p,menuX:v,menuY:M,menuBaseStyle:j,inflexible:Z}),_=J.isDownward;n.setState({isDownward:_})}),n}return jc(t,[{key:"componentDidMount",value:function(){var e=this.props,o=e.isOpen,s=e.shouldPreventScrollingPropagation,l=this.menuBaseRef.current;o&&setTimeout(this.position),s&&(0,At.$h)((0,At.$)(".content",l)),window.addEventListener("resize",this.onResizeWindow)}},{key:"componentDidUpdate",value:function(e){var o=e.isOpen,s=this.props.isOpen;!o&&s&&this.position()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.onResizeWindow)}},{key:"render",value:function(){var e=this.portal,o=this.menu;return(0,b.createPortal)(o,e)}},{key:"menu",get:function(){var e=this.props,o=e.isOpen,s=e.mode,l=e.menuBaseClassName,p=e.menuClassName,v=e.menu,M=e.menuList,j=e.arrowed,Z=e.menuX,W=e.menuY,X=e.menuBasedX,J=e.currentMenuListItemIdx,_=e.onSelect,te=this.state.isDownward,ne=(0,At.A1)(["DropdownMenu",s,o&&"is-open",te?"is-downward":"is-upward","x-".concat(Z),j&&"arrowed ".concat(X?"x-menu-based":"x-arrow-based"),p]);return h.createElement(Mm,{ref:this.menuBaseRef,className:(0,At.A1)(["DropdownMenuBase",l])},h.createElement(Am,{className:ne},j&&h.createElement("span",{className:"arrow",dangerouslySetInnerHTML:{__html:At.Wj.DROPDOWN_ARROW}}),h.createElement("div",{className:"content"},M?h.createElement("ul",{className:"MenuList"},M.map(function(ie,se){return h.createElement("li",{key:se,role:"option","data-idx":se,className:(0,At.A1)([ie.isDisabled&&"is-disabled",se===Number(J)&&"is-active"]),onClick:ie.isDisabled?void 0:_},ie.label||ie)})):v),o&&h.createElement(Nr.ZP,{target:document,onClick:this.onClickOutside}),o&&h.createElement(Nr.ZP,{target:document,onScroll:(0,Nr.Yc)(this.position,{capture:!0})})))}}]),t}(h.PureComponent);Dn(Uc,"propTypes",Lc(Lc({},ni.propTypes),{},{isOpen:u().bool,$opener:u().instanceOf(Element),onSelect:u().func,onClose:u().func}));var Hc=ni,wr=c(91619),Im=c(72204),qo=c.n(Im),Om=c(6926),Wc=c.n(Om),Dm=function(){var i=window.MBLocale;return(i==="zh-CN"||i==="zh-Hans-CN")&&Wc()(qo().settings.strings,{prefixAgo:null,prefixFromNow:"\u4ECE\u73B0\u5728\u5F00\u59CB",suffixAgo:"\u4E4B\u524D",suffixFromNow:null,seconds:"\u4E0D\u5230 1 \u5206\u949F",minute:"\u5927\u7EA6 1 \u5206\u949F",minutes:"%d \u5206\u949F",hour:"\u5927\u7EA6 1 \u5C0F\u65F6",hours:"\u5927\u7EA6 %d \u5C0F\u65F6",day:"1 \u5929",days:"%d \u5929",month:"\u5927\u7EA6 1 \u4E2A\u6708",months:"%d \u6708",year:"\u5927\u7EA6 1 \u5E74",years:"%d \u5E74",numbers:[],wordSeparator:""}),i==="ja"&&Wc()(qo().settings.strings,{prefixAgo:null,prefixFromNow:"\u4ECA\u304B\u3089",suffixAgo:"\u524D",suffixFromNow:null,seconds:"1\u5206\u672A\u6E80",minute:"\u7D041\u5206",minutes:"%d \u5206",hour:"\u7D041\u6642\u9593",hours:"\u7D04\uFF05d\u6642\u9593",day:"1\u65E5",days:"%d\u65E5",month:"\u7D041\u30F6\u6708",months:"%d\u30F6\u6708",year:"\u7D041\u5E74",years:"%d\u5E74",numbers:[],wordSeparator:""}),{MBLocale:i,parseTimeAgo:function(n){return qo()(n)}}},Lm=function(i,t,n,e,o){return[(0,g.jsxs)(Nm,{children:[Dm().parseTimeAgo(i.updated_at*1e3),e&&(0,g.jsxs)(Rm,{onClick:t?o:e,children:[(0,g.jsx)(wr.Z,{type:"dora",name:"reply"}),t?I18N.pComment.cancel_reply:I18N.pComment.comment_create]})]},"footer"),t&&(0,g.jsxs)(jm,{children:[(0,g.jsx)(Di,{textEditStore:t,placeholder:I18N.pComment.comment_placeholder,minHeight:60,autoHeight:!0,multiline:!0}),Pc(I18N.pComment.comment_create,t.endEdit,!n)]},"reply")]},Nm=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__ContentFooterDiv",componentId:"sc-1cxq4bf-0"})(["display:flex;align-items:center;justify-content:space-between;padding:0 10px 10px;line-height:20px;color:",";opacity:0.75;"],function(a){return a.theme.color_text_L3}),Rm=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__ReplyToggleDiv",componentId:"sc-1cxq4bf-1"})(["cursor:pointer;color:",";&:hover,&:active{color:",";}> span{margin-right:6px;opacity:0.5;}"],function(a){return a.theme.color_text_L3},function(a){return a.theme.color_text_L2}),jm=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__ReplyDropdownDiv",componentId:"sc-1cxq4bf-2"})(["padding:10px 0;background:",";span.btn-wrap{width:100%;height:24px;font-size:12px;margin-top:8px;button{width:100%;height:100%;background:#1684fc;color:#fff;border:none;&:not(:disabled):hover{background:#1169c9;}&:not(:disabled):active{background:#1169c9;color:rgba(255,255,255,0.6);}&:disabled{background:#1169c9;opacity:0.6;}}}"],function(a){return a.theme.color_background_white}),zc=function(i){var t=i.sub,n=i.comment,e=i.textEditStore,o=i.cancelEdit;return(0,g.jsx)(km,{className:t?"sub":"",children:e?(0,g.jsxs)(Zm,{children:[(0,g.jsx)(Di,{textEditStore:e,placeholder:I18N.pComment.comment_placeholder,minHeight:60,autoHeight:!0,multiline:!0}),(0,g.jsxs)(Fm,{children:[(0,g.jsx)("button",{onClick:o,className:"cancel",children:I18N.pComment.cancelEdit}),(0,g.jsx)("button",{onClick:e.endEdit,className:"confirm",children:I18N.pComment.updateEdit})]})]}):(0,g.jsx)(Bm,{children:n.message})})};zc.propTypes={sub:u().bool,comment:u().object,textEditStore:u().object,cancelEdit:u().func};var km=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__ContentMessageDiv",componentId:"sc-1cxq4bf-3"})(["display:flex;flex-flow:column;width:100%;height:auto;color:",";white-space:nowrap;text-overflow:ellipsis;span{padding:10px;}&.sub span{padding:0 10px 10px;}"],function(a){return a.theme.color_text_L2}),Bm=ze.default.span.withConfig({displayName:"CommentLayerThreadContent__EditableSpanSpan",componentId:"sc-1cxq4bf-4"})(["user-select:text;word-break:break-all;white-space:pre-line;text-overflow:ellipsis;"]),Zm=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__EditableSpanDiv",componentId:"sc-1cxq4bf-5"})(["background:",";> textarea{margin-bottom:5px;padding:10px;border:1px solid #d3dce6;}"],function(a){return a.theme.color_background_white}),Fm=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__ButtonPanelDiv",componentId:"sc-1cxq4bf-6"})(["display:flex;justify-content:flex-end;width:100%;margin-top:8px;> button{width:60px;height:28px;font-size:12px;margin-left:10px;border-radius:4px;&:lang(ja){width:86px;}&.cancel{color:",";border:1px solid ",";background:",";&:hover{background:",";}&:active{background:",";}}&.confirm{background:#1684fc;color:#fff;&:not(:disabled):hover{background:#1169c9;}&:not(:disabled):active{background:#1169c9;color:rgba(255,255,255,0.6);}&:disabled{background:#1169c9;opacity:0.6;}}}"],function(a){return a.theme.color_text_L1},function(a){return a.theme.color_background_split},function(a){return a.theme.color_background_white},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_background_icon_active}),$c=function(i){var t=i.sub,n=i.avatar,e=i.name,o=i.markIndex,s=i.startEdit,l=i.doDelete;return(0,g.jsxs)(Um,{className:t?"sub":"",children:[(0,g.jsxs)(zm,{children:[(0,g.jsx)("img",{src:n,width:24,height:24}),(0,g.jsxs)("div",{children:[o&&(0,g.jsx)("span",{className:"index",children:"#"+o}),(0,g.jsx)("span",{className:"name",children:e})]})]}),(0,g.jsxs)(Hm,{children:[s&&(0,g.jsx)(es,{onSelect:s,menuClassName:"comment-header-edit",iconName:"cog",text:I18N.pComment.modify_edit}),l&&(0,g.jsx)(es,{onSelect:l,menuClassName:"comment-header-delete",iconName:"trash",text:I18N.pComment.modify_delete})]})]})};$c.propTypes={avatar:u().string,name:u().string,markIndex:u().number,startEdit:u().func,doDelete:u().func,sub:u().bool};var Um=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__ContentHeaderDiv",componentId:"sc-1cxq4bf-7"})(["display:flex;justify-content:space-between;padding-bottom:10px;width:100%;&.sub{padding:10px;}"]),Hm=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__ContentHeaderEditDiv",componentId:"sc-1cxq4bf-8"})(["display:flex;align-items:center;.icon{color:",";margin-left:5px;&:hover,&:active{color:",";}}"],function(a){return a.theme.color_text_disabled},function(a){return a.theme.color_text_L3}),Wm=(0,ze.createGlobalStyle)([".comment-header-delete,.comment-header-edit{box-shadow:",";.content{background-color:",";}.arrow{color:",";}li{color:",";&:not(.is-disabled):hover{color:",";background-color:"," !important;}}}.comment-header-delete li:hover{color:#eb5648;}"],function(a){return a.theme.shadow_1},function(a){return a.theme.color_background_white},function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_background}),zm=ze.default.div.withConfig({displayName:"CommentLayerThreadContent__UserInfoDiv",componentId:"sc-1cxq4bf-9"})(["display:flex;height:24px;> img{margin-right:10px;border-radius:100%;}> div{display:flex;flex-flow:column;justify-content:center;max-height:24px;font-weight:bold;line-height:12px;.index{vertical-align:middle;color:#f55d54;}.name{max-width:140px;color:",";overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}"],function(a){return a.theme.color_text_L2}),es=function(i){var t=i.onSelect,n=i.text,e=i.iconName,o=i.menuClassName;return(0,g.jsx)(Lr.Z,{content:{hover:n},duration:1e3,position:"left",children:(0,g.jsx)(Hc,{opener:(0,g.jsx)(wr.Z,{type:"dora",name:e}),onSelect:t,menuClassName:o,menuList:[n],menuX:"right",arrowed:!0})})};es.propTypes={onSelect:u().func.isRequired,text:u().string.isRequired,iconName:u().string.isRequired,menuClassName:u().string.isRequired};var $m=(0,ze.createGlobalStyle)(["#IBOT_TOOLTIP_ROOT .TipBase .Tip{.arrow svg{fill:",";}.content{background-color:",";color:",";}}"],function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background_white}),Gc=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),e.focusThread=function(){return!e.props.isScrollFocus&&e.props.commentOperations.setHoverFocusCommentThreadCid(e.props.commentThreadCid)},e.blurThread=function(){return e.props.isBlur&&e.props.commentOperations.setHoverFocusCommentThreadCid(null)},e.setRef=function(o){e.mainRef=o},e.mainRef=null,e.toggleUnfoldComment=function(){e.setState({isUnfold:!e.state.isUnfold})},e.state={isUnfold:!1},e}return(0,S.Z)(t,[{key:"componentDidUpdate",value:function(e){if(this.props.commentList.length>e.commentList.length&&this.setState({isUnfold:!0}),this.props.isScrollFocus&&this.props.isScrollFocus!==e.isScrollFocus&&this.mainRef){var o=this.mainRef.parentElement,s=o.getBoundingClientRect(),l=s.top,p=o.scrollTop+this.mainRef.getBoundingClientRect().top-l;(0,Dr.X5)(o,p,20)}}},{key:"render",value:function(){var e=this.props,o=e.commentList,s=e.permission,l=e.commentMarkerIndex,p=e.commentOperations,v=e.isBlur;if(!o.length)return null;var M=this.state.isUnfold,j=o[0],Z=o.length>3,W=M||!Z?o.slice(1):o.slice(1,3);return(0,g.jsxs)(Gm,{ref:this.setRef,className:v?"comment-blur":"",onMouseEnter:this.focusThread,onMouseLeave:this.blurThread,children:[(0,g.jsx)(ts,{markIndex:l,comment:j,permission:s,commentOperations:p}),W.map(function(X){return(0,g.jsx)(ts,{sub:!0,comment:X,permission:p.getPermission(X.user_id),commentOperations:p},X.cid)}),Z&&(0,g.jsx)("div",{className:"unfold",onClick:this.toggleUnfoldComment,children:M?I18N.pComment.fold:I18N.pComment.unfold})]})}}]),t}(h.PureComponent);(0,f.Z)(Gc,"propTypes",{permission:u().object,isScrollFocus:u().bool,isBlur:u().bool,commentList:u().array,commentMarkerIndex:u().number,commentThreadCid:u().string,commentOperations:u().object});var Gm=ze.default.div.withConfig({displayName:"CommentLayerThread__CommentThreadDiv",componentId:"sc-1vasg7d-0"})(["width:220px;padding:20px 0;&.comment-blur{opacity:0.4;}& > .unfold{cursor:pointer;display:flex;justify-content:flex-end;color:",";&:hover{color:",";}}"],function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L2}),Vm=ze.default.div.withConfig({displayName:"CommentLayerThread__EntryMainBgDiv",componentId:"sc-1vasg7d-1"})(["width:100%;margin-bottom:10px;border-radius:4px;background:",";"],function(a){return a.theme.color_background}),ts=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),e.operationPack={getCommentValue:function(){return e.props.comment.message},doCreateComment:function(s){return s&&e.props.commentOperations.doCreateComment(s,e.props.comment.thread_cid)},doUpdateComment:function(s){return e.props.commentOperations.doUpdateComment({cid:e.props.comment.cid,message:s})},doDeleteCard:function(){return e.props.sub?e.props.commentOperations.doDeleteComment(e.props.comment):e.props.commentOperations.doDeleteCommentThread(e.props.comment.thread_cid)}},e.startEdit=function(){e.setState({editStore:Xo({value:e.operationPack.getCommentValue(),isEditing:!0},{onEnd:function(s){var l=s.value;l=(l||"").trim(),e.operationPack.doUpdateComment(l),e.closeEdit()}})}),zr("\u7F16\u8F91")},e.closeEdit=function(){return e.setState({editStore:null})},e.startReply=function(){e.setState({replyStore:Xo({isEditing:!0},{onChange:function(s){var l=s.value;return e.setState({isValidReply:!!l})},onEnd:function(s){var l=s.value;l=(l||"").trim(),l&&e.operationPack.doCreateComment(l),e.closeReply(!1),zr("\u56DE\u590D")}})}),zr("\u70B9\u51FB\u56DE\u590D")},e.closeReply=function(o){o===void 0&&(o=!0),e.setState({replyStore:null,isValidReply:!1}),o&&zr("\u70B9\u51FB\u53D6\u6D88\u56DE\u590D")},e.state={editStore:null,replyStore:null,isValidReply:!1},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.sub,s=e.markIndex,l=e.comment,p=e.permission,v=e.commentOperations,M=this.state,j=M.editStore,Z=M.replyStore,W=M.isValidReply,X=v.getUserProfile(l),J=X.avatar,_=X.name,te=(0,g.jsx)(zc,{sub:o,comment:l,textEditStore:j,cancelEdit:this.closeEdit}),ne=!j&&Lm(l,Z,W,p.create&&this.startReply,this.closeReply),ie=o?j?"sub remove-background":"sub":"";return(0,g.jsxs)(Km,{className:ie,children:[(0,g.jsx)($c,{sub:o,avatar:J,name:_,markIndex:s,startEdit:!j&&p.update?this.startEdit:null,doDelete:!j&&p.delete?this.operationPack.doDeleteCard:null}),!o&&(0,g.jsxs)(Vm,{children:[te,ne]}),o&&te,o&&ne]})}}]),t}(h.PureComponent);(0,f.Z)(ts,"propTypes",{sub:u().bool,markIndex:u().number,comment:u().object.isRequired,permission:u().object.isRequired,commentOperations:u().object.isRequired});var Km=ze.default.div.withConfig({displayName:"CommentLayerThread__CommentCardDiv",componentId:"sc-1vasg7d-2"})(["display:flex;flex-flow:column;border-radius:4px;&.sub{margin:0 0 10px 20px;width:200px;background:",";}&.remove-background{background:",";}"],function(a){return a.theme.color_background},function(a){return a.theme.color_background_white}),Er=c(72324),Vr=c(72744),Vc=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"handleCloseGuide",function(){var s=e.props.dispatch;s({type:"entry:state:update:previewUserCommonGuidesData",payload:{key:Er.s.GUIDE_PREVIEW_ADD_COMMENT}})}),(0,f.Z)((0,ae.Z)(e),"renderContentReply",function(){var s=e.state.isValidReply,l=e.props.isShowAddCommentGuide,p=function(){e.replyStore.endEdit(),zr("\u521B\u5EFA\u8BC4\u8BBA")};return(0,g.jsxs)("div",{className:"addCommentsContainer",children:[l&&(0,g.jsxs)("div",{className:"guide_preview_add_comment",children:[(0,g.jsx)("span",{children:I18N.Comment.text1}),(0,g.jsx)(Et.q,{className:"close-guide",name:"guides/close",onClick:e.handleCloseGuide}),(0,g.jsx)(Et.q,{className:"icon-triangle",name:"guides/triangle"})]}),(0,g.jsx)(Di,{textEditStore:e.replyStore,placeholder:I18N.pComment.comment_placeholder,minHeight:20,autoHeight:!0,multiline:!0}),Pc(I18N.pComment.thread_create,p,!s)]})}),(0,f.Z)((0,ae.Z)(e),"handleSignIn",function(s,l,p){(0,Pt.aF)("proto-comment",!1,l,p),zr("\u767B\u5F55-"+(s?"\u6709":"\u65E0")+"\u8BC4\u8BBA"),Vr.xd.userSourceTrack(l)});var o=function(l){return l===void 0&&(l=null),e.props.focusCommentThreadCid!==l&&e.props.dispatch({type:"container:comment:focus",payload:{focusCommentThreadCid:l,focusSource:"panel"}})};return e.commentOperations={getPermission:function(l){return e.props.permissionPack.getPermission(l)},getUserProfile:function(l){return e.props.getUserProfile(l)},setHoverFocusCommentThreadCid:function(l){return l===void 0&&(l=null),!e.props.tempCommentThreadMarker&&o(l)},doDeleteCommentThread:function(l){e.props.dispatch({type:"entry:comment-threads:delete",payload:{cid:l}}),zr("\u5220\u9664\u8BC4\u8BBA")},doDeleteComment:function(l){e.props.dispatch({type:"entry:comment:comments:delete",payload:{cid:l.cid}}),zr("\u5220\u9664\u56DE\u590D")},doUpdateComment:function(l){return e.props.dispatch({type:"entry:comment:comments:update",payload:l})},doCreateComment:function(l,p){return l&&e.props.dispatch({type:"entry:comments:add",payload:{thread_cid:p,message:l}})}},e.doCreateCommentThread=function(s){var l=e.props.tempCommentThreadMarker||{top:0,left:0},p=l.left,v=l.top;s&&e.props.dispatch({type:"entry:comment:comment-threads:add",payload:{top:v,left:p,message:s}}),setTimeout(function(){e.scrollRef&&(e.scrollRef.scrollTop=e.scrollRef.scrollHeight-e.scrollRef.offsetHeight)},0)},e.replyStore=Xo({isEditing:!0},{onChange:function(l){var p=l.value;e.setState({isValidReply:!!p}),p&&p.length>0&&e.props.isShowAddCommentGuide&&e.handleCloseGuide()},onEnd:function(l){var p=l.value,v=p===void 0?"":p;e.doCreateCommentThread(v.trim()),e.resetReply()}}),e.resetReply=function(){e.replyStore.startEdit(),e.replyStore.setValue(""),e.setState({isValidReply:!1})},e.focusReply=function(){e.replyStore.endEdit(),e.replyStore.startEdit()},e.setScrollRef=function(s){e.scrollRef=s},e.scrollRef=null,e.state={isValidReply:!1},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props.isShowComment;!this.props.isLoaded&&e&&this.props.dispatch({type:"entry:comment:init-project-data"});var o=AutoSaver.getSaver("saver:rails-fetch");o&&(this.prevAutoSaverDelay=o.getState().autoSaveDelay,o.setAutoSaveDelay(.5*1e3))}},{key:"componentDidUpdate",value:function(e){this.props.tempCommentThreadMarker&&!e.tempCommentThreadMarker&&this.focusReply()}},{key:"componentWillUnmount",value:function(){var e=AutoSaver.getSaver("saver:rails-fetch");e&&e.setAutoSaveDelay(this.prevAutoSaverDelay),this.props.dispatch({type:"container:comment:reset:state"})}},{key:"render",value:function(){var e=this,o=this.props,s=o.screenName,l=o.isSign,p=o.isShowComment,v=o.theme,M=o.commentThreadList,j=o.commentListMap,Z=o.isLoaded,W=o.focusCommentThreadCid,X=o.focusSource,J=o.tempCommentThreadMarker;if(!Z&&l&&p)return(0,g.jsx)(Kc,{});var _=W||J&&J.cid,te=M.length!==0;return(0,g.jsxs)(Kc,{children:[te&&p&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"comment-title",children:s+" ("+M.length+")"}),(0,g.jsx)("div",{ref:this.setScrollRef,className:"comment-thread",children:M.map(function(ne,ie){var se=j[ne.cid]||[],Se=ie+1,Te=X==="marker"&&_===ne.cid,Le=X==="marker"&&_!==null&&!Te;return(0,g.jsx)(Gc,{commentThreadCid:ne.cid,commentMarkerIndex:Se,isScrollFocus:Te,isBlur:Le,commentList:se,permission:e.commentOperations.getPermission(ne.user_id),commentOperations:e.commentOperations},ne.cid)})})]}),(!te||!p)&&(0,g.jsxs)("div",{className:"comment-thread-empty",children:[(0,g.jsx)("img",{src:v==="dark"?"/mb-workspace/images/preview/no-comment-dark.png":"/mb-workspace/images/preview/no-comment-light.png"}),(0,g.jsx)("span",{className:"title",children:p?I18N.pComment.no_comments:I18N.pComment.comments_closed}),(0,g.jsx)("span",{className:"desc",children:p?l?I18N.pComment.doubleClickAddComments:I18N.pComment.signInAddComments:I18N.pComment.contactAdmin}),!l&&p&&(0,g.jsx)("button",{onClick:function(){e.handleSignIn(!1,"no_comment_sign","a32"),ENV.IS_WONDER_SHARE&&(0,C.Mn)("Comment-Middle-Signin")},children:I18N.pComment.signIn})]}),p&&(0,g.jsx)("div",{className:"footer",children:l?this.renderContentReply():te?(0,g.jsx)("button",{className:"signInComments",onClick:function(){e.handleSignIn(!0,"has_comment_sign","a32"),ENV.IS_WONDER_SHARE&&(0,C.Mn)("Comment-Bottom-Signin")},children:I18N.pComment.signInComments}):null}),(0,g.jsx)(Wm,{}),(0,g.jsx)($m,{})]})}}]),t}(h.PureComponent);(0,f.Z)(Vc,"propTypes",{isLoaded:u().bool,isSign:u().bool,isShowComment:u().bool,permissionPack:u().object,getUserProfile:u().func,screenName:u().string,theme:u().string,commentThreadList:u().array,commentListMap:u().object,isShowAddCommentGuide:u().bool,focusCommentThreadCid:u().string,focusSource:u().string,tempCommentThreadMarker:u().object,dispatch:u().func});var Kc=ze.default.div.withConfig({displayName:"CommentLayer__CommentPanelDiv",componentId:"sc-1kilv6s-0"})(["position:relative;display:flex;flex-flow:column;width:260px;height:100%;font-size:12px;background-color:",";z-index:1;& > .comment-title{display:flex;align-items:center;height:50px;margin:0 20px;border-bottom:1px solid ",";color:",";}& > .comment-thread{flex:1;overflow-y:auto;padding:0 20px;}& > .comment-thread-empty{flex:1;display:flex;flex-flow:column;align-items:center;justify-content:center;color:",";img{width:93px;}.title{font-weight:500;font-size:14px;line-height:20px;margin-top:17px;margin-bottom:8px;color:",";}.desc{font-size:12px;line-height:17px;color:",";}button{padding:6px 15px;text-align:center;font-size:12px;line-height:16px;margin-top:16px;border-radius:4px;background:",";color:",";border:1px solid ",";&:not(:disabled):hover{background:",";}&:not(:disabled):active{background:",";}&:disabled{border-color:",";color:#999;cursor:not-allowed;}}}.footer{width:100%;border-top:1px solid ",";display:flex;align-items:center;justify-content:center;padding:10px 20px;.signInComments{display:block;width:100%;padding-top:6px;padding-bottom:6px;border-radius:4px;font-size:12px;line-height:16px;text-align:center;background:",";color:",";border:1px solid ",";&:not(:disabled):hover{background:",";}&:not(:disabled):active{background:",";}&:disabled{border-color:",";color:#999;cursor:not-allowed;}}.addCommentsContainer{width:100%;height:100%;display:flex;align-items:center;justify-content:center;position:relative;& > div:not(.guide_preview_add_comment){width:158px;max-height:120px;margin-right:8px;> label{&::placeholder{color:",";}& > textarea{padding:3px 8px;min-height:28px;border-radius:2px;&:lang(en),&:lang(ja){min-height:44px;}}}}.guide_preview_add_comment{display:flex;align-items:center;justify-content:center;background:#1684fc;border-radius:2px;position:absolute;width:156px;height:36px;text-align:center;top:-45px;left:-5px;box-shadow:0 2px 8px rgba(41,141,248,0.3);span{font-weight:500;font-size:14px;line-height:20px;color:#fff;}.close-guide{width:10px;height:10px;margin-left:15px;cursor:pointer;path{fill:#fff;}}.icon-triangle{position:absolute;width:11px;height:6px;color:#1684fc;transform:rotate(180deg);left:20px;top:35px;}}}}& > .reply-footer{display:flex;align-items:flex-end;background:",";border-top:1px solid ",";padding:10px 14px;box-shadow:",";color:",";& > div{margin:0 8px -4px 0;width:174px;max-height:120px;> label{&::placeholder{color:",";}& > textarea{padding:3px 8px;min-height:28px;&:lang(en),&:lang(ja){min-height:44px;}}}}& > button{flex:1;height:28px;font-size:12px;}.PrimaryButton:lang(en),.PrimaryButton:lang(ja){height:44px;}}"],function(a){return a.theme.color_background_white},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_text_disabled},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_text_disabled},function(a){return a.theme.color_text_L3},function(a){return a.theme.color_background_white},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.comment_layer_box_shadow},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L3}),Yc=c(48121),Ar=function(i){i&&i.preventDefault(),i&&i.stopPropagation()},ja=function(i){return function(t){return Ar(t),i&&i(t)}},Ym=[0,1,2,3,4,5,6,7].map(function(a){return{create:!!(a&1),update:!!(a&2),delete:!!(a&4)}}),Xc=function(i,t,n,e){n===void 0&&(n="INVALID_ID_0"),e===void 0&&(e="INVALID_ID_1");var o=i,s=o&&e===n,l=s||t,p=(o?1:0)+(s?2:0)+(l?4:0);return Ym[p]},Kr=document.createElement("div");Kr.id="PREVIEW_COMMENT_ADD_ARROW";var ns=document.createElement("span"),ha={initDom:function(){Kr.appendChild(ns),ns.innerText=I18N.pComment.cursor_text,ns.setAttribute("style","background: rgba(31,41,46,0.74);border: 1px solid rgba(0,0,0,0.20);box-shadow: 0 2px 4px 0 rgba(0,0,0,0.38);border-radius: 2px;width: auto;height: 24px;line-height: 24px;text-align: center;color: #fff;margin-left: 7px;white-space: nowrap;"),Kr.setAttribute("style","position:absolute;width:115px;top:9999px;left:999px;display: flex;pointer-events: none"),document.body.appendChild(Kr)},handleMove:function(i){i.target.classList.contains("comment-index")||(Kr.style.left=i.clientX+18+"px",Kr.style.top=i.clientY-3+"px")},handleLeave:function(){Kr.style.left="99999px",Kr.style.top="99999px"},handleRemove:function(){document.body.removeChild(Kr)}},rs=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;(0,I.Z)(this,t),e=i.call(this,n);var o={isDragging:!1,position:{left:0,top:0}},s=(0,L.Z)((0,L.Z)({},Qc),{},{mousemove:ja(function(M){var j=e.props,Z=j.commentThread,W=j.markerOperations,X=W.getMarkerPosition(M);(e.state.isDragging||Jm(Z,X))&&e.setState({isDragging:!0,position:X})}),mouseup:ja(function(M){if(v(),e.state.isDragging){var j=e.props,Z=j.commentThread,W=j.markerOperations;W.doUpdateCommentThread((0,L.Z)({cid:Z.cid},W.getMarkerPosition(M)))}else setTimeout(function(){var X=e.props,J=X.isFocus,_=X.commentThread,te=X.markerOperations;te.setFocusCommentThreadCid(J?null:_.cid)},0);e.setState(o)}),mouseleave:function(){v(),e.props.markerOperations.setHoverFocusCommentThreadCid(null),e.setState(o)}}),l=(0,L.Z)((0,L.Z)({},Qc),{},{mouseup:s.mouseup}),p=function(){return e.props.markerOperations.addContainerEventListener(e.props.isEditable?s:l)},v=function(){return e.props.markerOperations.removeContainerEventListener(e.props.isEditable?s:l)};return e.markerListenerMap={onMouseDown:ja(p),onMouseEnter:ja(function(){return!e.props.isFocus&&e.props.markerOperations.setHoverFocusCommentThreadCid(e.props.commentThread.cid)}),onMouseLeave:ja(function(){return e.props.isFocus&&e.props.markerOperations.setHoverFocusCommentThreadCid(null)}),onMouseUp:Ar,onDoubleClick:Ar,onClick:Ar},e.state=o,e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.commentThread,s=e.scale,l=e.isFocus,p=e.isFade,v=e.commentMarkerIndex,M=this.state,j=M.isDragging,Z=M.position;return(0,g.jsx)(Xm,{className:l?"focus":!l&&p?"fade":"",style:{left:(j?Z.left:o.left)*s+"px",top:(j?Z.top:o.top)*s+"px"},children:(0,g.jsx)("span",(0,L.Z)((0,L.Z)({tabIndex:v},this.markerListenerMap),{},{className:"comment-index",children:v}))})}}]),t}(h.PureComponent);(0,f.Z)(rs,"propTypes",{commentMarkerIndex:u().number.isRequired,commentThread:u().object.isRequired,scale:u().number.isRequired,isEditable:u().bool,isFocus:u().bool,isFade:u().bool,markerOperations:u().object.isRequired});var Bi=0,ri=28,Xm=ze.default.div.withConfig({displayName:"CommentMarkerPanelMarker__CommentMarkerDiv",componentId:"sc-9m8dw-0"})(["position:absolute;width:","px;height:","px;overflow:visible;& > span{display:flex;justify-content:center;align-items:center;cursor:pointer;outline:none;margin-left:","px;margin-top:","px;width:","px;height:","px;font-size:14px;line-height:","px;box-shadow:0 2px 10px rgba(108,0,0,0.22);border:2px solid #fff;border-radius:100%;background:#ff7100;color:#fbfbfc;transition:all 0.1s ease-in;transform:scale(1);}&.focus > span{transform:scale(1.21);}&.fade > span{opacity:0.5;}"],Bi,Bi,.5*(Bi-ri),.5*(Bi-ri),ri,ri,ri),Qc={mouseup:Ar,mousedown:Ar,mousemove:Ar,mouseleave:Ar,mouseout:Ar,click:Ar,dblclick:Ar},Qm=15*15;function Jm(a,i){var t=a.left-i.left,n=a.top-i.top;return t*t+n*n>=Qm}var _m=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"handleMouseOut",function(o){var s=o.target.classList.contains("comment-index");s||ha.handleLeave()}),e.$container=document.querySelector("#simulator-container"),e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){ha.initDom(),this.$container.addEventListener("mousemove",ha.handleMove),this.$container.addEventListener("mouseleave",ha.handleLeave),this.$container.addEventListener("mouseout",this.handleMouseOut)}},{key:"componentWillUnmount",value:function(){ha.handleRemove(),this.$container.removeEventListener("mousemove",ha.handleMove),this.$container.removeEventListener("mouseleave",ha.handleLeave),this.$container.removeEventListener("mouseout",this.handleMouseOut)}},{key:"render",value:function(){return null}}]),t}(h.PureComponent),Zi=20,Jc="TEMP_MARKER_CID",_c=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;(0,I.Z)(this,t),e=i.call(this,n),e.addTempCommentThreadListener=ja(function(s){var l=e.props,p=l.isSign,v=l.isActive,M=l.permissionPack,j=l.markerDomPack,Z=l.dispatch;if(!p){(0,Pt.aF)("proto-comment",!1,"","a32");return}!v||!M.getPermission().create||!qm(s,j.getSimulatorContainerElement().getBoundingClientRect())||(Z({type:"container:comment:focus-temp-marker",payload:(0,L.Z)((0,L.Z)({},e.markerOperations.getMarkerPosition(s)),{},{cid:Jc})}),Z({type:"entry:state:update:previewCommonGuidesToBeShown",payload:{key:Er.s.GUIDE_PREVIEW_ADD_COMMENT}}),zr("\u53CC\u51FB\u753B\u5E03"))});var o=function(l){return l===void 0&&(l=null),e.props.dispatch({type:"container:comment:focus",payload:{focusCommentThreadCid:l,focusSource:"marker"}})};return e.markerOperations={addContainerEventListener:function(l){var p=e.props.markerDomPack.getSimulatorContainerElement();p&&Object.entries(l).forEach(function(v){var M=(0,F.Z)(v,2),j=M[0],Z=M[1];return p.addEventListener(j,Z)})},removeContainerEventListener:function(l){var p=e.props.markerDomPack.getSimulatorContainerElement();p&&Object.entries(l).forEach(function(v){var M=(0,F.Z)(v,2),j=M[0],Z=M[1];return p.removeEventListener(j,Z)})},setFocusCommentThreadCid:o,setHoverFocusCommentThreadCid:function(l){return l===void 0&&(l=null),!e.props.tempCommentThreadMarker&&o(l)},doUpdateCommentThread:function(l){var p=l.cid,v=l.top,M=l.left;return e.props.dispatch({type:p!==Jc?"entry:comment-threads:update":"container:comment:focus-temp-marker",payload:{cid:p,top:v,left:M}})},getMarkerPosition:function(l){var p=e.props,v=p.scale,M=p.markerDomPack,j=M.getScreenContainerElement().getBoundingClientRect(),Z=M.getSimulatorContainerElement().getBoundingClientRect();return{left:((0,Yc.uZ)(l.clientX,Z.left+Zi,Z.right-Zi)-j.left)/v,top:((0,Yc.uZ)(l.clientY,Z.top+Zi,Z.bottom-Zi)-j.top)/v}}},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props.isActive;e&&this.toggleEventListener(!0)}},{key:"componentDidUpdate",value:function(e){var o=this.props.isActive;o!==e.isActive&&this.toggleEventListener(o)}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;this.toggleEventListener(!1),e({type:"container:comment:focus-temp-marker",payload:null})}},{key:"toggleEventListener",value:function(e){var o=this.props.markerDomPack,s=o.getSimulatorContainerElement();s&&(e?s.addEventListener("dblclick",this.addTempCommentThreadListener):s.removeEventListener("dblclick",this.addTempCommentThreadListener))}},{key:"render",value:function(){var e=this,o=this.props,s=o.isActive,l=o.scale,p=o.permissionPack,v=o.commentThreadList,M=o.isLoaded,j=o.focusCommentThreadCid,Z=o.tempCommentThreadMarker;return!s||!M?null:(0,g.jsxs)("div",{children:[(0,g.jsx)(_m,{}),v.map(function(W,X){var J=!Z&&j===W.cid,_=!!(Z||j&&!J);return(0,g.jsx)(rs,{commentMarkerIndex:X+1,commentThread:W,scale:l,isEditable:p.getPermission(W.user_id).update,isFocus:J,isFade:_,markerOperations:e.markerOperations},W.cid)}),Z&&(0,g.jsx)(rs,{commentMarkerIndex:v.length+1,commentThread:Z,scale:l,isEditable:!0,isFocus:!0,isFade:!1,markerOperations:this.markerOperations})]})}}]),t}(h.PureComponent);(0,f.Z)(_c,"propTypes",{scale:u().number,isActive:u().bool,isLoaded:u().bool,isSign:u().bool,permissionPack:u().object,markerDomPack:u().object,commentThreadList:u().array,focusCommentThreadCid:u().string,tempCommentThreadMarker:u().object,dispatch:u().func});var qm=function(i,t){var n=t.left,e=t.top,o=t.width,s=t.height;return n<=i.clientX&&e<=i.clientY&&n+o>=i.clientX&&e+s>=i.clientY},qc={loadedProjectCid:null,loadedProjectCommentData:null,focusCommentThreadCid:null,focusSource:null,tempCommentThreadMarker:null,commentThreads:[],comments:[]};function eg(a,i){a===void 0&&(a=qc);var t=i.type,n=i.payload;switch(t){case"container:comment:loaded-project":return(0,L.Z)((0,L.Z)({},a),{},{loadedProjectCid:n.projectCid||null,loadedProjectCommentData:n.projectCommentData||null});case"container:comment:focus":return(0,L.Z)((0,L.Z)({},a),{},{focusCommentThreadCid:n.focusCommentThreadCid,focusSource:n.focusSource||null,tempCommentThreadMarker:a.tempCommentThreadMarker&&a.tempCommentThreadMarker.cid===n.focusCommentThreadCid?a.tempCommentThreadMarker:null});case"container:comment:focus-temp-marker":return(0,L.Z)((0,L.Z)({},a),{},{focusCommentThreadCid:null,focusSource:null,tempCommentThreadMarker:n});case"container:comment:reset:state":return qc;case"container:comment:commentThreads":return(0,L.Z)((0,L.Z)({},a),{},{commentThreads:n.threads});case"container:comment:comments":return(0,L.Z)((0,L.Z)({},a),{},{comments:n.comments})}return a}var eu=(0,U.connect)(function(a){var i=a.model.user.id,t=a.container,n=t.comment,e=n.loadedProjectCid,o=n.loadedProjectCommentData,s=n.focusCommentThreadCid,l=n.focusSource,p=n.tempCommentThreadMarker,v=n.commentThreads,M=n.comments,j=t.current,Z=j.previewCommonGuidesHasShown,W=j.previewCommonGuidesToBeShown,X=(0,re.vo)(a),J=(0,re.CL)(a),_=(0,re.gh)(a),te=(0,re.cM)(a),ne=W.includes(Er.s.GUIDE_PREVIEW_ADD_COMMENT)&&!Z.includes(Er.s.GUIDE_PREVIEW_ADD_COMMENT);return{isLoaded:e===X.cid,isSign:!!(i&&String(i)),isShowComment:(te==null?void 0:te.comment_permission)==="org_member",theme:_,permissionPack:nu(X,i,o,te),getUserProfile:rg,screenName:J.name,commentThreadList:tu(v,J.cid),commentListMap:ng(M),focusCommentThreadCid:s,focusSource:l,tempCommentThreadMarker:p,isShowAddCommentGuide:ne}})(Vc),tg=(0,U.connect)(function(a){var i=a.model.user.id,t=a.container.comment,n=t.loadedProjectCid,e=t.loadedProjectCommentData,o=t.focusCommentThreadCid,s=t.tempCommentThreadMarker,l=t.commentThreads,p=(0,re.vo)(a),v=(0,re.CL)(a),M=(0,re.cM)(a);return{isSign:!!(i&&String(i)),isLoaded:n===p.cid,permissionPack:nu(p,i,e,M),markerDomPack:ag(v.cid),commentThreadList:tu(l,v.cid),focusCommentThreadCid:o,tempCommentThreadMarker:s}})(_c),tu=(0,Pt.LL)(function(a,i){return a.filter(function(t){return t.screen_cid===i})}),ng=(0,Pt.LL)(function(a){return a.reduce(function(i,t){return i[t.thread_cid]===void 0?i[t.thread_cid]=[t]:i[t.thread_cid].push(t),i},{})}),nu=(0,Pt.LL)(function(a,i,t,n){var e,o,s;if(!t)return{isProjectAllowComment:!1,getPermission:function(){return!1}};var l=t.isProjectAllowComment,p=t.projectPermissionsArray,v=t.folderPermissionsArray,M=t.orgPermissionsArray,j=[(e=p.find(function(te){return te.user_id===i}))==null?void 0:e.role,(o=v.find(function(te){return te.user_id===i}))==null?void 0:o.role,(s=M.find(function(te){return te.user_id===i}))==null?void 0:s.role].filter(Boolean).join("|"),Z=!!(i&&String(i)),W=(n==null?void 0:n.comment_permission)==="org_member"&&Z,X=j.includes("project_owner")||j.includes("project_team_owner"),J=Xc(),_=l?function(te){return Xc(W,X,i,te)}:function(){return J};return{isProjectAllowComment:l,getPermission:_}}),rg=function(i){return(i==null?void 0:i.user)||{name:I18N.pComment.user_name_ghost,avatar:"/mb-workspace/images/avatar.png"}},ag=(0,Pt.LL)(function(a){return{getScreenContainerElement:function(){return document.querySelector("#pscreen"+a+" .scontainer")},getSimulatorContainerElement:function(){return document.querySelector("#simulator-container")}}}),ig=function(i){return i?i.comment_permission!=="org_member"?"deny_permission":"allow":"deny"},og=(0,L.Z)((0,L.Z)((0,L.Z)({},bc.entryMap),Vo.entryMap),{},{"entry:comment:init:projectShare":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n){var e,o,s,l,p,v,M,j,Z;return(0,r.Z)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(e=n.getState,o=n.dispatch,s=e(),l=(0,re.vo)(s),p=(0,N.A)(location.pathname),!p){X.next=11;break}return v=l.cid,M=l.access_token,X.next=8,Zn.api.requestProjectShare(v,M);case 8:j=X.sent,Z=j.projectShare,o({type:"preview:set:current-projectShare",payload:{projectShare:Z}});case 11:case"end":return X.stop()}},t)}));function i(t){return a.apply(this,arguments)}return i}(),"entry:comment:init-project-data":function(){var a=(0,d.Z)((0,r.Z)().mark(function t(n){var e,o,s,l,p,v,M,j,Z,W,X,J;return(0,r.Z)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(e=n.getState,o=n.dispatch,s=e(),l=(0,re.vo)(s),p=(0,re.ts)(s),v=(0,re.cM)(s),M=l.cid,Zn.api.fetchProjectComment({projectCid:M,projectEncryptedPassword:(0,Tt.GQ)(v.access_token+"_pwd")||"",accessToken:v.access_token}).then(function(ne){var ie=ne.org,se=ne.team,Se=ne.threads,Te=ne.comments;o({type:"container:comment:commentThreads",payload:{threads:Se}}),o({type:"container:comment:comments",payload:{comments:Te}}),o({type:"screens:refresh"});var Le={isProjectAllowComment:ig(v)==="allow",projectPermissionsArray:[{user_id:l.owner_id,role:"project_owner",unsign_remark:null}],folderPermissionsArray:se&&se.permissions||[],orgPermissionsArray:ie&&ie.permissions||[]};o({type:"container:comment:loaded-project",payload:{projectCid:M,projectCommentData:Le}})}),j=!!(p!=null&&p.id),!j){te.next=16;break}return te.next=11,Zn.api.requestUserCommonGuidesData();case 11:Z=te.sent,W=Z.guide.workspace_guides,X=JSON.parse(W||"[]"),J=JSON.parse("[]"),o({type:"preview:current:update:state",payload:{previewCommonGuidesHasShown:X,previewCommonGuidesToBeShown:J}});case 16:case"end":return te.stop()}},t)}));function i(t){return a.apply(this,arguments)}return i}(),"entry:comment:screen_count_map:refresh":function(i){var t=i.getState,n=i.dispatch,e=t(),o=(0,re.zI)(e),s=lg(o);n({type:"preview:comment:update:screen_count_map",payload:{screenCommentThreadCountMap:s}})},"entry:comment-threads:update":function(i,t){var n=i.dispatch,e=i.getState,o=t.payload,s=o.cid,l=o.top,p=o.left,v=e(),M=(0,re.yB)(v),j=M.find(function(W){return W.thread_cid===s})===void 0,Z=Date.now()*.001;n({type:j?"entry:comment:comment-threads:update-local":"entry:comment:comment-threads:update",payload:{cid:s,top:l,left:p,updated_at:Z}})},"entry:comment-threads:delete":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload.cid;e({type:"entry:comment:comment-threads:delete",payload:{cid:o}});var s=n(),l=(0,re.yB)(s),p=l.find(function(v){return v.thread_cid===o});p&&e({type:"entry:comment:comments:destroy-local",payload:{cid:p.cid}})},"entry:comments:add":function(i,t){var n=i.dispatch,e=t.payload,o=e.thread_cid,s=e.message,l=Vo.getState(),p=Date.now()*.001;n({type:"entry:comment:comments:add",payload:{thread_cid:o,message:s,user_id:l.id,created_at:p,updated_at:p,user:l}}),n({type:"container:comment:focus",payload:{focusCommentThreadCid:null}})},"entry:state:push-data":function(i,t){var n=i.dispatch,e=t.payload,o=e.pushType,s=e.action,l=e.data;switch(o){case"comment-threads":{s==="update"?n({type:"entry:comment:comment-threads:update-local",payload:{data:l}}):s==="destroy"&&n({type:"entry:comment:comment-threads:destroy-local",payload:{cid:l.cid}}),n({type:"entry:comment:screen_count_map:refresh"});break}case"comments":{s==="update"?n({type:"entry:comment:comments:update-local",payload:{data:l}}):s==="destroy"&&n({type:"entry:comment:comments:destroy-local",payload:{cid:l.cid}});break}}},"entry:state:update:previewUserCommonGuidesData":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload.key,s=n(),l=(0,re.ts)(s),p=!!(l!=null&&l.id);if(p){var v=(0,re.Rp)(s),M=(0,re.N7)(s);v.push(o),v=Array.from(new Set(v)),Zn.api.updateUserCommonGuidesData(JSON.stringify(v)),M.includes(o)&&(M.splice(M.findIndex(function(j){return j===o}),1),M=Array.from(new Set(M))),e({type:"preview:current:update:state",payload:{previewCommonGuidesHasShown:v,previewCommonGuidesToBeShown:M}})}},"entry:state:update:previewCommonGuidesToBeShown":function(i,t){var n=i.getState,e=i.dispatch,o=t.payload.key,s=n(),l=(0,re.ts)(s),p=!!(l!=null&&l.id);if(p){var v=(0,re.N7)(s);if(v.includes(o))return;v.push(o),v=Array.from(new Set(v)),e({type:"preview:current:update:state",payload:{previewCommonGuidesToBeShown:v}})}}});function sg(a,i){var t=i.getState,n=i.setState,e=t();return function(o,s){return o===void 0&&(o=e),s.type!==a?o:(n(s.payload||o),t())}}var lg=function(i){return i.reduce(function(t,n){return t[n.screen_cid]=(t[n.screen_cid]||0)+1,t},{})},cg={screens:sg("reducer:screens:update",bc),user:(0,Ci.jA)("reducer:user:update",Vo)},ug={artboards:[],error:!1,isShowSplash:!1};function dg(a,i){a===void 0&&(a=ug);var t=i.type,n=i.payload;switch(t){case"reducer:artboards:success":return(0,L.Z)((0,L.Z)({},a),n);case"reducer:artboards:fail":return(0,L.Z)((0,L.Z)((0,L.Z)({},a),n),{},{error:!0});case"reducer:artboards:toggle:splash":return(0,L.Z)((0,L.Z)({},a),{},{isShowSplash:n.isShowSplash});default:return a}}var ru={activeCid:"",transition:{name:"slideleft",delay:0,duration:2e3,offset:100,callback:function(){return null}},history:[],currentScreenStateHistory:[],screenInfoMap:{},screenScrollTopMap:{},audioList:[],videoList:[],widgetStatusMap:{}};function pg(a,i){a===void 0&&(a=ru);var t=i.type,n=i.payload;switch(t){case"runner:update:state":return(0,L.Z)((0,L.Z)({},a),n);case"runner:update:scroll-top":{var e=n.screenMetaCid,o=n.scrollTop;return(0,L.Z)((0,L.Z)({},a),{},{screenScrollTopMap:(0,L.Z)((0,L.Z)({},a.screenScrollTopMap),{},{[e]:o})})}case"runner:reset:state":return ru;default:return a}}var fg={slices:[],loading:!0,error:!1};function hg(a,i){a===void 0&&(a=fg);var t=i.type,n=i.payload;switch(t){case"reducer:slice:success":return(0,L.Z)((0,L.Z)((0,L.Z)({},a),n),{},{loading:!1});case"reducer:slice:fail":return(0,L.Z)((0,L.Z)((0,L.Z)({},a),n),{},{error:!0});default:return a}}var au={resourceByScreen:{"-1":{isFetching:!1,layers:[],error:""}},selectedLayerID:-1,activeLayerID:-1,enteredLayerID:-1,isWidgetBeingExported:!1,selectedPanel:null,isInspectInPanel:!1,panelWidgetData:null,widgetStore:null,widgetLayersData:null};function vg(a,i){a===void 0&&(a=au);var t=i.type,n=i.payload;switch(t){case _l:{var e=n.screenID,o=n.data;return(0,L.Z)((0,L.Z)({},a),{},{resourceByScreen:(0,L.Z)((0,L.Z)({},a.resourceByScreen),{},{[e]:(0,L.Z)({isFetching:!1,error:void 0},o)})})}case ql:{var s=n.screenID,l=n.error;return(0,L.Z)((0,L.Z)({},a),{},{resourceByScreen:(0,L.Z)((0,L.Z)({},a.resourceByScreen),{},{[s]:{isFetching:!1,layers:[],error:l}})})}case ac:return(0,L.Z)((0,L.Z)({},a),{},{selectedLayerID:n.layerID===a.selectedLayerID?-1:n.layerID});case oc:return(0,L.Z)((0,L.Z)({},a),{},{activeLayerID:n.layerID});case sc:return(0,L.Z)((0,L.Z)({},a),{},{enteredLayerID:n.layerID});case"container:layer:update":return(0,L.Z)((0,L.Z)({},a),n);case"container:layers:clear":return au;case"container:layer:set-selectedPanel":return(0,L.Z)((0,L.Z)({},a),{},{selectedPanel:n.selectedPanel});case"container:layer:set-isInspectInPanel":return(0,L.Z)((0,L.Z)({},a),{},{isInspectInPanel:n.isInspectInPanel});case"container:layer:set-inspected-panel-state-cid":return(0,L.Z)((0,L.Z)({},a),{},{inspectedPanelStateCid:n.inspectedPanelStateCid});case"container:layer:set-widgetLayersData":return(0,L.Z)((0,L.Z)({},a),{},{widgetLayersData:n.widgetLayersData});case"container:layer:set-widgetStore":return(0,L.Z)((0,L.Z)({},a),{},{widgetStore:n.widgetStore});case"container:layer:set-panelWidgetData":return(0,L.Z)((0,L.Z)({},a),{},{panelWidgetData:n.panelWidgetData});default:return a}}var mg={rootProject:null,projectMeta:null,screenGlue:null,isPanelPreviewMode:!1,projectShare:null,previewCommonGuidesHasShown:[],previewCommonGuidesToBeShown:[],screenMetaList:[],refreshCount:0,originalScreenMetaList:[]};function gg(a,i){a===void 0&&(a=mg);var t=i.type,n=i.payload;switch(t){case"preview:current:update:state":return(0,L.Z)((0,L.Z)({},a),n);case"preview:set:root-project":return(0,L.Z)((0,L.Z)({},a),{},{rootProject:n.rootProject});case"preview:set:current-projectMeta":return(0,L.Z)((0,L.Z)({},a),{},{projectMeta:n.projectMeta});case"preview:set:current-screenGlue":return(0,L.Z)((0,L.Z)({},a),{},{screenGlue:n.screenGlue});case"preview:set:current-projectShare":return(0,L.Z)((0,L.Z)({},a),{},{projectShare:n.projectShare});case"preview:screenMetaList:set":return(0,L.Z)((0,L.Z)({},a),{},{screenMetaList:n.screenMetaList});case"preview:refreshCount:udpate":return(0,L.Z)((0,L.Z)({},a),{},{refreshCount:a.refreshCount+1});case"preview:originalScreenMetaList:update":return(0,L.Z)((0,L.Z)({},a),{},{originalScreenMetaList:n.originalScreenMetaList});default:return a}}var as={isSpaceDown:!1},yg={isDesktop:!0,isInApp:!1,isMobile:!1,isIOSClient:!1,isStandAlone:!1,isEmbedV1:!1,isHTMLZip:!1,isSquare:!1},Sg={isShowNewVersionArtboardGuide:!1},bg={previewOptions:yg,designOptions:{},guideOptions:Sg,experienceSnapshotUrlMap:new Map,offset:{x:0,y:0},currentScreenOriginOffset:{x:0,y:0},scale:100,keyFlags:as,viewport:{width:0,height:0,left:0,top:0},preference:{},previewPanelNavIndex:0,screenCommentThreadCountMap:null,panelHeight:(0,Tt.RD)("perview_layer_panel_height",window.innerHeight*.32,Tt.cM.Number),isButtonHovered:!1};function xg(a,i){a===void 0&&(a=bg);var t=i.type,n=i.payload;switch(t){case"preview:update:state":return(0,L.Z)((0,L.Z)({},a),n);case"preview:set:canvas:offset":return(0,L.Z)((0,L.Z)({},a),{},{offset:n.offset});case"preview:set:canvas:currentScreenOriginOffset":return(0,L.Z)((0,L.Z)({},a),{},{currentScreenOriginOffset:n.currentScreenOriginOffset});case"preview:set:scale":return(0,L.Z)((0,L.Z)({},a),{},{scale:n.scale});case"preview:set:key:flags":return(0,L.Z)((0,L.Z)({},a),{},{keyFlags:(0,L.Z)((0,L.Z)({},as),n)});case"preview:reset:key:flags":return(0,L.Z)((0,L.Z)({},a),{},{keyFlags:as});case"preview:scrollbar:viewport":return(0,L.Z)((0,L.Z)({},a),{},{viewport:n});case"preview:previewPanel:navindex":return(0,L.Z)((0,L.Z)({},a),{},{previewPanelNavIndex:n.previewPanelNavIndex});case"preview:update:preference":return(0,L.Z)((0,L.Z)({},a),{},{preference:(0,L.Z)((0,L.Z)({},a.preference),n)});case"preview:comment:update:screen_count_map":return(0,L.Z)((0,L.Z)({},a),{},{screenCommentThreadCountMap:n.screenCommentThreadCountMap||null});case"preview:panel:set:height":{var e=n.panelHeight;return(0,Tt.iO)("perview_layer_panel_height",e,Tt.cM.Number),(0,L.Z)((0,L.Z)({},a),{},{panelHeight:e})}case"preview:panel:set:isButtonHovered":return(0,L.Z)((0,L.Z)({},a),{},{isButtonHovered:n.isButtonHovered});case"preview:update:guideOptions":return(0,L.Z)((0,L.Z)({},a),{},{guideOptions:(0,L.Z)((0,L.Z)({},a.guideOptions),n)});default:return a}}var Cg={ratio:1,emPixel:16,unit:"px",colorUnit:"hex",language:"css",toolbarActiveItem:Sn.c6,isShowColorPicker:!1,isSelectLayer:!1,userPickColor:(0,Pt.$5)(),focusColor:null,isFullScreenMode:!1,simulatorType:"device",isShowShell:!0,isStickyShow:!0,isStickyAvailable:!0,isHighlight:!0,isStatePanelShow:!0,isOutsideVisible:!1,isShowOutsideArtboardNav:!1,isMinimized:!1,isShowOfflineModal:!1,isAppOffline:!1,isAppCacheNeedUpToDate:!1,appVeresion:"",isDummyApk:!1};function wg(a,i){a===void 0&&(a=Cg);var t=i.type,n=i.payload;switch(t){case"reducer:preview-toolbar:update":return(0,L.Z)((0,L.Z)({},a),n);case"reducer:preview-toolbar:fullscreen":return(0,L.Z)((0,L.Z)({},a),{},{isFullScreenMode:n.isFullScreenMode});case"reducer:preview-toolbar:update:highlight":return(0,L.Z)((0,L.Z)({},a),{},{isHighlight:n.isHighlight});default:return a}}var iu={preOpenHyperlinkModal:{isOpen:!1},orgRightsAndInterestsModal:{isOpen:!1,beyondType:"MaxSharingCount"},orgfullBeyondNoticeModal:{isOpen:!1,type:"MaxSharingCount"}};function Eg(a,i){a===void 0&&(a=iu);var t=i.type,n=i.payload;switch(t){case"previewModal:update:state":return(0,L.Z)((0,L.Z)({},a),n);case"previewModal:reset:state":return iu;default:return a}}var Ag={annotateHoverCid:null,annotateSelectWidgetCid:"",annotatePanelShow:!0,annotatePanelWidth:On.ou};function Mg(a,i){a===void 0&&(a=Ag);var t=i.type,n=i.payload;switch(t){case"reducer:set:update:preview:annotate":return(0,L.Z)((0,L.Z)({},a),n);case"reducer:set:annotateHoverCid":return(0,L.Z)((0,L.Z)({},a),{},{annotateHoverCid:n.annotateHoverCid});case"reducer:set:annotateSelectWidgetCid":return(0,L.Z)((0,L.Z)({},a),{},{annotateSelectWidgetCid:n.annotateSelectWidgetCid});case"reducer:toggle:annotatePanelShow":return(0,L.Z)((0,L.Z)({},a),{},{annotatePanelShow:!a.annotatePanelShow});default:return a}}var Pg={isShowSharingManager:!1};function Tg(a,i){a===void 0&&(a=Pg);var t=i.type,n=i.payload;switch(t){case"preview:sharingManager:udpate:state":return(0,L.Z)((0,L.Z)({},a),n);default:return a}}var Ig={current:gg,common:xg,comment:eg,layers:vg,modals:Eg,slices:hg,artboards:dg,previewSetting:wg,runner:pg,annotatePanel:Mg,sharingManager:Tg},Og=(0,Ev.Uo)({}),Dg=function(){var a=(0,L.Z)((0,L.Z)({},og),rm),i={model:(0,La.combineReducers)(cg),container:(0,La.combineReducers)(Ig)},t=(0,Ci.gk)(),n=t.middleware,e=t.setEntryMap;e(a);var o=(0,La.createStore)((0,La.combineReducers)(i),Og((0,La.applyMiddleware)(n)));return{store:o}},Lg=c(25460),Ng=function(i){var t=function(n){(0,O.Z)(o,n);var e=(0,T.Z)(o);function o(s){var l;(0,I.Z)(this,o),l=e.call(this,s);var p=s.previewMode,v=s.projectAlike,M=s.screenGlue,j=s.projectMeta,Z=s.screenMeta,W=s.isPanelPreviewMode,X=MB.webpackInterface.store.getState().container.current.rootProject;return MB.currentProject=X||v,MB.currentProjectMeta=j,MB.currentScreenGlue=M,MB.getCurrentProjectMeta||(MB.getCurrentProjectMeta=function(){return MB.currentProjectMeta}),MB.runnerController.init({projectAlike:v,projectMeta:j,screenGlue:M,screenMeta:Z,rootProject:X},p,W),l}return(0,S.Z)(o,[{key:"componentWillUnmount",value:function(){MB.runnerController.clear()}},{key:"render",value:function(){var l=this.props.store,p=(0,re.gh)(l.getState());return(0,g.jsx)(U.Provider,{store:l,children:(0,g.jsx)(ze.ThemeProvider,{theme:Lg.Z[p],children:(0,g.jsx)(i,{})})})}}]),o}(h.PureComponent);return(0,f.Z)(t,"propTypes",{store:u().object.isRequired,previewMode:u().string,isPanelPreviewMode:u().bool,projectAlike:u().object.isRequired,projectMeta:u().object.isRequired,screenGlue:u().object.isRequired,screenMeta:u().object.isRequired}),t},Rg=function(i){var t=Dg(),n=wv(),e=new bv(t,n,MB.f),o=Ng(i);return{runnerController:e,messageBucket:n,webpackInterface:t,PreviewApp:o}},is=c(95534),ou=document.getElementById("workspace"),jg=(0,ze.createGlobalStyle)([".btn-list{display:flex;flex-direction:row-reverse;justify-content:center;.primary{margin-left:20px;}.regular{margin-left:0 !important;}}"]),G1=function(){var a=(0,d.Z)((0,r.Z)().mark(function i(t){var n,e,o,s,l,p,v;return(0,r.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,j.next=3,(0,En.EE)("/api/web/v3/initial");case 3:v=j.sent,p=v.user,j.next=13;break;case 7:j.prev=7,j.t0=j.catch(0),e=function(){b.render((0,g.jsx)(is.Z,{isOpen:!0,type:"signin",source:"proto-org-preview",onConfirm:function(){return location.reload()}}),document.getElementById("IBOT_MODAL_ROOT"))},o="\u767B\u5F55",l=function(){b.render((0,g.jsx)(is.Z,{isOpen:!0,type:"signup",source:"proto-org-preview",onConfirm:function(){return location.reload()}}),document.getElementById("IBOT_MODAL_ROOT"))},s="\u6CE8\u518C";case 13:b.render((0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(jg,{}),(0,g.jsx)(P.Z,{errorType:t.status||401,identity:1,account:(n=p)==null?void 0:n.email,primaryBtnText:o,primaryBtnClick:e,secondaryBtnText:s,secondaryBtnClick:l})]}),ou);case 14:case"end":return j.stop()}},i,null,[[0,7]])}));return function(t){return a.apply(this,arguments)}}(),V1=function(){var a=(0,d.Z)((0,r.Z)().mark(function i(t){var n,e,o,s,l,p,v,M;return(0,r.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return v=window.location.host,Z.prev=1,Z.next=4,(0,En.EE)("/api/web/v3/initial");case 4:M=Z.sent,p=M.user,Z.next=14;break;case 8:Z.prev=8,Z.t0=Z.catch(1),e=function(){(0,fr.gn)("https://"+v+"/embed/auth_box?type=signin&entry=b13&entry_term=login_btn","_blank","noreferrer")},o="\u767B\u5F55",l=function(){(0,fr.gn)("https://"+v+"/embed/auth_box?type=signup&entry=b13&entry_term=login_btn","_blank","noreferrer")},s="\u6CE8\u518C";case 14:b.render((0,g.jsx)(P.Z,{errorType:t.status||401,identity:1,account:(n=p)==null?void 0:n.email,primaryBtnText:o,primaryBtnClick:e,secondaryBtnText:s,secondaryBtnClick:l,isLogoClickable:!1}),ou);case 15:case"end":return Z.stop()}},i,null,[[1,8]])}));return function(t){return a.apply(this,arguments)}}(),kg=function(i,t){var n="";i==="zh-CN"?n="/":i==="jp"?n="https://mockitt.wondershare.jp":n="https://mockitt.wondershare.com",setTimeout(function(){return(0,C.U1)("enter_home_page",{source:t})}),window.top!==window.self?window.top.location.replace(n):location.replace(n)},Bg=c(75985),Zg=c.n(Bg),Fg=c(27444),su=c(14530),Ug=c(7854),Hg=c(38371),tr=c(21989);function Wg(a){return Gg(a)||$g(a)||cu(a)||zg()}function zg(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $g(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Gg(a){if(Array.isArray(a))return os(a)}function lu(a,i){var t=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!t){if(Array.isArray(a)||(t=cu(a))||i&&a&&typeof a.length=="number"){t&&(a=t);var n=0,e=function(){};return{s:e,n:function(){return n>=a.length?{done:!0}:{done:!1,value:a[n++]}},e:function(v){throw v},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=!0,s=!1,l;return{s:function(){t=t.call(a)},n:function(){var v=t.next();return o=v.done,v},e:function(v){s=!0,l=v},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(s)throw l}}}}function cu(a,i){if(a){if(typeof a=="string")return os(a,i);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return os(a,i)}}function os(a,i){(i==null||i>a.length)&&(i=a.length);for(var t=0,n=new Array(i);t<i;t++)n[t]=a[t];return n}function Qt(){"use strict";Qt=function(){return a};var a={},i=Object.prototype,t=i.hasOwnProperty,n=Object.defineProperty||function(de,ue,ge){de[ue]=ge.value},e=typeof Symbol=="function"?Symbol:{},o=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",l=e.toStringTag||"@@toStringTag";function p(de,ue,ge){return Object.defineProperty(de,ue,{value:ge,enumerable:!0,configurable:!0,writable:!0}),de[ue]}try{p({},"")}catch(de){p=function(ge,$e,Ye){return ge[$e]=Ye}}function v(de,ue,ge,$e){var Ye=ue&&ue.prototype instanceof Z?ue:Z,Xe=Object.create(Ye.prototype),ut=new nt($e||[]);return n(Xe,"_invoke",{value:Se(de,ge,ut)}),Xe}function M(de,ue,ge){try{return{type:"normal",arg:de.call(ue,ge)}}catch($e){return{type:"throw",arg:$e}}}a.wrap=v;var j={};function Z(){}function W(){}function X(){}var J={};p(J,o,function(){return this});var _=Object.getPrototypeOf,te=_&&_(_(it([])));te&&te!==i&&t.call(te,o)&&(J=te);var ne=X.prototype=Z.prototype=Object.create(J);function ie(de){["next","throw","return"].forEach(function(ue){p(de,ue,function(ge){return this._invoke(ue,ge)})})}function se(de,ue){function ge(Ye,Xe,ut,dt){var mt=M(de[Ye],de,Xe);if(mt.type!=="throw"){var Nt=mt.arg,Bt=Nt.value;return Bt&&typeof Bt=="object"&&t.call(Bt,"__await")?ue.resolve(Bt.__await).then(function(Wt){ge("next",Wt,ut,dt)},function(Wt){ge("throw",Wt,ut,dt)}):ue.resolve(Bt).then(function(Wt){Nt.value=Wt,ut(Nt)},function(Wt){return ge("throw",Wt,ut,dt)})}dt(mt.arg)}var $e;n(this,"_invoke",{value:function(Xe,ut){function dt(){return new ue(function(mt,Nt){ge(Xe,ut,mt,Nt)})}return $e=$e?$e.then(dt,dt):dt()}})}function Se(de,ue,ge){var $e="suspendedStart";return function(Ye,Xe){if($e==="executing")throw new Error("Generator is already running");if($e==="completed"){if(Ye==="throw")throw Xe;return ct()}for(ge.method=Ye,ge.arg=Xe;;){var ut=ge.delegate;if(ut){var dt=Te(ut,ge);if(dt){if(dt===j)continue;return dt}}if(ge.method==="next")ge.sent=ge._sent=ge.arg;else if(ge.method==="throw"){if($e==="suspendedStart")throw $e="completed",ge.arg;ge.dispatchException(ge.arg)}else ge.method==="return"&&ge.abrupt("return",ge.arg);$e="executing";var mt=M(de,ue,ge);if(mt.type==="normal"){if($e=ge.done?"completed":"suspendedYield",mt.arg===j)continue;return{value:mt.arg,done:ge.done}}mt.type==="throw"&&($e="completed",ge.method="throw",ge.arg=mt.arg)}}}function Te(de,ue){var ge=ue.method,$e=de.iterator[ge];if($e===void 0)return ue.delegate=null,ge==="throw"&&de.iterator.return&&(ue.method="return",ue.arg=void 0,Te(de,ue),ue.method==="throw")||ge!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+ge+"' method")),j;var Ye=M($e,de.iterator,ue.arg);if(Ye.type==="throw")return ue.method="throw",ue.arg=Ye.arg,ue.delegate=null,j;var Xe=Ye.arg;return Xe?Xe.done?(ue[de.resultName]=Xe.value,ue.next=de.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=void 0),ue.delegate=null,j):Xe:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,j)}function Le(de){var ue={tryLoc:de[0]};1 in de&&(ue.catchLoc=de[1]),2 in de&&(ue.finallyLoc=de[2],ue.afterLoc=de[3]),this.tryEntries.push(ue)}function ke(de){var ue=de.completion||{};ue.type="normal",delete ue.arg,de.completion=ue}function nt(de){this.tryEntries=[{tryLoc:"root"}],de.forEach(Le,this),this.reset(!0)}function it(de){if(de){var ue=de[o];if(ue)return ue.call(de);if(typeof de.next=="function")return de;if(!isNaN(de.length)){var ge=-1,$e=function Ye(){for(;++ge<de.length;)if(t.call(de,ge))return Ye.value=de[ge],Ye.done=!1,Ye;return Ye.value=void 0,Ye.done=!0,Ye};return $e.next=$e}}return{next:ct}}function ct(){return{value:void 0,done:!0}}return W.prototype=X,n(ne,"constructor",{value:X,configurable:!0}),n(X,"constructor",{value:W,configurable:!0}),W.displayName=p(X,l,"GeneratorFunction"),a.isGeneratorFunction=function(de){var ue=typeof de=="function"&&de.constructor;return!!ue&&(ue===W||(ue.displayName||ue.name)==="GeneratorFunction")},a.mark=function(de){return Object.setPrototypeOf?Object.setPrototypeOf(de,X):(de.__proto__=X,p(de,l,"GeneratorFunction")),de.prototype=Object.create(ne),de},a.awrap=function(de){return{__await:de}},ie(se.prototype),p(se.prototype,s,function(){return this}),a.AsyncIterator=se,a.async=function(de,ue,ge,$e,Ye){Ye===void 0&&(Ye=Promise);var Xe=new se(v(de,ue,ge,$e),Ye);return a.isGeneratorFunction(ue)?Xe:Xe.next().then(function(ut){return ut.done?ut.value:Xe.next()})},ie(ne),p(ne,l,"Generator"),p(ne,o,function(){return this}),p(ne,"toString",function(){return"[object Generator]"}),a.keys=function(de){var ue=Object(de),ge=[];for(var $e in ue)ge.push($e);return ge.reverse(),function Ye(){for(;ge.length;){var Xe=ge.pop();if(Xe in ue)return Ye.value=Xe,Ye.done=!1,Ye}return Ye.done=!0,Ye}},a.values=it,nt.prototype={constructor:nt,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ke),!ue)for(var ge in this)ge.charAt(0)==="t"&&t.call(this,ge)&&!isNaN(+ge.slice(1))&&(this[ge]=void 0)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var ge=this;function $e(Nt,Bt){return ut.type="throw",ut.arg=ue,ge.next=Nt,Bt&&(ge.method="next",ge.arg=void 0),!!Bt}for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var Xe=this.tryEntries[Ye],ut=Xe.completion;if(Xe.tryLoc==="root")return $e("end");if(Xe.tryLoc<=this.prev){var dt=t.call(Xe,"catchLoc"),mt=t.call(Xe,"finallyLoc");if(dt&&mt){if(this.prev<Xe.catchLoc)return $e(Xe.catchLoc,!0);if(this.prev<Xe.finallyLoc)return $e(Xe.finallyLoc)}else if(dt){if(this.prev<Xe.catchLoc)return $e(Xe.catchLoc,!0)}else{if(!mt)throw new Error("try statement without catch or finally");if(this.prev<Xe.finallyLoc)return $e(Xe.finallyLoc)}}}},abrupt:function(ue,ge){for(var $e=this.tryEntries.length-1;$e>=0;--$e){var Ye=this.tryEntries[$e];if(Ye.tryLoc<=this.prev&&t.call(Ye,"finallyLoc")&&this.prev<Ye.finallyLoc){var Xe=Ye;break}}Xe&&(ue==="break"||ue==="continue")&&Xe.tryLoc<=ge&&ge<=Xe.finallyLoc&&(Xe=null);var ut=Xe?Xe.completion:{};return ut.type=ue,ut.arg=ge,Xe?(this.method="next",this.next=Xe.finallyLoc,j):this.complete(ut)},complete:function(ue,ge){if(ue.type==="throw")throw ue.arg;return ue.type==="break"||ue.type==="continue"?this.next=ue.arg:ue.type==="return"?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):ue.type==="normal"&&ge&&(this.next=ge),j},finish:function(ue){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var $e=this.tryEntries[ge];if($e.finallyLoc===ue)return this.complete($e.completion,$e.afterLoc),ke($e),j}},catch:function(ue){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var $e=this.tryEntries[ge];if($e.tryLoc===ue){var Ye=$e.completion;if(Ye.type==="throw"){var Xe=Ye.arg;ke($e)}return Xe}}throw new Error("illegal catch attempt")},delegateYield:function(ue,ge,$e){return this.delegate={iterator:it(ue),resultName:ge,nextLoc:$e},this.method==="next"&&(this.arg=void 0),j}},a}function uu(a,i,t,n,e,o,s){try{var l=a[o](s),p=l.value}catch(v){t(v);return}l.done?i(p):Promise.resolve(p).then(n,e)}function Xn(a){return function(){var i=this,t=arguments;return new Promise(function(n,e){var o=a.apply(i,t);function s(p){uu(o,n,e,s,l,"next",p)}function l(p){uu(o,n,e,s,l,"throw",p)}s(void 0)})}}var Vg=function(){var a=Xn(Qt().mark(function i(t){var n,e,o,s,l,p,v,M,j;return Qt().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(n=t.projectMetaCid,e=t.projectMetaType,o=t.screenMetaCidList,s=t.projectBasicEncryptedPassword,l=t.accessToken,p=l===void 0?"":l,o.length!==0){W.next=3;break}return W.abrupt("return",[]);case 3:return v="/project-buffer/"+(0,Ii.bL)(e)+"/all/"+n+"?password="+s+"&access_token="+p,W.next=6,(0,tr.n3)(v,{localKeyList:o});case 6:return M=W.sent,W.next=9,(0,Ug.Of)({projectBufferData:M,parseConcatGzipDataToObjectList:Hg._D,projectMetaType:e});case 9:return j=W.sent,W.abrupt("return",j);case 12:case"end":return W.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),va=function(){var a=Xn(Qt().mark(function i(t){var n,e,o,s,l,p,v,M,j,Z;return Qt().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:n=t.projectMetaList,e=t.screenMetaList,o=t.projectBasicEncryptedPassword,s=o===void 0?"":o,l=t.accessToken,p=l===void 0?"":l,v=[],M=lu(n),X.prev=3,Z=Qt().mark(function J(){var _,te,ne,ie,se,Se;return Qt().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:_=j.value,te=e.filter(function(ke){return ke.project_meta_cid===_.cid}).map(function(ke){return ke.cid}),te.length>2048&&console.warn("[fdPSOL] big proj: "+te.length),ne=(0,Fg.eO)(te,1024),ie=lu(ne),Le.prev=5,ie.s();case 7:if((se=ie.n()).done){Le.next=19;break}return Se=se.value,Le.t0=v.push,Le.t1=v,Le.t2=Wg,Le.next=14,Vg({projectMetaCid:_.cid,projectMetaType:_.type,screenMetaCidList:Se,projectBasicEncryptedPassword:s,accessToken:p});case 14:Le.t3=Le.sent,Le.t4=(0,Le.t2)(Le.t3),Le.t0.apply.call(Le.t0,Le.t1,Le.t4);case 17:Le.next=7;break;case 19:Le.next=24;break;case 21:Le.prev=21,Le.t5=Le.catch(5),ie.e(Le.t5);case 24:return Le.prev=24,ie.f(),Le.finish(24);case 27:case"end":return Le.stop()}},J,null,[[5,21,24,27]])}),M.s();case 6:if((j=M.n()).done){X.next=10;break}return X.delegateYield(Z(),"t0",8);case 8:X.next=6;break;case 10:X.next=15;break;case 12:X.prev=12,X.t1=X.catch(3),M.e(X.t1);case 15:return X.prev=15,M.f(),X.finish(15);case 18:return X.abrupt("return",v);case 19:case"end":return X.stop()}},i,null,[[3,12,15,18]])}));return function(t){return a.apply(this,arguments)}}(),K1=function(){var a=Xn(Qt().mark(function i(t){var n,e,o,s,l,p,v,M;return Qt().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return n=t.userLocale,Z.next=3,(0,tr.EE)("/api/library/v3/project_upper/user_combo_groups");case 3:return e=Z.sent,o=e.user_combo_groups,s=e.screen_aligns,l=e.project_metas,p=e.screen_glues,v=e.screen_metas,console.log("[fdUSG] pm#"+l.length+" sg#"+p.length+" sm#"+v.length+" | ucg#"+o.length+" sa#"+s.length),Z.next=12,va({projectMetaList:l,screenMetaList:v});case 12:return M=Z.sent,Z.abrupt("return",{userComboGroupList:o,screenAlignList:s,projectMetaList:l,screenGlueList:p,screenMetaList:v,projectScreenObjectList:M});case 14:case"end":return Z.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),Y1=function(){var a=Xn(Qt().mark(function i(t){var n,e,o,s,l,p,v,M,j;return Qt().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return n=t.projectBasicCid,e=t.userLocale,W.next=3,(0,tr.EE)("/api/upper/web_v1/basics/"+n);case 3:return o=W.sent,s=o.project_basic,l=o.screen_aligns,p=o.project_metas,v=o.screen_glues,M=o.screen_metas,console.log("[fdPB] pm#"+p.length+" sg#"+v.length+" sm#"+M.length+" | sa#"+l.length),W.next=12,va({projectMetaList:p,screenMetaList:M});case 12:return j=W.sent,W.abrupt("return",{projectBasic:s,screenAlignList:l,projectMetaList:p,screenGlueList:v,screenMetaList:M,projectScreenObjectList:j});case 14:case"end":return W.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),Kg=function(){var a=Xn(Qt().mark(function i(t){var n,e,o,s,l,p,v,M,j,Z,W,X,J,_;return Qt().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return n=t.projectBasicAccessToken,e=t.projectBasicEncryptedPassword,o=e===void 0?"":e,s=t.userLocale,l=t.projectVersion,ne.next=3,(0,tr.EE)("/api/upper/web_v1/basics/"+n+"?password="+o+(l?"&version="+l:""));case 3:return p=ne.sent,v=p.project_basic,M=p.screen_aligns,j=p.project_metas,Z=p.screen_glues,W=p.screen_metas,X=Z.find(function(ie){return ie.type===Ii._H.PROJECT_TRASHCAN}),J=X?W.filter(function(ie){return ie.screen_glue_cid!==X.cid}):W,console.log("[fdPB+] pm#"+j.length+" sg#"+Z.length+" sm#"+W.length+"/"+J.length+" | sa#"+M.length),ne.next=14,va({projectMetaList:j,screenMetaList:J,projectBasicEncryptedPassword:o,accessToken:n});case 14:return _=ne.sent,ne.abrupt("return",{projectBasic:v,screenAlignList:M,projectMetaList:j,screenGlueList:Z,screenMetaList:J,projectScreenObjectList:_});case 16:case"end":return ne.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),X1=function(){var a=Xn(Qt().mark(function i(t){var n,e,o,s,l,p,v,M,j,Z,W;return Qt().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return n=t.projectBasicAccessToken,e=t.projectBasicEncryptedPassword,o=e===void 0?"":e,s=t.userLocale,J.next=3,(0,tr.EE)("/api/upper/web_v1/basics/"+n+"?password="+o);case 3:return l=J.sent,p=l.project_basic,v=l.screen_aligns,M=l.project_metas,j=l.screen_glues,Z=l.screen_metas,console.log("[fdPBbAT] pm#"+M.length+" sg#"+j.length+" sm#"+Z.length+" | sa#"+v.length),J.next=12,va({projectMetaList:M,screenMetaList:Z,projectBasicEncryptedPassword:o,accessToken:n});case 12:return W=J.sent,J.abrupt("return",{projectBasic:p,screenAlignList:v,projectMetaList:M,screenGlueList:j,screenMetaList:Z,projectScreenObjectList:W});case 14:case"end":return J.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),Q1=function(){var a=Xn(Qt().mark(function i(t){var n,e,o,s,l,p,v,M,j,Z;return Qt().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return n=t.projectUpperCid,e=t.isFromIframe,o=e===void 0?!1:e,X.next=3,(0,tr.EE)("/api/community/v1/market_template/"+n+(o?"?is_from_iframe=true":""));case 3:return s=X.sent,l=s.market_template,p=s.screen_aligns,v=s.project_metas,M=s.screen_glues,j=s.screen_metas,console.log("[fdMT] pm#"+v.length+" sg#"+M.length+" sm#"+j.length+" | sa#"+p.length),X.next=12,va({projectMetaList:v,screenMetaList:j});case 12:return Z=X.sent,X.abrupt("return",{projectUpper:l,screenAlignList:p,projectMetaList:v,screenGlueList:M,screenMetaList:j,projectScreenObjectList:Z});case 14:case"end":return X.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),J1=function(){var a=Xn(Qt().mark(function i(t){var n,e,o,s,l,p,v;return Qt().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return n=t.projectUpperCid,e=t.isFromIframe,o=e===void 0?1:e,j.next=3,(0,tr.EE)("/api/community/v1/market_template/"+n+(o?"?is_from_iframe=true":""));case 3:return s=j.sent,l=s.data,p=s.market_template,v=s.project_metas,j.abrupt("return",{screenMetaList:l,projectUpper:p,projectMetaList:v});case 8:case"end":return j.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),_1=function(){var a=Xn(Qt().mark(function i(t){var n,e,o,s,l,p,v,M;return Qt().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return n=t.projectUpperCid,Z.next=3,(0,tr.EE)("/api/community/v1/reviewable_project/"+n);case 3:return e=Z.sent,o=e.reviewable_project,s=e.screen_aligns,l=e.project_metas,p=e.screen_glues,v=e.screen_metas,console.log("[fdRP] pm#"+l.length+" sg#"+p.length+" sm#"+v.length+" | sa#"+s.length),Z.next=12,va({projectMetaList:l,screenMetaList:v});case 12:return M=Z.sent,Z.abrupt("return",{projectUpper:o,screenAlignList:s,projectMetaList:l,screenGlueList:p,screenMetaList:v,projectScreenObjectList:M});case 14:case"end":return Z.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),q1=function(){var a=Xn(Qt().mark(function i(t){var n,e,o,s,l;return Qt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return n=t.projectUpperCid,v.next=3,(0,tr.EE)("/api/community/v1/reviewable_project/"+n);case 3:return e=v.sent,o=e.reviewable_project,s=e.screen_aligns,l=e.project_metas,v.abrupt("return",{projectUpper:o,projectMetaList:l,screenAlignList:s});case 8:case"end":return v.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),eM=function(){var a=Xn(Qt().mark(function i(t){var n,e,o,s,l,p,v,M;return Qt().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return n=t.projectUpperCid,Z.next=3,(0,tr.EE)("/api/upper/web_v1/product/"+n);case 3:return e=Z.sent,o=e.product,s=e.screen_aligns,l=e.project_metas,p=e.screen_glues,v=e.screen_metas,console.log("[fdCP] pm#"+l.length+" sg#"+p.length+" sm#"+v.length+" | sa#"+s.length),Z.next=12,va({projectMetaList:l,screenMetaList:v});case 12:return M=Z.sent,Z.abrupt("return",{projectUpper:o,screenAlignList:s,projectMetaList:l,screenGlueList:p,screenMetaList:v,projectScreenObjectList:M});case 14:case"end":return Z.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),tM=function(){var a=Xn(Qt().mark(function i(t,n){var e,o,s,l,p,v,M,j,Z,W,X,J,_,te,ne,ie,se,Se,Te;return Qt().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return e=t.teamCid,o=t.userLocale,s=n.name,l=n.type,p=n.attr,v=p===void 0?{}:p,M=n.device,j=n.model,Z=n.width,W=n.height,X=n.subProject,J=n.zboardTag,_=n.visibility,te=su.eM,ke.next=5,(0,tr.Gf)("/project-buffer/"+l+"/check-init/project-upper?upperType="+te,{presetOption:{locale:o,name:s,type:l,device:M,model:j,width:Z,height:W},railsExtra:{team_cid:e,visibility:_,name:s,type:l,attr:v,device:M,model:j,width:Z,height:W,subProject:X,zboardTag:J}});case 5:return ne=ke.sent,ie=ne.userId,se=ne.upperCid,Se=ne.zboardTabs,Te=ne.projectMetaCid,ke.abrupt("return",{userId:ie,upperCid:se,upperType:te,zboardTabs:Se,projectMetaCid:Te});case 11:case"end":return ke.stop()}},i)}));return function(t,n){return a.apply(this,arguments)}}(),nM=function(){var a=Xn(Qt().mark(function i(t){var n,e,o,s,l,p,v,M;return Qt().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return n=t.projectBasicCid,e=t.projectBasicType,o=t.teamCid,s=su.eM,Z.next=4,(0,tr.Gf)("/project-buffer/"+e+"/check-duplicate/project-upper?upperAction=duplicate-project-basic&upperCid="+n,{railsExtra:{team_cid:o}});case 4:return l=Z.sent,p=l.userId,v=l.upperCid,M=l.projectMetaCid,Z.abrupt("return",{userId:p,upperCid:v,upperType:s,projectMetaCid:M});case 9:case"end":return Z.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),rM=function(){var a=Xn(Qt().mark(function i(t){var n,e,o,s,l,p,v,M,j,Z,W,X;return Qt().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return n=t.upperCid,e=t.projectMetaCid,o=t.projectMetaType,s=t.screenGlueCid,l=t.screenMetaCidList,p=t.screenGlueCidList,v=p===void 0?[]:p,M=t.nextUpperCid,j=t.nextProjectMetaCid,Z=t.nextScreenGlueCid,_.next=3,(0,tr.Gf)("/project-buffer/"+o+"/check-transfer/screen-meta?upperCid="+n,{projectMetaCid:e,screenGlueCid:s,screenMetaCidList:l,screenGlueCidList:v,nextUpperCid:M,nextProjectMetaCid:j,nextScreenGlueCid:Z});case 3:return W=_.sent,X=W.userId,_.abrupt("return",{userId:X,upperCid:n,nextUpperCid:M});case 6:case"end":return _.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),aM=function(){var a=Xn(Qt().mark(function i(t){var n,e,o,s;return Qt().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return n=t.encryptedPassword,e=t.accessToken,p.next=3,(0,tr.Gf)("/nodekiq/build-html-zip",{encryptedPassword:n,accessToken:e});case 3:return o=p.sent,s=o.urlHtmlZip,p.abrupt("return",{urlHtmlZip:s});case 6:case"end":return p.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),iM=function(){var a=Xn(Qt().mark(function i(t){var n,e,o,s;return Qt().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return n=t.encryptedPassword,e=t.accessToken,p.next=3,(0,tr.Gf)("/nodekiq/build-apk",{encryptedPassword:n,accessToken:e});case 3:return o=p.sent,s=o.urlApk,p.abrupt("return",{urlApk:s});case 6:case"end":return p.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),du=c(43985),Yg={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1},oM=function(){var a=(0,d.Z)((0,r.Z)().mark(function i(){return(0,r.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{projectShare:Yg});case 1:case"end":return n.stop()}},i)}));return function(){return a.apply(this,arguments)}}(),sM=function(i){var t=i.isVersions;return{requestPreviewSetting:fu,requestPreviewInitialData:pu,requestPreviewEmbedInitial:hu,requestProjectFullDataByAccessToken:vu,requestSketchArtboardList:mu,requestSketchArtboardById:gu,requestSliceByArtboardId:yu,requestSliceZipByArtboardId:Su,checkSharingPermission:bu,fetchProjectComment:xu,fetchProjectScreenCommentThreadCountMap:Cu,requestProjectShare:t?requestProjectShareVersion:requestProjectSharePreview,requestUserCommonGuidesData:Xg,updateUserCommonGuidesData:Qg,fetchCreateCommentThread:wu,fetchCreateComment:Eu,fetchDeleteCommentThread:Au,fetchDeleteComment:Mu,updateProjectBasicsInfo:Jg}},Xg=function(){return fetchGetJSON("/api/web/v3/guide/guide_data")},Qg=function(i){return fetchPutHead("/api/web/v3/guide/workspace_guides",{guide:{workspace_guides:i}})},pu=function(){var a=(0,d.Z)((0,r.Z)().mark(function i(t){var n,e,o;return(0,r.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n=t.projectAccessToken,e=t.projectEncryptedPassword,o=e?"&password="+e:"",l.abrupt("return",(0,En.EE)("/api/upper/web_v1/preview/initial?access_token="+n+o));case 3:case"end":return l.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),fu=function(i){var t=i.projectAccessToken,n=i.password;return(0,En.EE)("/api/upper/web_v1/preview/setting?access_token="+t+"&password="+(n||""))},hu=function(i){var t=i.projectAccessToken;return(0,En.EE)("/api/upper/web_v1/preview/embed_initial?access_token="+t)},vu=function(){var a=(0,d.Z)((0,r.Z)().mark(function i(t){var n,e,o,s,l,p,v,M,j,Z,W,X;return(0,r.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return n=t.projectAccessToken,e=t.projectEncryptedPassword,o=t.userLocale,s=t.projectVersion,_.next=3,Kg({projectBasicAccessToken:n,projectBasicEncryptedPassword:e,userLocale:o,projectVersion:s});case 3:if(l=_.sent,l){_.next=6;break}return _.abrupt("return");case 6:p=(0,F.Z)(l.projectMetaList,1),v=p[0],M=l.screenGlueList,j=l.screenMetaList,Z=l.projectScreenObjectList,W=l.projectBasic,X=l.screenAlignList;try{j.length>=3500&&((0,w.n_)({level:"warning",message:"pb="+W.cid+" pm="+v.cid+" sg#"+M.length+" sm#"+j.length+" pso#"+Z.length}),(0,w.uT)("\u9884\u89C8\u5927\u9879\u76EE "+new Date().toISOString().slice(0,7)))}catch(te){console.error(te)}return _.abrupt("return",{projectMeta:v,screenGlueList:M,screenMetaList:j,projectScreenObjectList:Z,projectBasic:W,screenAlignList:X});case 9:case"end":return _.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),mu=function(i){return(0,En.EE)("/api/upper/web_v1/artboards?project_cid="+i)},gu=function(i){return(0,En.EE)("/api/upper/web_v1/artboards/layers?artboard_id="+i)},yu=function(i){return(0,En.EE)("/api/upper/web_v1/artboards/slices_json?artboard_id="+i)},Su=function(i){var t=i.artboardId,n=i.encryptedPassword;return(0,En.EE)("/api/upper/web_v1/artboards/slices_zip?artboard_id="+t+"&encrypted_password="+n)},bu=function(){var a=(0,d.Z)((0,r.Z)().mark(function i(t){var n,e;return(0,r.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,En.EE)("/api/accesses/v4/project/"+t+"/permission_check?permission=P:update");case 3:return n=s.sent,e=n.result,s.abrupt("return",e);case 8:return s.prev=8,s.t0=s.catch(0),s.abrupt("return",!1);case 11:case"end":return s.stop()}},i,null,[[0,8]])}));return function(t){return a.apply(this,arguments)}}(),xu=function(i){var t=i.projectCid,n=i.projectEncryptedPassword,e=i.accessToken;return(0,En.EE)("/api/proto7/web_v1/comments?project_cid="+t+"&password="+(n||"")+"&access_token="+e)},Cu=function(i){var t=i.projectAccessToken,n=i.projectEncryptedPassword;return(0,En.EE)("/api/upper/web_v1/preview/"+t+"/screen_comments_thread_count_map?encrypted_password="+(n||""))},wu=function(i){return(0,En._Z)("/api/proto7/web_v1/commentthreads/"+i.cid,(0,L.Z)({},i))},Eu=function(i){return(0,En._Z)("/api/proto7/web_v1/comments/"+i.cid,(0,L.Z)({},i))},Au=function(i){return(0,En.Bh)("/api/proto7/web_v1/commentthreads/"+i)},Mu=function(i){return(0,En.Bh)("/api/proto7/web_v1/comments/"+i)},Jg=function(i,t){return fetchPutJSON("/api/upper/web_v1/basics/"+i,_objectSpread({},t))},_g=function(i,t){return(0,En.EE)("/api/upper/web_v1/basics/auth/"+i+"?password="+t)},lM={requestPreviewSetting:fu,requestPreviewInitialData:pu,requestProjectFullDataByAccessToken:vu,requestSketchArtboardList:mu,requestSketchArtboardById:gu,requestSliceByArtboardId:yu,requestSliceZipByArtboardId:Su,checkSharingPermission:bu,requestPreviewEmbedInitial:hu,fetchProjectComment:xu,fetchProjectScreenCommentThreadCountMap:Cu,requestProjectShare:du.o7,fetchCreateCommentThread:wu,fetchCreateComment:Eu,fetchDeleteCommentThread:Au,fetchDeleteComment:Mu},qg=function(i){return(0,Tt.q)(i+"_pwd")},Pu=function(i){return(0,Tt.GQ)(i+"_pwd")},e0=function(i,t){return(0,Tt.A6)(i+"_pwd",t)},t0=function(i){var t=function(){var n=(0,d.Z)((0,r.Z)().mark(function e(o,s,l){var p,v,M,j;return(0,r.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(W.prev=0,p=(0,re.GP)(MB.webpackInterface.store.getState()),v=p.isHTMLZip,M=p.isMobile,v){W.next=7;break}return M&&MB.messageBucket.send("ready"),W.next=6,_g(o,s);case 6:MB.global.popupHelper.promptGetPasswordAsync(!1);case 7:return W.next=9,i({projectAccessToken:o,projectVersion:l,projectEncryptedPassword:s,userLocale:window.MBLocale});case 9:return j=W.sent,e0(o,s),W.abrupt("return",j);case 14:W.prev=14,W.t0=W.catch(0),console.error("[getProjectFullData] failed: "+W.t0),qg(o);case 18:case"end":return W.stop()}},e,null,[[0,14]])}));return function(o,s,l){return n.apply(this,arguments)}}();return(0,d.Z)((0,r.Z)().mark(function n(e){var o,s,l,p,v;return(0,r.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return o=e.projectAccessToken,s=e.projectVersion,l=e.projectEncryptedPassword,p=e.isPasswordRequired,l=l||new URLSearchParams(location.search).get("password")||Pu(o),j.next=4,n0(t,p,o,l,s);case 4:if(j.t0=j.sent,j.t0){j.next=7;break}j.t0=[];case 7:return v=j.t0,j.abrupt("return",v);case 9:case"end":return j.stop()}},n)}))},n0=function(){var a=(0,d.Z)((0,r.Z)().mark(function i(t,n,e,o,s){var l,p,v,M,j,Z;return(0,r.Z)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,t(e,o,s);case 2:l=X.sent,!l&&!n&&((p=MB)==null||(v=p.messageBucket)==null||v.send("mobileLoadProjectError",{errMsg:I18N.dPages.no_permission_to_app})),M=1/0,j=!1,Z=0;case 7:if(!(!l&&M)){X.next=22;break}return Z++,M--,X.t0=Zg(),X.next=13,MB.global.popupHelper.promptGetPasswordAsync(!0,j);case 13:return X.t1=X.sent,o=(0,X.t0)(X.t1),X.next=17,t(e,o,s);case 17:l=X.sent,l||(j=!0),typeof C.U1=="function"&&(0,C.U1)("input_password",{input_correct:!!l,input_times:Z,view_mode:(0,gn.tq)()?(0,gn.li)()?"\u79FB\u52A8\u7AEF\u67E5\u770B":"h5":(0,gn.d)()?"PC\u5BA2\u6237\u7AEF":(0,gn.V5)()||(0,gn.ED)()?"PC\u6D4F\u89C8\u5668\u67E5\u770B":""}),X.next=7;break;case 22:return MB.global.popupHelper.promptGetPasswordAsync(!1),X.abrupt("return",l);case 24:case"end":return X.stop()}},i)}));return function(t,n,e,o,s){return a.apply(this,arguments)}}(),r0=!1,Tu;function a0(a,i){return i||(i=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(i)}}))}var i0=ze.default.div(Tu||(Tu=a0(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 6px 12px;\n  z-Index: 10;\n  position: absolute;\n  height: 36px;\n  min-width: 460px;\n  bottom: 40px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: #FFFFFF;\n  box-shadow: 0 2px 6px rgba(39, 54, 78, 0.08), 0 6px 12px rgba(39, 54, 78, 0.05);\n  border-radius: 100px;\n  pointer-events: auto;\n  \n  svg.tik {\n    color: #FF9000;\n  }\n\n  p {\n    height: 12px;\n    font-size: 12px;\n    line-height: 12px;\n    color: #333333;\n    margin: 0 10px;\n  }\n  a {\n    color: #1684fc;\n    \n    &:hover {\n      text-decoration: underline;\n    }\n  }\n \n  .clickble {\n    cursor: pointer;\n  }\n\n  .close-btn {\n    width: 24px;\n    height: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    \n    svg {\n      width: 20px;\n      height: 20px;\n    }\n    \n    &:hover {\n      background: #F2F2F2;\n      border-radius: 4px;\n    }\n    \n    &:active {\n      background: #E5E5E5;\n      border-radius: 4px;\n    }\n  }\n"]))),cM=function(){return/(Macintosh)/i.test(navigator.userAgent)},uM=function(){return/(Windows)/i.test(navigator.userAgent)},dM=function(){return/Chrome\/63/i.test(navigator.userAgent)},pM=function(){return/Firefox/i.test(navigator.userAgent)},o0=function(){return/Chrome/i.test(navigator.userAgent)},fM=function(){return/(iPod|iPhone|iPad|Android)/.test(navigator.userAgent)},Fi=c(50969),ss=c(31485);function s0(a,i){return d0(a)||u0(a,i)||c0(a,i)||l0()}function l0(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c0(a,i){if(a){if(typeof a=="string")return Iu(a,i);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Iu(a,i)}}function Iu(a,i){(i==null||i>a.length)&&(i=a.length);for(var t=0,n=new Array(i);t<i;t++)n[t]=a[t];return n}function u0(a,i){var t=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(t!=null){var n,e,o,s,l=[],p=!0,v=!1;try{if(o=(t=t.call(a)).next,i===0){if(Object(t)!==t)return;p=!1}else for(;!(p=(n=o.call(t)).done)&&(l.push(n.value),l.length!==i);p=!0);}catch(M){v=!0,e=M}finally{try{if(!p&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(v)throw e}}return l}}function d0(a){if(Array.isArray(a))return a}var Ou="local_browser_prompt_show";function p0(){if(o0())return null;var a=Date.parse((0,Fi.RD)(Ou,"",Fi.cM.String));return a&&a>Date.now()?null:(0,g.jsx)(f0,{})}var f0=function(){var i=(0,h.useState)(!0),t=s0(i,2),n=t[0],e=t[1],o=function(){var l=new Date;l.setUTCDate(l.getUTCDate()+1),(0,Fi.iO)(Ou,l.toISOString(),Fi.cM.String),e(!1)};return n&&(0,g.jsxs)(i0,{children:[(0,g.jsx)(ss.Z,{name:"sigh",className:"tik"}),(0,g.jsxs)("p",{children:["\u5F53\u524D\u6D4F\u89C8\u5668\u517C\u5BB9\u6027\u5DEE\uFF0C\u8BF7\u4F7F\u7528 ",(0,g.jsx)("a",{href:"https://www.google.cn/chrome/",target:"_blank",rel:"noreferrer",children:" Chrome \u6D4F\u89C8\u5668"}),"\u6216 ",(0,g.jsx)("a",{className:"clickble",href:"https://modao.cc/feature/downloads.html",target:"_blank",rel:"noreferrer",children:"\u4E0B\u8F7D\u58A8\u5200\u5BA2\u6237\u7AEF"})," \u4F7F\u7528"]}),(0,g.jsx)("div",{className:"close-btn",onClick:o,children:(0,g.jsx)(ss.Z,{name:"close_sm"})})]})},h0=c(34788),ot=c.n(h0),v0=ze.default.div.withConfig({displayName:"styles__StyledToggleButton",componentId:"sc-17c9zn2-0"})(["position:absolute;display:flex;align-items:center;z-index:4;cursor:pointer;top:50%;margin-top:0;width:40px;height:0;opacity:0;transition:opacity 0.2s ease-in-out;background:red;margin-left:-10px;&.left{right:100%;transform:rotate(180deg);}&.right{left:100%;}& > .panel-icon{font-size:16px;.path-wapper{fill:",";}.path-arrow{fill:",";}}&.is-minimized{opacity:1;pointer-events:auto;.svg-icon .path-arrow{transform-origin:center;transform:rotate(180deg);}}&:hover{&:not(.is-minimized){opacity:1;pointer-events:auto;}}&.embed-v2{justify-content:center;top:unset;bottom:16px;width:32px;height:32px;background:#fff;box-shadow:2px 2px 6px rgba(39,54,78,0.08);border-radius:0 4px 4px 0;opacity:1;.svg-icon path{fill:#1684fc !important;}&.is-minimized{opacity:1;.svg-icon path{fill:#333 !important;}}}"],function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L3}),Du=ze.default.div.withConfig({displayName:"styles__StyledPosition",componentId:"sc-17c9zn2-1"})(["width:10px;height:86px;z-index:4;"]),ls=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleClick",function(){var l=n.props,p=l.isMinimized,v=l.onClick;v(!p)}),(0,f.Z)((0,ae.Z)(n),"isEmbedV2",location.pathname.includes("/embed/v2")),(0,f.Z)((0,ae.Z)(n),"onMouseEnter",function(){var l=n.props.dispatch;l({type:"preview:panel:set:isButtonHovered",payload:{isButtonHovered:!0}})}),(0,f.Z)((0,ae.Z)(n),"onMouseLeave",function(){var l=n.props.dispatch;l({type:"preview:panel:set:isButtonHovered",payload:{isButtonHovered:!1}})}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.placement,s=e.isMinimized,l=e.isClassic;return(0,g.jsxs)(v0,{className:ot()("toggle-minimized-button",o,{"is-minimized":s,"embed-v2":this.isEmbedV2}),onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[!l&&(0,g.jsx)(Du,{}),this.isEmbedV2?(0,g.jsx)(Et.q,{name:"square/preview/left-panel"}):(0,g.jsx)(m0,{}),l&&(0,g.jsx)(Du,{})]})}}]),t}(h.PureComponent);(0,f.Z)(ls,"propTypes",{placement:u().oneOf(["left","right"]),isMinimized:u().bool,onClick:u().func,dispatch:u().func,isClassic:u().bool});var m0=function(){return(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-icon icon panel-icon",viewBox:"0 0 16 86","aria-hidden":"true",width:"16",height:"86",children:(0,g.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,g.jsx)("path",{className:"path-wapper",d:"M0 0l14.12 8.825A4 4 0 0116 12.217v61.566a4 4 0 01-1.88 3.392L0 86V0z",fill:"#FFF"}),(0,g.jsx)("path",{className:"path-arrow",d:"M10.758 48.766a.778.778 0 000-1.127L6.996 43l3.762-4.639a.778.778 0 000-1.127.85.85 0 00-1.172 0l-4.344 5.202a.78.78 0 000 1.128l4.344 5.202a.85.85 0 001.172 0z",fill:"#8D9EA7",fillRule:"nonzero"})]})})},Lu=c(68333),Wn=c(9430),g0=ze.default.ul.withConfig({displayName:"styles__StyledScreenList",componentId:"sc-iwoxpn-0"})(["&,ol,li{list-style:none;}"]),cs=(0,h.memo)(function(a){var i=a.isExpandTree,t=a.activeScreenMetaCid,n=a.editingScreenMetaCid,e=a.targetlinkCid,o=a.screenSelection,s=a.renderScreenMetaItem,l=a.screenTreeData,p=a.dummySelect,v=a.collapseScreenMetaCidSet,M=a.dispatch,j=a.projectCid,Z=a.currentSharings;return(0,g.jsx)(g0,{children:l.children.map(function(W){return(0,g.jsx)(Nu,{treeNode:W,depth:0,isExpandTree:i,screenSelection:o,activeScreenMetaCid:t,editingScreenMetaCid:n,targetlinkCid:e,renderScreenMetaItem:s,dummySelect:p,collapseScreenMetaCidSet:v,projectCid:j,dispatch:M,currentSharings:Z},W.cid)})})});cs.propTypes={isExpandTree:u().bool,activeScreenMetaCid:u().string,editingScreenMetaCid:u().string,targetlinkCid:u().string,screenTreeData:u().object,screenSelection:u().array,dummySelect:u().object,collapseScreenMetaCidSet:u().object,renderScreenMetaItem:u().func,dispatch:u().func,projectCid:u().string,currentSharings:u().array},cs.defaultProps={isExpandTree:!1,activeScreenMetaCid:"",editingScreenMetaCid:"",targetlinkCid:"",screenSelection:[],dummySelect:new Set,collapseScreenMetaCidSet:new Set};var us=cs,Nu=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.treeNode,s=e.depth,l=e.isExpandTree,p=e.activeScreenMetaCid,v=e.editingScreenMetaCid,M=e.targetlinkCid,j=e.screenSelection,Z=e.renderScreenMetaItem,W=e.dummySelect,X=e.collapseScreenMetaCidSet,J=e.dispatch,_=e.projectCid,te=e.currentSharings,ne=o.cid,ie=o.data,se=o.children,Se=l?!0:!X.has(ne),Te=!!se.length;return(0,g.jsxs)("li",{"data-cid":ne,className:"rn-content-item",children:[Z({depth:s,screenMeta:ie,hasScreenMetaChildren:Te,screenSelection:j,activeScreenMetaCid:p,editingScreenMetaCid:v,targetlinkCid:M,dummySelect:W,collapseScreenMetaCidSet:X,dispatch:J,projectCid:_,currentSharings:te}),se.length>0&&Se&&(0,g.jsx)("ol",{type:"screen-list",className:"child-screens",children:se.map(function(Le){return(0,g.jsx)(t,{treeNode:Le,depth:s+1,isExpandTree:l,screenSelection:j,activeScreenMetaCid:p,editingScreenMetaCid:v,targetlinkCid:M,renderScreenMetaItem:Z,dummySelect:W,collapseScreenMetaCidSet:X,dispatch:J,projectCid:_,currentSharings:te},Le.cid)})})]})}}]),t}(h.PureComponent);(0,f.Z)(Nu,"propTypes",{treeNode:u().object,depth:u().number,isExpandTree:u().bool,activeScreenMetaCid:u().string,editingScreenMetaCid:u().string,targetlinkCid:u().string,dummySelect:u().object,collapseScreenMetaCidSet:u().object,screenSelection:u().array,renderScreenMetaItem:u().func,dispatch:u().func,projectCid:u().string,currentSharings:u().array});var y0=c(62173),Ui=c.n(y0),S0=function(i){var t,n,e,o;typeof C.U1=="function"&&(0,C.U1)("index_page_click",{preview_type:i==="literal"?"\u9875\u9762":"\u5361\u7247",template_cid:MB.currentProject.cid,template_name:MB.currentProject.title,project_id:(t=MB)==null||(n=t.currentProjectMeta)==null?void 0:n.cid,project_name:(e=MB)==null||(o=e.currentProjectMeta)==null?void 0:o.name,vip_template:MB.currentProject.policy!=="everyone"})},ds=function(i,t){typeof C.U1=="function"&&(0,C.U1)("index_action_click",{action_type:i,preview_type:t==="literal"?"\u9875\u9762":"\u5361\u7247",vip_template:MB.currentProject.policy!=="everyone"})},b0=Ui()(ds,1e3),Ru=c(58708),ps=c(79316),ju=c(45567),ka=(0,ze.css)(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),hM=(0,ze.css)(['position:relative;pointer-events:none;&::after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;cursor:not-allowed;pointer-events:auto;}']),fs=(0,ze.css)(["position:relative;height:32px;padding-left:14px;padding-right:4px;display:flex;align-items:center;border:1px solid transparent;color:",";font-size:12px;cursor:pointer;.expander{width:12px;margin-left:-12px;color:",";}.editable-span,.editable-name{margin-right:14px;line-height:24px;border-radius:2px;&.is-editing{border-bottom-color:transparent;}}.actions{display:none;height:100%;padding-left:6px;.Dropdown > button{display:flex;padding:8px 10px 8px 0;}.action{margin-right:6px;font-size:12px;color:",";&:hover{color:",";}}&.is-active{display:flex;align-items:center;color:",";}}&:hover{.actions{display:flex;align-items:center;}}&:hover,&.hover{color:",";background:",";}&.active,&.is-active{color:",";background:",";}"],function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_disabled},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_background_card},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_background_icon_hover}),vM=ze.default.div.withConfig({displayName:"variables__StyledCustomTooltipInner",componentId:"sc-bg73r-0"})(["display:flex;align-items:center;height:22px;margin:-3px -7px;.tipsLeft{padding:0 8px;}.tipsRight{width:22px;line-height:22px;background-color:",";border-radius:0 2px 2px 0;color:#f2f4f5;}"],function(a){return a.theme.color_primary_brand01}),ku=(0,ze.css)(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;color:",";cursor:pointer;.fore{fill:",";}&:hover{color:",";.fore{fill:",";}}.svg-icon{width:24px;height:24px;}"],function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L3},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_primary_proto01}),x0=ze.default.div.withConfig({displayName:"styles__StyledScreenItem",componentId:"sc-110hls1-0"})([""," .expander{display:flex;align-items:center;justify-content:center;cursor:pointer;width:14px;height:14px;margin-left:-15px;margin-right:1px;.arrow-icon{color:#999;width:8px;height:8px;&:not(.is-expand){transform:rotate(-90deg);}}}.screen-name{display:flex;align-items:center;width:100%;padding-right:5px;.screen-item-icon{display:flex;flex-shrink:0;justify-content:center;align-items:center;width:24px;height:24px;margin-right:4px;color:",";}.editable-span{color:",";",";}}&[disabled]{opacity:0.4;pointer-events:none;}.actions{padding:0 10px;.actions-ellipsis{font-size:14px;pointer-events:none;}&:hover{.actions-ellipsis{color:",";}}}.child-screens{position:relative;}&.wait-hover *{pointer-events:none;}&.linking{color:",";background:",";.actions{display:none;}}&:hover,&.hover{color:",";.screen-name .screen-item-icon .icon{color:",";}}&.active,&.is-active{color:",";background-color:",";.screen-name{.editable-span{font-weight:500;}.screen-item-icon .icon{color:",";}}.expander .arrow-icon{color:#999;}}"],fs,function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L1},ka,function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background_selection01},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_background_selection01},function(a){return a.theme.color_text_L1}),Bu=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"setElementRef",function(l){return n.$elem=l}),(0,f.Z)((0,ae.Z)(n),"handleExpand",function(l){l.stopPropagation();var p=n.props,v=p.screenMeta,M=p.actionProps.onExpand;M(v)}),(0,f.Z)((0,ae.Z)(n),"handleClick",function(l){l.stopPropagation();var p=n.props,v=p.screenMeta,M=p.actionProps.onSelect;M(l,v)}),(0,f.Z)((0,ae.Z)(n),"onShowTipsByTarget",function(l,p){var v=p.querySelector(".editable-span");return v.offsetWidth<v.scrollWidth}),n}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){if(!(0,Dr.pn)(this.$elem)){var e=this.$elem.classList.contains("active");if(!e)return;var o=document.querySelector(".rn-content-body");if(!o)return;var s=o.getBoundingClientRect(),l=this.$elem.getBoundingClientRect(),p=l.bottom;o.scrollTop+=p-s.bottom+20}}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props,o=e.screenMeta,s=e.depth,l=e.isExpand,p=e.isActive,v=e.showExpander,M=e.isHTMLZip,j=e.screenCommentThreadCountMap,Z=e.theme,W=(14+5)*(s+1),X=(0,In.Vx)(o),J=o.cid,_=o.name,te=o.firstState,ne=j&&j[J]||0,ie=ne>=1&&!M;return(0,g.jsx)(ps.Z,{content:_,distance:5,direction:"right",onMouseEvent:"onDoubleClick",isShowTipsByTarget:this.onShowTipsByTarget,children:(0,g.jsxs)(x0,{ref:this.setElementRef,"data-cid":J,onClick:this.handleClick,style:{paddingLeft:W},className:ot()("rn-list-item",{active:p,folder:X}),children:[v&&(0,g.jsx)("a",{className:"expander",onClick:this.handleExpand,onDoubleClick:this.stopPropagation,children:(0,g.jsx)(Et.q,{className:ot()("arrow-icon",{"is-expand":l}),name:"common/expand"})}),(0,g.jsxs)("div",{className:"screen-name",children:[(0,g.jsx)("div",{className:"screen-item-icon",children:(0,g.jsx)(ju.p,{icon:te==null?void 0:te.icon,theme:Z,isExpand:l})}),(0,g.jsx)(Ru.p,{className:"editable-span",children:(0,Dr.j4)(_)})]}),ie&&(0,g.jsx)("span",{className:"toggle-comment",children:(0,g.jsx)(wr.Z,{type:"dora",name:"comment"})})]})})}}]),t}(h.PureComponent);(0,f.Z)(Bu,"propTypes",{theme:u().string,depth:u().number,screenMeta:u().object,isActive:u().bool,isExpand:u().bool,isHTMLZip:u().bool,showExpander:u().bool,screenCommentThreadCountMap:u().object,actionProps:u().object});var Yr=function(a){return a.community="community",a.workspace="workspace",a}({}),C0={detector:"nT4U2_NOIS7CAZHovWxY"},hs=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleResize",function(){var l=n.elem.getBoundingClientRect();n.props.onResize(l)}),n}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.elem.contentWindow.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){var e=this.elem.contentWindow;e&&e.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this;return(0,g.jsx)("iframe",{ref:function(s){return e.elem=s},className:C0.detector})}}]),t}(h.PureComponent);hs.propTypes={onResize:u().func.isRequired};var w0=c(20738),zn=c(13666),E0=ze.default.li.withConfig({displayName:"styles__StyledThumbnail",componentId:"sc-103ca50-0"})(["display:flex;flex-direction:column;justify-content:space-between;align-items:center;width:90px;position:relative;margin-right:10px;margin-bottom:10px;cursor:pointer;.image-wrapper{position:relative;width:100%;height:93px;padding:2px;background-color:",";border-radius:4px;display:flex;justify-content:center;align-items:center;transition:all 0.2s ease-out;img{max-width:100%;max-height:100%;pointer-events:none;}.actions{display:none;position:absolute;z-index:1;bottom:4px;right:4px;.temp-btn-icon{width:16px;height:14px;}&.is-hover{display:flex;}}&:hover,&.hover{border-width:2px;border-color:",";padding:1px;.actions{display:flex;}}}.screen-name{height:26px;max-width:100%;line-height:26px;",";}&.select,&.active{.image-wrapper{border-style:solid;border-width:","px;border-color:",";padding:2px;box-shadow:0 0 1px 0 rgba(34,162,237,0.66);}}&.select{.screen-name{color:inherit;}}&.active{.screen-name{color:",";}}&:not(.active):not(.select):hover .image-wrapper{border:1px solid ",";}"],function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_primary_proto01},ka,function(a){return a.theme.img_wrap_border_width},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_primary_proto01}),A0="/snapshot.png",M0=function(i){var t=i.projectMetaCid,n=i.screenMetaCid;return A0+"?projectMetaCid="+t+"&screenMetaCid="+n+"&screenStateCid=FIRST_STATE&zoomMode=thumbnail"},vs=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"setElementRef",function(o){return e.$elem=o}),(0,f.Z)((0,ae.Z)(e),"updateIsVisible",function(){e.setState({isVisible:e.isInBoundingClientRect()})}),(0,f.Z)((0,ae.Z)(e),"handleClick",function(o){o.stopPropagation();var s=e.props,l=s.screenMeta,p=s.thumbnailActionProps.onClick;p(o,l)}),(0,f.Z)((0,ae.Z)(e),"handleDown",function(o){o.stopPropagation();var s=e.props,l=s.screenMeta,p=s.thumbnailActionProps.onContextMenu;o.button===2&&p&&p(o,l)}),(0,f.Z)((0,ae.Z)(e),"onShowTipsByTarget",function(o,s){var l=s.querySelector(".screen-name");return l.offsetWidth<l.scrollWidth}),(0,f.Z)((0,ae.Z)(e),"handleToggle",function(o){e.setState({hoverCid:o})}),e.state={isVisible:!1,hoverCid:""},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.props.containerRect&&this.updateIsVisible()}},{key:"componentDidUpdate",value:function(e){var o=this.isInBoundingClientRect();if(!e.containerRect&&this.props.isActive&&!o){var s=this.$elem.getBoundingClientRect();this.props.onScrollIntoView(s)}this.updateIsVisible()}},{key:"isInBoundingClientRect",value:function(){var e=this.props.containerRect;if(!e||!this.$elem)return!1;var o=this.$elem.getBoundingClientRect();return o.bottom>e.top&&o.top<e.bottom}},{key:"render",value:function(){var e=this.props,o=e.screenMeta,s=e.isEditing,l=e.isActive,p=e.isSelect,v=e.renderScreenMetaItem,M=v.renderItem,j=v.renderSpan,Z=j===void 0?P0:j,W=e.screenTimestampMap,X=e.designOptions,J=e.experienceSnapshotUrlMap,_=e.from,te=this.state,ne=te.hoverCid,ie=te.isVisible,se=o.cid,Se=o.project_meta_cid,Te=ne===se,Le=W[se],ke=X.isDesign,nt=!ke&&J.get(se);return(0,g.jsx)(zn.Z,{content:o.name,direction:"bottom",onMouseEvent:"onClick",isShowTipsByTarget:this.onShowTipsByTarget,children:(0,g.jsxs)(E0,{className:ot()("thumbnail-item",{active:l,select:p}),onClick:this.handleClick,onMouseDown:this.handleDown,children:[(0,g.jsxs)("div",{ref:this.setElementRef,className:ot()("image-wrapper",{hover:Te}),children:[M&&M(o,this.handleToggle),nt?(0,g.jsx)("img",{src:nt}):_===Yr.community?(0,g.jsx)("img",{src:M0({projectMetaCid:Se,screenMetaCid:se})}):(0,g.jsx)(w0.Z,{screenMetaCid:se,projectMetaCid:Se,screenStateCid:sn.C2,isVisible:ie,cacheTag:Le})]}),Z(o,s)]})})}}]),t}(h.PureComponent);(0,f.Z)(vs,"propTypes",{isSelect:u().bool,isActive:u().bool,isEditing:u().bool,screenMeta:u().object,containerRect:u().object,screenTimestampMap:u().object,thumbnailActionProps:u().object,designOptions:u().object,experienceSnapshotUrlMap:u().object,renderScreenMetaItem:u().object,onScrollIntoView:u().func,from:u().string}),(0,f.Z)(vs,"defaultProps",{renderScreenMetaItem:{}});var P0=function(i){return(0,g.jsx)("span",{className:"screen-name",children:i.name})},T0=ze.default.div.withConfig({displayName:"styles__StyledThumbnailList",componentId:"sc-1lse27e-0"})(["width:100%;height:100%;overflow-x:hidden;overflow-y:auto;.thumbnail-list{display:flex;flex-wrap:wrap;width:calc(100% + 15px);color:",";}"],function(a){return a.theme.color_text_L2}),ms=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"setContainerRef",function(o){return e.$container=o}),(0,f.Z)((0,ae.Z)(e),"updateContainerRect",function(){return e.setState({containerRect:e.$container.getBoundingClientRect()})}),(0,f.Z)((0,ae.Z)(e),"handleScroll",function(){return e.updateContainerRect()}),(0,f.Z)((0,ae.Z)(e),"handleResize",function(){return e.updateContainerRect()}),(0,f.Z)((0,ae.Z)(e),"handleScrollIntoView",function(o){var s=e.state.containerRect;e.$container.scrollTop+=o.top-s.top}),e.state={containerRect:null},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.updateContainerRect()}},{key:"render",value:function(){var e=this,o=this.props,s=o.activeScreenMetaCid,l=o.editingScreenMetaCid,p=o.screenMetaList,v=o.screenSelection,M=o.thumbnailActionProps,j=o.screenTimestampMap,Z=o.designOptions,W=o.experienceSnapshotUrlMap,X=o.renderScreenMetaItem,J=o.from,_=this.state.containerRect;return(0,g.jsxs)(T0,{ref:this.setContainerRef,onScroll:this.handleScroll,children:[(0,g.jsx)("ol",{className:"thumbnail-list",children:p.map(function(te){if((0,In.Vx)(te))return null;var ne=te.cid,ie=ne===l,se=ne===s;return(0,g.jsx)(vs,{screenMeta:te,isEditing:ie,isActive:se,isSelect:v.includes(te.cid),containerRect:_,screenTimestampMap:j,experienceSnapshotUrlMap:W,designOptions:Z,thumbnailActionProps:M,renderScreenMetaItem:X,onScrollIntoView:e.handleScrollIntoView,from:J},te.cid)})}),(0,g.jsx)(hs,{onResize:this.handleResize})]})}}]),t}(h.PureComponent);(0,f.Z)(ms,"propTypes",{screenMetaList:u().array,editingScreenMetaCid:u().string,activeScreenMetaCid:u().string,thumbnailActionProps:u().object,screenSelection:u().array,screenTimestampMap:u().object,designOptions:u().object,experienceSnapshotUrlMap:u().object,renderScreenMetaItem:u().object,from:u().string}),(0,f.Z)(ms,"defaultProps",{screenTimestampMap:{},designOptions:{isDesign:!0},experienceSnapshotUrlMap:new Map,screenSelection:[],from:Yr.workspace});var la=c(2586),Mr=function(i,t){var n=i.forceDarkTheme;if(n)switch(t){case"workspace_dropdown_menu_shadow":return"0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)";case"color_primary_proto01":return"#1684fc";case"interation_active_box_shadow":return"0 0 4px 0 rgba(41,141,248,0.50)";default:return la.YP[t].value}return i.theme[t]},I0=ze.default.div.withConfig({displayName:"styles__StyledSearchBar",componentId:"sc-inftft-0"})(["position:relative;height:24px;display:flex;justify-content:space-between;align-items:center;.search-icon{position:absolute;left:0;width:24px;height:24px;text-align:center;line-height:24px;font-size:12px;color:",";pointer-events:none;}.autoCompleteInput{position:absolute;width:1px;height:1px;top:-2000px;}input{width:100%;height:100%;padding-right:22px;background-color:",";border-width:1px;border-style:solid;border-color:",";border-radius:2px;transition:all 0.2s ease-out;text-indent:24px;color:",";&::placeholder{color:",";}&:hover{border-color:",";}&:focus{background-color:",";border-color:",";box-shadow:",";}}.clear-icon{position:absolute;right:0;width:24px;line-height:24px;text-align:center;color:",";transition:all 0.15s ease-in-out;cursor:pointer;&:hover{color:",";}}"],function(a){return Mr(a,"color_text_L3")},function(a){return Mr(a,"color_background_icon_hover")},function(a){return Mr(a,"color_background_icon_active")},function(a){return Mr(a,"color_text_L2")},function(a){return Mr(a,"color_text_L3")},function(a){return Mr(a,"color_primary_proto01")},function(a){return Mr(a,"color_background_white")},function(a){return Mr(a,"color_primary_proto01")},function(a){return Mr(a,"interation_active_box_shadow")},function(a){return Mr(a,"color_text_disabled")},function(a){return Mr(a,"color_text_L3")}),ai=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"setInputRef",function(l){return n.$input=l}),(0,f.Z)((0,ae.Z)(n),"focus",function(){return n.$input.focus()}),(0,f.Z)((0,ae.Z)(n),"handleChange",function(l){return n.props.onChange(l.target.value)}),(0,f.Z)((0,ae.Z)(n),"handleClear",function(){return n.props.onChange("")}),(0,f.Z)((0,ae.Z)(n),"handleMouseDown",function(l){return l.preventDefault()}),(0,f.Z)((0,ae.Z)(n),"handleKeyDown",function(l){var p=n.props,v=p.shouldSearchOnEnter,M=p.onConfirm;l.key===ei.Fn.Enter&&v&&M&&M()}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.value,s=e.placeholder,l=e.className,p=e.inputStyle,v=e.forceDarkTheme;return(0,g.jsxs)(I0,{type:"search",className:l,forceDarkTheme:v,children:[(0,g.jsx)(Et.q,{name:"common/search",className:"search-icon"}),(0,g.jsx)("input",{type:"password",name:"password",className:"autoCompleteInput"}),(0,g.jsx)("input",{className:"WorkspaceInput",ref:this.setInputRef,style:p,type:"text",value:o,placeholder:s,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onFocus:function(){MB.f.addActionInputFouce=!0},onBlur:function(){MB.f.addActionInputFouce=!1}}),o.length>0&&(0,g.jsx)(wr.Z,{type:"dora",name:"times_fc",className:"clear-icon",onMouseDown:this.handleMouseDown,onClick:this.handleClear})]})}}]),t}(h.PureComponent);(0,f.Z)(ai,"propTypes",{value:u().string,inputStyle:u().object,placeholder:u().string,className:u().string,onChange:u().func,shouldSearchOnEnter:u().bool,onConfirm:u().func,forceDarkTheme:u().bool}),(0,f.Z)(ai,"defaultProps",{shouldSearchOnEnter:!1});var Zu=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.keyword,s=e.hasFoldedScreen,l=e.viewMode,p=e.screensCount,v=e.handleSearch,M=e.handleViewModeChange,j=e.handleToggleExpanded,Z=l==="thumbnail",W=Z?"left_panel/community/preview/thumbnail":"left_panel/community/preview/literal",X=Z?"\u5361\u7247":"\u9875\u9762",J=s?"\u5C55\u5F00\u5168\u90E8":"\u6536\u8D77\u5168\u90E8";return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"screen-header",children:[(0,g.jsx)("span",{className:"title",children:X}),(0,g.jsx)(Et.q,{name:W,className:"toggle-icon",onClick:M})]}),(0,g.jsx)("div",{className:"screen-search",children:(0,g.jsx)(ai,{value:o,placeholder:I18N.pPreviewPanel.search,onChange:v})}),(0,g.jsxs)("div",{className:"screen-count",children:[(0,g.jsx)("span",{className:"info",children:I18N.pPreviewPanel.screen+"\uFF08"+p+"\uFF09"}),!Z&&(0,g.jsx)("span",{className:"expand-button",onClick:j,children:J})]})]})}}]),t}(h.PureComponent);(0,f.Z)(Zu,"propTypes",{keyword:u().string,hasFoldedScreen:u().bool,viewMode:u().string,screensCount:u().number,handleSearch:u().func,handleViewModeChange:u().func,handleToggleExpanded:u().func});var ma=c(50741),O0=c(73706),D0=ze.default.div.withConfig({displayName:"styles__StyledScreenActionsMenu",componentId:"sc-1q75xbt-0"})(["",";&.is-open{.action-menu-opener{background:",";}}"],ku,function(a){return a.theme.color_background_icon_hover}),Fu=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"setElementRef",function(o){return e.$element=o}),(0,f.Z)((0,ae.Z)(e),"handleClickAction",function(o){o.stopPropagation(),e.handleToggleActionMenu()}),(0,f.Z)((0,ae.Z)(e),"handleToggleActionMenu",function(o){o===void 0&&(o=void 0);var s=e.state.isOpenScreenActionsMenu,l=e.props.onCloseGuide,p=o===void 0?!s:o;e.setState({isOpenScreenActionsMenu:p}),p&&l&&l()}),(0,f.Z)((0,ae.Z)(e),"actionToggleExpanded",function(o){o.stopPropagation(),e.props.handleToggleExpanded(),e.handleToggleActionMenu(!1)}),(0,f.Z)((0,ae.Z)(e),"actionViewModeChange",function(o){o.stopPropagation(),e.props.handleViewModeChange(),e.handleToggleActionMenu(!1)}),(0,f.Z)((0,ae.Z)(e),"actionOpenTrash",function(o){o.stopPropagation(),e.props.handleOpenTrash(),e.handleToggleActionMenu(!1)}),(0,f.Z)((0,ae.Z)(e),"getScreenActionsMenuItems",function(){var o=e.props,s=o.isPreview,l=o.isHTMLZip,p=o.hasFoldedScreen,v=o.viewMode,M=v==="literal";return[{isShow:!0,label:p?I18N.ScreenList.expand_screens:I18N.ScreenList.collapse_screens,onClick:e.actionToggleExpanded},{isShow:!l,label:M?I18N.ScreenList.thumbnail_view:I18N.ScreenList.list_view,onClick:e.actionViewModeChange},{isShow:!s,label:"divider"},{isShow:!s,label:I18N.ToolBar.recycle,onClick:e.actionOpenTrash}]}),(0,f.Z)((0,ae.Z)(e),"handleDocDown",function(o){var s=o.target,l=e.state.isOpenScreenActionsMenu;l&&(s.closest(".screenHeaderAction")||s.closest(".list-content")||e.handleToggleActionMenu(!1))}),e.state={isOpenScreenActionsMenu:!1},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.state.isOpenScreenActionsMenu,o=this.props.className,s=this.getScreenActionsMenuItems();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(zn.Z,{content:I18N.LeftSidePanel.menu,direction:"up",children:(0,g.jsx)(D0,{className:ot()("screenHeaderAction",{"is-open":e},o),ref:this.setElementRef,onClick:this.handleClickAction,children:(0,g.jsx)(ma.Z,{className:"action-menu-opener",name:"left_panel/screen_action_menu"})})}),e&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(O0.Z,{targetNode:this.$element,direction:"right-start",distance:0,menuItems:s}),(0,g.jsx)(Wn.ZP,{target:document,onMouseDown:(0,Wn.Yc)(this.handleDocDown,{capture:!0})})]})]})}}]),t}(h.PureComponent);(0,f.Z)(Fu,"defaultProps",{isPreview:!1,isHTMLZip:!1,handleOpenTrash:function(){return null}});var Uu=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.keyword,s=e.isHTMLZip,l=e.viewMode,p=e.handleSearch,v=e.hasFoldedScreen,M=e.handleToggleExpanded,j=e.handleViewModeChange;return(0,g.jsxs)("div",{className:"screen-header",children:[(0,g.jsx)(ai,{value:o,placeholder:I18N.pPreviewPanel.search,onChange:p}),(0,g.jsx)(Fu,{isPreview:!0,isHTMLZip:s,viewMode:l,hasFoldedScreen:v,handleToggleExpanded:M,handleViewModeChange:j})]})}}]),t}(h.PureComponent);(0,f.Z)(Uu,"propTypes",{keyword:u().string,isHTMLZip:u().bool,viewMode:u().string,hasFoldedScreen:u().bool,handleSearch:u().func,handleToggleExpanded:u().func,handleViewModeChange:u().func});var gs=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"setElementRef",function(o){return e.$elem=o}),(0,f.Z)((0,ae.Z)(e),"handleScreenMetaExpand",function(o){var s=o.cid,l=e.state.collapseKeySet,p=new Set(l);l.has(s)?p.delete(s):p.add(s),e.setState({collapseKeySet:p})}),(0,f.Z)((0,ae.Z)(e),"handleSelectScreenMeta",function(o,s){var l=e.props,p=l.activeCid,v=l.dispatch,M=l.toolbarActiveItem,j=l.from,Z=(0,In.Vx)(s);if(Z)e.handleScreenMetaExpand(s);else if(p===s.cid)e.handleScreenMetaExpand(s);else{v({type:"entry:sync-runner:set-screen",payload:{cid:s.cid}}),MB.runnerController.removeToggledVisibility(),v({type:"entry:preview:reset:canvas:offset"});var W=M===Sn.Ab;W&&v({type:"entry:state:update:previewUserCommonGuidesData",payload:{key:Er.s.GUIDE_PREVIEW_ADD_COMMENT}})}if(j===Yr.community){var X=e.state.viewMode;S0(X);return}_t("\u9009\u62E9\u5176\u4ED6\u9875\u9762")}),(0,f.Z)((0,ae.Z)(e),"handleSearch",function(o){if(e.setState({keyword:o.toLowerCase()}),!!o){var s=e.props.from,l=e.state.viewMode;if(s===Yr.community){b0("\u641C\u7D22",l);return}_t("\u641C\u7D22\u9875\u9762")}}),(0,f.Z)((0,ae.Z)(e),"handleViewModeChange",function(){var o=e.state.viewMode;o==="literal"?e.setState({viewMode:"thumbnail"}):o==="thumbnail"&&e.setState({viewMode:"literal"});var s=e.props.from;if(s===Yr.community){ds("\u5207\u6362",o);return}_t(o==="literal"?"\u8FDB\u5165\u5217\u8868\u6A21\u5F0F":"\u8FDB\u5165\u5361\u7247\u6A21\u5F0F")}),(0,f.Z)((0,ae.Z)(e),"handleToggleExpanded",function(){var o=e.state,s=o.collapseKeySet,l=o.viewMode;s.size>0?e.unfoldAllScreen():e.foldAllScreen();var p=e.props.from;if(p===Yr.community){ds(s.size>0?"\u5C55\u5F00":"\u6536\u8D77",l);return}_t(s.size>0?"\u4E00\u952E\u5C55\u5F00\u9875\u9762":"\u4E00\u952E\u6536\u8D77\u9875\u9762")}),(0,f.Z)((0,ae.Z)(e),"handleKeyDown",function(o){(o.ctrlKey||o.metaKey)&&(o.keyCode===186&&(o.preventDefault(),e.unfoldAllScreen()),o.keyCode===222&&(o.preventDefault(),e.foldAllScreen()))}),(0,f.Z)((0,ae.Z)(e),"unfoldAllScreen",function(){e.setState({collapseKeySet:new Set})}),(0,f.Z)((0,ae.Z)(e),"foldAllScreen",function(){var o=e.props.screenTreeData,s=(0,In.qv)(o),l=new Set(s.map(function(p){return p.cid}));e.setState({collapseKeySet:l})}),(0,f.Z)((0,ae.Z)(e),"renderScreenMetaItem",function(o){var s=o.depth,l=o.screenMeta,p=o.hasScreenMetaChildren,v=o.collapseScreenMetaCidSet,M=o.activeScreenMetaCid,j=e.props,Z=j.isHTMLZip,W=j.screenCommentThreadCountMap,X=j.theme,J=l.cid,_=M===J,te=!v.has(J),ne=p||(0,In.Vx)(l);return(0,g.jsx)(Bu,{theme:X,depth:s,screenMeta:l,isActive:_,isExpand:te,showExpander:ne,actionProps:e.literalActionProps,isHTMLZip:Z,screenCommentThreadCountMap:W})}),e.state={keyword:"",collapseKeySet:new Set,viewMode:n.isDemo?"thumbnail":"literal"},e.literalActionProps={onExpand:e.handleScreenMetaExpand,onSelect:e.handleSelectScreenMeta},e.thumbnailActionProps={onClick:e.handleSelectScreenMeta},e}return(0,S.Z)(t,[{key:"componentDidUpdate",value:function(e){var o=this.props,s=o.activeCid,l=o.screenTreeData,p=o.screenCommentThreadCountMap;if(e.activeCid!==s){var v=(0,In._i)(s,l),M=this.state.collapseKeySet,j=new Set(M);v.forEach(function(Z){var W=Z.cid;return M.has(W)&&j.delete(W)}),j.size!==M.size&&this.setState({collapseKeySet:j})}e.screenCommentThreadCountMap!==p&&this.setState({collapseKeySet:new Set(this.state.collapseKeySet)})}},{key:"render",value:function(){var e=this.props,o=e.screenTreeData,s=e.activeCid,l=e.isHTMLZip,p=e.designOptions,v=e.experienceSnapshotUrlMap,M=e.from,j=e.screensCount,Z=this.state,W=Z.viewMode,X=Z.keyword,J=Z.collapseKeySet,_=J.size>0,te=X.length>0,ne=(0,In.$m)(o,X);te&&W==="thumbnail"&&(ne=(0,In.Y2)(ne,X));var ie=(0,In.qv)(ne),se=(0,Dr.rA)(this.$elem);return(0,g.jsxs)("div",{className:"screen-panel",children:[M===Yr.community?(0,g.jsx)(Zu,{keyword:X,hasFoldedScreen:_,viewMode:W,screensCount:j,handleSearch:this.handleSearch,handleViewModeChange:this.handleViewModeChange,handleToggleExpanded:this.handleToggleExpanded}):(0,g.jsx)(Uu,{keyword:X,isHTMLZip:l,viewMode:W,hasFoldedScreen:_,handleSearch:this.handleSearch,handleViewModeChange:this.handleViewModeChange,handleToggleExpanded:this.handleToggleExpanded}),(0,g.jsx)("div",{className:ot()("screen-list-container",W),ref:this.setElementRef,style:{width:se},children:W==="literal"?(0,g.jsx)(us,{screenTreeData:ne,isExpandTree:te,activeScreenMetaCid:s,collapseScreenMetaCidSet:J,renderScreenMetaItem:this.renderScreenMetaItem}):(0,g.jsx)(ms,{screenMetaList:ie,activeScreenMetaCid:s,thumbnailActionProps:this.thumbnailActionProps,designOptions:p,experienceSnapshotUrlMap:v,from:M})}),(0,g.jsx)(Wn.ZP,{target:document,onKeyDown:this.handleKeyDown})]})}}]),t}(h.PureComponent);(0,f.Z)(gs,"propTypes",{theme:u().string,isHTMLZip:u().bool,activeCid:u().string,toolbarActiveItem:u().string,isDemo:u().bool,screenTreeData:u().object,screenCommentThreadCountMap:u().object,designOptions:u().object,experienceSnapshotUrlMap:u().object,dispatch:u().func,from:u().string,screensCount:u().number,panelHeight:u().number}),(0,f.Z)(gs,"defaultProps",{from:Yr.workspace});var L0=function(i){return i.container.common.panelHeight},Hu=(0,U.connect)(function(a){return{isHTMLZip:(0,re.GP)(a).isHTMLZip,designOptions:(0,re.CD)(a),experienceSnapshotUrlMap:(0,re.rJ)(a),toolbarActiveItem:(0,re.Ds)(a),isDemo:N0.has((0,re.vo)(a).access_token),screenTreeData:(0,re.Kv)(a),screenCommentThreadCountMap:(0,re.tF)(a),activeCid:(0,re.CL)(a).cid,theme:(0,re.gh)(a),panelHeight:L0(a)}})(gs),N0=new Set(["demo","cS1AXKF5jtrJePbEKiYcdcHosQPdzrk","workout","sI3GY2tDz76RrZ4MGFiIcZTZpAHyluC","UMQzYmknxWeHNvvVyeyJDuSkgyvi6Xw","9Py1L5RdC8ZPRSmnWEt4uuUUSDUAxkM"]),R0=c(11532),j0=["src","adjustImage"],k0=(0,R0.C)(),B0=k0.push,Z0=function(i,t){return new Promise(function(n){i.src=t,i.onload=function(){return n(i)},i.onerror=function(){return n()}})},Wu=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"setElementRef",function(l){return n.imageRef=l}),n}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this,o=B0((0,d.Z)((0,r.Z)().mark(function s(){var l,p,v,M;return(0,r.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return l=e.props,p=l.src,v=l.adjustImage,Z.next=3,Z0(e.imageRef,p);case 3:M=Z.sent,v&&M&&(0,Pt.dD)({image:M,adjust:v});case 5:case"end":return Z.stop()}},s)})));o.catch(function(s){return console.error(s)})}},{key:"render",value:function(){var e=this.props,o=e.src,s=e.adjustImage,l=(0,pa.Z)(e,j0);return(0,g.jsx)("img",(0,L.Z)({alt:"",ref:this.setElementRef},l))}}]),t}(h.PureComponent);Wu.propTypes={src:u().string,adjustImage:u().number};var F0=ze.default.div.withConfig({displayName:"styles__StyledSliceItem",componentId:"sc-pa6r2r-0"})(["display:flex;align-items:center;width:220px;height:60px;padding:10px;margin:10px;cursor:pointer;border-radius:2px;color:",";.slice-export-icon{display:none;}&:hover{background:",";.slice-export-icon{display:unset;}}&.active{background:",";}> img{margin-right:10px;}.slice-item-wrap{width:40px;height:40px;min-width:40px;border:1px solid #B7BBC1;border-radius:2px;display:flex;align-items:center;justify-content:center;overflow:hidden;> img{box-shadow:rgba(25,39,45,0.4) 0 1px 4px;}}"],function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background},function(a){return a.theme.color_background_icon_active}),zu=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;return(0,I.Z)(this,t),n=i.call(this),(0,f.Z)((0,ae.Z)(n),"delaySingleDownload",Ui()(function(){var e=n.props,o=e.imageSet,s=e.name;(0,Pt.m)({url:o,name:s,type:"zip"})},500,{leading:!0})),(0,f.Z)((0,ae.Z)(n),"isIncurrentScreen",function(){return n.props.artboardId===n.props.currentArtboardId}),(0,f.Z)((0,ae.Z)(n),"handleClick",function(){var e=n.props,o=e.id,s=e.requestLayer,l=e.activeLayer;if(l(o),n.isIncurrentScreen()){s(o);return}console.warn("Not in current Screen")}),(0,f.Z)((0,ae.Z)(n),"handleOnload",function(){n.setState({imageLoad:!0})}),(0,f.Z)((0,ae.Z)(n),"handleError",function(){console.error("image load fail")}),(0,f.Z)((0,ae.Z)(n),"handleSingleDownload",function(e){e.persist(),e.stopPropagation(),n.delaySingleDownload()}),n.state={imageLoad:!1},n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.name,s=e.src,l=e.activeLayerId,p=e.id,v=this.state.imageLoad,M=v?"opacity-1":"opacity-0",j={display:v?"block":"none"},Z=l===p,W={background:"url(/mb-workspace/images/preview/slice-bg.png) left top",backgroundSize:"cover"};return(0,g.jsx)(Lr.Z,{type:"block",content:{click:this.isIncurrentScreen()?null:I18N.pPreviewPanel.not_incurrent_screen},children:(0,g.jsxs)(F0,{className:ot()("slice-item",{active:Z}),onClick:this.handleClick,children:[(0,g.jsxs)("div",{className:"slice-item-wrap",style:W,children:[!v&&(0,g.jsx)("img",{src:"/mb-workspace/images/preview/image-load-gif.gif",alt:"Loading..."}),(0,g.jsx)(Wu,{style:j,src:s,alt:o,adjustImage:38,className:""+M,onLoad:this.handleOnload,onError:this.handleError})]}),(0,g.jsxs)("div",{className:"slice-item-content",children:[(0,g.jsx)("span",{className:"slice-item-name textEllipsis",children:o}),v&&(0,g.jsx)(wr.Z,{className:"slice-export-icon",name:"export",type:"dora",onClick:this.handleSingleDownload})]})]})})}}]),t}(h.PureComponent);(0,f.Z)(zu,"propTypes",{artboardId:u().number,currentArtboardId:u().number,name:u().string,src:u().string.isRequired,id:u().number.isRequired,imageSet:u().array.isRequired,requestLayer:u().func.isRequired,activeLayer:u().func,activeLayerId:u().oneOfType([u().number,u().string])});var U0=(0,ze.keyframes)(["from{transform:rotate(0);}to{transform:rotate(720deg);}"]),H0=ze.default.div.withConfig({displayName:"styles__StyledSlicePanel",componentId:"sc-az3n13-0"})(["&{width:100%;height:calc(100% - 90px);overflow-x:hidden;overflow-y:scroll;}.opacity-0{opacity:0;}.opacity-1{opacity:1;}.slice-item-content{display:flex;justify-content:space-between;width:160px;.slice-item-name{margin-left:8px;width:130px;}.textEllipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}}.download{position:fixed;bottom:0;display:flex;justify-content:center;align-items:center;width:210px !important;height:40px;margin:0 15px;border-top:1px solid ",";cursor:pointer;color:#8d9ea7;}.download-slice-icon{margin-left:10px;color:#8d9ea7;font-size:13px;}.spinner{display:block;width:50px;height:50px;border:4px solid #f55d54;border-color:rgb(245,94,86,0.3) transparent;border-radius:50%;animation:"," 2s ease-in-out infinite;}.download-slice-load{margin-left:10px;.spinner{width:20px;height:20px;border:2px solid #f55d54;border-color:rgb(245,94,86,0.3) transparent;}}"],function(a){return a.theme.color_background_icon_active},U0),W0=ze.default.div.withConfig({displayName:"styles__StyledSliceLoadWrap",componentId:"sc-az3n13-1"})(["width:100%;height:calc(100% - 33px);display:flex;justify-content:center;align-items:center;.layer-load{.spinner{color:",";}}"],function(a){return a.theme.color_primary_brand01}),$u=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"handleActiveLayer",function(o){e.setState({activeLayerId:o})}),(0,f.Z)((0,ae.Z)(e),"handleDownloadZip",(0,d.Z)((0,r.Z)().mark(function o(){var s,l,p,v,M;return(0,r.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(s=e.props,l=s.currentArtboardId,p=s.currentScreenName,v=s.accessToken,M=e.state.isDownloading,!M){Z.next=4;break}return Z.abrupt("return");case 4:return e.setState({isDownloading:!0}),Z.next=7,z0(l,p,v);case 7:e.setState({isDownloading:!1});case 8:case"end":return Z.stop()}},o)}))),(0,f.Z)((0,ae.Z)(e),"requestLayer",function(o){var s=e.props.dispatch;s({type:"REQUEST_SELECT_LAYER",payload:{layerID:o}}),s({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:!0}})}),e.state={isDownloading:!1,activeLayerId:null},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"entry:image-slice:init"})}},{key:"componentDidUpdate",value:function(e){var o=this.props,s=o.currentArtboardId,l=o.dispatch;s!==e.currentArtboardId&&l({type:"reducer:slice:init"})}},{key:"render",value:function(){var e=this,o=this.props,s=o.slicesList,l=o.loading,p=o.error,v=o.currentArtboardId,M=o.isWonderShare,j=o.theme,Z=this.state,W=Z.isDownloading,X=Z.activeLayerId;return p||l?(0,g.jsx)(W0,{className:ot()("slice-load-wrap"),children:(0,g.jsx)(Gu,{})}):s.length===0?(0,g.jsx)(Vu,{isWonderShare:M,theme:j}):(0,g.jsxs)(H0,{className:ot()("slice-container"),children:[s.map(function(J){var _=J.id,te=J.artboard_id,ne=J.name,ie=J.image,se=J.image_set;return(0,g.jsx)(zu,{id:_,src:ie,name:ne,currentArtboardId:v,imageSet:se,artboardId:te,requestLayer:e.requestLayer,activeLayer:e.handleActiveLayer,activeLayerId:X},_)}),(0,g.jsx)(Ku,{onClick:this.handleDownloadZip,isLoading:W})]})}}]),t}(h.PureComponent);(0,f.Z)($u,"propTypes",{accessToken:u().string,currentScreenName:u().string,theme:u().string,currentArtboardId:u().number,slicesList:u().array,error:u().bool,loading:u().bool,dispatch:u().func,isWonderShare:u().bool});var Gu=function(){return(0,g.jsx)("div",{className:ot()("layer-load"),children:(0,g.jsx)("span",{className:ot()("spinner")})})},Vu=function(i){var t=i.isWonderShare,n=i.theme;return(0,g.jsxs)("div",{className:ot()("no-slice"),children:[(0,g.jsx)("img",{src:n==="dark"?"/mb-workspace/images/preview/no-slice-dark.png":"/mb-workspace/images/preview/no-slice-light.png"}),(0,g.jsx)("span",{children:I18N.pPreviewPanel.no_slice}),(0,g.jsx)("span",{children:I18N.pPreviewPanel.slice_in_sketch}),(0,g.jsx)("span",{children:I18N.pPreviewPanel.suport_mac}),!t&&(0,g.jsxs)("a",{href:window.MBSketchPluginDownloadURL,onClick:function(){return _t("\u4E0B\u8F7DSketch\u63D2\u4EF6")},children:[(0,g.jsx)("img",{src:"/mb-workspace/images/preview/ic_sketch@2x.png",alt:"sketch"}),I18N.pPreviewPanel.download_sketch]})]})};Vu.propTypes={isWonderShare:u().bool,theme:u().string};var Ku=function(i){var t=i.onClick,n=i.isLoading,e=function(){return n?(0,g.jsx)("div",{className:ot()("download-slice-load"),children:(0,g.jsx)(Gu,{})}):(0,g.jsx)(wr.Z,{type:"dora",name:"export",className:"download-slice-icon"})};return(0,g.jsxs)(Lr.Z,{content:{click:null},type:"block",position:"top",arrowed:!1,className:ot()("download"),onClick:t,children:[I18N.pPreviewPanel.download,e()]})};Ku.propTypes={onClick:u().func,isLoading:u().bool};var z0=function(){var a=(0,d.Z)((0,r.Z)().mark(function i(t,n,e){var o,s,l,p,v,M,j;return(0,r.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:o=new URLSearchParams(location.search).get("password")||Pu(e),s=!0,p=1;case 3:if(!s){W.next=21;break}return W.next=6,Zn.api.requestSliceZipByArtboardId({artboardId:t,encryptedPassword:o});case 6:if(v=W.sent,M=v.url,j=v.status,j!=="ok"){W.next=14;break}s=!1,l=M,W.next=16;break;case 14:return W.next=16,(0,Pt.Kb)(Math.min(p++*2e3,1e4));case 16:if(!(p>20)){W.next=19;break}return(0,Pt.z)(),W.abrupt("return",!1);case 19:W.next=3;break;case 21:return(0,Pt.m)({url:"/"+l,name:n,type:"zip"}),W.abrupt("return",!0);case 23:case"end":return W.stop()}},i)}));return function(t,n,e){return a.apply(this,arguments)}}(),$0=(0,U.connect)(function(a){var i=a.container.slices,t=i.slices,n=i.loading,e=i.error,o=(0,re.cM)(a),s=o.project_cid,l=o.access_token,p=(0,re.CL)(a),v=(0,re.CD)(a),M=(0,re.gh)(a),j=v.isWonderShare;return{projectCid:s,currentScreenName:p.name,currentArtboardId:p.artboard_id,slicesList:t,loading:n,error:e,accessToken:l,isWonderShare:j,theme:M}})($u),Yu,Xu;function Qu(a,i){return i||(i=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(i)}}))}var G0=ze.default.div(Yu||(Yu=Qu(["\n  position: absolute;\n  z-index: 3;\n\n  .v-resizer {\n    z-index: 11;\n  }\n  \n  &.top,\n  &.bottom {\n    left: 0;\n    width: 100%;\n    height: 3px;\n    cursor: ns-resize;\n  }\n  \n  &.top {\n    top: 1px;\n  }\n\n  &.bottom {\n    bottom: -1px;\n  }\n  \n  &.left,\n  &.right {\n    top: 0;\n    width: 3px;\n    height: 100%;\n    cursor: ew-resize;\n  }\n\n  &.left {\n    left: 1px;\n  }\n  \n  &.right {\n    right: 0;\n  }\n\n  &:hover,\n  &.active {\n    // TMP props.theme.color_primary_brand01\n    background: #ff6161;\n  }\n\n  &.none-active-style {\n    &:hover,\n    &.active {\n      background: none;\n    }\n  }\n"]))),V0=(0,ze.createGlobalStyle)(Xu||(Xu=Qu(["\n  .body-ns-resize {\n    cursor: ns-resize !important;\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    z-index: 10000;\n  }\n\n  .body-ew-resize {\n    cursor: ew-resize !important;\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    z-index: 10000;\n  }\n"])));function K0(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function Ju(a,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,qu(n.key),n)}}function Y0(a,i,t){return i&&Ju(a.prototype,i),t&&Ju(a,t),Object.defineProperty(a,"prototype",{writable:!1}),a}function X0(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&ys(a,i)}function ys(a,i){return ys=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},ys(a,i)}function Q0(a){var i=_0();return function(){var n=Hi(a),e;if(i){var o=Hi(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return J0(this,e)}}function J0(a,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _u(a)}function _u(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function Hi(a){return Hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hi(a)}function Ss(a,i,t){return i=qu(i),i in a?Object.defineProperty(a,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[i]=t,a}function qu(a){var i=q0(a,"string");return typeof i=="symbol"?i:String(i)}function q0(a,i){if(typeof a!="object"||a===null)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var n=t.call(a,i||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}var ga=function(a){X0(t,a);var i=Q0(t);function t(){var n;return K0(this,t),n=i.call(this),Ss(_u(n),"handleDown",function(e){e.preventDefault();var o=n.props,s=o.placement,l=o.value,p=o.onResizeStart,v=o.onResizeEnd,M=o.onChange,j=["left","right"].includes(s),Z=j?e.clientX:e.clientY,W=["bottom","right"].includes(s)?1:-1;n.setState({active:!0}),p();var X=document.createElement("div");document.body.appendChild(X),X.classList.add(j?"body-ew-resize":"body-ns-resize");var J=function(ne){var ie=n.props,se=ie.min,Se=ie.max,Te=j?ne.clientX:ne.clientY,Le=(Te-Z)*W,ke=Math.max(Math.min(l+Le,Se),se);M(ke)},_=function te(){X.remove(),document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",te),n.setState({active:!1}),v()};document.addEventListener("mousemove",J),document.addEventListener("mouseup",_)}),n.state={active:!1},n}return Y0(t,[{key:"render",value:function(){var e=this.props,o=e.placement,s=e.className,l=this.state.active;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(G0,{className:ot()("border-resizer",s,o,{active:l}),onMouseDown:this.handleDown}),(0,g.jsx)(V0,{})]})}}]),t}(h.Component);Ss(ga,"propTypes",{placement:u().oneOf(["top","left","right","bottom"]),min:u().number,max:u().number,className:u().string,value:u().number,onChange:u().func,onResizeStart:u().func,onResizeEnd:u().func}),Ss(ga,"defaultProps",{onResizeStart:function(){return null},onResizeEnd:function(){return null}});var ed=(0,h.memo)(function(a){var i=a.layer,t=a.isExpanded,n=i.value.type;switch(n){case"rectangle":return(0,g.jsx)(Et.q,{className:ot()("design-rectangle-new"),name:"design/rectangle/new"});case"oval":return(0,g.jsx)(Et.q,{className:"design-circle-new",name:"design/circle/new"});case"rounded":case"line":case"arrow":case"triangle":case"polygon":case"star":case"pencil":case"vector":case"shapePath":return(0,g.jsx)(Et.q,{className:"design-shape-path",name:"design/shape/path"});case"shapeGroup":case"group":{var e=t?"design/group_open":"design/group_close";return(0,g.jsx)(Et.q,{className:"group-icon",name:e})}case"text":return(0,g.jsx)(Et.q,{className:"design-text-new",name:"design/text/new"});case"bitmap":return(0,g.jsx)(Et.q,{className:"design-image-new",name:"design/image/new"});case"symbol":case"symbolInstance":return(0,g.jsx)(Et.q,{className:"design-symbol",name:"design/symbol"});default:return(0,g.jsx)(Et.q,{className:"design-mask-none",name:"design/mask/none"})}});ed.propTypes={layer:u().object,isExpanded:u().bool};var ey=ed,ty=ze.default.span.withConfig({displayName:"style__StyledLayerItemText",componentId:"sc-p18bg4-0"})(["width:fit-content;overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;color:",";"],function(a){return a.theme.color_text_L1}),td=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"handleClick",function(o){o.stopPropagation();var s=e.props,l=s.layer,p=s.sketchAction,v=p.onRequestSelectLayer,M=p.onShowlayerInfo,j=l.value.id;v(j),M(!0)}),(0,f.Z)((0,ae.Z)(e),"onMouseEnter",function(o){o.stopPropagation();var s=e.props,l=s.layer,p=s.sketchAction.onEnterLayer,v=l.value.id;p(v)}),(0,f.Z)((0,ae.Z)(e),"onMouseLeave",function(o){o.stopPropagation();var s=e.props.sketchAction.onEnterLayer;s(-1)}),(0,f.Z)((0,ae.Z)(e),"handleToggleExpand",function(o){o.stopPropagation();var s=e.props,l=s.layer,p=s.sketchAction.onUpdateExpandCidSet;p(l.value.id)}),e.state={isExpand:!1},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.layer,s=e.isExpanded,l=e.nodeDepth,p=e.isActive,v=o.value,M=v.name,j=v.type,Z=v.mask,W=v.maskedID,X=v.imageSet,J=!!Z,_=!!W,te=14*(l+1),ne=X&&!!X.length;return(0,g.jsxs)("div",{onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,style:{paddingLeft:te},className:ot()("sketch-layer-item",{active:p}),children:[Kt(j)&&(0,g.jsx)("a",{className:"expander",onClick:this.handleToggleExpand,children:(0,g.jsx)(Et.q,{className:ot()("arrow-icon",{"is-expand":s}),name:"common/expand"})}),_&&(0,g.jsx)(Et.q,{className:"mask-line",name:"design/mask/line"}),!_&&J?(0,g.jsx)(Et.q,{className:"mask",name:"design/mask"}):(0,g.jsxs)("div",{className:"layer-item-icon",children:[(0,g.jsx)(ey,{layer:o,isExpanded:s}),ne&&(0,g.jsx)(Et.q,{className:"mask-slice",name:"preview/mask/slice"})]}),(0,g.jsx)(ty,{className:"editable-name",children:M})]})}}]),t}(h.PureComponent);(0,f.Z)(td,"propTypes",{layer:u().object,nodeDepth:u().number,isExpanded:u().bool,isActive:u().bool,sketchAction:u().object});var nd=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.layer,s=e.nodeDepth,l=e.expandCidSet,p=e.activeLayerID,v=e.sketchAction,M=o.value.id,j=l.has(M),Z=M===p;return(0,g.jsxs)("li",{"data-cid":M,className:"layer-item",children:[(0,g.jsx)(td,{nodeDepth:s,layer:o,isExpanded:j,isActive:Z,sketchAction:v}),o.type==="compound"&&j&&(0,g.jsx)("ul",{className:"children",children:o.children.map(function(W){return(0,g.jsx)(t,{nodeDepth:s+1,layer:W,expandCidSet:l,activeLayerID:p,sketchAction:v},W.value.id)})})]})}}]),t}(h.PureComponent);(0,f.Z)(nd,"propTypes",{layer:u().object,nodeDepth:u().number,expandCidSet:u().object,activeLayerID:u().oneOfType([u().number,u().string]),sketchAction:u().object});var ny=ze.default.header.withConfig({displayName:"styles__StyledLayerHeader",componentId:"sc-impan7-0"})(["padding-left:10px;padding-right:5px;color:#415058;border-top:1px solid ",";border-bottom:1px solid ",";height:36px;display:flex;align-content:center;&:not(.is-search-mode){cursor:grab;}.header-left{display:flex;align-items:center;flex-shrink:0;transition:flex 0.2s ease-in-out;p{font-weight:600;color:","}&.is-search-mode{flex:0 0 12px;margin-left:-6px;}}.header-right{display:flex;align-items:center;margin-left:auto;transition:flex 0.2s ease-in-out;.header-icon{width:22px;height:34px;display:flex;justify-content:center;align-items:center;color:",";&:hover{color:",";}}.arrow-icon{.svg-icon{transform:rotate(-180deg);}&.expanded .svg-icon{transform:rotate(0);}}&.is-search-mode{flex:1;margin-left:13px;}.layer-search{width:100%;}}"],function(a){return a.theme.color_background},function(a){return a.theme.color_background},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_primary_proto01}),rd=On.gk,ad=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"setSearchBarRef",function(o){return e.searchBar=o}),(0,f.Z)((0,ae.Z)(e),"handleOpenSearch",function(){e.setState({isSearching:!0},function(){e.searchBar&&e.searchBar.focus()})}),(0,f.Z)((0,ae.Z)(e),"handleExitSearch",function(o){o.stopPropagation(),e.setState({isSearching:!1})}),(0,f.Z)((0,ae.Z)(e),"handleToogleLayerPanel",function(){var o=e.props,s=o.height,l=o.dispatch,p=s!==On.yM;p&&(rd=s),l({type:"preview:panel:set:height",payload:{panelHeight:p?On.yM:rd}})}),(0,f.Z)((0,ae.Z)(e),"handleDown",function(o){o.stopPropagation();var s=e.props,l=s.height,p=s.dispatch,v=e.state.isSearching;if(!v){var M=window.innerHeight-310,j=o.clientY,Z=-1,W=function(_){var te=_.clientY,ne=(te-j)*Z,ie=Math.max(Math.min(l+ne,M),On.yM);p({type:"preview:panel:set:height",payload:{panelHeight:ie}})},X=function J(){document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",J)};document.addEventListener("mousemove",W),document.addEventListener("mouseup",X)}}),e.state={isSearching:!1},e}return(0,S.Z)(t,[{key:"handStopPropagation",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props,o=e.keyword,s=e.height,l=e.onKeywordChange,p=this.state.isSearching,v=s!==On.yM;return(0,g.jsxs)(ny,{className:ot()({"is-search-mode":p}),onMouseDown:this.handleDown,children:[(0,g.jsx)("div",{className:ot()("header-left",{"is-search-mode":p}),children:p?(0,g.jsx)(Et.q,{name:"common/back",onClick:this.handleExitSearch}):(0,g.jsx)("p",{children:I18N.pPreviewPanel.layer})}),(0,g.jsx)("div",{className:ot()("header-right",{"is-search-mode":p}),children:p?(0,g.jsx)(ai,{className:"layer-search",ref:this.setSearchBarRef,value:o,placeholder:I18N.pPreviewPanel.search_widgets,onChange:l}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(zn.Z,{content:I18N.pPreviewPanel.element_search,direction:"up",children:(0,g.jsx)("a",{className:"header-icon",onMouseDown:this.handStopPropagation,onClick:this.handleOpenSearch,children:(0,g.jsx)(Et.q,{name:"design/search"})})}),(0,g.jsx)(zn.Z,{content:v?I18N.pPreviewPanel.fold:I18N.pPreviewPanel.expand,direction:"up",children:(0,g.jsx)("a",{className:ot()("header-icon","arrow-icon",{expanded:v}),onMouseDown:this.handStopPropagation,onClick:this.handleToogleLayerPanel,children:(0,g.jsx)(Et.q,{name:"angle_up"})})})]})})]})}}]),t}(h.PureComponent);(0,f.Z)(ad,"propTypes",{keyword:u().string,height:u().number,onKeywordChange:u().func,dispatch:u().func});var ry=ze.default.div.withConfig({displayName:"styles__StyledMaskContainer",componentId:"sc-144u53d-0"})(["height:100%;display:flex;flex-direction:column;overflow:hidden;.sketch-layer-list{overflow:auto;}li{list-style:none;}.sketch-layer-item{",";background-color:",";.mask-line{width:6px;height:9px;margin-right:3px;}.mask{width:12px;height:12px;margin-right:3px;}&:hover,&.active{.icon{color:inherit;}.arrow-icon{color:",";}}.expander{display:flex;align-items:center;justify-content:center;margin-left:-11px;margin-right:1px;width:8px;.arrow-icon{margin-right:0;color:#999;&:not(.is-expand){transform:rotate(-90deg);}}}.layer-item-icon{width:14px;height:14px;display:flex;align-items:center;justify-content:center;margin-right:8px;position:relative;.svg-icon{width:20px;height:20px;}svg.group-icon{path:first-child{fill:transparent;stroke:",";}path:last-child{fill:",";stroke:",";}}.icon{font-size:14px;&.design-circle-new{width:13px;height:13px;}&.design-rectangle-new,&.design-line-new,&.design-shape-path,&.design-image-new,&.design-symbol{width:12px;height:12px;}&.design-text-new{width:11px;height:11px;}&.design-mask-none{width:7px;height:12px;}}}.mask-slice{position:absolute;width:9px;height:10px;right:0;bottom:0;}}"],fs,function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L3},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_background_split},function(a){return a.theme.color_text_L1}),ay=ze.default.div.withConfig({displayName:"styles__StyledComponentPanel",componentId:"sc-144u53d-1"})(["position:relative;overflow:hidden;.border-resizer.top{top:0px;&:hover{background-color:rgba(22,132,252,.6);}&.active{background-color:rgba(22,132,252,.6);}}"]),iy=c(77466),id=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"setElementRef",function(l){return e.$elem=l}),(0,f.Z)((0,ae.Z)(e),"handleKeywordkChange",function(l){e.setState({keyword:l})}),(0,f.Z)((0,ae.Z)(e),"handleShowlayerInfo",function(l){var p=e.props.dispatch;p({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:l}})}),(0,f.Z)((0,ae.Z)(e),"handleRequestSelectLayer",function(l){var p=e.props.dispatch;p(Ei(l))}),(0,f.Z)((0,ae.Z)(e),"handleEnterLayer",function(l){var p=e.props.dispatch;p(zv(l))}),(0,f.Z)((0,ae.Z)(e),"handleUpdateExpandCidSet",function(l){var p=e.state.expandCidSet,v=new Set(p);v.has(l)?v.delete(l):v.add(l),(0,Tt.A6)(e.expandStatusKey,JSON.stringify((0,Jt.Z)(v.values()))),e.setState({expandCidSet:v})}),(0,f.Z)((0,ae.Z)(e),"handleHeightChange",function(l){e.props.dispatch({type:"preview:panel:set:height",payload:{panelHeight:l}})});var o=e.props.activeScreenCid;e.expandStatusKey="preview-inspect-expand-status-"+o;var s=(0,Tt.GQ)(e.expandStatusKey);return e.state={expandCidSet:s?new Set(JSON.parse(s)):new Set,keyword:""},e.sketchAction={onUpdateExpandCidSet:e.handleUpdateExpandCidSet,onShowlayerInfo:e.handleShowlayerInfo,onRequestSelectLayer:e.handleRequestSelectLayer,onEnterLayer:e.handleEnterLayer},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.sketchLayerList,l=o.activeLayerID,p=o.panelHeight,v=o.dispatch,M=this.state,j=M.expandCidSet,Z=M.keyword,W=(0,iy.l$)(s,Z),X=(0,Dr.rA)(this.$elem);return(0,g.jsxs)(ay,{style:{flexBasis:p},children:[(0,g.jsxs)(ry,{className:"mask-panel",children:[(0,g.jsx)(ad,{keyword:Z,height:p,onKeywordChange:this.handleKeywordkChange,dispatch:v}),(0,g.jsx)("div",{ref:this.setElementRef,className:"sketch-layer-list",style:{width:X},children:W.map(function(J){return(0,g.jsx)(nd,{layer:J,nodeDepth:0,expandCidSet:j,activeLayerID:l,sketchAction:e.sketchAction},J.value.id)})})]}),(0,g.jsx)(ga,{placement:"top",value:p,min:On.yM,max:window.innerHeight-310,onChange:this.handleHeightChange})]})}}]),t}(h.PureComponent);(0,f.Z)(id,"propTypes",{activeScreenCid:u().string,activeLayerID:u().oneOfType([u().number,u().string]),sketchLayerList:u().array,dispatch:u().func,panelHeight:u().number});var oy=function(i){return i.container.common.panelHeight},sy=(0,an.P1)([re.CL,ov,Kn,oy],function(a,i,t,n){var e=a.name,o=a.artboard_id;return{activeScreenCid:e+"-"+o,activeLayerID:t,sketchLayerList:i,panelHeight:n}}),ly=(0,U.connect)(function(a){return sy(a)})(id),cy=ze.default.div.withConfig({displayName:"styles__StyledPreviewPanel",componentId:"sc-1jz0mt0-0"})(["position:relative;width:100%;height:100%;display:flex;flex-direction:column;font-size:12px;color:#525e71;background-color:",";box-shadow:1px 0 0 ",";overflow:hidden;&.is-uichina{box-shadow:none;}header{height:33px;padding-left:10px;padding-right:14px;display:flex;flex-shrink:0;justify-content:space-between;align-items:center;border-bottom:1px solid ",";overflow:hidden;.screen-count{color:",';padding:0 3px;font-weight:600;}.toggle-icon{width:20px;height:20px;display:flex;justify-content:center;align-items:center;color:#8d9ea7;cursor:pointer;.icon{height:12px;}}}.screen-panel{flex:1;display:flex;flex-direction:column;overflow:hidden;.screen-header{height:36px;padding:0 4px 0 10px;display:flex;align-items:center;[type="search"]{flex:1;margin-right:4px;}.header-icon{',";}}.screen-list-container{flex:1;overflow-x:hidden;overflow-y:auto;.toggle-comment{position:absolute;right:22px;top:50%;transform:translateX(100%) translateY(-50%);& > .icon{color:",";}& > .icon-comment{margin-right:2px;}}&.thumbnail{padding-left:10px;.toggle-comment{display:none;}}.thumbnail-list{width:calc(100% + 15px);.thumbnail-item{width:105px;margin-right:10px;.image-wrapper{height:105px;}}}}}.no-slice{display:flex;align-items:center;justify-content:center;flex-direction:column;height:calc(100% - 50px);> img{width:93px;margin:-100px 10px 0;}span{color:",";font-size:14px;&:nth-child(2){padding-top:21px;}&:nth-child(3){font-size:12px;padding-top:8px;}&:nth-child(4){padding-top:4px;font-size:12px;}}a{margin-top:31px;text-decoration:none;padding:4px 13px;font-size:12px;color:",";border:1px solid ",";border-radius:3px;background-color:",";&:hover{color:",";background-color:",";}&:active{color:",";background:",";}img{width:14px;display:inline-block;vertical-align:middle;margin-right:5px;}}}"],function(a){return a.theme.color_background_white},function(a){return a.theme.color_background_split},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_text_L2},ku,function(a){return a.theme.color_text_L3},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background_split},function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background}),uy=["key"],od=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleTabChange",function(l){n.props.dispatch({type:"preview:previewPanel:navindex",payload:{previewPanelNavIndex:l}}),l===1&&_t("\u5207\u56FEtable")}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.screensCount,s=e.showSliceTab,l=e.previewPanelNavIndex,p=e.isHTMLZip,v=py(o),M=l===0,j=l===1,Z=s&&M;return(0,g.jsxs)(cy,{className:ot()("preview-panel",{"is-uichina":(0,gn.Md)()||(0,gn._j)()}),screensCount:o,children:[(0,g.jsx)("header",{children:s?(0,g.jsx)(Lu.Z,{className:"preview-panel-nav",activeIndex:l,onTabChange:this.handleTabChange,children:v.map(function(W){var X=W.key,J=(0,pa.Z)(W,uy);return(0,g.jsx)(Lu.G,(0,L.Z)({},J),X)})}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("span",{className:"screen-count",children:I18N.pPreviewPanel.screen+"\uFF08"+o+"\uFF09"})})}),M&&(0,g.jsx)(Hu,{isHTMLZip:p}),j&&(0,g.jsx)($0,{}),M&&Z&&(0,g.jsx)(ly,{})]})}}]),t}(h.PureComponent);(0,f.Z)(od,"propTypes",{isMinimized:u().bool,showSliceTab:u().bool,isHTMLZip:u().bool,screensCount:u().number,previewPanelNavIndex:u().number,dispatch:u().func});var dy=function(i){return[{key:"screen",label:I18N.pPreviewPanel.pages+"\uFF08"+i+"\uFF09"},{key:"images",label:I18N.pPreviewPanel.images}]},py=(0,Pt.LL)(dy),fy=function(i){return i.container.common.previewPanelNavIndex},hy=(0,an.P1)([re.Eg],function(a){return a.filter(function(i){return!(0,In.Vx)(i)}).length}),vy=(0,an.P1)([re.GP,re.Ds,hy,fy],function(a,i,t,n){var e=a.isHTMLZip;return{screensCount:t,showSliceTab:i==="inspect"&&!e,previewPanelNavIndex:n,isHTMLZip:e}}),sd=(0,U.connect)(function(a){return vy(a)})(od),my=c(25370),ld=c.n(my),gy=c(47049),yy=c.n(gy),Sy=c(37700),bs=c.n(Sy),by=c(49548),Wi=function(i){var t=ir(i);if(t!==nr)return console.warn("Not rgbacolor but use rgba2hexWithA"),i;var n=i.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d+)?)[\s+]?/i);return n&&n.length>=4?{hex:("#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2)).toUpperCase(),o:Number((+n[4]).toFixed(2))}:i},Pr=function(i,t){var n=xy(i);if(!n)return ca;var e=$i(n,t);return e?$n(e,nr):n},xy=function(i){var t=null;return i&&typeof i=="string"?t=i:i&&i.background&&(t=Array.isArray(i.background)?"#"+(0,ra.aK)((0,by.JZ)(i.background).color):null),t},xs=/rgba?\(\s*([\w.+]+)\s*,\s*([\w.+]+)\s*,\s*([\w.+]+)\s*(?:,\s*([\w%.+]+)\s*)?\)/,Ba=function(i){return Math.min(Math.max(Math.round(i),0),255)},zi=function(i){return Math.min(Math.max(Math.round(i),0),100)},Cy=function(i,t){var n=xs.exec(i.toLowerCase())||[],e=(0,F.Z)(n,5),o=e[1],s=o===void 0?"255":o,l=e[2],p=l===void 0?"255":l,v=e[3],M=v===void 0?"255":v,j=e[4],Z=j===void 0?"1":j;return s<=1&&p<=1&&M<=1?{R:parseInt(bs()(s*255),10),G:parseInt(bs()(p*255),10),B:parseInt(bs()(M*255),10),A:t?zi(Z.endsWith("%")?Number(Z.slice(0,-1)):Number(Z)*100):Number(Number(Z).toFixed(2))}:{R:Ba(Number(s)),G:Ba(Number(p)),B:Ba(Number(M)),A:zi(Z.endsWith("%")?Number(Z.slice(0,-1)):Number(Z)*100)}},$i=function(i,t){var n=Cy(i,t),e=n.R,o=n.G,s=n.B,l=n.A;return"rgba("+e+", "+o+", "+s+", "+l+")"},ir=function(i){return i===void 0&&(i=ca),i.includes(nr)?nr:i.includes(Rr)?Rr:i.includes("#")&&i.length===9?Xr:i.includes("#")?Qr:i.includes(Es)?Es:!1},$n=function(i,t){if(t===void 0&&(t=nr),!i)return ca;var n=ir(i);if(!n)return ca;switch(n){case nr:if(t===n)return i;if(t===Rr)return ud(i);if(t===Qr)return dd(i);if(t===Xr)return pd(i);break;case Rr:if(t===n)return i;if(t===nr)return fd(i);if(t===Qr)return hd(i);if(t===Xr)return wy(i);break;case Qr:if(t===n)return i;if(t===nr)return Ey(i);if(t===Rr)return Cs(i);if(t===Xr)return vd(i);break;case Xr:if(t===n)return i;if(t===nr)return ws(i);if(t===Rr)return Ay(i);if(t===Qr)return My(i);break;case Es:if(t===nr)return Gi;if(t===Rr)return ud(Gi);if(t===Qr)return dd(Gi);if(t===Xr)return pd(Gi);break;default:return i}},cd=function(i){var t=ir(i);if(t!==nr)return console.warn("Not rgbacolor but use rgba2rgbWithA"),i;var n=Wi(i),e=n.hex,o=n.o;if(!e)return ca;var s=Cs(e);return{rgb:s,o}},Cs=function(i){var t=ir(i);if(t!==Qr)return console.warn("Not hexcolor but use hex2rgb"),i;if(i=i.replace("#",""),i.length===3){var n=i.split(""),e=(0,F.Z)(n,3),o=e[0],s=e[1],l=e[2];i=""+o+o+s+s+l+l}var p=parseInt(i.substring(0,2),16),v=parseInt(i.substring(2,4),16),M=parseInt(i.substring(4,6),16);return"rgb("+p+", "+v+", "+M+")"},ud=function(i){var t=cd(i),n=t.rgb,e=t.o;if(!n)return i;var o=e<=1?e*100:e;return n+" "+Math.round(o)+"%"},dd=function(i){var t=Wi(i),n=t.hex,e=t.o;if(!n)return i;var o=e<=1?e*100:e;return n.toUpperCase()+" "+Math.round(o)+"%"},pd=function(i){var t=ir(i);if(t!==nr)return console.warn("Not rgbacolor but use rgba2argb"),i;var n=Wi(i),e=n.hex,o=n.o;if(!e)return i;var s=("0"+Math.round(o*255/100).toString(16)).slice(-2).toUpperCase();return"#"+s+e.slice(1)},fd=function(i){var t=ir(i);return t!==Rr?(console.warn("Not rgbcolor but use rgb2rgba"),i):"rgba("+i.slice(4,-1)+", 1)"},hd=function(i){var t=ir(i);if(t!==Rr)return console.warn("Not rgbcolor but use rgb2hex"),i;var n=i.match(/^rgb?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(n&&n.length===4){var e=("0"+parseInt(n[1],10).toString(16)).slice(-2),o=("0"+parseInt(n[2],10).toString(16)).slice(-2),s=("0"+parseInt(n[3],10).toString(16)).slice(-2);return("#"+e+o+s).toUpperCase()}},wy=function(i){var t=ir(i);return t!==Rr?(console.warn("Not rgbcolor but use rgb2argb"),i):vd(hd(i))},vd=function(i){var t=ir(i);return t!==Qr?(console.warn("Not hexcolor but use hex2argb"),i):"#FF"+i.slice(1)},Ey=function(i){var t=ir(i);return t!==Qr?(console.warn("Not hexcolor but use hex2rgba"),i):fd(Cs(i))},ws=function(i){var t=ir(i);if(t!==Xr)return console.warn("Not argbcolor but use argb2rgba"),i;for(var n=[],e=1;e<i.length;e+=2)n.push(i.slice(e,e+2));var o=n[0],s=n[1],l=n[2],p=n[3];return s=parseInt(s,16),l=parseInt(l,16),p=parseInt(p,16),o=Number((parseInt(o,16)/255).toString().slice(0,4)),"rgba("+s+", "+l+", "+p+", "+o+")"},Ay=function(i){var t=ir(i);if(t!==Xr)return console.warn("Not argbcolor but use argb2rgbWithA"),i;var n=ws(i),e=cd(n),o=e.rgb,s=e.o;return o?o+" "+Math.round(s*100)+"%":i},My=function(i){var t=ir(i);if(t!==Xr)return console.warn("Not argbcolor but use argb2hexWithA"),i;var n=ws(i),e=Wi(n),o=e.hex,s=e.o;return o?o.toUpperCase()+" "+Math.round(s*100)+"%":i},Py=function(i){if(!i)return ca;try{var t=$n(i,nr),n=xs.exec(t.toLowerCase())||[],e=(0,F.Z)(n,5),o=e[1],s=o===void 0?"255":o,l=e[2],p=l===void 0?"255":l,v=e[3],M=v===void 0?"255":v,j=e[4],Z=j===void 0?"1":j,W=(0,Pt.Z7)(s/255),X=(0,Pt.Z7)(p/255),J=(0,Pt.Z7)(M/255),_=zi(Z.endsWith("%")?Number(Z.slice(0,-1)):Number(Z))/100;return"UIColor(red:"+W+", green:"+X+", blue:"+J+", alpha:"+_+")"}catch(te){return i}},Ty=function(i){try{var t=ir(i);if(t!==nr)return console.warn("Not rgbacolor but use rgba2hexWithA"),i;var n=i.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d+)?)[\s+]?/i);if(n&&n.length>=4){var e="#",o=parseFloat(Number((+n[4]).toFixed(2)));return o>=0&&o<=1?o=Math.round(255*o):o>=0&&o<=100?o=Math.round(255*o/100):o=-1,o>=0&&(e=e+(o|1<<8).toString(16).slice(1)),e=(e+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2)).toUpperCase(),e}return i}catch(s){return i}},Iy=function(i){if(!i)return ca;try{var t=$n(i,nr),n=xs.exec(t.toLowerCase())||[],e=(0,F.Z)(n,5),o=e[1],s=o===void 0?"255":o,l=e[2],p=l===void 0?"255":l,v=e[3],M=v===void 0?"255":v,j=e[4],Z=j===void 0?"1":j,W=zi(Z.endsWith("%")?Number(Z.slice(0,-1)):Number(Z))/100;return"rgba("+Ba(Number(s))+", "+Ba(Number(p))+", "+Ba(Number(M))+", "+W+")"}catch(X){return i}},nr="rgba",Xr="argb",Rr="rgb",Qr="hex",Es="transparent",Gi="rgba(255, 255, 255, 0)",ca="#FFFFFF",Oy=function(i){var t=/<[^>]+>/ig;return i?i.replace(t,""):!1},Dy=function(i){var t=JSON.parse(i);return t.reduce(function(n,e,o,s){var l="\n",p=e.children.reduce(function(v,M,j){return v+M.text},"");return n+(o===0?"":l)+p},"")},As=function(i){return(0,Qa.E)(i)?Dy(i.inspectText):Oy(i.inspectText)},Ly=function(i){var t=i.width,n=i.height,e=i.left,o=i.top,s=i.opacity,l=i.borderRadius,p=i.rotation,v=i.ratio,M=i.unit,j=i.rectHeight,Z=i.rectWidth,W=(0,Pt._F)(e,v,M),X=(0,Pt._F)(o,v,M),J=(0,Pt._F)(Z||t,v,M),_=(0,Pt._F)(j||n,v,M),te=l?String(l).split(",").map(function(se){return(0,Pt._F)(parseInt(se)||0,v,M)}).join(" "):null,ne=Vi(p)?null:p+"\xB0",ie=Vi(s)?null:s+"%";return{adapterLeft:W,adapterTop:X,adapterWidth:J,adapterHeight:_,radius:te,opacity:ie,rotate:ne}},Vi=function(i){return i===null||isNaN(i)||i===0},Ny=function(i){var t=i.lineHeight,n=i.letterSpacing,e=i.unit,o=i.ratio;return t=Vi(t)?null:(0,Pt._F)(t,o,e),n=Vi(n)?null:(0,Pt._F)(n,o,e),{lineHeight:t,letterSpacing:n}},Ry=function(i){var t=[],n=[];i.forEach(function(o){var s=o.bg_colors,l=s===void 0?[]:s,p=o.borders,v=p===void 0?[]:p,M=o.text_styles,j=M===void 0?[]:M,Z=o.object_id,W=j.length>0?j[0]:{},X=W.color,J=W.font_face,_=[],te=!!Z;l.length&&(_=l.map(function(se){var Se=se.value,Te=se.type,Le=Te===void 0?"color":Te,ke=se.gradient,nt=Le==="color";if(nt){var it=Pr(Se,te);return it}else return ky(ke,te)})),_=md(_);var ne=[];v.length&&(ne=v.map(function(se){var Se=se.color;return Pr(Se,te)})),ne=md(ne);var ie=X&&$n($i(X),"rgba");!t.includes(ie)&&t.push(ie),!n.includes(J)&&n.push(J),t=!t.includes(_)&&[].concat((0,Jt.Z)(t),(0,Jt.Z)(_)),t=!t.includes(ne)&&[].concat((0,Jt.Z)(t),(0,Jt.Z)(ne))});var e=yy()(ld()(t)).slice(0,14)||[];return{screenColor:e,globalText:ld()(n)}},md=function(i){var t;return(t=[]).concat.apply(t,(0,Jt.Z)(i))},jy=function(i){var t=i.textStyles,n=i.borders,e=i.background,o=i.shadows,s=i.innerShadows,l=i.colorUnit,p=i.unit,v=i.ratio,M=i.isSketch,j,Z,W,X,J,_,te,ne,ie;if(t.length){var se=t[0],Se=se.color,Te=se.font_size,Le=se.font_face;j=Se&&Pr(Se),Z=(0,Pt._F)(Te,v,p),W=Le}if(n.length){var ke=n[0],nt=ke.position,it=nt===void 0?"inside":nt,ct=ke.color,de=ke.thickness;X=(0,Pt._F)(de,v,p),_=it,ct&&(J=Pr(ct,M))}e.length&&(typeof e[0].sigmaPaint=="object"?te=e[0]:te=Pr(e[0].value,M));var ue=o.length;ue&&(ne=gd(o,p,v));var ge=s.length;return ge&&(ie=gd(s,p,v,!0),ne=ne+", "+ie),{fontFamily:W,fontSize:Z,color:j,borderWidth:X,borderColor:J,borderPosition:_,backgroundColor:te,boxShadow:ne}},gd=function(i,t,n,e){e===void 0&&(e=!1);var o=i.length;return i.reduce(function(s,l,p){var v=l.color,M=l.offset_x,j=M===void 0?0:M,Z=l.offset_y,W=Z===void 0?0:Z,X=l.blur_radius,J=X===void 0?0:X,_=l.spread,te=_===void 0?0:_,ne=(0,Pt._F)(j,n,t),ie=(0,Pt._F)(W,n,t),se=(0,Pt._F)(J,n,t);te=(0,Pt._F)(te,n,t),v=Pr(v);var Se=p<o-1?", ":"",Te=e?"inset ":"";return s.concat(""+Te+ne+" "+ie+" "+se+" "+te+" "+v+Se)},"")},ky=function(i,t){return!i||!i.color_stops?ca:i.color_stops.map(function(n){var e=n.color;return Pr(e,t)})},By="pt",Zy="dp",Fy="px",yd=function(i){switch(i){case"swift":return By;case"android":return Zy;default:return Fy}},Sd=function(i){return!i.kind},Uy=function(){return window.getSelection?window.getSelection().toString():document.selection?document.selection.createRange().text:""},Hy=c(52261),Ms=c.n(Hy),Wy=c(66503),bd=c(31588),zy=function(i){var t=i.attr,n=i.language,e=i.unit,o=yd(n),s=t.width,l=t.height,p=t.lineHeight,v=t.opacity,M=t.borderRadius,j=t.borderWidth,Z=t.borderColor,W=t.backgroundColor,X=t.color,J=t.fontSize,_=t.fontFamily,te=t.fontStyle,ne=t.boxShadow,ie=t.textAlign,se=t.x,Se=t.y,Te=se&&{[Qn[o].x]:or(se,e,o,n)},Le=Se&&{[Qn[o].y]:or(Se,e,o,n)},ke=s&&{[Qn[o].width]:or(s,e,o,n)},nt=l&&{[Qn[o].height]:or(l,e,o,n)},it=p&&{[Qn[o].lineHeight]:or(p,e,o,n)},ct=v&&{[Qn[o].opacity]:or(v,e,o,n)},de=M&&{[Qn[o].borderRadius]:or(M,e,o,n)},ue;n==="css"&&typeof(W==null?void 0:W.sigmaPaint)=="object"?W.sigmaPaint.type===1?ue={background:(0,bd.je)(W.sigmaPaint)}:W.sigmaPaint.type===2&&(ue={background:(0,bd.g6)(W.sigmaPaint)+" /* CSS \u53EA\u652F\u6301\u90E8\u5206\u89D2\u5EA6\u7684\u5F84\u5411\u6E10\u53D8\u65CB\u8F6C\uFF0C\u5B9E\u9645\u6548\u679C\u53EF\u80FD\u4F1A\u6709\u504F\u5DEE */"}):ue=W&&{[Qn[o].backgroundColor]:or(W,e,o,n,!0)};var ge=X&&{[Qn[o].color]:or(X,e,o,n,!0)},$e=J&&{[Qn[o].fontSize]:or(J,e,o,n)},Ye=_&&{[Qn[o].fontFamily]:or(_,e,o,n)},Xe=te&&{[Qn[o].fontStyle]:or(te,e,o,n)},ut=ne&&{[Qn[o].shadows]:ne},dt=j&&{[Qn[o].borderWidth]:or(j,e,o,n)},mt=Z&&{[Qn[o].borderColor]:or(Z,e,o,n,!0)},Nt=ie&&{[Qn[o].textAlign]:ie},Bt={};return Object.assign(Bt,Te,Le,ke,nt,it,ct,de,dt,mt,ue,ge,$e,Xe,Nt,ut,Ye)},or=function(i,t,n,e,o){return o===void 0&&(o=!1),i=i.toString(),o?e==="android"?Ty(i):e==="css"?Iy(i):Py(i):n==="px"?t==="dp"?i.replace(t,n):i:n==="dp"?i.replace(t,n):n==="pt"?i.replace(t,""):i},Qn={px:{x:"left",y:"top",width:"width",height:"height",lineHeight:"line-height",opacity:"opacity",border:"border",borderRadius:"border-radius",borderColor:"border-color",borderWidth:"border-width",backgroundColor:"background-color",color:"color",fontSize:"font-size",fontFamily:"font-family",fontStyle:"font-style",textAlign:"text-align",shadows:"box-shadow",innerShadows:"inner-shadow"},dp:{x:"left",y:"top",width:"layout_width",height:"layout_height",border:"border",opacity:"opacity",color:"textColor",fontSize:"textSize",fontFamily:"font-family",fontStyle:"font-style",textAlign:"gravity",backgroundColor:"background",borderRadius:"radius",borderColor:"border-color",lineHeight:"line-height",borderWidth:"border-width",shadows:"box-shadow",innerShadows:"inner-shadow"},pt:{x:"x",y:"y",width:"width",height:"height",opacity:"opacity",border:"border",backgroundColor:"backgroundColor",color:"text-color",textAlign:"alignment",fontSize:"fontSize",fontFamily:"fontFamily",fontStyle:"font-style",borderRadius:"cornerRadius",borderColor:"borderColor",borderWidth:"border-width",lineHeight:"lineSpacing"}},$y=c(59438),xd=c(32638),cn=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"handleSelectTextContent",function(){var o=e.props.text,s=Uy();s&&o!==s&&e.setState({copyTextSelected:s})}),(0,f.Z)((0,ae.Z)(e),"handleClearSelectTextContent",function(){e.setState({copyTextSelected:""})}),(0,f.Z)((0,ae.Z)(e),"handleCopy",function(){(0,Pt.aF)("proto-inspect",!0,"","a32");var o=e.props.title;xi(o)}),e.state={copyTextSelected:""},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.color,l=o.colorUnit,p=o.dataValue,v=o.className,M=o.title,j=o.text,Z=o.data,W=o.first,X=o.i18n,J=this.state.copyTextSelected,_=$n(s,"rgba"),te=$n(s,l),ne=p.length>0,ie=p.length===4,se=ot()("panel",""+v,{"panel-bottom-8":!ne,"panel-item-text":!!j,"shadow-panel":ie}),Se=(0,Pt.Q7)();return s?(0,g.jsx)(Ki,{title:M,rgbaColor:_,stateColor:te}):(0,g.jsx)("div",{className:se,"data-value":M,children:j?(0,g.jsx)(Lr.Z,{arrowed:!1,className:"panel-item item-flex-1",content:{click:I18N.pInspect.copied},duration:1e3,onClick:this.handleCopy,children:(0,g.jsx)("pre",{type:"text","data-placement":"top","data-type":"copy","data-clipboard-text":Se?J||j:"",className:"panel-item-value text-content",dangerouslySetInnerHTML:{__html:j},onMouseUp:this.handleSelectTextContent,onMouseDown:this.handleClearSelectTextContent})}):(0,g.jsx)("div",{className:Z.length<2?"single-panel-box":"mult-panel-box",children:(W?Z.slice(0,1):Z).map(function(Te,Le){return(0,g.jsx)(Lr.Z,{arrowed:!1,content:{click:I18N.pInspect.copied},duration:1e3,className:"panel-item","data-value":p[Le],onClick:e.handleCopy,children:(0,g.jsx)("div",{"data-type":"copy","data-clipboard-text":Se?Te:"",className:"panel-item-value",children:X?I18N.pInspect[Te]:Te})},Le)})})})}}]),t}(h.PureComponent);(0,f.Z)(cn,"propTypes",{i18n:u().bool,title:u().string,data:u().array,dataValue:u().array,text:u().string,color:u().string,colorUnit:u().string,first:u().bool,className:u().string}),(0,f.Z)(cn,"defaultProps",{dataValue:[],data:[]});var Ki=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"handleClick",function(){e.setState(function(o){return{activeColor:o.colorList[o.index%4],index:o.index+1}})}),(0,f.Z)((0,ae.Z)(e),"handleCopy",function(){(0,Pt.aF)("proto-inspect",!0,"","a32"),xi("\u989C\u8272")}),e.state={index:0,activeColor:n.stateColor,colorList:n.rgbaColor==="transparent"?Array(4).fill("transparent"):Gy(n.rgbaColor)||[]},e}return(0,S.Z)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var o=e.stateColor;this.setState(function(s){return{activeColor:o}})}},{key:"render",value:function(){var e=this.state.activeColor,o=this.props,s=o.title,l=o.rgbaColor,p=ot()("panel","panel-bottom-8"),v=l.split(","),M=v.length,j=M>3&&+v[M-1].replace(")","")!=1,Z=(0,Pt.Q7)();return(0,g.jsx)("div",{className:p,"data-value":s,children:(0,g.jsxs)("div",{className:"panel-item panel-item-color item-flex-1",children:[(0,g.jsx)(Lr.Z,{className:"panel-item-value textEllipsis",content:{click:I18N.pInspect.copied},"data-type":"copy",arrowed:!1,"data-clipboard-text":Z?e:"",onClick:this.handleCopy,children:e}),(0,g.jsx)("div",{className:"panel-item-color-block-wrap "+(j?"panel-item-color-block-imageback-wrap":""),children:(0,g.jsx)("div",{className:"panel-item-color-block",style:{backgroundColor:l},onClick:this.handleClick})})]})})}}]),t}(h.PureComponent),Gy=function(i){if(i)return[$n(i,"rgba"),$n(i,"rgb"),$n(i,"argb"),$n(i,"hex")]};Ki.propTypes={rgbaColor:u().string.isRequired,stateColor:u().string,title:u().string};var Cd=function(i){var t=i.textStyles,n=t===void 0?[]:t,e=i.hiddSpacing,o=i.ratio,s=i.alignment,l=i.vertical_alignment,p=i.lineHeight,v=i.letterSpacing,M=i.unit,j=i.text,Z=i.o,W=i.colorUnit,X=i.fontStyle,J=i.padding;return(0,g.jsxs)(jr,{children:[I18N.pInspect.font,(n.length>0&&n.slice(0,1)).map(function(_,te){var ne=_.color,ie=_.font_size,se=_.location,Se=_.font_face,Te=_.fontStyle,Le=$i(ne),ke=$n(Le,"rgba"),nt=(0,Pt._F)(ie,o,M),it=$n(Le,W);return(0,g.jsxs)("div",{children:[Se&&(0,g.jsx)(cn,{title:I18N.pInspect.type_face,data:[Se]}),(Te||X)&&(0,g.jsx)(cn,{title:I18N.pInspect.font_style,data:[Te||X]}),ke&&(0,g.jsx)(Ki,{stateColor:it,title:I18N.pInspect.color,rgbaColor:ke}),nt&&(0,g.jsx)(cn,{title:I18N.pInspect.font_size,data:[nt]})]},""+ie+se+te)}),s&&(0,g.jsx)(cn,{title:I18N.pInspect.align,data:[s,l||"auto"],dataValue:[I18N.pInspect.horizontal_align,I18N.pInspect.vertical_align]}),n[0].paraSpacing!==void 0?(0,g.jsx)(cn,{title:I18N.pInspect.graph,data:[n[0].letterSpacing,n[0].lineHeight,n[0].paraSpacing],dataValue:[I18N.pInspect.letter_spacing,I18N.pInspect.text_line_height,I18N.pInspect.para_spacing]}):p&&(0,g.jsx)(cn,{title:I18N.pInspect.graph,data:[p,v||"auto"],dataValue:[I18N.pInspect.line_height,I18N.pInspect.letter_spacing],first:e}),j&&(0,g.jsx)(cn,{text:j,title:I18N.pInspect.content})]})};Cd.propTypes={textStyles:u().array,fontStyle:u().string,alignment:u().string,vertical_alignment:u().string,hiddSpacing:u().bool,letterSpacing:u().oneOfType([u().string,u().bool]),lineHeight:u().oneOfType([u().string,u().bool]),paraSpacing:u().number,ratio:u().number,unit:u().string,text:u().string,o:u().number,padding:u().number,colorUnit:u().string};var wd=function(i){var t=i.adapterLeft,n=i.adapterTop,e=i.adapterWidth,o=i.adapterHeight,s=i.opacity,l=i.radius,p=i.rotate,v=i.mask,M=i.ignore_underlying_mask;return(0,g.jsxs)(jr,{children:[I18N.pInspect.basic_attribute,t&&(0,g.jsx)(cn,{title:I18N.pInspect.position,dataValue:[I18N.pInspect._x,I18N.pInspect._y],data:[t,n]}),e&&(0,g.jsx)(cn,{title:I18N.pInspect.size,dataValue:[I18N.pInspect.width,I18N.pInspect.height],data:[e,o]}),p&&(0,g.jsx)(cn,{title:I18N.pInspect.rotation,data:[p]}),l&&(0,g.jsx)(cn,{title:I18N.pInspect.border_radius,data:[l]}),s&&(0,g.jsx)(cn,{title:I18N.pInspect.opacity,data:[s]}),v&&(0,g.jsx)(cn,{title:I18N.pInspect.mask,data:[v],i18n:!0}),M&&(0,g.jsx)(cn,{title:I18N.pInspect.underlying_mask,data:["ignore_underlying_mask"],i18n:!0})]})};wd.propTypes={adapterLeft:u().string,adapterHeight:u().string,adapterTop:u().string,adapterWidth:u().string,opacity:u().oneOfType([u().string,u().bool]),rotate:u().oneOfType([u().string,u().bool]),radius:u().oneOfType([u().string,u().number]),mask:u().string,ignore_underlying_mask:u().bool};var Vy=function(){return(0,g.jsx)("div",{children:"Error in GlobalAttributes"})},Ed=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleDelColor",function(l){var p=(0,Pt.ty)($n(l,"rgba"));n.props.dispatch({type:"reducer:preview-toolbar:update",payload:{userPickColor:p}})}),(0,f.Z)((0,ae.Z)(n),"handleCopy",function(){(0,Pt.aF)("proto-inspect",!0,"","a32"),xi("\u989C\u8272")}),n}return(0,S.Z)(t,[{key:"componentDidCatch",value:function(e,o){return console.log(e,o),(0,g.jsx)(Vy,{})}},{key:"render",value:function(){var e=this.props,o=e.adapterWidth,s=e.adapterHeight,l=e.screenColor,p=l===void 0?[]:l,v=e.documentColor,M=v===void 0?[]:v,j=e.globalText,Z=j===void 0?[]:j,W=e.globalColor,X=W===void 0?[]:W,J=e.userPickColor,_=J===void 0?[]:J,te=e.colorUnit,ne=(0,Pt.Q7)();return(0,g.jsxs)("div",{className:ot()("global-attributes"),children:[(0,g.jsx)("div",{className:ot()("container","global-layer","layer-size"),children:(0,g.jsx)(cn,{trackId:I18N.pInspect.size,title:I18N.pInspect.size,dataValue:[I18N.pInspect.width,I18N.pInspect.height],data:[o,s]})}),(0,g.jsxs)(jr,{children:[I18N.pInspect.color_title,(0,g.jsx)(Ky,{trackId:I18N.pInspect.pick_color,title:I18N.pInspect.pick_color,handleDelColor:this.handleDelColor,colorBlockMap:_,colorUnit:te,canDel:!0,isSignIn:ne,onCopy:this.handleCopy}),(0,g.jsx)(Ps,{trackId:I18N.pInspect.screen_color,title:I18N.pInspect.screen_color,handleDelColor:this.handleDelColor,colorBlockMap:p,colorUnit:te,isSignIn:ne,onCopy:this.handleCopy})]}),Z.length>0&&(0,g.jsxs)(jr,{children:[I18N.pInspect.font_title,(0,g.jsx)(Ad,{globalText:Z})]})]})}}]),t}(h.PureComponent);Ed.propTypes={adapterWidth:u().string.isRequired,adapterHeight:u().string.isRequired,colorUnit:u().string.isRequired,screenColor:u().array,userPickColor:u().array,documentColor:u().array,globalText:u().array,globalColor:u().array,dispatch:u().func};var Ad=function(i){var t=i.globalText;return t.map(function(n){return(0,g.jsx)(cn,{className:"global-font",data:[n]},n)})};Ad.propTypes={globalText:u().array};var Ps=function(i){var t=i.trackId,n=i.title,e=i.colorBlockMap,o=i.fromSketch,s=i.handleDelColor,l=i.canDel,p=i.colorUnit,v=i.focusColor,M=i.isSignIn,j=i.onCopy;return(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"second-title",children:n}),(0,g.jsx)("div",{className:"panel-row",children:e.length?e.map(function(Z,W){var X=Yy(o,Z,"rgba"),J=$n(X,p);return(0,g.jsx)(Md,{canDel:l,trackId:t,handleDelColor:s,color:J,rgbaColor:X,colorUnit:p,focusColor:v,isSignIn:M,onCopy:j},""+W+Z)}):(0,g.jsx)(Xy,{})})]})};Ps.propTypes={trackId:u().string,title:u().string.isRequired,colorBlockMap:u().array.isRequired,handleDelColor:u().func.isRequired,fromSketch:u().bool,canDel:u().bool,colorUnit:u().string,focusColor:u().string,isSignIn:u().bool,onCopy:u().func};var Ky=(0,U.connect)(function(a){var i=a.container.previewSetting,t=i.userPickColor,n=i.focusColor;return{userPickColor:t,focusColor:n}})(Ps),Yy=function(i,t,n){return $n(i?$i(t):t,n)},Md=function(i){var t=i.color,n=i.rgbaColor,e=i.colorUnit,o=i.handleDelColor,s=i.canDel,l=i.trackId,p=i.focusColor,v=i.isSignIn,M=i.onCopy,j=t===$n(p,e);return(0,g.jsx)(g.Fragment,{children:v?(0,g.jsx)(Hc,{shouldOpenOnHover:!0,className:ot()("color-dropdown",{"is-focus":j}),opener:(0,g.jsx)(Lr.Z,{arrowed:!1,"data-type":"copy","data-track-id":l,"data-clipboard-text":t,className:"row-item color-block",style:{background:n},duration:1e3,content:{click:I18N.pInspect.copied},onClick:M}),inflexible:!0,arrowed:!0,menuX:"left",menuY:"top",menu:(0,g.jsx)(Pd,{color:t,rgbaColor:n,canDel:s,handleDelColor:o}),menuClassName:(0,At.A1)(["palette-dropdown-menu",e])}):(0,g.jsx)(Lr.Z,{arrowed:!1,className:"row-item color-block row-margin",style:{background:n},duration:1e3,onClick:M})})};Md.propTypes={color:u().string.isRequired,trackId:u().string,handleDelColor:u().func,colorUnit:u().string,rgbaColor:u().string,canDel:u().bool,focusColor:u().string,isSignIn:u().bool,onCopy:u().func};var Xy=function(){return(0,g.jsx)("div",{className:"forbid-color",children:(0,g.jsx)("div",{className:"transparent"})})},Pd=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleClick",function(l){var p=n.props,v=p.rgbaColor,M=p.handleDelColor;M(v)}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.color,s=e.canDel;return(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{children:o}),s&&(0,g.jsx)(wr.Z,{type:"dora",name:"trash",className:"trash",onClick:this.handleClick})]})}}]),t}(h.PureComponent);Pd.propTypes={color:u().string.isRequired,rgbaColor:u().string,handleDelColor:u().func.isRequired,canDel:u().bool};var Qy=c(49182),Yi=c.n(Qy),Jy=c(62360),Ts=c.n(Jy),_y=c(74741),qy=c.n(_y),Za=c(37850),Is=c(18634);function Td(){var a=Os(["\n  position: absolute;\n  margin: 2px 0;\n  padding: 0;\n  display: block;\n  max-width: 20em;\n  min-width: 100%;\n  min-height: 30px;\n  max-height: 300px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  pointer-events: none;\n  font-size: 12px;\n  list-style: none;\n  background-color: #fff;\n  border-radius: 3px;\n  box-shadow: 0 2px 10px 0 rgba(39,54,78,0.08), 4px 12px 40px 0 rgba(39,54,78,0.1);\n  color: #5b6b73;\n  transition: 0.2s ease-out;\n  transition-property: transform, opacity;\n  transform-origin: 50% 0;\n  &::-webkit-scrollbar {\n    display: block;\n    width: 4px;\n    height: 4px;\n  }\n  &::-webkit-scrollbar-thumb {\n    background-color: #ccc;\n    border-radius: 2px;\n  }\n  &::-webkit-scrollbar-track {\n    background-color: rgba(255,255,255,0.5);\n  }\n  &.is-empty {\n    width: -moz-fit-content;\n    width: -webkit-fit-content;\n    width: fit-content;\n  }\n  &:not(.is-open) {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n  &.x-center {\n    left: 50%;\n    transform: translateX(-50%);\n    &:not(.is-open) {\n      transform: scale(0.8) translateX(-50%);\n    }\n  }\n  &.x-right {\n    right: 0;\n  }\n  &.is-downward {\n    top: 100%;\n    bottom: initial;\n  }\n  &.is-upward {\n    transform-origin: 50% 100%;\n    top: initial;\n    bottom: 100%;\n  }\n  &.is-open {\n    opacity: 1;\n    pointer-events: initial;\n  }\n  &.cant-select .SelectOption {\n    cursor: default;\n  }\n\n  .SelectGroup {\n    > .title {\n      padding: 0 0.75em;\n      width: 100%;\n      height: 30px;\n      line-height: 30px;\n      font-weight: bold;\n    }\n    > ul {\n      margin: 0;\n      padding: 0;\n    }\n  }\n  .SelectOption {\n    display: flex;\n    align-items: center;\n    height: 30px;\n    line-height: 30px;\n    cursor: pointer;\n    > .Ellipsis {\n      padding: 0 0.75em;\n    }\n    > .svg-icon {\n      margin-left: auto;\n      margin-right: 0.75em;\n\n      &.check path {\n        fill: #5b6b73;\n      }\n    }\n    &.is-disabled {\n      cursor: not-allowed;\n      opacity: 0.5;\n    }\n    &.is-active {\n      color: #298df8;\n    }\n    &:not(.empty-msg):not(.is-disabled):hover,\n    &.is-active {\n      background-color: #f6f7f8;\n    }\n    &.empty-msg {\n      padding: 0 0.5em;\n      color: #8d9ea7;\n      cursor: not-allowed;\n    }\n  }\n  &.CheckSelectMenu {\n    &:not(.is-empty) {\n      padding: 6px 0;\n    }\n    .SelectOption {\n      height: 32px;\n      .Ellipsis {\n        padding: 0 16px;\n      }\n      .Ellipsis + .icon {\n        margin-right: 10px;\n      }\n      &:hover,\n      &.is-active:hover {\n        color: #298df8;\n      }\n      &.is-active {\n        background: none;\n        color: inherit;\n      }\n    }\n  }\n  &.CoreSelectMenu {\n    margin: 4px 0;\n    &:not(.is-empty) {\n      padding: 8px;\n      min-height: 48px;\n      max-height: 336px;\n    }\n    .SelectGroup > .title,\n    .SelectOption {\n      height: 32px;\n      line-height: 32px;\n      border-radius: 2px;\n    }\n  }\n"]);return Td=function(){return a},a}function Id(){var a=Os(["\n  position: fixed;\n  pointer-events: none;\n  z-index: 1100;\n"]);return Id=function(){return a},a}function Od(){var a=Os(["\n  display: inline-flex;\n  justify-content: space-between;\n  align-items: center;\n  max-width: 100%;\n  min-width: 3em;\n  height: 34px;\n  color: #5b6b73;\n  cursor: pointer;\n  transition: all 0.2s ease-out;\n  button {\n    flex: 1;\n    width: calc(100% - 2em);\n    height: 100%;\n    text-align: start;\n    cursor: inherit;\n  }\n  .caret {\n    margin: 0 0.75em 0 1em;\n    line-height: 0;\n    color: #8d9ea7;\n    svg {\n      display: block;\n      width: 6px;\n      height: 4px;\n      fill: currentColor;\n      fill-rule: evenodd;\n      transform: rotate(180deg);\n      transition: all 0.3s ease-out;\n    }\n  }\n\n  &:not(.unstyled) {\n    padding-left: .5em;\n    background-color: #f6f7f8;\n    border: 1px solid #f2f2f3;\n    border-radius: 2px;\n  }\n\n  &.small {\n    height: 22px;\n    font-size: 12px;\n    .caret {\n      margin-right: 0.5em;\n    }\n  }\n\n  &:not(.is-disabled):not(.readonly):not(.unstyled):hover,\n  &:not(.unstyled).is-open {\n    border-color: #298df8;\n  }\n\n  &.is-open {\n    &:not(.unstyled) {\n      background-color: #fff;\n      box-shadow: 0 0 6px 0 rgba(41, 141, 248, .5);\n    }\n    .caret svg {\n      transform: rotate(0deg);\n    }\n  }\n\n  &.is-disabled {\n    cursor: not-allowed;\n    opacity: 0.6;\n  }\n\n  &.readonly {\n    cursor: default\n  }\n\n  &.CoreSelect:not(.unstyled) {\n    background-color: #fff;\n    border: 1px solid #c8cdd1;\n  }\n"]);return Od=function(){return a},a}function Os(a,i){return i||(i=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(i)}}))}var eS=ze.default.label(Od()),tS=ze.default.div(Id()),nS=ze.default.ul(Td());function Dd(a,i){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);i&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),t.push.apply(t,n)}return t}function Ld(a){for(var i=1;i<arguments.length;i++){var t=arguments[i]!=null?arguments[i]:{};i%2?Dd(Object(t),!0).forEach(function(n){Ln(a,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):Dd(Object(t)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(t,n))})}return a}function rS(a){return sS(a)||oS(a)||iS(a)||aS()}function aS(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function iS(a,i){if(a){if(typeof a=="string")return Nd(a,i);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nd(a,i)}}function Nd(a,i){(i==null||i>a.length)&&(i=a.length);for(var t=0,n=new Array(i);t<i;t++)n[t]=a[t];return n}function oS(a){if(typeof Symbol<"u"&&Symbol.iterator in Object(a))return Array.from(a)}function sS(a){if(Array.isArray(a))return a}function Xi(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xi=function(t){return typeof t}:Xi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(a)}function Ds(){return Ds=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])}return a},Ds.apply(this,arguments)}function Rd(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function jd(a,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}function kd(a,i,t){return i&&jd(a.prototype,i),t&&jd(a,t),a}function Bd(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),i&&Ls(a,i)}function Ls(a,i){return Ls=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},Ls(a,i)}function Zd(a){var i=cS();return function(){var n=Qi(a),e;if(i){var o=Qi(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return lS(this,e)}}function lS(a,i){return i&&(Xi(i)==="object"||typeof i=="function")?i:Rn(a)}function Rn(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function cS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function Qi(a){return Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qi(a)}function Ln(a,i,t){return i in a?Object.defineProperty(a,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[i]=t,a}var Fd="IBOT_SELECT_MENU_ROOT",uS=window,Ud=uS.I18N,Hd=Ud===void 0?{}:Ud,Ji=document.getElementById(Fd)||Object.assign(document.createElement("div"),{id:Fd}),Wd=document.body;Wd.contains(Ji)||Wd.appendChild(Ji);var _i=function(a){Bd(t,a);var i=Zd(t);function t(){var n;Rd(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),Ln(Rn(n),"state",{isOpen:!1,prevProps:n.props,value:n.props.value}),Ln(Rn(n),"set$select",function(l){return n.setState({$select:l})}),Ln(Rn(n),"open",function(){return n.setState({isOpen:!0})}),Ln(Rn(n),"close",function(){return n.setState({isOpen:!1})}),Ln(Rn(n),"toggle",function(){return n.setState({isOpen:!n.state.isOpen})}),Ln(Rn(n),"onResizeWindow",function(){return n.state.isOpen&&n.close()}),Ln(Rn(n),"onChange",function(l){return n.setState({value:l},function(){n.close(),n.props.onChange(l)})}),Ln(Rn(n),"onSelect",function(l){var p=l.currentTarget,v=n.props.value,M=Rn(n),j=M.canSelect;return n.onChange(j?p.dataset.value:v)}),n}return kd(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResizeWindow)}},{key:"render",value:function(){var e=this.props,o=e.size,s=e.theme,l=e.unstyled,p=e.className,v=e.menuX,M=this.state,j=M.isOpen,Z=M.$select,W=M.value,X=this.isDisabled,J=this.readOnly,_=this.canSelect,te=(0,At.A1)([s==="core"?"CoreSelect":"Select",o,l&&"unstyled",p,j&&"is-open",X&&"is-disabled",J&&"readonly"]);return h.createElement(eS,{className:te,role:"listbox",ref:this.set$select},h.createElement("button",{type:"button",onClick:this.toggle,disabled:X},h.createElement(Is.Z,null,this.displayText)),h.createElement("span",{className:"caret",dangerouslySetInnerHTML:{__html:At.Wj.INPUT_ARROW}}),h.createElement(qi,Ds({isOpen:j},this.props,{value:W,$select:Z,canSelect:_,onChange:this.onSelect,onClose:this.close,menuX:v})))}},{key:"isDisabled",get:function(){var e=this.props,o=e.isDisabled,s=e.disabled;return o||s}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canSelect",get:function(){var e=this.isDisabled,o=this.readOnly;return!e&&!o}},{key:"displayText",get:function(){var e=this.props,o=e.optionList,s=e.placeholder,l=e.optionLabelProp,p=this.state.value,v=o.find(function(j){return Ts()(j)&&j.slice(0).some(function(Z){return(0,At.Lc)(Z,p)})}),M=(v||o).find(function(j){return!Ts()(j)&&(0,At.Lc)(j,p)});return M?(0,At.Jn)(M,l):s}}],[{key:"getDerivedStateFromProps",value:function(e,o){var s=o.prevProps,l=o.value;return ti()(s,e)?null:{prevProps:e,value:e.value}}}]),t}(h.PureComponent);Ln(_i,"propTypes",{size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),menuTheme:u().oneOf(["core","plain","check"]),unstyled:u().bool,className:u().string,menuClassName:u().string,placeholder:u().string,optionList:u().arrayOf(u().oneOfType([u().node,u().shape({label:u().node,value:u().any,isDisabled:u().bool}),u().arrayOf(u().oneOfType([u().node,u().shape({label:u().node,value:u().any,isDisabled:u().bool})]))])).isRequired,value:u().oneOfType([u().number,u().string]),isDisabled:u().bool,disabled:u().bool,readOnly:u().bool,onChange:u().func,menuX:u().oneOf(["left","center","right"]),optionLabelProp:u().string}),Ln(_i,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",placeholder:Hd.select_placeholder||"Choose one\u2026",emptyMsg:Hd.select_empty_msg||"Nothing to display\u2026",optionList:[],isDisabled:!1,onChange:function(){return null},menuX:"left"});var qi=function(a){Bd(t,a);var i=Zd(t);function t(){var n;Rd(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),Ln(Rn(n),"state",{isDownward:!0}),Ln(Rn(n),"portal",(0,At.Qt)(Ji,"SelectMenuPortal")),Ln(Rn(n),"menuBaseRef",(0,h.createRef)()),Ln(Rn(n),"position",function(l){var p=n.props,v=p.$select,M=p.menuX,j=Rn(n),Z=j.menuBaseRef.current;if(l){var W=Yi()(l,"target");if(W&&qy()(W)&&W.matches(".SelectMenu"))return}var X=Qo({$menuBase:Z,$opener:v,menuX:M,shouldSetMaxHeight:!0}),J=X.isDownward;n.setState({isDownward:J})}),Ln(Rn(n),"onChange",function(l){var p=n.props,v=p.canSelect,M=p.onChange,j=n.state.isDownward,Z=l.currentTarget,W=Z.closest(".SelectMenu, .CoreSelectMenu, .CheckSelectMenu");if(!Z||!W)return n.onlose();var X=Z.getBoundingClientRect(),J=X.top,_=X.bottom,te=W.getBoundingClientRect(),ne=te.top,ie=te.bottom;return j&&J>=ne||!j&&_<=ie?Z.classList.contains("title")?void 0:M(l):n.onClose()}),Ln(Rn(n),"onClose",function(){var l=n.props.onClose;l()}),Ln(Rn(n),"scrollIntoActive",function(){var l=Rn(n),p=l.menuBaseRef.current,v=(0,At.$)("li[role=option].is-active",p);v&&v.scrollIntoView({block:"start"})}),Ln(Rn(n),"onClickOutside",function(l){var p=l.target,v=n.props.$select,M=!Ji.contains(p),j=p.closest("label"),Z=j&&j.contains(v);M&&!Z&&n.onClose()}),n}return kd(t,[{key:"componentDidMount",value:function(){var e=this.menuBaseRef.current;(0,At.$h)((0,At.$)(".SelectMenu",e))}},{key:"componentDidUpdate",value:function(e){var o=e.isOpen,s=this.props.isOpen;!o&&s&&(this.position(),this.scrollIntoActive())}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove()}},{key:"render",value:function(){return(0,b.createPortal)(this.menu,this.portal)}},{key:"menu",get:function(){var e=this,o=this.props,s=o.isOpen,l=o.isDisabled,p=o.readOnly,v=o.menuTheme,M=o.menuClassName,j=o.menuX,Z=o.optionList,W=o.emptyMsg,X=o.value,J=o.canSelect,_=this.state.isDownward,te=Z.length===0,ne=(0,At.A1)([v==="core"?"CoreSelectMenu":v==="check"?"CheckSelectMenu":"SelectMenu",M,"x-".concat(j),s&&"is-open",_?"is-downward":"is-upward",l&&"is-disabled",te&&"is-empty",J?"can-select":"cant-select"]);return h.createElement(tS,{ref:this.menuBaseRef,className:"SelectMenuBase"},h.createElement(nS,{className:ne,onTransitionEnd:this.onTransitionEnd},te?h.createElement("li",{className:"SelectOption empty-msg"},W):Z.map(function(ie,se){return Ts()(ie)?h.createElement(zd,{key:se,menuTheme:v,optionList:ie,value:X,onChange:e.onChange}):h.createElement(Ns,{key:se,menuTheme:v,isActive:(0,At.Lc)(ie,X),option:ie,isDisabled:ie.isDisabled,onChange:e.onChange})}),s&&h.createElement(Nr.ZP,{target:document,onClick:(0,Nr.Yc)(this.onClickOutside,{capture:!0})}),s&&h.createElement(Nr.ZP,{target:document,onScroll:(0,Nr.Yc)(this.position,{capture:!0})})))}}]),t}(h.PureComponent);Ln(qi,"propTypes",Ld(Ld({},_i.propTypes),{},{isOpen:u().bool,canSelect:u().bool,onChange:u().func,onClose:u().func,$select:u().instanceOf(Element)})),Ln(qi,"defaultProps",{isOpen:!1});function zd(a){var i=a.value,t=rS(a.optionList),n=t[0],e=t.slice(1),o=a.menuTheme,s=a.onChange;return h.createElement("li",{className:"SelectGroup"},h.createElement(Is.Z,{className:"title",onClick:s},n),h.createElement("ul",null,e.map(function(l,p){return h.createElement(Ns,{key:p,menuTheme:o,option:l,isActive:(0,At.Lc)(l,i),isDisabled:l.isDisabled,onChange:s})})))}zd.propTypes={idx:u().oneOfType([u().number,u().string]),optionList:u().array,onChange:u().func,menuTheme:u().string};function Ns(a){var i=a.option,t=a.isActive,n=a.isDisabled,e=a.menuTheme,o=a.onChange,s=(0,At.A1)(["SelectOption",t&&"is-active",n&&"is-disabled"]),l=(0,At.Jn)(i),p=(0,At.l_)(i);return h.createElement("li",{role:"option","data-value":p,className:s,onClick:n?void 0:o},h.createElement(Is.Z,null,l),e==="check"&&t&&h.createElement(Za.Z,{name:"check"}))}Ns.propTypes={idx:u().oneOfType([u().number,u().string]),option:u().oneOfType([u().node,u().object]),isDisabled:u().bool,menuTheme:u().string,onChange:u().func};var $d=_i,dS=c(58569),ya=c.n(dS),pS=c(21546),fS=c.n(pS),hS=c(4826),vS=c.n(hS),mS=c(81582),gS=c.n(mS),yS=c(6216),SS=c.n(yS),bS=c(85766),xS=c.n(bS),CS=c(52606),wS=c.n(CS);ya().registerLanguage("css",fS()),ya().registerLanguage("less",vS()),ya().registerLanguage("scss",gS()),ya().registerLanguage("stylus",SS()),ya().registerLanguage("swift",xS()),ya().registerLanguage("xml",wS());var ES={css:"css",less:"less",sass:"scss",stylus:"stylus",swift:"swift",android:"xml"},AS={value:"css",label:"CSS"},MS={value:"android",label:"Android"},PS={value:"swift",label:"Swift"},TS={value:"less",label:"Less"},IS={value:"sass",label:"Sass"},OS={value:"stylus",label:"Stylus"},DS=[PS,MS,AS,TS,IS,OS],Gd=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"highlight",function(){if(e.hljsRef){var o=e.hljsRef.current.querySelectorAll("pre code");o.forEach(function(s){ya().highlightBlock(s)})}}),(0,f.Z)((0,ae.Z)(e),"updateLanguage",function(o){e.props.dispatch({type:"reducer:preview-toolbar:update",payload:{language:o}})}),(0,f.Z)((0,ae.Z)(e),"renderCode",function(o){var s={px:e.renderCss,dp:e.renderAndroidCode,pt:e.renderIos},l=yd(o);return s[l]()}),(0,f.Z)((0,ae.Z)(e),"renderIos",function(){var o=e.props,s=o.code,l=o.language,p=o.text;return(0,g.jsx)(Kd,{code:s,language:l,text:p})}),(0,f.Z)((0,ae.Z)(e),"renderCss",function(){var o=e.props,s=o.code,l=o.language;return(0,g.jsx)(Vd,{language:l,code:s})}),(0,f.Z)((0,ae.Z)(e),"renderAndroidCode",function(){var o=e.props,s=o.whichAndView,l=o.code,p=o.text;return(0,g.jsx)(Yd,{code:l,text:p,whichAndView:s})}),e.hljsRef=h.createRef(),e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.highlight()}},{key:"componentDidUpdate",value:function(e){(e.code!==this.props.code||e.language!==this.props.language)&&this.highlight()}},{key:"render",value:function(){var e=this.props,o=e.language,s=e.theme;return(0,g.jsxs)(jr,{children:[(0,g.jsxs)("div",{children:[(0,g.jsx)($d,{menuClassName:"CodeBoxSelectMenu",placeholder:" ",unstyled:!0,menuX:"center",optionList:DS,value:o,onChange:this.updateLanguage}),(0,g.jsx)(Qd,{text:"#code-content",handleClick:function(){return xi(o)}})]}),(0,g.jsx)("div",{ref:this.hljsRef,className:ot()("code-content",{"is-dark-theme":s==="dark"}),id:"code-content",children:(0,g.jsx)("pre",{children:this.renderCode(o)})})]})}}]),t}(h.PureComponent);(0,f.Z)(Gd,"propTypes",{code:u().object,theme:u().string,whichAndView:u().string,language:u().string,text:u().string,dispatch:u().func});var Vd=function(i){var t=i.language,n=i.code,e=NS(t),o=RS(t),s=kS(n);return Object.entries(s).map(function(l){var p=(0,F.Z)(l,2),v=p[0],M=p[1];return(0,g.jsx)("code",{className:ES[t],children:""+v+o+M+e},v)})};Vd.propTypes={code:u().object.isRequired,language:u().string};var Kd=function(i){var t=i.code,n=i.text,e=jS({code:t,text:n});return e.map(function(o){return(0,g.jsx)("code",{className:"swift",children:o},o)})};Kd.propTypes={code:u().object.isRequired,text:u().string};var Yd=function(i){var t=i.code,n=i.text,e=i.whichAndView;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("code",{className:"xml",children:"<"+e}),Object.entries(t).map(function(o){var s=(0,F.Z)(o,2),l=s[0],p=s[1];return(0,g.jsx)("code",{className:"xml",children:"android:"+(LS[l]||l)+'="'+p+'"'},l)}),n.length>0&&(0,g.jsx)("div",{children:'android:text="'+n+'"'}),(0,g.jsx)("code",{className:"xml",children:"/>"})]})},LS={"font-family":"fontFamily","font-style":"textStyle","background-color":"background","font-size":"textSize",color:"textColor","line-height":"lineHeight"};Yd.propTypes={code:u().object.isRequired,text:u().string,whichAndView:u().string};var NS=function(i){switch(i){case"stylus":case"sass":return"";default:return";"}},RS=function(i){switch(i){case"stylus":return" ";default:return": "}},jS=function(i){var t=i.code,n=i.text,e=t.width,o=t.height,s=t.x,l=t.y,p=t.fontFamily,v=t.cornerRadius,M=t.fontSize,j=t.opacity,Z=t.borderWidth,W=t.borderColor,X=t.alignment,J=t.backgroundColor,_=n?"textLayer":"layer",te=n?"UILabel":"UIView",ne=[];return ne.push("let "+_+" = "+te+"(frame: CGRect(x: "+s+", y:"+l+", width: "+e+", height: "+o+"))"),J&&ne.push(_+".backgroundColor = "+J),j&&ne.push(_+".alpha = "+j),v&&ne.push("layer.layer.cornerRadius = "+v),Z&&ne.push("layer.layer.borderWidth = "+Z),W&&ne.push("layer.layer.borderColor = "+W+".cgColor"),n&&(ne.push('let textContent = "'+n+'"'),ne.push('let textString = NSMutableAttributedString(string: textContent, attributes: [\n      NSAttributedStringKey.font: UIFont(name: "'+p+'", size: '+M+")!\n      ])"),ne.push("let textRange = NSRange(location:0, length: textString.length)"),ne.push("let paragraphStyle = NSMutableParagraphStyle()"),ne.push("paragraphStyle.alignment = ."+X),ne.push("textString.addAttribute(NSAttributedStringKey.paragraphStyle, value: paragraphStyle, range: textRange)"),ne.push("textLayer.attributedText = textString")),ne},kS=function(i){if(i["border-color"]&&i["border-width"]){var t={border:i["border-width"]+" solid "+i["border-color"]};return delete i["border-color"],delete i["border-width"],Object.assign(i,t)}return i},Xd=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"imageRef",function(l){return n.$image=l}),(0,f.Z)((0,ae.Z)(n),"handleClick",function(){var l=n.props,p=l.imageSetZip,v=l.name;(0,Pt.m)({url:p,name:v,type:"zip"}),_t("\u4E0B\u8F7D\u5207\u56FE")}),(0,f.Z)((0,ae.Z)(n),"handleOnload",function(){(0,Pt.dD)({image:n.$image,adjust:38}),n.setState({imageLoad:!0})}),(0,f.Z)((0,ae.Z)(n),"handleError",function(){console.error("image info error")}),(0,f.Z)((0,ae.Z)(n),"debounceClick",Ui()(n.handleClick,500,{leading:!0})),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.imageSet,s=e.name,l=o[0].src,p={background:"url("+BS+") left top",backgroundSize:"cover"};return(0,g.jsxs)(jr,{children:[(0,g.jsxs)("div",{className:"slice-title",children:[I18N.pInspect.export,(0,g.jsx)("span",{onClick:this.debounceClick,children:I18N.pInspect.download_single})]}),(0,g.jsxs)("div",{className:"slice-panel",children:[(0,g.jsx)("div",{className:"slice-item-wrap",style:p,children:(0,g.jsx)("img",{src:l,alt:s,ref:this.imageRef,onLoad:this.handleOnload,onError:this.handleError})}),(0,g.jsx)("p",{className:"slice-item-name",children:s})]})]})}}]),t}(h.PureComponent);(0,f.Z)(Xd,"propTypes",{imageSetZip:u().string,imageSet:u().array,name:u().string});var BS="/mb-workspace/images/preview/slice-bg.png",Qd=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleCopy",function(){var l=n.props.handleClick;(0,Pt.aF)("proto-inspect",!0,"","a32"),l()}),n}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this,o=this.props,s=o.target,l=o.text,p=(0,Pt.Q7)();p&&(this.clipboard=l?new(Ms())(this.$copyBtn,{text:function(){return(0,Pt.Uo)(document.querySelector(l).innerText)}}):new(Ms())(this.$copyBtn,{target:function(){return document.querySelector(s)}}),this.clipboard.on("success",function(v){e.error=!1;var M=window.getSelection();M.removeAllRanges()}),this.clipboard.on("error",function(v){e.error=!0}))}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"render",value:function(){var e=this;return(0,g.jsx)(Lr.Z,{arrowed:!1,content:{click:I18N.pInspect.copied},duration:1e3,className:"copyBtn",onClick:this.handleCopy,children:(0,g.jsx)("span",{ref:function(s){return e.$copyBtn=s},children:I18N.pInspect.copy})})}}]),t}(h.Component);(0,f.Z)(Qd,"propTypes",{target:u().string,text:u().string,handleClick:u().func});var Rs=function(i){var t=i.value,n=i.title;return(0,g.jsx)("div",{className:ot()("container")+" "+ot()("layer-name"),children:(0,g.jsx)(cn,{title:n||I18N.pInspect.layer_name,data:[t]})})};Rs.propTypes={title:u().string,value:u().string};var Jd=function(i){var t=i.colorUnit,n=i.backgroundColorSort;return(0,g.jsxs)(jr,{children:[I18N.pInspect.fills,n.map(function(e,o){var s=e.value,l=e.type,p=l===void 0?"color":l,v=e.opacity,M=e.gradient,j=Pr(s),Z=j&&$n(j,t),W=p==="color";return W?(0,g.jsx)(Ki,{stateColor:Z,rgbaColor:j,title:I18N.pInspect.color},o):(0,g.jsx)(js,{gradient:M,colorUnit:t,opacity:v},o)})]})};Jd.propTypes={backgroundColorSort:u().array,colorUnit:u().string};var js=function(i){var t=i.gradient,n=t.color_stops,e=n===void 0?[]:n,o=t.from,s=t.to,l=t.type,p=i.opacity,v=i.colorUnit;return(0,g.jsxs)("div",{children:[e.length>0&&e.map(function(M,j){var Z=M.color,W=M.position;return(0,g.jsx)("div",{children:(0,g.jsx)(cn,{colorUnit:v,color:Pr(Z),title:j===0?I18N.pInspect.gradient:""})},""+Z+j)}),p&&(0,g.jsx)(cn,{title:I18N.pInspect.opacity,data:[p*100+"%"]}),l&&(0,g.jsx)(cn,{data:[l],title:I18N.pInspect.type})]})};js.propTypes={gradient:u().object.isRequired,opacity:u().number,colorUnit:u().string.isRequired};var ks=function(i){var t=i.shadows,n=t===void 0?[]:t,e=i.isInnerShaow,o=e===void 0?!1:e,s=i.unit,l=i.ratio,p=i.colorUnit,v=i.textShadows,M=v===void 0?[]:v;return(0,g.jsxs)(jr,{children:[o?I18N.pInspect.inner_shadow:I18N.pInspect.shadow,n.length>0&&(0,g.jsx)(Bs,{shadows:n,unit:s,ratio:l,colorUnit:p}),M.length>0&&(0,g.jsx)(Bs,{shadows:M,unit:s,ratio:l,colorUnit:p})]})};ks.propTypes={shadows:u().array,textShadows:u().array,isInnerShaow:u().bool,unit:u().string.isRequired,ratio:u().number.isRequired,colorUnit:u().string.isRequired};var Bs=function(i){var t=i.shadows,n=i.unit,e=i.ratio,o=i.colorUnit;return t.map(function(s,l){var p=s.color,v=s.offset_x,M=v===void 0?0:v,j=s.offset_y,Z=j===void 0?0:j,W=s.blur_radius,X=W===void 0?0:W,J=s.spread,_=J===void 0?0:J,te=(0,Pt._F)(M,e,n),ne=(0,Pt._F)(Z,e,n),ie=(0,Pt._F)(X,e,n),se=(0,Pt._F)(_,e,n);return(0,g.jsxs)("div",{className:"shadow-item-gap",children:[p&&(0,g.jsx)(cn,{title:I18N.pInspect.color,color:Pr(p),colorUnit:o}),(0,g.jsx)(cn,{data:[te,ne,ie,se],dataValue:[I18N.pInspect._x,I18N.pInspect._y,I18N.pInspect.blur,I18N.pInspect.spread]})]},l)})};Bs.propTypes={shadows:u().array,unit:u().string,ratio:u().number,colorUnit:u().string};var _d=function(i){var t=i.colorUnit,n=i.borderSort,e=i.unit,o=i.ratio,s=i.isStroke;return(0,g.jsxs)(jr,{children:[s?I18N.pInspect.stroke:I18N.pInspect.borders,n.reverse().map(function(l,p){var v=l.position,M=v===void 0?"inside":v,j=l.color,Z=l.thickness,W=l.gradient,X=j&&Pr(j),J=Z&&(0,Pt._F)(Z,o,e);return[j?(0,g.jsx)(cn,{color:X,title:I18N.pInspect.color,colorUnit:t},""+p+X):(0,g.jsx)(js,{gradient:W,colorUnit:t}),M&&(0,g.jsx)(cn,{title:I18N.pInspect.position,data:[M]},""+p+M),J&&(0,g.jsx)(cn,{title:I18N.pInspect.thickness,data:[J]},""+p+J)]})]})};_d.propTypes={isStroke:u().bool,borderSort:u().array.isRequired,colorUnit:u().string.isRequired,unit:u().string.isRequired,ratio:u().number.isRequired};var jr=function(i){var t=i.children;return(0,g.jsxs)("section",{children:[(0,g.jsx)("div",{className:ot()("header"),children:t[0]}),(0,g.jsx)("div",{className:ot()("container"),children:t.slice(1)})]})};jr.propTypes={children:u().array};var ii=c(71421),ZS=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"handleInPreviewPanel",(0,d.Z)((0,r.Z)().mark(function o(){var s,l,p,v,M,j;return(0,r.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(s=e.props,l=s.isInspectInPanel,p=s.selectedPanel,v=s.dispatch,v({type:"container:layer:set-isInspectInPanel",payload:{isInspectInPanel:!l}}),!l){W.next=6;break}v({type:"entry:inspect:exit:panel"}),W.next=11;break;case 6:return W.next=8,v({type:"entry:inspect:active:panelstate",payload:{panelStateCid:p.screen_state_cid}});case 8:v({type:"entry:inspect:get:selectedPanel:widgetData",payload:{panelStateCid:p.screen_state_cid}}),j=((M=(0,Gr.Qu)(MB.currentProjectMeta.cid,p.screen_glue_cid))==null?void 0:M.type)==="project-template",_t("\u67E5\u770B\u66F4\u591A\u72B6\u6001-"+(j?"\u6BCD\u7248":"\u52A8\u6001\u7EC4\u4EF6"));case 11:case"end":return W.stop()}},o)}))),(0,f.Z)((0,ae.Z)(e),"handleStateChange",(0,d.Z)((0,r.Z)().mark(function o(s){var l,p,v;return(0,r.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return l=e.props,p=l.selectedPanel,v=l.dispatch,e.setState({currentState:s}),j.next=4,v({type:"entry:runner:activate:panel-state",payload:{targetStateCid:s,panel:p}});case 4:return j.next=6,v({type:"entry:inspect:active:panelstate",payload:{panelStateCid:s}});case 6:v({type:"entry:inspect:get:selectedPanel:widgetData",payload:{panelStateCid:s}});case 7:case"end":return j.stop()}},o)}))),e.state={currentState:null,currentPanelCid:n.selectedPanel.cid},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.selectedPanel,s=e.isInspectInPanel,l=e.selectedPanelSateList,p=this.state.currentState;if(!o||!l)return null;var v=l.map(function(j){return{value:j.cid,label:j.name}}),M=p||v.find(function(j){return j.value===o.screen_state_cid}).value;return(0,g.jsxs)("div",{className:"panelAction",children:[(0,g.jsx)("div",{className:"panelMoreStateButton",onPointerDown:this.handleInPreviewPanel,children:(0,g.jsx)("span",{className:ot()("name",{exit:s}),children:s?"\u9000\u51FA":"\u67E5\u770B\u66F4\u591A\u72B6\u6001"})}),s&&(0,g.jsxs)("div",{className:"panelstate",children:[(0,g.jsx)("label",{className:"left-label",children:"\u72B6\u6001"}),(0,g.jsx)("div",{className:"right-content",children:(0,g.jsx)(ii.Z,{className:"panelstate-select",menuClassName:"panelstate-selectmenu",optionList:v,value:M,isRightAlign:!0,onChange:this.handleStateChange})})]})]})}}],[{key:"getDerivedStateFromProps",value:function(e,o){if(e.selectedPanel!==o.currentPanelCid)return{currentState:null}}}]),t}(h.PureComponent),qd=function(i){var t=i.theme,n=i.layer,e=i.unit,o=i.ratio,s=i.showGlobal,l=i.userPickColor,p=l===void 0?[]:l,v=i.globalColor,M=v===void 0?[]:v,j=i.globalText,Z=j===void 0?[]:j,W=i.documentColor,X=W===void 0?[]:W,J=i.screenColor,_=J===void 0?[]:J,te=i.language,ne=i.colorUnit,ie=i.selectedPanel,se=i.isInspectInPanel,Se=i.projectMetaCid,Te=i.selectedPanelSateList,Le=i.dispatch,ke=n.widget,nt=ke.src_left,it=ke.src_top,ct=ke.src_width,de=ke.src_height,ue=ke.o,ge=ke.origin_width,$e=ke.origin_height,Ye=ke.bd_radius,Xe=ke.line_height,ut=ke.bg_colors,dt=ut===void 0?[]:ut,mt=ke.borders,Nt=mt===void 0?[]:mt,Bt=ke.i,Wt=ke.padding,Gn=Wt===void 0?0:Wt,Hn=ke.hiddSpacing,rr=Hn===void 0?!1:Hn,lr=ke.text_styles,Pn=lr===void 0?[]:lr,Vn=ke.alignment,qr=ke.vertical_alignment,ea=ke.image,Zr=ke.inspectText,Ca=ke.letter_spacing,br=ke.image_set_zip,ta=ke.shadows,un=ta===void 0?[]:ta,tn=ke.inner_shadows,bn=tn===void 0?[]:tn,xn=ke.rotation,vn=ke.rect_height,mr=ke.rect_width,Ir=ke.textShadows,pi=Ir===void 0?[]:Ir,Va=ke.image_set,wo=Va===void 0?[]:Va,fi=ke.mask,Eo=fi===void 0?null:fi,Ka=ke.ignore_underlying_mask,Ao=Ka===void 0?!1:Ka,hi=ke.object_id,Mo=Nt.length>0,Xh=dt.length>0,cr=!!ea,na=Pn.length>0&&Zr&&!!As(ke).length,b1=un.length>0||pi.length>0,x1=bn.length>0,C1=br,Po={left:nt,top:it,width:ge||ct,height:$e||de,rectHeight:vn,rectWidth:mr,borderRadius:Ye,opacity:ue,rotation:xn,ratio:o,unit:e},Qh=Sd(ke)&&(ke.name==="line"||ke.name==="arrow");if(Qh){var Al=(0,$y.M_)(ke,!0),w1=Al.length,E1=Al.thickness,A1=Al.angle;Po.width=w1,Po.height=E1,Po.rotation=A1}var wa=Ly(Po),Jh=wa.adapterTop,_h=wa.adapterLeft,Ml=wa.adapterWidth,Pl=wa.adapterHeight,qh=wa.radius,M1=wa.opacity,P1=wa.rotate,T1={lineHeight:Xe,letterSpacing:Ca,unit:e,ratio:o},ev=Ny(T1),tv=ev.lineHeight,I1=ev.letterSpacing,O1=typeof Bt=="number"?Bt?"italic":"normal":void 0,D1={textStyles:Pn,background:dt,borders:Nt,shadows:un,innerShadows:bn,colorUnit:ne,ratio:o,unit:e,isSketch:!!hi},L1=jy(D1),N1=ue&&ue!==100?ue/100:null,R1=zy({attr:(0,L.Z)({x:_h,y:Jh,width:Ml,height:Pl,lineHeight:tv,textAlign:Vn,opacity:N1,borderRadius:qh},L1),language:te,unit:e}),j1=cr?"ImageView":na?"TextView":"View",Tl=Sd(ke)?(0,xd.oS)(ke):ke.name;return s?(0,g.jsxs)(h.Fragment,{children:[(0,g.jsx)(Rs,{title:I18N.pInspect.screen_name,value:Tl}),(0,g.jsx)(Ed,{adapterWidth:Ml,adapterHeight:Pl,documentColor:X,globalText:Z,globalColor:M,screenColor:_,userPickColor:p,colorUnit:ne,dispatch:Le})]}):(0,g.jsxs)("div",{children:[ie&&(0,g.jsx)(ZS,{projectMetaCid:Se,isInspectInPanel:se,selectedPanel:ie,selectedPanelSateList:Te,dispatch:Le}),(0,g.jsx)(Rs,{value:Tl}),(0,g.jsx)(wd,{adapterTop:Jh,adapterLeft:_h,adapterWidth:Ml,adapterHeight:Pl,rotate:P1,radius:qh,opacity:M1,mask:Eo,ignore_underlying_mask:Ao,unit:e,colorUnit:ne}),na&&(0,g.jsx)(Cd,{textStyles:Pn,alignment:Vn,vertical_alignment:qr,lineHeight:tv,letterSpacing:I1,ratio:o,unit:e,o:ue,padding:Gn,fontStyle:O1,colorUnit:ne,hiddSpacing:rr,text:As(ke)}),Xh&&(0,g.jsx)(Jd,{backgroundColorSort:dt,colorUnit:ne}),Mo&&(0,g.jsx)(_d,{isStroke:Qh,borderSort:Nt,ratio:o,unit:e,colorUnit:ne}),b1&&(0,g.jsx)(ks,{shadows:un,textShadows:pi,colorUnit:ne,unit:e,ratio:o}),x1&&(0,g.jsx)(ks,{shadows:bn,colorUnit:ne,unit:e,ratio:o,isInnerShaow:!0}),C1&&(0,g.jsx)(Xd,{imageSetZip:br,name:Tl,imageSet:wo}),(0,g.jsx)(Gd,{theme:t,code:R1,whichAndView:j1,language:te,text:As(ke)||"",dispatch:Le})]})};qd.propTypes={projectMetaCid:u().string,selectedPanel:u().object,selectedPanelSateList:u().array,isInspectInPanel:u().bool,userPickColor:u().array,screenColor:u().array,documentColor:u().array,globalText:u().array,globalColor:u().array,theme:u().string,colorUnit:u().string,layer:u().object,showGlobal:u().bool,unit:u().string,ratio:u().number,language:u().string,dispatch:u().func};var FS=qd,US=ze.default.div.withConfig({displayName:"styles__StyledLayerPanel",componentId:"sc-1ux5p4u-0"})(["display:flex;flex-direction:column;position:relative;z-index:100;width:260px;height:100%;font-size:12px;background-color:",";transition:left 0.5s ease-in-out;color:",";.layerInfo{position:relative;width:inherit;height:100%;overflow-x:hidden;overflow-y:auto;flex:1;& > div{width:inherit;}.Select{color:",";}.global-attributes{.color-dropdown{button{border-radius:2px;transition:box-shadow 0.5s;background-image:linear-gradient(45deg,#ccc 25%,transparent 0),linear-gradient(-45deg,#ccc 25%,transparent 0),linear-gradient(45deg,transparent 75%,#ccc 0),linear-gradient(-45deg,transparent 75%,#ccc 0);background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-clip:padding-box;overflow:hidden;}&.is-focus{button{box-shadow:0 0 0 2px #1e98ea;}}}}.layer-name{.panel-item-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center;}}.panelAction{border-bottom:1px solid ",";padding:20px;width:100%;.panelMoreStateButton{text-align:center;cursor:pointer;.name{display:inline-block;width:100%;height:32px;line-height:32px;border:1px solid #1684FC;border-radius:4px;color:#1684FC;&.exit{background-color:#1684FC;color:#ffffff;}}}.panelstate{display:flex;align-items:center;margin-top:16px;.left-label{margin-right:38px;color:#5B6B73;}.right-content{label.panelstate-select{width:158px;}}}}.header{line-height:32px;height:32px;font-size:12px;color:",";background:",";font-weight:bold;padding:0 20px;}.panel{display:flex;height:22px;line-height:22px;margin-bottom:24px;position:unset;&::before{content:attr(data-value);min-width:62px;max-width:62px;color:",";}&.panel-item-text{height:60px;}&.panel-bottom-8{margin-bottom:8px;}&.shadow-panel{&::before{width:0 !important;}.panel-item{width:50px !important;}}.mult-panel-box{width:151px;display:flex;justify-content:space-between;flex:1;.panel-item{&::after{content:attr(data-value);min-width:62px;max-width:62px;color:",";}}}.single-panel-box{display:flex;flex:1;.panel-item{width:100%;}}.panel-item{width:73px;text-align:center;background:",";border-radius:2px;border:1px solid ",";cursor:pointer;margin-right:10px;&:last-child{margin-right:0;}&.panel-item-color{position:relative;display:flex;justify-content:flex-start;width:138px;.panel-item-value{text-indent:8px;text-align:left;width:138px;}}&.item-flex-1{flex:1;height:auto;}.panel-item-value{width:100%;max-width:158px;line-height:22px;user-select:text;&.text-content{flex:1;padding:0.25em 0.5em;height:100%;line-height:1.5;word-wrap:break-word;overflow-x:hidden;overflow-y:scroll;text-align:left;white-space:pre-wrap;}}.panel-item-color-block-wrap{position:absolute;right:0;top:-1px;width:100%;height:100%;border:inset 1px rgba(0,0,0,0.2);border-radius:2px;cursor:pointer;width:22px;height:22px;}.panel-item-color-block-imageback-wrap{background-image:linear-gradient(45deg,#ccc 25%,transparent 0),linear-gradient(-45deg,#ccc 25%,transparent 0),linear-gradient(45deg,transparent 75%,#ccc 0),linear-gradient(-45deg,transparent 75%,#ccc 0);background-size:12px 12px;background-position:-1px -1px,-1px 5px,5px -7px,-7px -1px;}.panel-item-color-block{height:100%;}}}.container{padding:20px 20px 12px;min-width:230px;&.global-layer{padding-top:0;height:60px;}.second-title{display:flex;margin-bottom:10px;color:",";}.code-content{position:relative;width:100%;overflow:hidden;color:",";font-size:12px;font-family:Menlo,Courier,monospace;line-height:22px;&.is-dark-theme{pre code{color:",";background:",";span{color:inherit;}}}pre{white-space:pre-wrap;}*{user-select:text;font-weight:normal;overflow:hidden;}}.text-content{flex:1;line-height:18px;word-wrap:break-word;}.global-font{line-height:22px;&::before{min-width:0 !important;}.panel-item-value{max-width:220px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}}.panel-row{display:flex;flex-wrap:wrap;.Dropdown{margin:0 6px 6px 0;cursor:pointer;}.Tooltip{display:block;}.row-item.color-block{border:inset 1px rgba(0,0,0,0.2);width:18px;height:18px;border-radius:2px;&.row-margin{margin:0 6px 6px 0;cursor:pointer;}}}.panel-image{width:100%;height:50px;background-image:svg-load('./background.svg');object-fit:contain;}.image-download{justify-content:space-between;align-items:center;& a{height:19px;font-size:19px;color:#f55d54;}}.download-file-type{display:flex;align-items:center;}.download-file-type-icon{display:inline-block;text-align:center;color:#f55d54;border:1px solid currentColor;width:30px;height:19px;line-height:17px;vertical-align:middle;margin-right:9px;}}.shadow-item-gap{padding-bottom:20px;&:last-child{padding-bottom:0;}}.forbid-color{position:relative;width:18px;height:18px;border:1px solid #d9d9d9;margin-bottom:8px;background:#fff;cursor:not-allowed;overflow:hidden;.transparent{width:200%;position:absolute;left:0;top:0;border-top:1px solid #eb5648;transform:translateY(-50%) rotate(45deg);transform-origin:0 0;}}.slice-title{display:flex;justify-content:space-between;align-items:center;& > span{cursor:pointer;color:var(--copy-btn-color);}}.slice-panel{height:40px;display:flex;justify-content:flex-start;align-items:center;}.slice-item-wrap{min-width:40px;height:40px;border:1px solid #B7BBC1;border-radius:2px;display:flex;align-items:center;justify-content:center;overflow:hidden;& > img{box-shadow:rgba(25,39,45,0.4) 0 1px 4px;}}.slice-item-name{margin-left:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.slice-panel-item{height:24px;line-height:24px;margin-bottom:8px;text-indent:8px;color:#415058;background:#F6F7F8;border:1px solid #F2F2F2;border-radius:2px;}.copyBtn{cursor:pointer;float:right;color:",";&:focus{outline:0;}}@keyframes rotate-infinite{from{transform:rotate(0);}to{transform:rotate(720deg);}}}&.is-loading{justify-content:center;align-items:center;.layer-panel-loading{width:60px;height:60px;}}"],function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background},function(a){return a.theme.color_primary_proto01}),HS=(0,ze.createGlobalStyle)(["#IBOT_TOOLTIP_ROOT{.content{background-color:",";color:",";}}#IBOT_DROPDOWN_MENU_ROOT{.palette-dropdown-menu{color:#415058;width:auto;&.hex,&.argb{text-transform:uppercase;}.content{opacity:0.9;background-color:",";& > div{display:flex;justify-content:space-between;align-items:center;> span{display:block;width:-moz-max-content;width:-webkit-max-content;width:max-content;}}}.trash{margin-left:.5em;font-size:14px;color:#C8CDD0;cursor:pointer;}}}.textEllipsis{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;}#IBOT_SELECT_MENU_ROOT{ul.CodeBoxSelectMenu{background-color:",";width:100%;padding:0 0.5em;font-size:12px;min-width:7em;.SelectOption{color:",";justify-content:center;margin:0.5em 0;border-radius:2px;&:not(.is-active):hover{color:",";background-color:",";}&.is-active{color:",";background-color:",";}}}}"],function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background_white},function(a){return a.theme.color_background_white},function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_background},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_background}),hr=c(92033),mM=function(a){return a.SHELL="download_settings_show_shell",a.STATE="download_settings_state_type",a.SCALE="download_settings_scale",a.STICKY="download_settings_show_sticky",a.FULLSCREEN="download_settings_full_screen",a}({}),jn=function(a){return a.PNG="png",a.PDF="pdf",a.HTMLZIP="htmlzip",a.APK="apk",a.SVG="svg",a}({}),gM=function(a){return a.CURRENT_PAGE="currentPage",a.ALL_PAGE="allPage",a}({}),yM=function(a){return a.ALL="allState",a.SOME="someState",a}({}),WS=40,zS=ze.default.footer.withConfig({displayName:"styles__StyledWidgetExport",componentId:"sc-s2el0m-0"})(["position:relative;display:flex;flex-direction:column;align-items:flex-start;height:1px;transition:all 0.2s ease-in-out;overflow:hidden;&.is-open{height:auto;border-top:none;box-shadow:",";}.export-panel{width:100%;height:auto;display:flex;flex-direction:column;align-items:stretch;.export-header{display:flex;justify-content:space-between;padding:0 5px 10px 14px;margin-top:16px;border-bottom:1px solid ",";.label{color:",";font-weight:600;align-self:center;}}.svg-icon-wrapper{color:",";width:24px;height:24px;cursor:pointer;text-align:center;border-radius:4px;&.is-disabled{cursor:not-allowed;color:",";}&:not(.is-disabled):hover{background-color:",";}&:not(.is-disabled).active{background-color:",";}svg{width:24px;height:24px;}&.caret{margin-left:auto;}}.export-settings{display:flex;flex-direction:column;padding:10px 5px 0 8px;.export-state{display:flex;align-items:center;height:28px;margin-bottom:4px;label{width:212px;height:28px;}}.is-multi-select-includes-panel-tip{background-color:rgba(22,132,252,0.1);width:202px;height:28px;color:",";align-self:center;border-radius:2px;line-height:28px;text-align:center;margin-top:3px;margin-bottom:10px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding:0 7px;}.select-label{display:flex;justify-content:space-between;align-items:center;padding-right:30px;margin-top:-2px;margin-bottom:11px;span{width:60px;text-align:center;color:",";&.ratio{margin-left:6px;width:40px;}&.affix{margin-left:14px;width:72px;}&.format{margin-left:7px;width:60px;}}}.export-second{display:flex;justify-content:space-between;flex-direction:column;& > div.select{display:flex;align-items:center;justify-content:space-between;margin-bottom:4px;button:disabled{color:#c8cdd0;cursor:not-allowed;}.ratio{width:56px;}.affix{width:85px;.affix-select{button{display:flex;align-items:center;justify-content:center;}}}.format{width:56px;input{color:",";background-color:",";border:none;}}& > label{width:100%;height:28px;border-radius:4px;}& > span{color:",";line-height:20px;}}}}}"],function(a){return a.theme.export_bar_box_shadow},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_disabled},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_text_L3},function(a){return a.theme.color_text_disabled},function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L3}),ep=ze.default.div.withConfig({displayName:"styles__StyledExportButton",componentId:"sc-s2el0m-1"})(["width:100%;height:","px;background:",";padding:0 10px;display:flex;justify-content:flex-end;align-items:center;z-index:1;border-top:",";.RegularButton{width:100%;height:28px;color:",";line-height:28px;text-align:center;background:",";border-radius:4px;border:1px solid ",";transition:all 0.2s ease-in-out;cursor:pointer;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;font-size:1em;padding:0 15px;.svg-icon.loading{animation:spinning 2s linear infinite;}&:enabled:hover{color:",";background:",";border:1px solid ",";}}"],WS,function(a){return a.theme.color_background_white},function(a){return a.isOpen?"none":"1px solid "+a.theme.color_background_split},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_background_white},function(a){return a.theme.color_background_split},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_background_split}),$S=(0,ze.createGlobalStyle)(["#IBOT_SELECT_MENU_ROOT{.SelectMenuPortal{.WorkspaceSelectMenu.export-select-menu.is-open{width:90px;}.select-format-menu{right:0;}}}"]),tp=[{label:"1x",value:"1"},{label:"2x",value:"2"},{label:"3x",value:"3"}],GS=["prefix","suffix"],eo=tp.map(function(a){return a.value}),np=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e,o;(0,I.Z)(this,t),o=i.call(this,n),(0,f.Z)((0,ae.Z)(o),"handleClick",function(){var v=o.props,M=v.onCheck,j=v.onExport,Z=v.isWidgetBeingExported,W=v.dispatch;if(!(M&&M())&&!Z){var X=o.state,J=X.configs,_=X.panelStates;j({panelStates:_,configs:J,dispatch:W})}}),(0,f.Z)((0,ae.Z)(o),"handleChangeConfig",function(v,M){var j=o.props,Z=j.onUpdateProject,W=j.dispatch;o.setState(function(X){var J=Array.from(X.configs),_=J[M].format===jn.SVG&&J[M].format!==v.format;J.splice(M,1,v);var te=v.format===jn.PNG&&J[M].format!==v.format?[].concat((0,Jt.Z)(X.availablePNGScale),[v.scale]):eo.filter(function(ne){return!J.filter(function(ie){return ie.format===jn.PNG}).map(function(ie){return ie.scale}).includes(ne)});return Z({exportSettings:J,dispatch:W}),{configs:J,availablePNGScale:te,isSvgOptionAvailable:_}})}),(0,f.Z)((0,ae.Z)(o),"handleInsertConfig",function(){var v=o.props,M=v.isSelectSvgIconsOnly,j=v.onUpdateProject,Z=v.dispatch,W=o.state,X=W.availablePNGScale,J=W.isSvgOptionAvailable;X.length<=0&&!J||o.setState(function(_){var te=Array.from(_.configs),ne=eo.filter(function(Se){return!te.filter(function(Te){return Te.format===jn.PNG}).map(function(Te){return Te.scale}).includes(Se)}),ie=ne.length,se=_.configs.concat(ie?[{scale:ne.shift(),affix:"suffix",format:jn.PNG}]:J?[{scale:"1",affix:"suffix",format:jn.SVG}]:[]);return j({exportSettings:se,dispatch:Z}),{configs:se,availablePNGScale:ne,isSvgOptionAvailable:M&&se.filter(function(Se){return Se.format===jn.SVG}).length<1}})}),(0,f.Z)((0,ae.Z)(o),"handleRemoveConfig",function(v){var M=o.props,j=M.isSelectSvgIconsOnly,Z=M.onUpdateProject,W=M.dispatch,X=o.state.configs;X.length<=1||o.setState(function(J){var _=Array.from(J.configs);_.splice(v,1);var te=eo.filter(function(ie){return!_.filter(function(se){return se.format===jn.PNG}).map(function(se){return se.scale}).includes(ie)}),ne=j&&!_.find(function(ie){return ie.format===jn.SVG});return Z({exportSettings:_,dispatch:W}),{configs:_,availablePNGScale:te,isSvgOptionAvailable:ne}})}),(0,f.Z)((0,ae.Z)(o),"handleChangePanelState",function(v){o.setState({panelStates:v})}),(0,f.Z)((0,ae.Z)(o),"onShowTipsByTarget",function(v,M){var j=M.querySelector(".is-multi-select-includes-panel-tip");return j.offsetWidth<j.scrollWidth}),(0,f.Z)((0,ae.Z)(o),"handleClose",function(){var v=o.props,M=v.setIsOpen,j=v.onUpdateProject,Z=v.dispatch,W=o.state.configs;M(!1),j({exportSettings:W,dispatch:Z})});var s=[n.isSelectSvgIconsOnly?{format:jn.SVG,scale:"1",affix:"suffix"}:{format:jn.PNG,scale:"1",affix:"suffix"}],l=(e=n.exportSettings)!=null&&e.length?n.isSelectSvgIconsOnly?n.exportSettings:n.exportSettings.map(function(v){return v.format===jn.SVG?(0,L.Z)((0,L.Z)({},v),{},{format:jn.PNG}):v}):s,p=eo.filter(function(v){return!l.filter(function(M){return M.format===jn.PNG}).map(function(M){return M.scale}).includes(v)});return o.state={configs:l,availablePNGScale:p,isSvgOptionAvailable:!1,panelStates:n.defaultPanelStateCid},o}return(0,S.Z)(t,[{key:"render",value:function(){var e,o=this,s=this.props,l=s.isWidgetBeingExported,p=s.selectedWidgetsCount,v=s.panelStatesList,M=s.isSelectOnlyOnePanel,j=s.isMultiSelectIncludesPanel,Z=s.isSelectSvgIconsOnly,W=s.widgetDisplayName,X=s.dispatch;if(!p)return null;var J=this.state,_=J.panelStates,te=J.configs,ne=J.availablePNGScale,ie=J.isSvgOptionAvailable,se=v.map(function(Te){return{label:Te.name,value:Te.cid}});v.length>1&&se.unshift({label:I18N.WidgetExport.all_states,value:v.map(function(Te){return Te.cid}).join("/")});var Se=((e=se.find(function(Te){return Te.value===_}))==null?void 0:e.label)||"";return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(zS,{className:ot()({"is-open":!0}),children:(0,g.jsxs)("div",{className:ot()("export-panel",{"is-open":!0}),children:[(0,g.jsxs)("div",{className:"export-header",children:[(0,g.jsx)("label",{className:"label",children:I18N.WidgetExport.export}),(0,g.jsx)("div",{className:"svg-icon-wrapper caret",children:(0,g.jsx)(Et.q,{name:"common/expand/plus",onClick:this.handleClose})}),(0,g.jsx)("div",{className:(0,At.A1)(["svg-icon-wrapper","add",ne.length<=0&&!ie&&"is-disabled"]),children:(0,g.jsx)(Et.q,{name:"common/add",onClick:this.handleInsertConfig})})]}),(0,g.jsxs)("div",{className:"export-settings",children:[M&&(0,g.jsx)("div",{className:"export-state",children:(0,g.jsx)(ii.Z,{value:_,optionList:se,onChange:this.handleChangePanelState})}),j&&(0,g.jsx)(ps.Z,{content:I18N.WidgetExport.dynamic_widget_is_exported_with_default_state_only,onShowTipByTarget:this.onShowTipsByTarget,children:(0,g.jsx)("span",{className:"is-multi-select-includes-panel-tip",children:I18N.WidgetExport.dynamic_widget_is_exported_with_default_state_only})}),(0,g.jsxs)("div",{className:"export-second",children:[te.map(function(Te,Le){return(0,g.jsx)(rp,{id:Le,config:Te,availablePNGScale:ne,isSelectSvgIconsOnly:Z,isRemoveButtonDisabled:te.length<=1,isSvgOptionAvailable:ie,handleRemoveConfig:o.handleRemoveConfig,onChange:o.handleChangeConfig,dispatch:X},Le)}),(0,g.jsxs)("div",{className:"select-label",children:[(0,g.jsx)("span",{className:"ratio",children:I18N.WidgetExport.times}),(0,g.jsx)("span",{className:"affix",children:I18N.WidgetExport.prefix_suffix}),(0,g.jsx)("span",{className:"format",children:I18N.WidgetExport.format})]})]})]})]})}),(0,g.jsx)(ep,{isOpen:!0,children:(0,g.jsx)(hr.ZP,{loading:l,onClick:this.handleClick,children:p>1?Z?""+I18N.WidgetExport.export_selected_icons.replace("%selectedIconCount%",p):""+I18N.WidgetExport.export_selected_layers.replace("%selectedLayerCount%",p):M?""+I18N.WidgetExport.export+Se:""+I18N.WidgetExport.export+W})})]})}}]),t}(h.PureComponent);(0,f.Z)(np,"propTypes",{isSelectSvgIconsOnly:u().bool.isRequired,isSelectOnlyOnePanel:u().bool.isRequired,isMultiSelectIncludesPanel:u().bool.isRequired,isWidgetBeingExported:u().bool.isRequired,selectedWidgetsCount:u().number.isRequired,widgetDisplayName:u().string.isRequired,defaultPanelStateCid:u().string,panelStatesList:u().array,exportSettings:u().array,setIsOpen:u().func.isRequired,onExport:u().func.isRequired,onCheck:u().func,onUpdateProject:u().func,dispatch:u().func});var rp=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleRemove",function(){var l=n.props,p=l.id,v=l.handleRemoveConfig;v(p)}),(0,f.Z)((0,ae.Z)(n),"handleChangeParam",function(l,p){var v=n.props,M=v.id,j=v.config;n.props.onChange((0,L.Z)((0,L.Z)({},j),{},{[p]:l}),M)}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.isSelectSvgIconsOnly,l=o.isRemoveButtonDisabled,p=o.availablePNGScale,v=o.config,M=v.format,j=v.scale,Z=v.affix,W=GS.map(function(_){return{label:I18N.WidgetExport[_],value:_}}),X=tp.map(function(_){return p.includes(_.value)?Object.assign({},_,{isDisabled:!1}):Object.assign({},_,{isDisabled:_.value!==j})}),J=[{label:"PNG",value:jn.PNG,isDisabled:M===jn.PNG?!1:p.length<=0||!p.includes(j)},{label:"SVG",value:jn.SVG,isDisabled:M===jn.SVG?!1:j!=="1"}];return(0,g.jsxs)("div",{className:"select",children:[(0,g.jsx)("div",{className:"ratio",children:(0,g.jsx)(ii.Z,{isDisabled:M===jn.SVG,className:"select",menuClassName:"export-select-menu",value:j,optionList:X,onChange:function(te){return e.handleChangeParam(te,"scale")}})}),(0,g.jsx)("div",{className:"affix",children:(0,g.jsx)(ii.Z,{isDisabled:M===jn.SVG,className:"affix-select",menuClassName:"export-select-menu",value:Z,optionList:W,onChange:function(te){return e.handleChangeParam(te,"affix")}})}),(0,g.jsx)("div",{className:"format",children:(0,g.jsx)(ii.Z,{isDisabled:!s,className:"select",menuClassName:"export-select-menu select-format-menu",value:M,optionList:J,onChange:function(te){return e.handleChangeParam(te,"format")}})}),(0,g.jsx)("div",{className:(0,At.A1)(["svg-icon-wrapper","remove",l&&"is-disabled"]),children:(0,g.jsx)(Et.q,{className:"remove",name:"common/subtract",isDisabled:l,onClick:this.handleRemove})}),(0,g.jsx)($S,{})]})}}]),t}(h.PureComponent);(0,f.Z)(rp,"propTypes",{id:u().number,config:u().object,handleRemoveConfig:u().func,onChange:u().func,availablePNGScale:u().array,isRemoveButtonDisabled:u().bool,isSelectSvgIconsOnly:u().bool});var VS=function(i){var t=i.configs,n=i.dispatch;n({type:"entry:preview:export",payload:{configs:t}})},KS=function(i){var t=i.exportSettings,n=i.dispatch;n({type:"entry:preview:update:root-project:exportSettings",payload:{exportSettings:t}})},ap=function(i){var t=i.previewOptions,n=i.selectedWidgetsCount,e=i.isSelectSvgIconsOnly,o=i.dispatch,s=i.exportWidgetTreeCids,l=i.isWidgetBeingExported,p=i.widgetDisplayName,v=i.isSignIn,M=i.isSketch,j=i.trackWidgetName,Z=i.exportSettings,W=(0,h.useState)(!1),X=(0,F.Z)(W,2),J=X[0],_=X[1],te=function(){(0,Pt.aF)("proto-inspect",!0,"","a32"),v&&_(!0),cv(v,M,j)};return t.isHTMLZip||M||!n?null:J?(0,g.jsx)(np,{isSelectSvgIconsOnly:e,isMultiSelectIncludesPanel:!1,isSelectOnlyOnePanel:!1,isWidgetBeingExported:l,isLogin:!0,onExport:VS,setIsOpen:_,dispatch:o,widgetDisplayName:p,selectedWidgetsCount:n,panelStatesList:[],exportSettings:Z,onUpdateProject:KS},s):(0,g.jsx)(ep,{isOpen:J,children:(0,g.jsx)(hr.ZP,{loading:l,onClick:te,children:I18N.WidgetExport.export})})};ap.propTypes={previewOptions:u().object,selectedWidgetsCount:u().number,isSelectSvgIconsOnly:u().bool,dispatch:u().func,exportWidgetTreeCids:u().string,isWidgetBeingExported:u().bool,widgetDisplayName:u().string,isSignIn:u().bool,isSketch:u().bool,trackWidgetName:u().string,exportSettings:u().array};var YS=ap,XS=(0,an.P1)([re.GP,Kn,Da,Ia,re.ts,re.CD,re.vo],function(a,i,t,n,e,o,s){var l,p=o.isOnPremises,v=i!==-1?[dr(i,t)]:[],M=v.map(function(Se){return Se.widget.cid}).join("-"),j=v.length,Z="",W=!1,X=!1,J="";if(j>0){var _,te,ne,ie=(_=v[0])==null?void 0:_.widget;W=ie.name==="svg_icon_path",Z=ie.name==="rich_text"?(0,xd.gh)(ie):ie.display_name||ie.name,X=Ma((te=v[0])==null||(ne=te.widget)==null?void 0:ne.id),J=X?ie==null?void 0:ie.type:hn(ie==null?void 0:ie.name)||""}var se=!!(e!=null&&e.id)||p;return{previewOptions:a,selectedWidgetsCount:j,isSelectSvgIconsOnly:W,exportWidgetTreeCids:M,isWidgetBeingExported:n,widgetDisplayName:Z,isSignIn:se,isSketch:X,trackWidgetName:J,exportSettings:(l=s.attr)==null?void 0:l.export_settings}}),QS=(0,U.connect)(function(a){return XS(a)})(YS),ip=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"setScrollLayerRef",function(l){return n.layerRef=l}),n}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.clipBoard=new(Ms())('[data-type="copy"]')}},{key:"componentWillUnmount",value:function(){this.clipBoard.destroy()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var o=e.screenCid;o!==this.props.screenCid&&this.props.dispatch({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:!1}})}},{key:"componentDidUpdate",value:function(e){e.layer&&this.props.layer&&e.layer.id!==this.props.layer.id&&this.layerRef&&(this.layerRef.scrollTop=0)}},{key:"render",value:function(){var e=this.props,o=e.theme,s=e.isSelectLayer,l=e.layer,p=!l;return(0,g.jsxs)(US,{className:p?"is-loading":"",children:[p?(0,g.jsx)(Wy.Z,{className:"layer-panel-loading"}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"layerInfo",ref:this.setScrollLayerRef,children:(0,g.jsx)(FS,(0,L.Z)((0,L.Z)({},this.props),{},{showGlobal:!s,theme:o}))}),(0,g.jsx)(QS,{})]}),(0,g.jsx)(HS,{})]})}}]),t}(h.PureComponent);(0,f.Z)(ip,"propTypes",{theme:u().string,colorUnit:u().string.isRequired,isSelectLayer:u().bool.isRequired,unit:u().string.isRequired,ratio:u().number.isRequired,layer:u().object,screenCid:u().string,selectedPanel:u().object,isInspectInPanel:u().bool,dispatch:u().func.isRequired});var op=(0,U.connect)(function(a){var i=(0,re.vo)(a),t=i.device,n=(0,re.e4)(a),e=n.cid,o=(0,re.CL)(a),s=o.cid,l=(0,re.kc)(a),p=Kn(a),v=iv(a),M=Da(a),j=Fl(a),Z=p===-1?s:p,W=dr(Z,M),X=JS(j,v,t),J=(0,re.gh)(a),_=Cr(a),te=Oa(a),ne=sv(a);return(0,L.Z)((0,L.Z)({theme:J,screenCid:s,layer:W,selectedPanel:_,isInspectInPanel:te,projectMetaCid:e,selectedPanelSateList:ne},l),X)})(ip),JS=(0,Pt.LL)(function(a,i,t){var n=[],e=[],o=[],s=[];if(a){var l=Ry(i);n=l.screenColor,s=l.globalText,e=a.documentColor,o=a.globalColor}return{screenColor:n,documentColor:e,globalColor:o,globalText:s}}),Zs=c(82418),_S=ze.default.div.withConfig({displayName:"styles__StyledLeftPane",componentId:"sc-94efnw-0"})(["position:relative;height:100%;transition:",";z-index:100;.preview-panel-wrapper{position:absolute;top:0;right:0;height:100%;width:100%;}svg:not(.","):not(.","):not(.",") > *{fill:currentColor;}&:hover{.toggle-minimized-button{&:not(.is-minimized){opacity:1;pointer-events:auto;}}}&.is-fullscreen-mode{opacity:0;pointer-events:none;}.border-resizer.right{right:-1px;&:hover{background-color:rgba(22,132,252,.6);}&.active{background-color:rgba(22,132,252,.6);}}"],function(a){return a.isScreenListDragging?"none":"all 0.2s ease-in-out"},Zs.ad,Zs.HX,Zs.Hr),sp=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"toggleMinimized",function(){var o=e.props,s=o.isMinimized,l=o.isEmbedV2,p=s?"\u9875\u9762\u9762\u677F\u663E\u793A":"\u9875\u9762\u9762\u677F\u5173\u95ED";e.props.dispatch({type:"entry:preview-setting:toggle:isMinimized"}),l&&(0,C.U1)("embed_share_links_click",{operation_type:p})}),(0,f.Z)((0,ae.Z)(e),"handleWidthChange",function(o){MB.action?MB.action("screenList:set:width",{width:o,projectCid:e.props.currentProject.cid}):(0,Tt.iO)("layer_left_panel_width_"+e.props.currentProject.cid,o,Tt.cM.Number),e.setState({screenListWidth:o})}),(0,f.Z)((0,ae.Z)(e),"handleResizeStart",function(){e.setState({isScreenListDragging:!0}),_t("\u62D6\u62FD\u5DE6\u4FA7\u680F")}),(0,f.Z)((0,ae.Z)(e),"handleResizeEnd",function(){return e.setState({isScreenListDragging:!1})}),e.state={isScreenListDragging:!1,screenListWidth:(0,Tt.RD)("layer_left_panel_width_"+e.props.currentProject.cid,Sn.Pw,Tt.cM.Number)},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isLayerPanelShow,s=e.isCommentPanelShow,l=e.isScreenPanelShow,p=e.isFullScreenMode,v=e.isMinimized,M=e.isEmbedV2,j=e.isButtonHovered,Z=this.state,W=Z.isScreenListDragging,X=Z.screenListWidth;if(!(o||s||l))return null;var J=l?this.state.screenListWidth:260;return(0,g.jsxs)(_S,{id:"mb-preview-leftpane",className:p&&!M?"is-fullscreen-mode":"",style:{width:v?0:J},isScreenListDragging:W,children:[l&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"preview-panel-wrapper",children:(0,g.jsx)(sd,{})}),(0,g.jsx)(ls,{isClassic:!1,placement:"right",isMinimized:v,onClick:this.toggleMinimized,dispatch:this.props.dispatch}),!v&&!j&&(0,g.jsx)(ga,{placement:"right",className:"v-resizer",value:X,min:Sn.AX,max:Sn.$k,onResizeStart:this.handleResizeStart,onResizeEnd:this.handleResizeEnd,onChange:this.handleWidthChange})]}),o&&(0,g.jsx)(op,{}),s&&(0,g.jsx)(eu,{})]})}}]),t}(h.PureComponent);(0,f.Z)(sp,"propTypes",{isScreenPanelShow:u().bool,isLayerPanelShow:u().bool,isCommentPanelShow:u().bool,isMinimized:u().bool,isFullScreenMode:u().bool,isEmbedV2:u().bool,dispatch:u().func,isButtonHovered:u().bool,currentProject:u().object});var qS=function(i){return i.container.common.isButtonHovered},eb=(0,an.P1)([re.Ds,re.v8,re.XL,re.jQ,re.GP,qS,re.vo],function(a,i,t,n,e,o,s){var l=i,p=!1,v=!1,M=e.isEmbedV2;return{toolbarActiveItem:a,isScreenPanelShow:l,isLayerPanelShow:p,isCommentPanelShow:v,isFullScreenMode:t,isMinimized:n,isEmbedV2:M,isButtonHovered:o,currentProject:s}}),Fs=(0,U.connect)(function(a){return eb(a)})(sp),tb=ze.default.div.withConfig({displayName:"styles__StyledRightPane",componentId:"sc-1j1bcas-0"})(["position:relative;height:100%;transition:",";z-index:100;box-shadow:-1px 0 0 ",";.preview-panel-wrapper{position:absolute;top:0;left:0;height:100%;width:100%;}&:hover{.toggle-minimized-button{&:not(.is-minimized){opacity:1;pointer-events:auto;}}}&.is-fullscreen-mode{opacity:0;pointer-events:none;}"],function(a){return a.isScreenListDragging?"none":"all 0.2s ease-in-out"},function(a){return a.theme.color_background_split}),lp=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"toggleMinimized",function(){var o=e.props.dispatch;o({type:"entry:preview-setting:toggle:isMinimized"})}),(0,f.Z)((0,ae.Z)(e),"handleWidthChange",function(o){e.setState({screenListWidth:o})}),(0,f.Z)((0,ae.Z)(e),"handleResizeStart",function(){e.setState({isScreenListDragging:!0}),_t("\u62D6\u62FD\u5DE6\u4FA7\u680F")}),(0,f.Z)((0,ae.Z)(e),"handleResizeEnd",function(){return e.setState({isScreenListDragging:!1})}),e.state={isScreenListDragging:!1,screenListWidth:Sn.Pw},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isLayerPanelShow,s=e.isCommentPanelShow,l=e.isScreenPanelShow,p=e.isFullScreenMode,v=e.isMinimized,M=e.isButtonHovered,j=this.state,Z=j.screenListWidth,W=j.isScreenListDragging;if(!(o||s||l))return null;var X=l?Z:260;return(0,g.jsxs)(tb,{id:"mb-preview-rightpane",className:p?"is-fullscreen-mode":"",style:{width:v?0:X},isScreenListDragging:W,children:[l&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ls,{isClassic:!0,placement:"left",isMinimized:v,onClick:this.toggleMinimized,dispatch:this.props.dispatch}),!v&&!M&&(0,g.jsx)(ga,{placement:"left",className:"v-resizer",value:Z,min:Sn.AX,max:Sn.$k,onResizeStart:this.handleResizeStart,onResizeEnd:this.handleResizeEnd,onChange:this.handleWidthChange}),(0,g.jsx)("div",{className:"preview-panel-wrapper",children:(0,g.jsx)(sd,{})})]}),o&&(0,g.jsx)(op,{}),s&&(0,g.jsx)(eu,{})]})}}]),t}(h.PureComponent);(0,f.Z)(lp,"propTypes",{isScreenPanelShow:u().bool,isLayerPanelShow:u().bool,isCommentPanelShow:u().bool,isFullScreenMode:u().bool,isMinimized:u().bool,dispatch:u().func,isButtonHovered:u().bool});var nb=function(i){return i.container.common.isButtonHovered},rb=(0,an.P1)([re.Ds,re.v8,re.XL,re.jQ,nb],function(a,i,t,n,e){var o=!1,s=a===Sn.nh,l=a===Sn.Ab;return{isScreenPanelShow:o,isLayerPanelShow:s,isCommentPanelShow:l,isFullScreenMode:t,isMinimized:n,isButtonHovered:e}}),cp=(0,U.connect)(function(a){return rb(a)})(lp),ab=c(14839),ib=c.n(ab);function up(){var a=pp(["\n  &.InputNumber,\n  &.CoreInputNumber {\n    position: relative;\n    display: inline-block;\n    min-width: 2em;\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    &:not(.unstyled).is-active input {\n      background-color: #fff;\n      border-color: #298df8;\n      box-shadow: 0 0 6px 0 rgba(41, 141, 248, .5);\n    }\n    &:not(.unstyled).isnt-valid input {\n      border-color: #ff6161 !important;\n      box-shadow: 0 0 6px 0 rgba(255, 97, 97, .5) !important;\n    }\n    &.is-disabled {\n      cursor: not-allowed;\n      > * {\n      opacity: 0.5;\n      }\n    }\n\n    &.is-disabled,\n    &.is-readonly {\n      .action {\n        visibility: hidden;\n      }\n    }\n\n    input {\n      padding-right: 1.5em;\n      padding-left: .5em;\n      font-family: inherit;\n    }\n    &.regular input{\n        padding-right: 2em;\n    }\n  }\n\n\n  &:not(.is-disabled):hover input:not([readonly]),\n  input:not([readonly]):focus {\n    & ~ .action {\n      opacity: 1;\n      transition: all 0.2s ease-out;\n    }\n  }\n\n  .action {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 1.5em;\n    height: 100%;\n    text-align: center;\n\n    &:not(.caret) {\n    opacity: 0;\n    }\n\n    svg {\n      height: 4px;\n      fill: currentColor;\n      fill-rule: evenodd;\n    }\n\n    &.caret {\n      button {\n        height: 100%;\n      }\n      svg {\n        transition: transform 0.2s ease-out;\n      }\n\n      /.InputNumber.is-menu-open .caret svg {\n        transform: rotate(180deg);\n      }\n    }\n\n    button {\n      display: block;\n      margin: 0;\n      padding: 0;\n      width: 100%;\n      height: 50%;\n      line-height: 0;\n      color: #8d9ea7;\n      transition: all 0.1s ease-out;\n      &:hover {\n        color: #5b6b73;\n      }\n      &:active {\n        color: #298df8;\n      }\n      &[data-action=up] svg {\n        margin: 5px 0 2px;\n      }\n      &[data-action=down] svg {\n        margin: 2px 0 5px;\n      }\n    }\n  }\n\n  &.regular .action {\n    top: 50%;\n    transform: translateY(-50%);\n    width: 2em;\n    height: 28px;\n  }\n  &.with-desc {\n    margin-top: 6px;\n    margin-bottom: 1.5em;\n  }\n\n  .title,\n  .desc,\n  .prefix,\n  .suffix {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: flex;\n    align-items: center;\n    height: 100%;\n    pointer-events: none;\n    user-select: none;\n    border: 1px solid transparent;\n  }\n\n  &.is-empty {\n    .prefix,\n    .suffix {\n      opacity: 0.3;\n    }\n  }\n\n  .title {\n    margin-left: .5em;\n    color: #8d9ea7;\n  }\n\n  .desc {\n    top: 100%;\n    width: 100%;\n    height: 1.5em;\n    line-height: 1.5;\n    justify-content: center;\n    color: #8d9ea7;\n  }\n  .prefix {\n    margin-left: .5em;\n  }\n  .suffix {\n    padding-left: .5em;\n    padding-right: 1.625em;\n    width: 100%;\n\n    &:before {\n    content: attr(data-value);\n    display: inline-block;\n    margin-right: 0.125em;\n    width: -moz-fit-content;\n    width: -webkit-fit-content;\n    width: fit-content;\n    overflow: hidden;\n    opacity: 0;\n    }\n  }\n"]);return up=function(){return a},a}function dp(){var a=pp(["\n  &.Textarea,\n  &.CoreTextarea,\n  &.Input,\n  &.CoreInput {\n    display: inline-block;\n    color: #415058;\n\n    input,\n    textarea {\n      font-size: inherit;\n      color: inherit;\n      &:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n      &[readonly] {\n        color: #8d9ea7;\n      }\n      &:focus {\n        outline: 0;\n      }\n      &::placeholder {\n        color: #8d9ea7;\n      }\n    }\n  }\n\n  &.is-invalid input,\n  &.is-invalid textarea,\n  & input:not([type=email]):invalid,\n  & textarea:invalid {\n    border-color: #ff6161 !important;\n    box-shadow: 0 0 6px 0 rgba(#ff6161, .5) !important;\n  }\n\n  &:not(.unstyled) {\n    input,\n    textarea {\n      background-color: #f6f7f8;\n      border: 1px solid #f2f2f3;\n      border-radius: 2px;\n      caret-color: #298df8;\n      transition: 0.2s ease-out;\n      transition-property: background, border, box-shadow, opacity;\n      &:enabled:not([readonly]){\n        :hover {\n          border-color: #298df8;\n        }\n        :focus {\n          background-color: #fff;\n          border-color: #298df8;\n          box-shadow: 0 0 6px 0 rgba(41, 141, 248, .5);\n        }\n      }\n    }\n  }\n\n  &.is-readonly {\n    color: #8d9ea7;\n  }\n\n  &.Input,\n  &.CoreInput{\n    &.regular {\n      height: 34px;\n      font-size: 14px;\n    }\n    &.small {\n      height: 22px;\n      font-size: 12px;\n    }\n    input {\n      padding: 0 .5em;\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  &.Textarea,\n  &.CoreTextarea{\n    &.regular {\n      font-size: 14px;\n    }\n    &.small {\n      font-size: 12px;\n    }\n    textarea {\n    padding: .5em;\n    width: 100%;\n    min-height: 5em;\n    max-height: 10em;\n    resize: vertical;\n    &:disabled,\n    &[readonly] {\n      resize: none;\n    }\n    }\n  }\n\n  &.CoreInput:not(.unstyled) input,\n  &.CoreTextarea:not(.unstyled) textarea {\n    background-color: #fff;\n    border-color: #c8cdd1;\n  }\n\n  &.InputEmail, &.CoreInputEmail{\n    &:not(.unstyled).isnt-valid input {\n      box-shadow: 0 0 6px 0 rgba(255, 97, 97, .5) !important;\n      border-color: #ff6161 !important;\n    }\n  }\n"]);return dp=function(){return a},a}function pp(a,i){return i||(i=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(i)}}))}var ob=ze.default.label(dp()),sb=(0,ze.default)(ob)(up());function to(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?to=function(t){return typeof t}:to=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(a)}function Us(){return Us=Object.assign||function(a){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])}return a},Us.apply(this,arguments)}function fp(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function hp(a,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}function vp(a,i,t){return i&&hp(a.prototype,i),t&&hp(a,t),a}function mp(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),i&&Hs(a,i)}function Hs(a,i){return Hs=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},Hs(a,i)}function gp(a){var i=cb();return function(){var n=no(a),e;if(i){var o=no(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return lb(this,e)}}function lb(a,i){return i&&(to(i)==="object"||typeof i=="function")?i:An(a)}function An(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function cb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function no(a){return no=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},no(a)}function kn(a,i,t){return i in a?Object.defineProperty(a,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[i]=t,a}var ub=500,db=30,pb=1e3,fb=function(i,t){return Number(Number(i).toFixed(t))},yp=function(i){var t=i.shiftKey,n=i.metaKey,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return t?e*10:n?e*100:e},hb=function(i){return i===""||/^0?[\+\-]0*$/.test(i)||/^[\+\-]?\d*\.$/.test(i)},vb=function(i){var t=i.currentTarget;return setTimeout(function(){return t.select()},50)},Ws=function(a){mp(t,a);var i=gp(t);function t(){var n;fp(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),kn(An(n),"state",{prevProps:n.props,value:(0,At.xc)(n.props.value),isActive:!1,isValid:!0,isMenuOpen:!1}),kn(An(n),"onChange",function(l){var p=l.target.value;n.setValue(p.trim(),l)}),kn(An(n),"correctNumber",function(l){var p=n.props,v=p.min,M=p.max,j=p.precision;return fb(Math.min(Math.max(l,v),M),j)}),kn(An(n),"checkValidity",function(l){return l===""||isFinite(l)&&n.correctNumber(l)===Number(l)}),kn(An(n),"setValue",function(l,p){p.persist(),clearTimeout(n.correctionTimeout);var v=n.props,M=v.value,j=v.parser,Z=v.placeholder,W=v.onChange,X=j(l.toString()).toString(),J=l!=="0"&&!X&&!!Z,_=n.checkValidity(X),te=l!==""&&isFinite(X),ne=hb(X);if(!(!te&&!ne)){var ie=n.correctNumber(X),se=isNaN(ie)?M:ie,Se=J?"":ne||!_?X:se;n.setState({value:Se,isValid:_}),_?W(Se,p):Object.assign(An(n),{correctionTimeout:setTimeout(function(){return n.state.value===Se&&n.setState({value:se,isValid:!0},W(se,p))},pb)})}}),kn(An(n),"focusOnInput",function(l){try{var p=l.currentTarget.closest("label").querySelector("input");setTimeout(function(){return p.focus()})}catch(v){console.error(v)}}),kn(An(n),"onStep",function(l){l.persist(),l.nativeEvent.stopPropagation();var p=l.currentTarget.dataset.action,v=yp(l,n.props.step)*(p==="up"?1:-1);n.setValue(n.correctNumber(Number(n.state.value)+v),l),n.focusOnInput(l),Object.assign(An(n),{longPressedTimeout:setTimeout(function(){return Object.assign(An(n),{steppingInterval:setInterval(function(){return n.setValue(n.correctNumber(Number(n.state.value)+v),l)},db)})},ub)})}),kn(An(n),"onRelease",function(){clearTimeout(n.longPressedTimeout),clearInterval(n.steppingInterval)}),kn(An(n),"onKeyDown",function(l){var p=l.key==="ArrowUp"?"up":l.key==="ArrowDown"?"down":null;if(p){l.persist(),l.nativeEvent.preventDefault();var v=yp(l,n.props.step)*(p==="up"?1:-1);n.setValue(n.correctNumber(Number(n.state.value)+v),l)}}),kn(An(n),"set$label",function(l){return Object.assign(An(n),{$label:l})}),kn(An(n),"setActive",function(){return n.setState({isActive:!0})}),kn(An(n),"setInactive",function(){return n.setState({isActive:!1})}),kn(An(n),"toggleMenu",function(){return n.setState({isMenuOpen:!n.state.isMenuOpen})}),kn(An(n),"closeMenu",function(){return n.setState({isMenuOpen:!1})}),kn(An(n),"onSelect",function(l){l.persist();var p=l.currentTarget;n.setValue(p.dataset.value,l),n.closeMenu()}),kn(An(n),"onClickOutside",function(l){var p=l.target;p.closest("label")&&n.$label.contains(p)||n.setInactive()}),kn(An(n),"onBlur",function(l){var p=n.props,v=p.valueForEmptyInput,M=p.onBlur,j=n.state.value;M(l),!j&&ib()(v)&&n.setValue(v,l)}),n}return vp(t,[{key:"componentDidMount",value:function(){var e=this.$label,o=this.props,s=o.value,l=o.title,p=o.prefix,v=o.suffix,M=this.checkValidity(s);if(this.setState({isValid:M}),!(!l&&!p&&!v)){var j=e.querySelector("input"),Z=e.querySelector(".action"),W=e.querySelector(".title"),X=e.querySelector(".prefix"),J=e.querySelector(".suffix span"),_=parseInt(getComputedStyle(j).getPropertyValue("padding-left"));if(l||p){var te=(W?W.clientWidth+6:0)+(X?X.clientWidth:0),ne={paddingLeft:"".concat(te+_,"px")};Object.assign(j.style,ne),l&&p&&Object.assign(X.style,{left:"".concat(W.clientWidth+6,"px")}),v&&Object.assign(J.parentNode.style,ne)}if(v){var ie=Z.clientWidth+J.clientWidth;Object.assign(j.style,{paddingRight:"".concat(ie,"px")})}}}},{key:"render",value:function(){var e=this.props,o=e.className,s=e.size,l=e.theme,p=e.unstyled,v=e.readOnly,M=e.placeholder,j=e.prefix,Z=e.suffix,W=e.title,X=e.desc,J=e.formatter,_=e.dontSelectOnFocus,te=e.onFocus,ne=te===void 0?_?void 0:vb:te,ie=e.optionList,se=e.menuX,Se=this.state,Te=Se.value,Le=Se.isActive,ke=Se.isValid,nt=Se.isMenuOpen,it=Te==="",ct=this.props.isDisabled||this.props.disabled,de=(0,At.A1)([l==="core"?"CoreInput CoreInputNumber":"Input InputNumber",s,p&&"unstyled",o,Le&&!ct&&!v&&"is-active",nt&&"is-menu-open",ct&&"is-disabled",v&&"is-readonly",ke?"is-valid":"isnt-valid",it?"is-empty":"isnt-empty",!!W&&"with-title",!!X&&"with-desc",!!j&&"with-prefix",!!Z&&"with-suffix"]),ue=ie&&ie.length>0;return h.createElement(sb,{className:de,ref:this.set$label,onMouseDown:this.setActive},W&&h.createElement("span",{className:"title"},W),X&&h.createElement("span",{className:"desc"},X),j&&h.createElement("span",{className:"prefix"},j),h.createElement("input",Us({type:"text",value:J(Te),placeholder:M,disabled:ct,readOnly:v,onChange:this.onChange,onKeyDown:this.onKeyDown,onFocus:ne,onBlur:this.onBlur},(0,At.l1)(this.constructor,this.props))),Z&&h.createElement("span",{className:"suffix","data-value":J(Te),"data-suffix":Z},h.createElement("span",null,Z)),h.createElement(Sp,{hasMenu:ue,onToggleMenu:this.toggleMenu,onStep:this.onStep,onRelease:this.onRelease}),ue&&h.createElement(qi,{isOpen:nt,menuClassName:"SelectNumberMenu",$select:this.$label,optionList:ie,value:Te,menuX:se,onChange:this.onSelect,onClose:this.closeMenu}),(Le||nt)&&h.createElement(Nr.ZP,{target:document,onClick:this.onClickOutside}))}}],[{key:"getDerivedStateFromProps",value:function(e,o){var s=o.prevProps,l=o.value;if(!ti()(s,e)){var p=e.value;return{prevProps:e,value:(0,At.xc)(p)}}return null}}]),t}(h.PureComponent);kn(Ws,"propTypes",{size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),unstyled:u().bool,step:u().number,precision:u().number,formatter:u().func,parser:u().func,value:u().oneOfType([u().string,u().number]),valueForEmptyInput:u().oneOfType([u().string,u().number]),placeholder:u().oneOfType([u().string,u().number]),optionList:u().arrayOf(u().oneOfType([u().string,u().number])),menuX:u().oneOf(["left","center"]),dontSelectOnFocus:u().bool,title:u().node,desc:u().node,prefix:u().node,suffix:u().node,min:u().number,max:u().number,isDisabled:u().bool,disabled:u().bool,readOnly:u().bool,onChange:u().func.isRequired,onFocus:u().func,onBlur:u().func,className:u().string}),kn(Ws,"defaultProps",{size:"regular",theme:"plain",unstyled:!1,value:"",valueForEmptyInput:null,placeholder:"",step:1,precision:1,parser:function(i){return i},formatter:function(i){return i},min:0,max:1/0,isDisabled:!1,disabled:!1,readOnly:!1,onChange:function(){return null},onBlur:function(){return null}});var Sp=function(a){mp(t,a);var i=gp(t);function t(){return fp(this,t),i.apply(this,arguments)}return vp(t,[{key:"render",value:function(){var e=this.props,o=e.hasMenu,s=e.onToggleMenu,l=e.onStep,p=e.onRelease;return h.createElement(h.Fragment,null,o?h.createElement("div",{className:"action caret"},h.createElement(hr.ZP,{type:"text",tabIndex:"-1",onClick:s},h.createElement(Za.Z,{name:"triangle_down"}))):h.createElement("div",{className:"action"},h.createElement(hr.ZP,{type:"text",tabIndex:"-1","data-action":"up",onMouseDown:l,onMouseLeave:p,onMouseUp:p},h.createElement(Za.Z,{name:"triangle_up"})),h.createElement(hr.ZP,{type:"text",tabIndex:"-1","data-action":"down",onMouseDown:l,onMouseLeave:p,onMouseUp:p},h.createElement(Za.Z,{name:"triangle_down"}))))}}]),t}(h.PureComponent);kn(Sp,"propTypes",{hasMenu:u().bool,onStep:u().func,onToggleMenu:u().func,onRelease:u().func});var mb=Ws,SM={},gb=["className","menuClassName"],oi=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.className,s=e.menuClassName,l=(0,pa.Z)(e,gb);return(0,g.jsx)($d,(0,L.Z)((0,L.Z)({className:(0,At.A1)(["ToolbarSelect",o]),menuClassName:(0,At.A1)(["ToolbarSelectMenu",s])},l),{},{placeholder:" ",unstyled:!0,size:"small",menuX:"center"}))}}]),t}(h.PureComponent);(0,f.Z)(oi,"propTypes",{className:u().string,menuClassName:u().string});var yb=ze.default.div.withConfig({displayName:"styles__StyledSubToolbar",componentId:"sc-1j9fs9c-0"})(["&{position:absolute;z-index:10;top:14px;left:50%;transform:translateX(-50%);display:flex;justify-content:center;align-items:center;min-width:263px;height:36px;background:",";border-radius:2px;box-shadow:0 2px 10px 0 rgba(82,94,113,0.1);pointer-events:auto;}.mode{display:flex;min-width:50px;justify-content:space-between;align-items:center;margin-left:20px;color:",";}.param{display:flex;flex:1;justify-content:center;align-items:center;margin:0 10px 0 20px;.Select{color:",";}}.dora{margin-top:-1px;font-size:15px;cursor:pointer;}.cursor.is-active{color:",";}.picker.is-active{color:",";}.ToolbarSelect{min-width:auto !important;&.color-unit{width:60px;button{text-align:center;}}&.device-unit{width:62px;button{text-align:center;}}&.em-pixel{width:52px;button{text-align:center;}}.caret{position:relative;margin:0 10px !important;color:#C8CDD0;}&:not(:last-child)::after{content:'';width:1px;height:12px;display:block;margin-right:10px;background-color:",";}}.px-ratio{color:",";margin-right:10px;}"],function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L3},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_text_L1}),Sb=(0,ze.createGlobalStyle)(["#IBOT_SELECT_MENU_ROOT{.PreviewSubToolbarSelectMenu{margin-left:-10px;background-color:",";.SelectOption{color:",";&:not(.is-active):hover{color:",";background-color:",";}&.is-active{color:",";background-color:",";}}}.PreviewSubToolbarSelectMenu.scale-select-menu{margin-left:-5px;width:80px;li:nth-last-child(2){display:none;}li:last-child{padding:0.25em 0;line-height:1.5;&:hover{background-color:transparent;}> .Ellipsis{padding:0;}.InputNumber{width:100%;height:30px;input{padding:0 1em;text-align:center;background-color:transparent;&:focus::placeholder{color:transparent;}}}}}}"],function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_background},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_background}),bp=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"updateSubToolbar",function(o){e.props.dispatch({type:"reducer:preview-toolbar:update",payload:(0,L.Z)({},o)})}),(0,f.Z)((0,ae.Z)(e),"pickColor",function(o){o.nativeEvent.stopImmediatePropagation(),e.updateSubToolbar({isShowColorPicker:!0,showLayerList:!1,isSelectLayer:!1})}),(0,f.Z)((0,ae.Z)(e),"updateDeviceUnit",function(o){var s=e.props.emPixel,l=Ob(o,s);e.updateSubToolbar(l?{unit:o,ratio:l}:{unit:o})}),(0,f.Z)((0,ae.Z)(e),"updateColorUnit",function(o){e.updateSubToolbar({colorUnit:o})}),(0,f.Z)((0,ae.Z)(e),"updateEmPixel",function(o){var s=Number(o);e.updateSubToolbar({emPixel:s,ratio:s}),e.setState({customEmPixel:""});var l=e.props.unit}),(0,f.Z)((0,ae.Z)(e),"onTypingEmPixel",function(o){if(o){e.setState({customEmPixel:o}),e.updateSubToolbar({emPixel:o,ratio:o});var s=e.props.unit}}),(0,f.Z)((0,ae.Z)(e),"handleMobileChange",function(o){var s=e.props.unit;e.updateSubToolbar({ratio:Number(o)})}),e.state={showLogin:!1,customEmPixel:""},e}return(0,S.Z)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var o=e.unit;this.props.unit!==o&&o===zs&&this.updateSubToolbar({ratio:1})}},{key:"render",value:function(){var e=this.props,o=e.unit,s=e.emPixel,l=e.ratio,p=e.isShowColorPicker,v=e.colorUnit,M=e.isLogin,j=this.state.customEmPixel,Z=o===$s||o===wp,W=o===zs,X=o===$s?Ib:Tb,J=[{value:10,label:"10px"},{value:12,label:"12px"},{value:14,label:"14px"},{value:16,label:"16px"},{value:s,label:s+"px"},(0,g.jsx)("div",{onClick:function(te){return te.stopPropagation()},children:(0,g.jsx)(mb,{size:"small",min:1,max:99,precision:0,value:j,placeholder:I18N.pInspect.custom,onChange:this.onTypingEmPixel})})];return(0,g.jsxs)(yb,{className:ot()("sub-toolbar","preview-sub-toolbar"),children:[(0,g.jsxs)("div",{className:"mode",children:[(0,g.jsx)(wr.Z,{name:"cursor",type:"dora",className:(0,At.A1)(["cursor",!p&&"is-active"])}),(0,g.jsx)(Lr.Z,{arrowed:!0,position:"bottom",duration:1500,className:(0,At.A1)(["picker",p&&"is-active"]),tipClassName:"marign-top-20",content:{click:M?null:I18N.pInspect.guide_login,hover:I18N.pInspect.color_picker},children:(0,g.jsx)(wr.Z,{name:"tube",type:"dora",onClick:this.pickColor})})]}),(0,g.jsxs)("div",{className:"param",children:[(0,g.jsx)(oi,{className:"color-unit",menuClassName:"PreviewSubToolbarSelectMenu",value:v,optionList:Ab,onChange:this.updateColorUnit}),(0,g.jsx)(oi,{className:"device-unit",menuClassName:"PreviewSubToolbarSelectMenu",optionList:Eb,value:o,onChange:this.updateDeviceUnit}),Z?(0,g.jsx)(oi,{menuClassName:"PreviewSubToolbarSelectMenu",optionList:X,value:l,onChange:this.handleMobileChange}):W?(0,g.jsx)("span",{className:"px-ratio",children:"@1x"}):(0,g.jsx)(oi,{className:"em-pixel",menuClassName:"PreviewSubToolbarSelectMenu scale-select-menu",optionList:J,value:s,onChange:this.updateEmPixel})]}),(0,g.jsx)(Sb,{})]})}}]),t}(h.PureComponent);(0,f.Z)(bp,"propTypes",{unit:u().string,ratio:u().number,colorUnit:u().string,isShowColorPicker:u().bool,emPixel:u().number,isLogin:u().bool,dispatch:u().func});var zs="px",xp="rem",Cp="em",wp="pt",$s="dp",bb={value:"hex",label:"Hex"},xb={value:"rgba",label:"RGBA"},Cb={value:"argb",label:"ARGB"},wb={value:"rgb",label:"RGB"},Eb=[zs,Cp,xp,$s,wp],Ab=[bb,wb,xb,Cb],Mb=[1,2,3],Pb=[.75,1,1.5,2,3,4],Tb=Mb.map(function(a){return{value:a,label:"@"+a+"x"}}),Ib=Pb.map(function(a){return{value:a,label:"@"+a+"x"}}),Ob=function(i,t){return i===Cp||i===xp?t:1},Db=(0,U.connect)(function(a){var i=a.model.user,t=!!i.id,n=(0,re.kc)(a),e=n.unit,o=n.emPixel,s=n.ratio,l=n.isShowColorPicker,p=n.colorUnit;return{isLogin:t,unit:e,emPixel:o,ratio:s,isShowColorPicker:l,colorUnit:p}})(bp),Lb=c(60348),Gs=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;return(0,I.Z)(this,t),n=i.call(this),(0,f.Z)((0,ae.Z)(n),"handleScroll",function(e){e.stopPropagation();var o=e.target.dataset.axis,s=e.clientX,l=e.clientY,p=n.props,v=p.canvasOffset,M=v.x,j=v.y,Z=p.viewportHeight,W=p.viewportWidth,X=p.canvasRange,J=p.onScroll,_=o==="x"?W:Z,te=function(se){var Se=se.clientY,Te=se.clientX,Le=o==="x"?Te-s:Se-l;Le=Le/(_-_/X[o]*_)*X[o];var ke=o==="x"?{x:M-Le,y:j}:{x:M,y:j-Le};J(ke)},ne=function ie(se){document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ie)};document.addEventListener("mousemove",te),document.addEventListener("mouseup",ne)}),(0,f.Z)((0,ae.Z)(n),"handleClickTrack",function(e){var o=e.target.dataset.axis,s=e.clientX,l=e.clientY,p=n.props,v=p.onScroll,M=p.canvasRange,j=p.viewportHeight,Z=p.viewportWidth,W=n.scrollbarX.getBoundingClientRect(),X=W.top,J=W.bottom,_=W.left,te=W.right,ne=o==="x"?n.scrollbarX:n.scrollbarY,ie=o==="x"?s>te:l>J,se=o==="x"?s<_:l<X,Se=o==="x"?Z:j,Te=function(){var nt=ne.getBoundingClientRect(),it=nt.top,ct=nt.bottom,de=nt.left,ue=nt.right,ge=n.props.canvasOffset,$e=ge.x,Ye=ge.y,Xe=o==="x"?s>ue:l>ct,ut=o==="x"?s<de:l<it,dt=ut?-1:Xe?1:0,mt=dt*Math.min(M[o]/10,Se),Nt=o==="x"?{x:$e-mt,y:Ye}:{x:$e,y:Ye-mt};(Xe||ut)&&v(Nt)};(ie||se)&&(ne.style.transition="all 0.1s linear",Te(),n.timer=setTimeout(function(){return n.timeInterval=setInterval(Te,100)},500));var Le=function ke(nt){ne.style.transition="",clearTimeout(n.timer),clearInterval(n.timeInterval),document.removeEventListener("mouseup",ke)};document.addEventListener("mouseup",Le)}),n.setRefY=function(e){return n.scrollbarY=e},n.setRefX=function(e){return n.scrollbarX=e},n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.className,s=e.canvasOffset,l=s.x,p=s.y,v=e.canvasRange,M=e.viewportWidth,j=e.viewportHeight,Z=e.showRuler,W=M/v.x,X=(v.x/2-l)*(v.x-M)/(v.x*v.x);X=Math.min(Math.max(X,0),(v.x-M)/v.x);var J=j/v.y,_=(v.y/2-p)*(v.y-j)/(v.y*v.y);_=Math.min(Math.max(_,0),(v.y-j)/v.y);var te={width:W*100+"%",left:X*100+"%"},ne={height:J*100+"%",top:_*100+"%"},ie=Z?null:{left:0},se=Z?null:{top:0};return(0,g.jsxs)(Lb.U,{className:o,children:[(0,g.jsx)("div",{"data-axis":"x",className:"track x-track",style:ie,onMouseDown:this.handleClickTrack,children:(0,g.jsx)("div",{ref:this.setRefX,className:"handler","data-axis":"x",onMouseDown:this.handleScroll,style:te,children:(0,g.jsx)("div",{className:"thumb"})})}),(0,g.jsx)("div",{"data-axis":"y",className:"track y-track",style:se,onMouseDown:this.handleClickTrack,children:(0,g.jsx)("div",{ref:this.setRefY,className:"handler y-handler","data-axis":"y",onMouseDown:this.handleScroll,style:ne,children:(0,g.jsx)("div",{className:"thumb"})})})]})}}]),t}(h.PureComponent);(0,f.Z)(Gs,"propTypes",{className:u().string,canvasOffset:u().object,canvasRange:u().object,viewportWidth:u().number,viewportHeight:u().number,showRuler:u().bool,onScroll:u().func}),(0,f.Z)(Gs,"defaultProps",{showRuler:!1});var Nb=(0,ze.default)(Gs).withConfig({displayName:"ScrollBarContainer__StyledScrollBar",componentId:"sc-189r1kb-0"})(["&.is-fullscreen-mode{.track,.handler{opacity:0;pointer-events:none;}}"]),Ep=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleScroll",function(l){return n.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:l}})}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.canvasRange,s=e.canvasOffset,l=e.viewport,p=e.isFullScreenMode,v=l.width,M=l.height;return(0,g.jsx)(Nb,{className:p?"is-fullscreen-mode":"",canvasOffset:s,viewportWidth:v,viewportHeight:M,canvasRange:o,onScroll:this.handleScroll})}}]),t}(h.PureComponent);(0,f.Z)(Ep,"propTypes",{canvasOffset:u().object,viewport:u().object,canvasRange:u().object,isFullScreenMode:u().bool,dispatch:u().func});var Rb=(0,an.P1)([re.XL,re.aO,re.os,re.it],function(a,i,t,n){return{isFullScreenMode:a,viewport:i,canvasOffset:t,canvasRange:n}}),jb=(0,U.connect)(function(a){return Rb(a)})(Ep),kb=c(17626),Bb=ze.default.a.withConfig({displayName:"styles__StyledSimulatorDisplayModeNav",componentId:"sc-1c5k7a2-0"})(["position:relative;width:32px;height:36px;display:flex;justify-content:center;align-items:center;border:2px solid ",";background:",";transition:all 0.2s ease-out;cursor:pointer;.svg-icon{color:#fff;}"],function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_primary_proto01}),Zb=ze.default.ul.withConfig({displayName:"styles__StyledSimulatorDisplay",componentId:"sc-1c5k7a2-1"})(["list-style:none;position:absolute;padding:4px 0;width:108px;top:125px;left:calc(100% + 8px);background:",";box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),0 12px 40px 0 rgba(39,54,78,0.1);border-radius:2px;.option{display:flex;align-items:center;height:32px;padding:0 12px;color:",";transition:all 0.2s ease-out;cursor:pointer;.outside_artboard-icon{width:19px;height:16px;}.option-icon-box{display:flex;align-items:center;justify-content:center;width:22px;height:22px;margin-right:2px;}.svg-icon{transition:all 0.2s ease-out;color:",";}:hover{background:",";color:",";}&.active{background:",";color:",";.svg-icon{color:",";}}}"],function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_background},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_primary_proto01}),Ap=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"state",{isShowList:!1}),(0,f.Z)((0,ae.Z)(e),"OPTION_LIST",[{iconName:"art_board/preview/device",value:"device",label:I18N.pMainContent.prd_device,tooptipTitle:I18N.pMainContent.prd_device_des},{iconName:"art_board/preview/long_page",value:"long_page",label:I18N.pMainContent.prd_page,tooptipTitle:I18N.pMainContent.prd_page_des},{iconName:"art_board/preview/outside_artboard",value:"outside_artboard",label:I18N.pMainContent.prd_prd,tooptipTitle:I18N.pMainContent.prd_prd_des}]),(0,f.Z)((0,ae.Z)(e),"OPTION_TYPE",{device:"\u771F\u673A",long_page:"\u957F\u9875\u9762",outside_artboard:"\u753B\u5E03\u5916\u5185\u5BB9"}),(0,f.Z)((0,ae.Z)(e),"setElementRef",function(o){return e.$element=o}),(0,f.Z)((0,ae.Z)(e),"handleToggleDisplayMode",function(o){o.stopPropagation();var s=e.props,l=s.dispatch,p=s.isEmbedV2,v=o.currentTarget.dataset.value;l({type:"entry:preview-setting:update:simulatorType",payload:{simulatorType:v}}),_t(kb.ls[v]),p&&(0,C.U1)("embed_share_links_click",{operation_type:e.OPTION_TYPE[v]})}),(0,f.Z)((0,ae.Z)(e),"handleClickModeNav",function(o){o.stopPropagation(),e.handleToggleShow()}),(0,f.Z)((0,ae.Z)(e),"handleToggleShow",function(o){o===void 0&&(o=void 0);var s=e.state.isShowList,l=o===void 0?!s:o;e.setState({isShowList:l})}),(0,f.Z)((0,ae.Z)(e),"handleClickOutSide",function(o){var s=o.target,l=e.state.isShowList;l&&(s.closest(".modeNav")||s.closest(".display-mode-list")||e.handleToggleShow(!1))}),e.isDesign=(0,N.A)(location.pathname),e.isPreview=(0,N.G)(location.pathname),e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.simulatorType,l=o.isInspect,p=o.isShowOutsideArtboardNav,v=this.OPTION_LIST,M=this.state.isShowList;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(zn.Z,{content:"\u9884\u89C8\u6A21\u5F0F",direction:"right",children:(0,g.jsx)(Bb,{className:"nav modeNav",onClick:this.handleClickModeNav,children:(0,g.jsx)(Et.q,{name:"art_board/preview/"+s,className:"mode-icon "+s+"-icon"})})}),M&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Zb,{className:"display-mode-list",children:v.map(function(j){var Z=j.iconName,W=j.value,X=j.label,J=j.tooptipTitle;return l&&W==="device"||!p&&W==="outside_artboard"?null:(0,g.jsx)(ps.Z,{content:J,direction:"right",distance:8,maxWidth:"230px",children:(0,g.jsxs)("li",{className:ot()("option",{active:W===s}),"data-value":W,onClick:e.handleToggleDisplayMode,children:[(0,g.jsx)("div",{className:"option-icon-box",children:(0,g.jsx)(Et.q,{name:Z,className:W+"-icon"})}),(0,g.jsx)("p",{children:X})]})},W)})}),(0,g.jsx)(Wn.ZP,{target:document,onMouseDown:(0,Wn.Yc)(this.handleClickOutSide,{capture:!0})})]})]})}}]),t}(h.PureComponent),Fb=ze.default.div.withConfig({displayName:"styles__StyledSettingList",componentId:"sc-1dhrmnk-0"})(["pointer-events:auto;position:absolute;top:16px;left:16px;.svg-icon{width:24px;height:24px;path{fill:currentColor;}}.nav-button{width:32px;height:36px;display:flex;justify-content:center;align-items:center;background:",";cursor:pointer;transition:background-color 0.2s ease-out;.svg-icon{color:",";}&:not(.disabled):not(.active):hover{background-color:",";}&.active{background:",";.svg-icon{color:#fff;}}&.disabled{opacity:0.4;cursor:not-allowed;}}.wrapper{background:",";box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),0 12px 40px 0 rgba(39,54,78,0.1);.nav{&:first-child{border-radius:2px 2px 0 0;}&:last-child{border-radius:0 0 2px 2px;}}.wrapper-padding{width:20px;height:1px;background:#dbdbdb;margin:4px 6px;}}.wrapper-top{margin-bottom:8px;border-radius:2px;}.shell-ellipsis{height:18px;display:flex;justify-content:center;align-items:center;pointer-events:none;.svg-icon{color:#5b6b73;}}.shell-button{box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),0 12px 40px 0 rgba(39,54,78,0.1);border-radius:2px;}"],function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_background_white}),Ub=c(3954),Hb=(0,Pe.V)(function(){var a={"zh-CN":{android:{customize:I18N.pMainContent.customize},web:{desktop:I18N.pMainContent.desktop,smart_tv:I18N.pMainContent.smart_tv},smart_car:{car_play:I18N.pMainContent.car_play},customize:{customize:I18N.pMainContent.customize}},en:{android:{customize:"Customize"}}};return a}),Wb={name:"customize"},Mp=function(i){var t=i.device,n=i.model,e=window.MBLocale==="en"?"en":"zh-CN",o=Yi()(Ub,[t,n],Wb);return Yi()(Hb(),[e,t,n],o.name)},Pp=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleToggleHighlight",function(){n.props.dispatch({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:!n.props.isHighlight}}),_t("\u94FE\u63A5\u9AD8\u4EAE-"+(n.props.isHighlight?"\u5F00":"\u5173"))}),(0,f.Z)((0,ae.Z)(n),"handleToggleStatePanel",function(){n.props.dispatch({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!n.props.isStatePanelShow}}),_t("\u72B6\u6001\u9762\u677F-"+(n.props.isStatePanelShow?"\u5F00":"\u5173"))}),(0,f.Z)((0,ae.Z)(n),"handleToggleSticky",function(){n.props.dispatch({type:"entry:preview-setting:update:is-sticky-show",payload:{isStickyShow:!n.props.isStickyShow}}),n.props.dispatch({type:"reducer:toggle:annotatePanelShow"}),_t("\u6279\u6CE8-"+(n.props.isStickyShow?"\u5F00":"\u5173"))}),(0,f.Z)((0,ae.Z)(n),"handleToggleShellType",function(){var l=n.props,p=l.isShowShell,v=l.dispatch,M=!p;v({type:"entry:preview-setting:update:show:shell",payload:{isShowShell:M}}),_t("\u771F\u673A-"+(M?"\u7F51\u9875":"\u9690\u85CF\u8FB9\u6846"))}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.project,s=e.isHighlight,l=e.isStatePanelShow,p=e.isStickyShow,v=e.isPreview,M=e.isInspect,j=e.isComment,Z=e.isFullScreenMode,W=e.isStickyAvailable,X=e.isShowOutsideArtboardNav,J=e.isShowShell,_=e.simulatorType,te=e.isVersionEmbedded,ne=e.dispatch;if(j||Z)return null;var ie=_==="device";return(0,g.jsxs)(Fb,{id:"preview-setting-list",children:[(0,g.jsx)(zn.Z,{content:I18N.pMainContent.statePanel,direction:"right",children:(0,g.jsx)("a",{className:ot()("nav","nav-button","wrapper","wrapper-top",{active:l}),onClick:this.handleToggleStatePanel,children:(0,g.jsx)(Et.q,{name:"art_board/state",style:{fontSize:"24px"}})})}),!te&&(0,g.jsxs)("div",{className:"wrapper",children:[v&&(0,g.jsx)(zn.Z,{content:I18N.pMainContent.highlight_clickable,direction:"right",children:(0,g.jsx)("a",{className:ot()("nav","nav-button",{active:s}),onClick:this.handleToggleHighlight,children:(0,g.jsx)(Et.q,{name:"art_board/preview/highlight"})})}),(v||M)&&W&&(0,g.jsx)(zn.Z,{content:I18N.pMainContent.sticky_visible,direction:"right",children:(0,g.jsx)("a",{className:ot()("nav","nav-button",{active:p}),onClick:this.handleToggleSticky,children:(0,g.jsx)(Et.q,{name:"art_board/preview/sticky"})})}),(0,g.jsx)("div",{className:"wrapper-padding"}),(0,g.jsx)(Ap,{isInspect:M,simulatorType:_,isShowOutsideArtboardNav:X,dispatch:ne})]}),ie&&(0,g.jsx)("div",{className:"shell-ellipsis",children:(0,g.jsx)(Et.q,{name:"preview/shell/ellipsis",style:{width:4,height:10}})}),ie&&(0,g.jsx)(zn.Z,{content:J?""+Mp(o):I18N.pMainContent.hide_border,direction:"right",children:(0,g.jsx)("a",{className:ot()("nav","shell-button","nav-button",{active:J}),onClick:this.handleToggleShellType,children:J?(0,g.jsx)(Et.q,{name:"art_board/shell/open"}):(0,g.jsx)(Et.q,{name:"art_board/shell/close"})})})]})}}]),t}(h.PureComponent);(0,f.Z)(Pp,"propTypes",{isHighlight:u().bool,isStatePanelShow:u().bool,isPreview:u().bool,isInspect:u().bool,isComment:u().bool,isFullScreenMode:u().bool,isStickyShow:u().bool,isStickyAvailable:u().bool,isShowOutsideArtboardNav:u().bool,isVersionEmbedded:u().bool,simulatorType:u().string,project:u().object,isShowShell:u().bool,dispatch:u().func});var zb=function(i){return i.container.previewSetting.isShowOutsideArtboardNav},$b=function(i){return i.container.previewSetting.isStickyAvailable},Gb=(0,an.P1)([re.vo,re.Bi,re.EZ,$b,re.d9,re.Ds,re.XL,re.HR,zb,re.XA,re.ki],function(a,i,t,n,e,o,s,l,p,v,M){var j=Sn.c6===o,Z=Sn.nh===o,W=Sn.Ab===o;return{project:a,isHighlight:i,isStickyShow:t,isStickyAvailable:n,isStatePanelShow:e,isPreview:j,isInspect:Z,isComment:W,isFullScreenMode:s,simulatorType:l,isShowOutsideArtboardNav:p,isVersionEmbedded:v,isShowShell:M}}),Vb=(0,U.connect)(function(a){return Gb(a)})(Pp),Kb=c(38634),Tp=(0,ze.default)(Kb.Z).withConfig({displayName:"styles__StyledStatePanel",componentId:"sc-urnbrm-0"})(["position:absolute;top:16px;left:60px;width:220px;height:196px;display:flex;flex-direction:column;pointer-events:auto;.state-list-box{display:flex;}.list-index{flex-shrink:0;width:32px;height:32px;line-height:32px;text-align:center;color:",";font-weight:600;}&:lang(ja){width:270px;}&.is-open-by-modal{left:16px;& > header{.svg-icon{display:none;}}}& > header{border-bottom:1px solid ",";padding-left:10px;padding-right:16px;height:36px;.title{max-width:160px;",";&:lang(ja){max-width:250px;}}p{font-weight:600;}.svg-icon{color:",";cursor:pointer;&:hover{color:",";}}}& > div{flex:1;overflow-x:hidden;overflow-y:auto;margin-top:8px;}"],function(a){return a.theme.color_text_L1},function(a){return a.theme.color_background_split},ka,function(a){return a.theme.color_text_L3},function(a){return a.theme.color_text_L2}),Ip=ze.default.li.withConfig({displayName:"styles__StyledStateItem",componentId:"sc-urnbrm-1"})(["",";",";flex-grow:1;.actions{padding:0 10px;}"],fs,ka),Op=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleActivate",function(l){var p=n.props,v=p.screenCid,M=p.dispatch;M({type:"entry:runner:activate:screen-state",payload:{screenCid:v,stateCid:l.cid}}),_t("\u72B6\u6001\u9009\u62E9")}),(0,f.Z)((0,ae.Z)(n),"handleCloseStatePanel",function(){n.props.dispatch({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!1}})}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.isOpenByModal,l=o.screenMeta,p=o.screenStateCid,v=o.screenStateList;return(0,g.jsxs)(Tp,{className:ot()({"is-open-by-modal":s}),children:[(0,g.jsxs)("header",{children:[(0,g.jsx)("p",{className:"title",children:l.name+" - "+I18N.pMainContent.screenstate}),(0,g.jsx)(Et.q,{className:"times-icon",name:"general/times",onClick:this.handleCloseStatePanel})]}),(0,g.jsx)("div",{children:(0,g.jsx)("ul",{children:v.map(function(M,j){return(0,g.jsxs)("div",{className:"state-list-box",children:[(0,g.jsx)("span",{className:"list-index",children:j+1}),(0,g.jsx)(Dp,{screenState:M,isActive:M.cid===p,onClick:e.handleActivate})]},M.cid)})})})]})}}]),t}(h.PureComponent);(0,f.Z)(Op,"propTypes",{isOpenByModal:u().bool,screenCid:u().string,screenMeta:u().object,screenStateCid:u().string,screenStateList:u().array,dispatch:u().func});var Dp=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleClick",function(){var l=n.props,p=l.screenState,v=l.isActive,M=l.onClick;v||M(p)}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.screenState,s=e.isActive;return(0,g.jsx)(Ip,{className:ot()({"is-active":s}),onClick:this.handleClick,children:o.name})}}]),t}(h.PureComponent);(0,f.Z)(Dp,"propTypes",{screenState:u().object,isActive:u().bool,onClick:u().func});var Lp=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleActivate",function(l){var p=n.props.dispatch;p({type:"entry:runner:activate:screen",payload:{screenCid:l.cid}})}),(0,f.Z)((0,ae.Z)(n),"handleCloseStatePanel",function(){n.props.dispatch({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!1}})}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.isOpenByModal,l=o.screenMeta,p=o.screenCid,v=o.screenStateList;return(0,g.jsxs)(Tp,{className:ot()({"is-open-by-modal":s}),children:[(0,g.jsxs)("header",{children:[(0,g.jsx)("p",{className:"title",children:l.name+" - "+I18N.pMainContent.screenstate}),(0,g.jsx)(Et.q,{className:"times-icon",name:"general/times",onClick:this.handleCloseStatePanel})]}),(0,g.jsx)("div",{children:(0,g.jsx)("ul",{children:v.map(function(M){return(0,g.jsx)(Np,{screenState:M,isActive:M.cid===p,onClick:e.handleActivate},M.cid)})})})]})}}]),t}(h.PureComponent);(0,f.Z)(Lp,"propTypes",{isOpenByModal:u().bool,screenCid:u().string,screenMeta:u().object,screenStateList:u().array,dispatch:u().func});var Np=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleClick",function(){var l=n.props,p=l.screenState,v=l.isActive,M=l.onClick;v||M(p)}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.screenState,s=e.isActive;return(0,g.jsx)(Ip,{className:ot()({"is-active":s}),onClick:this.handleClick,children:o.name})}}]),t}(h.PureComponent);(0,f.Z)(Np,"propTypes",{screenState:u().object,isActive:u().bool,onClick:u().func});var Yb=c(83223),Rp=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isShow,s=e.isOpenByModal,l=e.screenMeta,p=e.screenStateCid,v=e.isBaseOnState,M=e.dataMap,j=e.screenCid,Z=e.screenGlue,W=e.dispatch;if(!o)return null;var X=v?Object.values(M).sort(function(J,_){return J.position-_.position}):(0,Yb.o)(Z.project_meta_cid,Z.cid);return(0,g.jsx)(g.Fragment,{children:v?(0,g.jsx)(Op,{isOpenByModal:s,screenStateList:X,screenMeta:l,screenStateCid:p,screenCid:j,dispatch:W}):(0,g.jsx)(Lp,{isOpenByModal:s,screenStateList:X,screenMeta:l,screenCid:j,dispatch:W})})}}]),t}(h.PureComponent);(0,f.Z)(Rp,"propTypes",{isShow:u().bool,isBaseOnState:u().bool,isOpenByModal:u().bool,screenCid:u().string,screenStateCid:u().string,screenMeta:u().object,dataMap:u().object,screenGlue:u().object,dispatch:u().func});var Xb=(0,an.P1)([re.v8,re.ku,re.d9,re.Uq,re.Ds,re.XL],function(a,i,t,n,e,o){var s=!a,l=n.activeCid,p=n.screenInfoMap,v=p[l];if(!v)return{isShow:!1};var M=v.screenMeta,j=v.stateCid,Z=v.screenRuntimeState.dataMap,W=i.multi_states||i.type==="project-main",X=e===Sn.Ab;return{isShow:s||(X||o?!1:t),isOpenByModal:s,screenMeta:M,screenCid:l,screenStateCid:j,dataMap:Z,isBaseOnState:W,screenGlue:i}}),jp=(0,U.connect)(function(a){return Xb(a)})(Rp),Qb=(0,ze.css)(["display:flex;justify-content:center;align-items:center;"]),bM=ze.default.div.withConfig({displayName:"style__Divider",componentId:"sc-jvoonv-0"})(["margin:4px 0;border-top:1px solid #454546;"]),Jb=ze.default.div.withConfig({displayName:"styles__StyledFullScreenMode",componentId:"sc-1kswtxx-0"})(["&{position:relative;",";border-radius:4px;transition:all 0.2s ease-in-out;cursor:pointer;}.fullscreen{position:relative;display:flex;justify-content:center;height:32px;width:32px;.svg-icon{width:32px;height:32px;}}&:hover&:not(.active){background-color:",";}&.active{background-color:",";}"],Qb,function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_background_icon_active}),ro=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleFullScreen",(0,d.Z)((0,r.Z)().mark(function l(){var p,v,M,j;return(0,r.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(p=n.props,v=p.isFullScreenMode,M=p.dispatch,j=p.isEmbedV2,!v){W.next=8;break}return W.next=4,fa.exit();case 4:M({type:"entry:exit:fill-screen-mode"}),j&&(0,C.U1)("embed_share_links_click",{operation_type:"\u53D6\u6D88\u5168\u5C4F"}),W.next=11;break;case 8:M({type:"entry:enter:full-screen-mode"}),_t("\u5168\u5C4F"),j&&(0,C.U1)("embed_share_links_click",{operation_type:"\u5168\u5C4F"});case 11:case"end":return W.stop()}},l)}))),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props.isFullScreenMode,o=e?"design/collapse_screen":"design/fullscreen";return(0,g.jsx)(Jb,{children:(0,g.jsx)(zn.Z,{direction:"down",content:I18N.pPreviewToolbar.fullscreen,children:(0,g.jsx)("div",{className:"fullscreen-wrapper",children:(0,g.jsx)("div",{className:"fullscreen",onClick:this.handleFullScreen,children:(0,g.jsx)(Et.q,{name:o})})})})})}}]),t}(h.PureComponent);(0,f.Z)(ro,"propTypes",{dispatch:u().func,isFullScreenMode:u().bool,isEmbedV2:u().bool}),(0,f.Z)(ro,"defaultProps",{isFullScreenMode:!1});var _b=ze.default.div.withConfig({displayName:"styles__StyledZoomOptionBar",componentId:"sc-1mvnhs3-0"})(["position:absolute;height:32px;border-radius:4px;display:flex;flex-direction:row;background:#fff;bottom:16px;right:","px;pointer-events:auto;align-items:center;padding:4px 8px;box-shadow:0 2px 6px rgba(39,54,78,0.08);transition:right 0.2s ease-in-out;.fullscreen{width:24px;height:24px;align-items:center;.svg-icon{transform:scale(1.3);width:32px;height:32px;}}span.divider{margin-left:8px;height:20px;border-right:1px solid #e5e5e5;}.zoom-control{&.zoom-out{margin-left:8px;}&.disabled{svg{path{stroke:#ccc;}}}}button.zoom-options-panel-toggle{width:47px;height:28px;border-radius:4px;margin:0 4px;text-align:center;&:hover{background-color:",";}}"],function(a){return a.zoomOptionBarRight},function(a){return a.theme.color_background_icon_hover}),qb=c(11762),ex=ze.default.div.withConfig({displayName:"styles__CSSDesignZoomBoxDiv",componentId:"sc-370cxy-0"})(["position:relative;width:64px;height:32px;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;border-radius:4px;transition:all 0.2s ease-out;.zoom-main{width:100%;height:100%;display:flex;align-items:center;justify-content:center;}.zoom-box{display:flex;align-items:center;line-height:16px;height:16px;font-size:14px;color:",";.zoom-arrow{width:7px;transform:translateY(-1px);margin-left:8px;}}.zoom-tip{margin-top:8px;color:#415058;height:12px;line-height:12px;font-size:12px;}&:hover{background:",";}&.active,&:active{background-color:",";}"],function(a){return a.theme.color_text_L1},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_background_icon_active}),tx=ze.default.div.withConfig({displayName:"styles__StyledZoomOptionsPanel",componentId:"sc-370cxy-1"})(["position:absolute;padding:4px 0;",":100%;right:0;border-radius:4px;min-width:160px;font-size:12px;background:#333;box-shadow:0 6px 16px -8px rgba(0,0,0,0.08),0 9px 28px 0 rgba(0,0,0,0.05);border:1px solid #454647;.zoom-input-number-wrap{height:38px;display:flex;align-items:center;justify-content:center;.zoom-input{width:124px;border-color:#1684fc;input,.suffix{color:#f2f4f5;}}}.divider{margin:4px 0;border-top:1px solid #454546;}.zoom-item{display:flex;align-items:center;justify-content:space-between;height:32px;padding:0 16px 0 30px;color:#f2f4f5;transition:all 0.2s ease-out;.zoom-text{position:relative;}.kbd-size{white-space:nowrap;margin-left:auto;kbd{color:#999;display:inline-block;text-align:center;min-width:12px;margin-right:2px;}kbd:first-child{margin-left:0;}.kbd:last-child{margin-right:0;}}&:not(.is-disabled):hover{background:#666;}&.is-disabled{cursor:not-allowed;color:#c8cdd0;}.zoom-select{position:absolute;left:-22px;top:3px;color:#fff;}}&.mac .others,&.others .mac{display:none;}"],function(a){return a.positon==="top"?"top":"bottom"}),Vs=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"handleToggleZoomContentShow",function(o){o.stopPropagation(),e.setState({isZoomContentShow:!e.state.isZoomContentShow})}),(0,f.Z)((0,ae.Z)(e),"handleZoomIn",function(o){o.stopPropagation();var s=e.props.onZoomIn;s()}),(0,f.Z)((0,ae.Z)(e),"handleZoomOut",function(o){o.stopPropagation();var s=e.props.onZoomOut;s()}),(0,f.Z)((0,ae.Z)(e),"onClickOutside",function(o){var s=o.target,l=e.state.isZoomContentShow;if(l){var p=!e.$element.contains(s);p&&e.setState({isZoomContentShow:!1})}}),e.state={isZoomContentShow:!1},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.scale,l=o.onZoomInitialScale,p=o.onZoomSpecifiedScale,v=o.onZoomSelection,M=o.isShowZoomSelection,j=this.state.isZoomContentShow,Z=On.zt.indexOf(s),W=Z!==On.zt.length-1,X=Z!==0;return(0,g.jsxs)(ex,{onClick:this.handleToggleZoomContentShow,className:ot()({active:j}),children:[(0,g.jsx)(zn.Z,{content:"\u7F29\u653E",direction:"down",distance:8,children:(0,g.jsx)("div",{className:"zoom-main",children:(0,g.jsxs)("div",{className:"zoom-box",children:[(0,g.jsx)("p",{className:"zoom-scale",children:Math.round(s)+"%"}),(0,g.jsx)(Et.q,{className:"zoom-arrow",name:"toolbar/triangle-down"})]})})}),(0,g.jsx)(Ks,{position:"top",scale:s,minScale:On.vL,maxScale:On.Fv,canZoomIn:W,handleZoomIn:this.handleZoomIn,canZoomOut:X,handleZoomOut:this.handleZoomOut,onZoomInitialScale:l,onZoomSpecifiedScale:p,onZoomSelection:v,isShowZoomSelection:M,onClickOutside:this.onClickOutside,isZoomOptionPanelVisible:j,setIsZoomOptionPanelVisible:function(_){return e.setState({isZoomContentShow:_})}})]})}}]),t}(h.PureComponent);(0,f.Z)(Vs,"propTypes",{scale:u().number,isShowZoomSelection:u().bool,onZoomSpecifiedScale:u().func,onZoomIn:u().func,onZoomOut:u().func,onZoomInitialScale:u().func,onZoomSelection:u().func}),(0,f.Z)(Vs,"defaultProps",{isShowZoomSelection:!0});var Ks=function(i){var t=i.position,n=i.scale,e=i.minScale,o=i.maxScale,s=i.canZoomIn,l=i.handleZoomIn,p=i.canZoomOut,v=i.handleZoomOut,M=i.onZoomInitialScale,j=i.onZoomSpecifiedScale,Z=i.onZoomSelection,W=i.isShowZoomSelection,X=i.isZoomOptionPanelVisible,J=i.setIsZoomOptionPanelVisible,_=(0,gn.V5)()?"mac":"others",te=(0,h.useRef)(null),ne=function(Se){var Te=Se.target;if(X){var Le;(Le=te.current)!=null&&Le.contains(Te)||J(!1)}},ie=function(Se){Se.stopPropagation();var Te=Se.currentTarget.dataset.value;j(Te)};return X&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(tx,{className:ot()(_),positon:t,ref:te,children:[(0,g.jsx)("div",{className:"zoom-input-number-wrap",onClick:function(Se){return Se.stopPropagation()},children:(0,g.jsx)(qb.Z,{className:"zoom-input",min:e,max:o,precision:0,suffix:"%",actionButton:!1,value:Math.round(n),isSelect:!0,onConfirm:j})}),(0,g.jsx)("div",{className:"divider"}),(0,g.jsxs)("div",{className:ot()("zoom-item",{"is-disabled":!s}),onClick:l,children:[(0,g.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.zoomin}),(0,g.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:kr[_].zoomIn}}),(0,g.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:kr[_].zoomIn}})]}),(0,g.jsxs)("div",{className:ot()("zoom-item",{"is-disabled":!p}),onClick:v,children:[(0,g.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.zoomout}),(0,g.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:kr[_].zoomOut}}),(0,g.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:kr[_].zoomOut}})]}),(0,g.jsx)("div",{className:"divider"}),(0,g.jsx)("div",{className:"zoom-item","data-value":50,onClick:ie,children:(0,g.jsxs)("p",{className:"zoom-text",children:[Math.round(n)===50&&(0,g.jsx)(Et.q,{className:"zoom-select",name:"library/select/new"}),"50%"]})}),(0,g.jsxs)("div",{className:"zoom-item","data-value":100,onClick:ie,children:[(0,g.jsxs)("p",{className:"zoom-text",children:[Math.round(n)===100&&(0,g.jsx)(Et.q,{className:"zoom-select",name:"library/select/new"}),"100%"]}),(0,g.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:kr[_].zoomReset}}),(0,g.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:kr[_].zoomReset}})]}),(0,g.jsx)("div",{className:"zoom-item","data-value":200,onClick:ie,children:(0,g.jsxs)("p",{className:"zoom-text",children:[Math.round(n)===200&&(0,g.jsx)(Et.q,{className:"zoom-select",name:"library/select/new"}),"200%"]})}),(0,g.jsx)("div",{className:"divider"}),(0,g.jsxs)("div",{className:"zoom-item",onClick:M,children:[(0,g.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.fit_canvas}),(0,g.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:kr[_].zoomFit}}),(0,g.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:kr[_].zoomFit}})]}),W&&(0,g.jsxs)("div",{className:"zoom-item",onClick:Z,children:[(0,g.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.zoom_selection}),(0,g.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:kr[_].zoomSelect}}),(0,g.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:kr[_].zoomSelect}})]})]}),(0,g.jsx)(Wn.ZP,{target:document,onClick:ne})]})};Ks.propTypes={position:u().string,scale:u().number,minScale:u().number,maxScale:u().number,canZoomIn:u().bool,handleZoomIn:u().func,canZoomOut:u().bool,handleZoomOut:u().func,onZoomInitialScale:u().func,onZoomSpecifiedScale:u().func,onZoomSelection:u().func,isShowZoomSelection:u().bool,isZoomOptionPanelVisible:u().bool,setIsZoomOptionPanelVisible:u().func};var kr={mac:{zoomOut:"<kbd>\u2318</kbd><kbd>-</kbd>",zoomIn:"<kbd>\u2318</kbd><kbd>+</kbd>",zoomReset:"<kbd>\u2318</kbd><kbd>0</kbd>",zoomFit:"<kbd>\u2318</kbd><kbd>1</kbd>",zoomSelect:"<kbd>\u2318</kbd><kbd>2</kbd>"},others:{zoomOut:"<kbd>Ctrl</kbd><kbd>-</kbd>",zoomIn:"<kbd>Ctrl</kbd><kbd>+</kbd>",zoomReset:"<kbd>Ctrl</kbd><kbd>0</kbd>",zoomFit:"<kbd>Ctrl</kbd><kbd>1</kbd>",zoomSelect:"<kbd>Ctrl</kbd><kbd>2</kbd>"}},nx=function(i){var t=i.scale,n=i.dispatch,e=i.isFullScreenMode,o=i.isEmbedV2,s=i.zoomOptionBarRight,l=s===void 0?16:s,p=(0,h.useState)(!1),v=(0,F.Z)(p,2),M=v[0],j=v[1],Z=function(){n({type:"entry:preview:zoom-in"}),o&&(0,C.U1)("embed_share_links_click",{operation_type:"\u7F29\u653E"})},W=function(){n({type:"entry:preview:zoom-out"}),o&&(0,C.U1)("embed_share_links_click",{operation_type:"\u7F29\u653E"})},X=function(se){n({type:"entry:preview:set:scale",payload:{scale:se}})},J=function(){n({type:"entry:auto-fit:preview:scale"}),n({type:"entry:preview:reset:canvas:offset"})},_=On.zt.indexOf(t),te=_!==On.zt.length-1,ne=_!==0;return(0,g.jsxs)(_b,{id:"zoom-option-bar",zoomOptionBarRight:l,children:[(0,g.jsx)(ro,{dispatch:n,isFullScreenMode:e,isEmbedV2:o}),(0,g.jsx)("span",{className:"divider"}),(0,g.jsx)(ma.Z,{className:ot()("zoom-control zoom-out",{disabled:!ne}),onClick:W,name:"common/minus_bold"}),(0,g.jsx)("button",{className:"zoom-options-panel-toggle",onClick:function(){return j(!M)},children:Math.round(t)+"%"}),(0,g.jsx)(Ks,{position:"bottom",scale:t,minScale:On.vL,maxScale:On.Fv,canZoomIn:te,handleZoomIn:Z,canZoomOut:ne,handleZoomOut:W,onZoomInitialScale:J,onZoomSpecifiedScale:X,isZoomOptionPanelVisible:M,setIsZoomOptionPanelVisible:j}),(0,g.jsx)(ma.Z,{className:ot()("zoom-control zoom-in",{disabled:!te}),onClick:Z,name:"common/add_bold"})]})},rx=(0,an.P1)([re.z7,re.XL],function(a,i){return{scale:a,isFullScreenMode:i}}),kp=(0,U.connect)(function(a){return rx(a)})(nx),ax=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleToggleAnnotatePanel",function(){var l=n.props.dispatch;l({type:"reducer:toggle:annotatePanelShow"}),_t("\u6253\u5F00\u6C34\u6EF4\u6279\u6CE8\u9762\u677F")}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props.annotateBtnShow;return e?(0,g.jsx)(ma.Z,{name:"toolbar/annotate",className:"annotateBtn",onClick:this.handleToggleAnnotatePanel}):null}}]),t}(h.PureComponent),Fa=c(33038),ix=ze.default.div.withConfig({displayName:"styles__StyledTopRightBtns",componentId:"sc-1ojor8j-0"})(["position:absolute;top:16px;right:","px;display:flex;align-items:center;transition:right 0.2s ease-in-out;.annotateBtn{width:32px;height:32px;background:",";box-shadow:",";border-radius:4px 0 0 4px;pointer-events:auto;&:hover{background-color:",";}.svg-icon{width:32px;height:32px;path{fill:",";}}}"],function(a){return a.topBtnRight||0},function(a){return a.theme.color_background_white},function(a){return a.theme.annotate_btn_shadow},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_text_L1}),ox=ze.default.div.withConfig({displayName:"styles__StyledResetButton",componentId:"sc-1ojor8j-1"})(["min-width:92px;padding:0 8px;height:32px;font-size:","px;white-space:nowrap;background:",";border-radius:4px;cursor:pointer;box-shadow:0 2px 5px 0 rgba(39,54,78,0.08);display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;transition:opacity 0.2s ease-in-out;color:",";margin-right:12px;&:hover{background:",";color:",";}&.is-show{pointer-events:auto;opacity:1;}"],(0,Fa.xM)()?14:12,function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_text_L2}),Bp=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleBackToOrigin",function(){n.props.dispatch({type:"entry:preview:reset:canvas:offset"}),_t("\u70B9\u6211\u56DE\u539F\u70B9")}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isShowResetButton,s=e.annotateBtnShow,l=e.topBtnRight,p=e.isDisplaced,v=e.dispatch;return(0,g.jsxs)(ix,{topBtnRight:l,children:[o&&(0,g.jsx)(ox,{className:ot()({"is-show":p}),onClick:this.handleBackToOrigin,children:I18N.pMainContent.click_to_origin}),(0,g.jsx)(ax,{annotateBtnShow:s,dispatch:v})]})}}]),t}(h.PureComponent),sx=ze.default.div.withConfig({displayName:"styles__StyledMainContent",componentId:"sc-1uqspbl-0"})(["flex:1;position:relative;width:100%;height:100%;pointer-events:none;"]),Zp=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleResize",function(){var l=document.querySelector("#preview_scrollBar_viewport"),p=l.getBoundingClientRect(),v=p.width,M=p.height,j=p.left,Z=p.top;n.props.dispatch({type:"preview:scrollbar:viewport",payload:{width:v,height:M,left:j,top:Z}})}),n}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.handleResize()}},{key:"render",value:function(){var e=this.props,o=e.mode,s=e.isDisplaced,l=e.isProjectMain,p=e.annotateBtnShow,v=e.topBtnRight,M=e.zoomOptionBarRight,j=e.currentUser,Z=e.isFullScreenMode,W=e.dispatch,X=o===Sn.nh;return(0,g.jsxs)(sx,{id:"preview_scrollBar_viewport",children:[X&&(0,g.jsx)(Db,{}),(0,g.jsx)(Bp,{isShowResetButton:!0,annotateBtnShow:p,topBtnRight:v,isDisplaced:s,dispatch:W}),(0,g.jsx)(jp,{}),l&&(0,g.jsx)(Vb,{}),(0,g.jsx)(jb,{}),(!(j!=null&&j.id)||Z)&&(0,g.jsx)(kp,{zoomOptionBarRight:M}),(0,g.jsx)(hs,{onResize:this.handleResize})]})}}]),t}(h.PureComponent);(0,f.Z)(Zp,"propTypes",{mode:u().string,isDisplaced:u().bool,isProjectMain:u().bool,annotateBtnShow:u().bool,topBtnRight:u().number,zoomOptionBarRight:u().number,currentUser:u().object,isFullScreenMode:u().bool,dispatch:u().func});var lx=(0,an.P1)([re.Ds,re.os,re.v8,re.H9,re.Dx,re.JH,re.EZ,re.oD,re.ts,re.kc],function(a,i,t,n,e,o,s,l,p,v){var M=o.annotateSortList,j=o.show,Z=v.isFullScreenMode,W=!(i.x===n.x&&i.y===n.y),X=a===Sn.c6&&!e&&M.length>0&&s,J=Z?100:j?l+15:0,_=j?l+16:16;return{mode:a,isDisplaced:W,isProjectMain:t,annotateBtnShow:X,topBtnRight:J,zoomOptionBarRight:_,currentUser:p,isFullScreenMode:Z}}),Fp=(0,U.connect)(function(a){return lx(a)})(Zp),cx=c(88662),ao=c(33258),ux=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleDoubleClick",function(l){l.stopPropagation(),n.props.onQuitEdit()}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.scale,s=e.viewportRect,l=e.activePanel,p=e.canvasRect,v=e.currentScreen,M=e.theme;if(!l)return null;var j=v.width,Z=v.height,W=v.bgcolor,X=l.top,J=l.left,_=p.canvasTop,te=p.canvasLeft,ne=o/100,ie=te-s.left+J*ne,se=_-s.top+X*ne,Se={x:ie,y:se,height:Z*ne,width:j*ne},Te={position:"absolute",left:s.left-te,top:s.top-_,width:s.width,height:s.height,pointerEvents:"auto"},Le=M==="dark"?"rgba(141,158,167,.4)":"rgba(31,41,46,.3)";return(0,g.jsxs)("svg",{style:Te,onDoubleClick:this.handleDoubleClick,children:[(0,g.jsxs)("defs",{children:[(0,g.jsx)(dx,{size:5}),(0,g.jsxs)("mask",{id:"mask",x:"0",y:"0",children:[(0,g.jsx)("rect",{width:"100%",height:"100%",fill:"white"}),(0,g.jsx)("rect",(0,L.Z)((0,L.Z)({},Se),{},{fill:"black"}))]})]}),(0,g.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:Le,mask:"url(#mask)"}),(0,g.jsxs)("g",{transform:"translate("+Se.x+" "+Se.y+") scale("+ne+")",children:[(0,g.jsx)("rect",{id:"panel-edit-canvas",width:j,height:Z,display:"inline",fill:"url(#transparent)",style:{opacity:.5}}),(0,g.jsx)("rect",{width:j,height:Z,fill:W})]})]})}}]),t}(h.PureComponent),dx=h.memo(function(i){var t=i.size;return(0,g.jsxs)("pattern",{x:"0",y:"0",width:""+t*2,height:""+t*2,patternUnits:"userSpaceOnUse",id:"transparent",viewBox:"0 -"+t*2+" "+t*2+" "+t*2,overflow:"visible",children:[(0,g.jsx)("polygon",{fill:"#FFFFFF",points:"0,-"+t*2+" "+t*2+",-"+t*2+" "+t*2+",0 0,0"}),(0,g.jsx)("polygon",{fill:"#F2F2F2",points:t+",-"+t+" 0,-"+t+" 0,-"+t*2+" "+t+",-"+t*2}),(0,g.jsx)("polygon",{fill:"#FFFFFF",points:t*2+",-"+t+" "+t+",-"+t+" "+t+",-"+t*2+" "+t*2+",-"+t*2}),(0,g.jsx)("polygon",{fill:"#F2F2F2",points:t+",0 "+t*2+",0 "+t*2+",-"+t+" "+t+",-"+t}),(0,g.jsx)("polygon",{fill:"#FFFFFF",points:"0,0 "+t+",0 "+t+",-"+t+" 0,-"+t})]})}),px=c(77506),fx=c(24064),Up=c(97453),hx=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"onMouseEnter",function(l){var p=n.props,v=p.type,M=p.layer,j=p.hasChildren,Z=p.requestEnterLayer;if(M.kind!==yr.MB_GROUP)if(v===yr.MB_SCREEN)Z(M.cid);else{if(j)return;l.stopPropagation(),Z(M.cid)}}),(0,f.Z)((0,ae.Z)(n),"onMouseLeave",function(){var l=n.props,p=l.layer,v=l.activeLayerID,M=l.requestEnterLayer;v!==-1&&p.kind!==yr.MB_GROUP&&M(-1)}),(0,f.Z)((0,ae.Z)(n),"setSelectedPanel",function(){var l=n.props,p=l.type,v=l.layer,M=l.treeData,j=l.layerWidgetStore,Z=l.dispatch,W=(0,Up.Ws)(M),X=!1,J=!1;if(W){var _,te,ne=j.getWidget(W);Z({type:"container:layer:set-selectedPanel",payload:{selectedPanel:ne}}),X=(ne==null||(_=ne.screenGlue)==null?void 0:_.type)==="project-template",J=(ne==null||(te=ne.screenGlue)==null?void 0:te.type)==="panel-template"}else Z({type:"entry:inspect:clear:panel:action"});lv(p,v,X,J)}),(0,f.Z)((0,ae.Z)(n),"handleClick",(0,d.Z)((0,r.Z)().mark(function l(p){var v,M,j,Z,W,X;return(0,r.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(v=n.props,M=v.type,j=v.layer,Z=v.hasChildren,W=v.requestSelectLayer,X=v.handleShowlayerInfo,j.kind!==yr.MB_GROUP){_.next=3;break}return _.abrupt("return");case 3:if(M!==yr.MB_SCREEN){_.next=8;break}W(j.cid),X(!0),_.next=14;break;case 8:if(!Z){_.next=10;break}return _.abrupt("return");case 10:p.stopPropagation(),W(j.cid),X(!0),n.setSelectedPanel();case 14:case"end":return _.stop()}},l)}))),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.type,s=e.layer,l=e.activeLayerID,p=e.enteredLayerID,v=e.disabledInspect,M=s.id,j=M===l,Z=M===p||p===-1,W=ot()("Layer",{"is-active":j,"is-focus":Z}),X=!["panel","group","screen_meta","screen"].includes(o)&&!v,J={pointerEvents:X?"auto":"none"};return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{"data-lid":M,style:J,className:W,onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})})}}]),t}(h.Component),vx=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.treeData,s=e.parentSize,l=e.treeProps,p=e.selectedPanel,v=e.isInspectInPanel,M=e.layerWidgetStore,j=e.dispatch,Z=o.cid,W=o.type,X=o.widget,J=o.children;if(X.v===!1)return null;var _=s.minX,te=s.minY,ne=s.maxX,ie=s.maxY,se=ne-_,Se=ie-te,Te=(0,fx.NW)(o),Le={left:(Te.minX-s.minX)/se*100+"%",top:(Te.minY-s.minY)/Se*100+"%",width:(Te.maxX-Te.minX)/se*100+"%",height:(Te.maxY-Te.minY)/Se*100+"%",transform:X.ro?"rotate("+X.ro+"deg)":"",zIndex:X.z};W===px.Jq.screenMeta&&(Le.left="0",Le.top="0");var ke=J&&J.length>0,nt=v?(0,Up.Ws)(o):"",it=p&&p.cid===Z;return(0,g.jsxs)("div",{"data-id":Z,className:ot()("layer-tree-node",{inPanel:v&&it,panelActive:v?!1:!v&&it,panel:W==="panel"}),style:Le,children:[(0,g.jsx)(hx,(0,L.Z)({dispatch:j,treeData:o,layer:X,type:W,hasChildren:ke,selectedPanel:p,layerWidgetStore:M,isInspectInPanel:v,disabledInspect:v&&nt!==p.cid},l)),ke&&J.map(function(ct){return(0,g.jsx)(t,{layerWidgetStore:M,treeData:ct,parentSize:Te,selectedPanel:p,isInspectInPanel:v,treeProps:l,dispatch:j},ct.cid)})]})}}]),t}(h.PureComponent),mx=ze.default.div.withConfig({displayName:"styles__StyledLayerList",componentId:"sc-8f6czt-0"})(["&.LayerList{z-index:1;pointer-events:none;.layer-tree-node{position:absolute;&.panel{overflow:hidden;}&.panelActive{border:1px dashed #FF9000;}&.inPanel{overflow:unset;}}.Layer{position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;&.is-active{}&.is-active.is-focus{}}&.hiddenLayer{.Layer{opacity:0;&:hover{opacity:1;}}}}"]),Hp=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"state",{ifHideLayer:!1}),(0,f.Z)((0,ae.Z)(n),"onMouseLeave",function(){typeof n.props.activeLayerID=="number"?n.props.requestEnterLayer("artboard-base"):n.props.requestEnterLayer(n.props.currentScreen.cid)}),n}return(0,S.Z)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var o=e.currentScreen,s=e.activeLayerID;s!==-1&&s?this.setState({ifHideLayer:!1}):this.setState({ifHideLayer:!0})}},{key:"render",value:function(){var e=this.props,o=e.isShowLayerList,s=e.isInspectInPanel,l=e.currentScreen,p=e.layerTreeData,v=e.ratio,M=e.activeLayerID,j=e.enteredLayerID,Z=e.requestEnterLayer,W=e.requestSelectLayer,X=e.handleShowlayerInfo,J=e.selectedPanel,_=e.layerWidgetStore,te=e.dispatch,ne=this.state.ifHideLayer,ie=gx(v,Z,M,j,W,X),se={minX:0,minY:0,maxX:l.width,maxY:l.height};return p?(0,g.jsx)(mx,{className:ot()("LayerList",{hiddenLayer:ne&&o}),onMouseLeave:this.onMouseLeave,children:(0,g.jsx)(vx,{layerWidgetStore:_,treeData:p,parentSize:se,treeProps:ie,selectedPanel:J,isInspectInPanel:s,dispatch:te})}):null}}]),t}(h.Component);(0,f.Z)(Hp,"propTypes",{isShowLayerList:u().bool,isInspectInPanel:u().bool,selectedPanel:u().object,currentScreen:u().object,layerTreeData:u().object,activeLayerID:u().oneOfType([u().number,u().string]),enteredLayerID:u().oneOfType([u().number,u().string]),ratio:u().number,layerWidgetStore:u().object,requestSelectLayer:u().func,requestEnterLayer:u().func,handleShowlayerInfo:u().func,dispatch:u().func});var gx=(0,Pt.LL)(function(a,i,t,n,e,o){return{ratio:a,requestEnterLayer:i,activeLayerID:t,enteredLayerID:n,requestSelectLayer:e,handleShowlayerInfo:o}}),yx=function(i){var t=i.container,n=t.layers,e=n.activeLayerID,o=n.enteredLayerID,s=t.previewSetting,l=s.ratio,p=s.isShowColorPicker,v=(0,re.CL)(i),M=Da(i),j=Cr(i),Z=Oa(i),W=ko(i);return{layerWidgetStore:W,isShowLayerList:!p,currentScreen:v,layerTreeData:M,activeLayerID:e,enteredLayerID:o,selectedPanel:j,isInspectInPanel:Z,ratio:l}},Sx=function(i){return{requestSelectLayer:function(n){i(Wv(n))},requestEnterLayer:function(n){i($v(n))},handleShowlayerInfo:function(n){i({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:n}})},dispatch:i}},bx=(0,U.connect)(yx,Sx)(Hp),Mn=c(51707),xx=c(10443),Wp=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"iamgeContainerRef",function(s){return e.image=s}),(0,f.Z)((0,ae.Z)(e),"getImageCanvasRef",function(s){return e.imageCanvas=s}),(0,f.Z)((0,ae.Z)(e),"glassCanvasRef",function(s){return e.glassCanvas=s}),(0,f.Z)((0,ae.Z)(e),"cancelColorPicker",function(s){e.imageCanvas.contains(s.target)||e.cancelPickerMode()}),(0,f.Z)((0,ae.Z)(e),"cancelPickerMode",function(){return e.props.onCancel()}),(0,f.Z)((0,ae.Z)(e),"renderImageCanvas",function(){var s=e.imageCanvas.getBoundingClientRect(),l=s.width,p=s.height;e.lastCanvasRect={width:l,height:p},e.imageCanvas.width=l,e.imageCanvas.height=p,e.imageCtx.drawImage(e.image,0,0,l,p)}),(0,f.Z)((0,ae.Z)(e),"calculateCenterPoint",function(s){var l=e.image.getBoundingClientRect(),p=l.left,v=l.top;e.centerPoint={centerX:Math.floor(s.clientX-p),centerY:Math.floor(s.clientY-v)}}),(0,f.Z)((0,ae.Z)(e),"handleMove",function(s){e.image.complete&&e.state.visibility===Mn.A1&&e.setState({visibility:Mn.hw}),e.calculateCenterPoint(s);var l=e.props,p=l.glassHeight,v=l.glassWidth,M=l.scale,j=e.centerPoint,Z=j.centerX,W=j.centerY,X=Math.floor(Z-v/2),J=Math.floor(W-p/2);e.setState({glassLeft:X,glassTop:J}),W<0&&e.clearGlassRect(),e.glassCtx.clearRect(0,0,v,p),M<1&&console.warn("Can't make the galss scale less than 1, It will make bed invision"),(0,Mn.FB)(e.glassCtx,!1),e.glassCtx.drawImage(e.imageCanvas,Math.floor(Z-v/2/e.finallyScale),Math.floor(W-p/2/e.finallyScale),Math.floor(v/e.finallyScale),Math.floor(p/e.finallyScale),-Mn.gY/2,-Mn.gY/2,v,p),(0,Mn.Kw)(e.glassCtx,Mn.A,Mn.gY,Mn.gY),(0,Mn.xE)(e.glassCtx),(0,Mn.pJ)(e.glassCtx,Mn.rP,Math.floor((v-Mn.gY)/2),Math.floor((p-Mn.gY)/2),Mn.gY,Mn.gY),e.getColor()}),(0,f.Z)((0,ae.Z)(e),"getColor",function(){var s=e.centerPoint,l=s.centerX,p=s.centerY,v=e.imageCtx.getImageData(l,p,1,1),M=v.data,j=(0,Mn.js)(M),Z=j.rgba,W=j.R,X=j.G,J=j.B;e.setState({color:Z,R:W,G:X,B:J}),e.color=Z}),(0,f.Z)((0,ae.Z)(e),"handleClick",function(){e.getColor();var s=e.color,l=(0,Pt.Ts)(s),p=l.history,v=l.focusColor;clearTimeout(e.timeoutToken),e.props.onUpdateColor({userPickColor:p,focusColor:v}),e.timeoutToken=setTimeout(function(){e.props.onUpdateColor({userPickColor:p,focusColor:null})},1e3)}),(0,f.Z)((0,ae.Z)(e),"clearGlassRect",function(){var s=e.props,l=s.glassHeight,p=s.glassWidth;e.glassCtx.clearRect(0,0,p,l),e.setState({visibility:Mn.A1})}),(0,f.Z)((0,ae.Z)(e),"handleMouseLeave",function(){e.clearGlassRect()}),(0,f.Z)((0,ae.Z)(e),"handleLoad",function(){e.renderImageCanvas()}),(0,f.Z)((0,ae.Z)(e),"handleError",function(){e.cancelPickerMode()});var o=e.props.scale;return e.finallyScale=Mn.gY*(o<1?1:o),e.state={visibility:Mn.A1,glassLeft:0,glassTop:0,color:Mn.Dp,R:0,G:0,B:0},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.imageCtx=this.imageCanvas.getContext("2d"),this.glassCtx=this.glassCanvas.getContext("2d")}},{key:"componentDidCatch",value:function(e){console.log(e),this.cancelPickerMode()}},{key:"componentDidUpdate",value:function(){if(!this.imageCanvas){this.handleError();return}var e=this.imageCanvas.getBoundingClientRect(),o=e.width,s=e.height,l=this.lastCanvasRect||{width:0,height:0},p=l.width,v=l.height;(p!==o||v!==s)&&(this.clearGlassRect(),this.renderImageCanvas())}},{key:"render",value:function(){var e=this.props,o=e.width,s=e.height,l=e.glassWidth,p=e.glassHeight,v=e.src,M=this.state,j=M.visibility,Z=M.glassLeft,W=M.glassTop,X=M.color,J=M.R,_=M.G,te=M.B;return(0,g.jsxs)(xx.u,{className:"mb-picker-container",children:[(0,g.jsx)("img",{ref:this.iamgeContainerRef,className:"mb-picker-image",width:o,height:s,src:v,onLoad:this.handleLoad,onError:this.handleError}),(0,g.jsx)("canvas",{ref:this.getImageCanvasRef,onMouseMove:this.handleMove,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick,style:{width:o,height:s,opacity:0}}),(0,g.jsxs)("div",{className:"mb-glass",style:{width:l,height:p,visibility:j,left:Z,top:W},children:[(0,g.jsx)("div",{className:"shadow"}),(0,g.jsx)("canvas",{ref:this.glassCanvasRef,width:l,height:p,style:{width:l,height:p}}),(0,g.jsx)("div",{style:{top:p/2+15},className:"mb-glass-text",children:(0,g.jsx)("div",{className:"mb-rgba-color",children:"R:"+J+" G:"+_+" B:"+te+" "+String((0,Mn.aK)(X).hex).toUpperCase()})})]}),(0,g.jsx)(Wn.ZP,{target:document,onClick:this.cancelColorPicker})]})}}]),t}(h.PureComponent);(0,f.Z)(Wp,"defaultProps",{src:"/sec3.png",width:1300,height:769,glassWidth:200,glassHeight:200,scale:1});var Cx=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleCancel",function(){n.props.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowColorPicker:!1}})}),(0,f.Z)((0,ae.Z)(n),"handleUpdateColor",function(l){var p=l.userPickColor,v=l.focusColor;n.props.dispatch({type:"reducer:preview-toolbar:update",payload:{userPickColor:p,focusColor:v}})}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.src,s=e.width,l=e.height,p=e.glassHeight,v=e.glassWidth,M=e.scale;return(0,g.jsx)(Wp,{src:o,width:s,height:l,glassHeight:p,glassWidth:v,scale:M,onCancel:this.handleCancel,onUpdateColor:this.handleUpdateColor})}}]),t}(h.PureComponent),wx=c(31583),Ex=(0,U.connect)(function(a){var i=(0,re.e4)(a),t=(0,re.Uq)(a),n=t.activeCid,e=t.screenInfoMap,o=e[n],s=o.screenMeta,l=o.stateCid,p=Mx(i.cid,s.cid,l);return{scale:1,width:"100%",height:"100%",src:""+p}})(Cx),Ax="/snapshot.png",Mx=function(i,t,n){return Ax+"?projectMetaCid="+i+"&screenMetaCid="+t+"&screenStateCid="+n+"&zoomMode="+wx.NI.ZOOM_100},Ua=c(79887),Px=function(i,t){var n=[],e=(0,Ua.G1)(i,t);if(e.width<i.width+t.width)n[0]=null;else{var o=e.width-(i.width+t.width),s=t.left>i.left;n[0]=s?o:-o}if(e.height<i.height+t.height)n[1]=null;else{var l=e.height-(i.height+t.height),p=t.top>i.top;n[1]=p?l:-l}return n},Tx=function(i,t){if((0,Ua.bj)(i,t))return{top:i.top-t.top,right:t.left+t.width-(i.left+i.width),bottom:t.top+t.height-(i.top+i.height),left:i.left-t.left};var n={},e=Px(i,t);return e[0]>0?n.right=e[0]:e[0]<0&&(n.left=Math.abs(e[0])),e[1]>0?n.bottom=e[1]:e[1]<0&&(n.top=Math.abs(e[1])),n},Sa=function(i){return i*100+"%"},Ix=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"getDistanceMarksStyle",function(l){var p=n.props.ratio;return{width:l.width*p,height:l.height*p,left:l.left*p,top:l.top*p}}),(0,f.Z)((0,ae.Z)(n),"mapDistanceMarks",function(l,p){var v=(0,F.Z)(l,2),M=v[0],j=v[1],Z=n.props,W=Z.style,X=Z.renderValue,J=W.showStartAndEndBoundary,_=W.colorForLines,te=W.colorForText,ne=W.backgroundColorForText,ie=W.dashed,se=n.getMarkStyle(M,j),Se=Math.abs(j);return(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"distance-line "+M,style:(0,L.Z)((0,L.Z)({},se.line),{},{[["top","bottom"].includes(M)?"borderLeftStyle":"borderTopStyle"]:ie?"dashed":"solid",borderColor:_})}),X?X({value:Se,style:se.value,customClassName:"distance-value "+M}):(0,g.jsx)("span",{className:"distance-value "+M,style:(0,L.Z)((0,L.Z)({},se.value),{},{color:te,backgroundColor:ne}),children:Se}),J&&(0,g.jsxs)(h.Fragment,{children:[(0,g.jsx)("div",{className:"distance-mark-start-boundary "+M,style:{borderColor:_}}),(0,g.jsx)("div",{className:"distance-mark-end-boundary "+M,style:(0,L.Z)((0,L.Z)({},se.endBoundary),{},{borderColor:_})})]})]},p+"-"+j)}),(0,f.Z)((0,ae.Z)(n),"getMarkStyle",function(l,p){var v=n.props.baseRect,M={line:{},value:{},endBoundary:{}},j=["right","left"],Z=["right","bottom"],W=j.includes(l)?p/v.width:p/v.height;return M.line={[l]:p<0?0:Sa(-W),[j.includes(l)?"width":"height"]:Sa(Math.abs(W))},M.endBoundary={[l]:Sa(-W)},M.value={[j.includes(l)?"left":"top"]:Z.includes(l)?Sa(1+W/2):Sa(-W/2)},M}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.baseRect,s=e.refRect,l=Tx(o,s),p=this.getDistanceMarksStyle(o);return(0,g.jsx)("div",{className:"distance-marks",style:p,children:Object.entries(l).map(this.mapDistanceMarks)})}}]),t}(h.PureComponent),Ox=function(i){var t=i.refRect,n=i.ratio,e=i.style,o=e.dashed,s=e.colorForLines;return(0,g.jsx)("div",{style:{position:"absolute",pointerEvents:"none",width:t.width*n,height:t.height*n,left:t.left*n,top:t.top*n,border:"1px "+(o?"dashed":"solid")+" "+s}})},Dx=Ox,Lx=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"genLines",function(l,p){var v=n.props,M=v.style,j=v.ratio,Z={left:l.left*j,right:l.right*j,height:l.height*j,width:l.width*j},W=[];return Z.top>0&&W.push((0,g.jsx)("div",{className:"line top",style:{width:Z.left,borderTopStyle:M.dashed?"dashed":"solid",borderTopColor:M.colorForLines,top:Z.top}},"top")),Z.left+Z.width<p.width&&W.push((0,g.jsx)("div",{className:"line right",style:{borderLeftStyle:M.dashed?"dashed":"solid",borderLeftColor:M.colorForLines,left:Z.left+Z.width}},"right")),Z.top+Z.height<p.height&&W.push((0,g.jsx)("div",{className:"line bottom",style:{borderTopStyle:M.dashed?"dashed":"solid",borderTopColor:M.colorForLines,width:Z.left,top:Z.top+Z.height}},"bottom")),Z.left>0&&W.push((0,g.jsx)("div",{className:"line left",style:{borderLeftStyle:M.dashed?"dashed":"solid",borderLeftColor:M.colorForLines,left:Z.left}},"left")),W}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.refRect,s=e.screen;return(0,g.jsx)("div",{className:"verbose-auxiliary-lines",children:this.genLines(o,s)})}}]),t}(h.Component),Nx=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"getAuxiliaryLinesStyle",function(l){var p=n.props.ratio;return{width:l.width*p,height:l.height*p,top:l.top*p,left:l.left*p}}),(0,f.Z)((0,ae.Z)(n),"getAuxiliaryLinesLength",function(){var l={},p=n.props,v=p.baseRect,M=p.refRect,j=(0,Ua.G1)(v,M),Z=j.width-M.width,W=j.height-(v.height+M.height);W>0&&Z>v.width/2&&(l.horizontal=Z);var X=j.height-M.height,J=j.width-(v.width+M.width);return J>0&&X>v.height/2&&(l.vertical=X),l}),(0,f.Z)((0,ae.Z)(n),"getLineStyle",function(l,p){var v=n.props,M=v.baseRect,j=v.refRect,Z=v.ratio,W=M.left>j.left,X=M.top>j.top,J={};if(l){var _=l/j.width;J.horizontal={[X?"bottom":"top"]:0,[W?"right":"left"]:Sa(-_),width:Sa(_)}}if(p){var te=p/j.height;J.vertical={[W?"right":"left"]:0,[X?"bottom":"top"]:-te*Z,height:te*Z}}return J}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.refRect,s=e.style,l=this.getAuxiliaryLinesLength(),p=l.horizontal,v=l.vertical;if(!p&&!v)return null;var M=this.getAuxiliaryLinesStyle(o),j=this.getLineStyle(p,v);return(0,g.jsxs)("div",{className:"smart-auxiliary-lines",style:M,children:[p&&(0,g.jsx)("div",{className:"line horizontal",style:(0,L.Z)((0,L.Z)({},j.horizontal),{},{borderTopStyle:s.dashed?"dashed":"solid",borderTopColor:s.colorForLines})}),v&&(0,g.jsx)("div",{className:"line vertical",style:(0,L.Z)((0,L.Z)({},j.vertical),{},{borderLeftStyle:s.dashed?"dashed":"solid",borderLeftColor:s.colorForLines})})]})}}]),t}(h.Component),Rx=ze.default.div.withConfig({displayName:"styles__StyledDistanceMeasurement",componentId:"sc-inwp69-0"})(["width:100%;height:100%;pointer-events:none;.distance-marks{position:absolute;pointer-events:none;.distance-line{position:absolute;width:1px;height:1px;&.top,&.bottom{left:50%;border-left:1px solid black;}&.left,&.right{top:50%;border-top:1px solid black;}}.distance-value{position:absolute;&.top,&.bottom{left:calc(50% + 6px);transform:translateY(-50%);}&.left,&.right{top:calc(50% - 6px);transform:translate(-50%,-100%);}}.distance-mark-start-boundary{&.top{top:0;}&.right{right:0;}&.bottom{bottom:0;}&.left{left:0;}}.distance-mark-start-boundary,.distance-mark-end-boundary{position:absolute;&.top,&.bottom{left:50%;transform:translateX(-4px);width:9px;height:1px;border-top:1px solid black;}&.left,&.right{top:50%;transform:translateY(-4px);width:1px;height:9px;border-left:1px solid black;}}}.smart-auxiliary-lines{position:absolute;pointer-events:none;.line{position:absolute;width:1px;height:1px;&.horizontal{border-top:1px solid black;}&.vertical{border-left:1px solid black;}}}.verbose-auxiliary-lines{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;.line{position:absolute;&.top,&.bottom{width:100%;height:1px;border-top:1px solid black;}&.bottom{transform:translateY(-1px);}&.left,&.right{width:1px;height:100%;border-left:1px solid black;}&.right{transform:translateX(-1px);}}}"]),si={design:{distanceMarks:{showStartAndEndBoundary:!1,dashed:!1,colorForLines:la.Fq.color_interaction_reference_line.value,colorForText:la.Fq.color_interaction_reference_line.value},refRectBorder:{dashed:!1,colorForLines:la.Fq.color_interaction_reference_line.value},verboseAuxiliaryLines:!1,auxiliaryLines:{dashed:!0,colorForLines:la.Fq.color_interaction_reference_line.value}},preview:{distanceMarks:{showStartAndEndBoundary:!0,dashed:!0,colorForLines:la.Fq.color_interaction_reference_line.value},refRectBorder:{dashed:!0,colorForLines:la.Fq.color_primary_proto01.value},verboseAuxiliaryLines:!0,auxiliaryLines:{dashed:!0,colorForLines:la.Fq.color_primary_proto01.value}}},jx=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"shouldComponentUpdate",value:function(e){return!((0,Ua.DH)(e.baseRect,this.props.baseRect)&&(0,Ua.DH)(e.refRect,this.props.refRect)&&(0,Ua.DH)(e.screen,this.props.screen)&&e.ratio===this.props.ratio&&e.theme===this.props.theme)}},{key:"render",value:function(){var e=this.props,o=e.baseRect,s=e.refRect,l=e.screen,p=e.theme,v=e.renderValue,M=e.ratio,j=si[p].verboseAuxiliaryLines;return(0,g.jsxs)(Rx,{className:"distance-measurement-container",children:[(0,g.jsx)(Ix,{baseRect:o,refRect:s,ratio:M,style:si[p].distanceMarks,renderValue:v}),j?(0,g.jsx)(Lx,{refRect:s,screen:l,ratio:M,style:si[p].auxiliaryLines}):(0,g.jsx)(Nx,{baseRect:o,refRect:s,ratio:M,style:si[p].auxiliaryLines}),(0,g.jsx)(Dx,{refRect:s,ratio:M,style:si[p].refRectBorder})]})}}]),t}(h.Component),zp=function(i){var t=i.value,n=i.valueRatio,e=i.unit,o=i.style,s=i.className,l=i.customClassName,p=i.previewRatio,v=(0,Pt._F)(t,p),M=Math.round(v*n)===0?(v*n).toFixed(2):Math.round(v*n);return(0,g.jsx)("div",{style:o,className:s+" "+l,children:""+M+e})},kx=(0,ze.default)(zp).withConfig({displayName:"MarkLabel__StyledMarkValue",componentId:"sc-sp6y0b-0"})(["padding:0 5px;color:#fff;background-color:",";border-radius:2px;"],function(a){return a.theme.color_interaction_reference_line});zp.propTypes={value:u().oneOfType([u().string,u().number]),valueRatio:u().number,unit:u().string,style:u().object,className:u().string,customClassName:u().string,previewRatio:u().number};var Bx=kx,io=c(81604),Zx=ze.default.div.withConfig({displayName:"styles__StyledLayerBorder",componentId:"sc-efd91i-0"})(["position:absolute;pointer-events:none;&.select{border:1px solid ",";}&.hover{border:1px solid ",";}.LayerCorner{position:absolute;display:inline-block;width:6px;height:6px;border-radius:50%;background-color:white;border:1px solid ",";&.left{left:-4px;}&.top{top:-4px;}&.right{right:-4px;}&.bottom{bottom:-4px;}}.layer-width,.layer-height{line-height:1;padding:3px 5px;background-color:",";color:#fff;}.layer-width{position:absolute;top:-5px;left:50%;transform:translateX(-50%) translateY(-100%);}.layer-height{position:absolute;top:50%;right:-5px;transform:translateX(100%) translateY(-50%);}.rect_info{position:absolute;display:inline-block;top:calc(100% + 5px);left:50%;transform:translateX(-50%);line-height:1;padding:3px 5px;background-color:#1E98EA;color:#fff;border-radius:2px;white-space:nowrap;}"],function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_interaction_reference_line}),Ys=function(i){var t=i.type,n=i.rect,e=i.screenWidth,o=i.screenHeight,s=i.showLayerInfo,l=i.layer,p=i.unit,v=i.previewRatio,M=Ux(n,e,o),j=M.top,Z=M.left,W=M.width,X=M.height;return(0,g.jsx)(Zx,{className:t,style:{top:j,left:Z,width:W,height:X},children:t==="select"&&s&&Fx(l,p,v)})};Ys.propTypes={type:u().string,rect:u().object,screenWidth:u().number,screenHeight:u().number,showLayerInfo:u().bool,layer:u().object,unit:u().string,previewRatio:u().number};var Fx=function(i,t,n){var e=i.src_width,o=i.src_height,s=i.rotation,l=s===void 0?0:s,p=i.width,v=i.height,M=e||p,j=o||v,Z=i.kind?e:M*(0,io.mC)(l)+M*(0,io.O$)(l),W=i.kind?o:j*(0,io.O$)(l)+j*(0,io.mC)(l),X=(0,Pt._F)(Z,n),J=(0,Pt._F)(W,n),_=i.kind?(0,Pt._F)(i.origin_width||e,n):(0,Pt._F)(M,n),te=i.kind?(0,Pt._F)(i.origin_height||o,n):(0,Pt._F)(j,n);return(0,g.jsxs)(h.Fragment,{children:[(0,g.jsx)("span",{className:"LayerCorner left top"}),(0,g.jsx)("span",{className:"LayerCorner left bottom"}),(0,g.jsx)("span",{className:"LayerCorner right top"}),(0,g.jsx)("span",{className:"LayerCorner right bottom"}),(0,g.jsx)("span",{className:"layer-width",children:""+X+t}),(0,g.jsx)("span",{className:"layer-height",children:""+J+t}),l!==0&&(0,g.jsxs)("span",{className:"rect_info",children:[_+" x "+te,"\xA0\xA0",l+"\xB0"]})]})},Ux=function(i,t,n){return{top:i.top/n*100+"%",left:i.left/t*100+"%",width:i.width/t*100+"%",height:i.height/n*100+"%"}},Ha=c(76760),$p=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"renderValue",function(l){var p=n.props,v=p.unit,M=p.activeLayerID,j=p.layerTreeData,Z=p.previewRatio,W=dr(M,j),X=W.widget,J=X.src_width,_=X.width,te=J?J/_:1;return(0,g.jsx)(Bx,(0,L.Z)({unit:v,valueRatio:te,previewRatio:Z},l))}),n}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){$(".panel").scrollLeft(0).scrollTop(0)}},{key:"render",value:function(){var e=this.props,o=e.activeLayerID,s=e.enteredLayerID,l=e.layerTreeData,p=e.screen,v=e.unit,M=e.ratio,j=e.isOutsideVisible,Z=e.previewRatio,W=p.width,X=p.height,J=dr(o,l),_=dr(s,l),te=J&&_&&s!==o,ne=!!J,ie=_&&s!==o;if(!(te||ne||ie))return null;var se=Gp(o,l,j),Se=Gp(s,l,j);return(0,g.jsxs)(h.Fragment,{children:[te&&(0,g.jsx)(jx,{baseRect:se,refRect:Se,screen:p,ratio:M,renderValue:this.renderValue,theme:"preview"}),ne&&se&&(0,g.jsx)(Ys,{type:"select",rect:se,screenWidth:W,screenHeight:X,showLayerInfo:!te,layer:J.widget,unit:v,previewRatio:Z}),ie&&Se&&(0,g.jsx)(Ys,{type:"hover",rect:Se,screenWidth:W,screenHeight:X,previewRatio:Z})]})}}]),t}(h.PureComponent);(0,f.Z)($p,"propTypes",{ratio:u().number,unit:u().string,activeLayerID:u().oneOfType([u().number,u().string]),enteredLayerID:u().oneOfType([u().number,u().string]),layerTreeData:u().object,screen:u().object,isOutsideVisible:u().bool,previewRatio:u().number});var Gp=function(i,t,n){var e=dr(i,t);if(!e)return null;var o=e.widget,s=o.width,l=o.height,p=o.ro,v=o.name,M=o.left,j=o.top;if(e.worldBoundingBox){var Z=e.worldBoundingBox,W=Z.transform,X=Z.rect,J=W.apply(X),_=(e.widget.ro||0)/180*Math.PI,te=W.apply(Ha.Rect.center(X)),ne=Ha.Vec2.rotate(te,-_,J),ie=ne.x,se=ne.y;ie&&(M=ie),se&&(j=se)}var Se=(0,Xl.mi)([{width:s,height:l,left:M,top:j,ro:p,name:v}]);if(n)return Se;var Te=t.widget,Le={top:0,left:0,width:Te.width,height:Te.height};return Hx(Se,Le)},Hx=function(i,t){var n=Vp(i),e=Vp(t),o=Math.max(n.minX,e.minX),s=Math.max(n.minY,e.minY),l=Math.min(n.maxX,e.maxX),p=Math.min(n.maxY,e.maxY);return{top:s,left:o,width:l-o,height:p-s}},Vp=function(i){var t=i.top,n=i.left,e=i.width,o=i.height;return{minX:n,minY:t,maxX:n+e,maxY:t+o}},Wx=(0,U.connect)(function(a){var i=a.container,t=i.layers,n=t.activeLayerID,e=t.enteredLayerID,o=i.previewSetting,s=o.unit,l=o.ratio,p=(0,re.z7)(a),v=(0,re.HR)(a),M=(0,re.CL)(a),j=Da(a),Z=v==="outside_artboard";return{activeLayerID:n,enteredLayerID:e,layerTreeData:j,ratio:p/100,unit:s,screen:M,isOutsideVisible:Z,previewRatio:l}})($p),zx=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.panelWidgetData,s=e.selectedPanel,l=e.panelStyle;if(!o)return null;var p={left:s.left,top:s.top};return(0,g.jsx)("div",{className:"panelLayer",style:l,children:(0,g.jsx)("div",{className:"panelNode",style:p,children:o.render()})})}}]),t}(h.PureComponent),$x=(0,an.P1)([Cr,rv],function(a,i){return{selectedPanel:a,panelWidgetData:i}}),Gx=(0,U.connect)(function(a){return $x(a)})(zx),Vx=ze.default.div.withConfig({displayName:"styles__StyledArtboard",componentId:"sc-1qhsdu8-0"})(["position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none;.inInspectPanelLayerInfo{position:absolute;width:100%;height:100%;overflow:hidden;&.isOutsideVisible{overflow:visible;}.panelLayer{position:absolute;.panelNode{position:absolute;}}}&.is-shadow{box-shadow:0 0 3px 0 rgba(0,0,0,0.1);}&.is-active{z-index:200;pointer-events:auto;}"]),Kx=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"checkIfNeedHideLayer",function(l){var p=n.props,v=p.isSpaceDown,M=p.isSelectLayer,j=p.isInspectInPanel,Z=p.dispatch;if(M){var W=l.target;!v&&(W.contains(document.getElementById("simulator-container"))||document.getElementById("preview-setting-list").contains(W))&&(Z(Ei(-1)),Z({type:"entry:inspect:clear:panel:action"}),j&&n.handleQuitEdit(),Z({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:!1}}))}}),(0,f.Z)((0,ae.Z)(n),"handleQuitEdit",function(){return n.props.dispatch({type:"entry:inspect:exit:panel"})}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isPreview,s=e.isInspect,l=e.isShowColorPicker,p=e.theme,v=e.scale,M=e.isFetching,j=e.error,Z=e.activePanel,W=e.viewportRect,X=e.dispatch,J=e.currentScreen,_=e.canvasRect,te=e.isInspectInPanel,ne=e.isOutsideVisible;if(M||j)return null;var ie=ot()("ui-layers",{"is-shadow":!o,"is-active":s}),se=s&&!l,Se={transform:"scale("+v/100+")"};return(0,g.jsxs)(Vx,{className:ie,children:[Z&&te&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"panelLayerInfo",children:(0,g.jsx)(ux,{theme:p,scale:v,activePanel:Z,viewportRect:W,canvasRect:_,dispatch:X,currentScreen:J,onQuitEdit:this.handleQuitEdit})}),(0,g.jsx)("div",{className:ot()("inInspectPanelLayerInfo",{isOutsideVisible:ne}),children:(0,g.jsx)(Gx,{panelStyle:Se})})]}),l&&(0,g.jsx)(Ex,{}),se&&(0,g.jsxs)("div",{className:"layerInfo",children:[(0,g.jsx)(bx,{}),(0,g.jsx)(Wx,{}),(0,g.jsx)(Wn.ZP,{target:document,onClick:this.checkIfNeedHideLayer})]})]})}}]),t}(h.PureComponent),Yx=function(i){return i.container.common.keyFlags.isSpaceDown},Xx=function(i){return i.container.previewSetting.isSelectLayer},Qx=(0,an.P1)([re.yZ,re.gh,re.aO,Cr,re.e4,re.k6,Oa,re.nB,re.Uq,re.V2,re.HR,Yx,Xx,Fl],function(a,i,t,n,e,o,s,l,p,v,M,j,Z,W){var X=e.cid,J=l.isPreview,_=l.isInspect,te=W.isFetching,ne=te===void 0?!0:te,ie=W.error,se=ie===void 0?"":ie,Se=n?(0,Gr.Tf)(X,n.screen_meta_cid):{},Te=M==="outside_artboard";return{isOutsideVisible:Te,isPreview:J,isInspect:_,isShowColorPicker:v,runnerState:p,activePanel:n,currentScreen:Se,canvasRect:o,isInspectInPanel:s,isSpaceDown:j,isSelectLayer:Z,isFetching:ne,error:se,viewportRect:t,theme:i,scale:a}}),Jx=(0,U.connect)(function(a){return Qx(a)})(Kx),_x={shell:"PM26Ljznui8RJWuxUXab"},Xs=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isHTMLZip,s=e.project,l=e.shellType,p=e.isLandscape,v=qx(l,s,p,o),M=l==="device"&&v===null?"none":l;return(0,g.jsx)("div",{className:_x.shell+" "+M,style:v})}}]),t}(h.PureComponent);Xs.propTypes={isHTMLZip:u().bool,project:u().object,shellType:u().string,isLandscape:u().bool};function qx(a,i,t,n){switch(a){case"device":{var e=(0,Na.Zl)(i,a);if(!e.bg)return null;var o=t?e.bg+"_land":e.bg,s=t?[-e.left,-e.top,e.height,e.width]:[-e.top,-e.left,e.width,e.height],l=(0,F.Z)(s,4),p=l[0],v=l[1],M=l[2],j=l[3];return{top:p,left:v,width:M,height:j,backgroundImage:"url("+(n?".":"")+"/mb-workspace/images/devices/"+o+".png)"}}case"default":return null;case"none":return null}}var eC=c(74150),tC=function(i,t){var n=i.children.filter(function(o){if(o.widget.primary_fixed!==0)return!1;var s=Ha.Rect.enclosing(Ha.TransformAndRect.points(o.worldBoundingBox));return s.y<t}),e=i.dup();return e.children=n,e},nC=function(i,t,n){var e=i.children.filter(function(s){if(s.widget.primary_fixed!==0)return!1;var l=Ha.Rect.enclosing(Ha.TransformAndRect.points(s.worldBoundingBox)),p=t-(l.y+l.h);return p<n}),o=i.dup();return o.children=e,o},rC=c(38237),Qs=c(75017),xM={},Kp=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isPanelPreviewMode,s=e.isShow,l=e.screenInfo,p=e.isActive,v=e.style,M=e.isHTMLZip,j=e.isScrollable,Z=e.isInspectInPanel,W=e.selectedPanel,X=e.annotateHoverCid,J=e.scale,_=e.refreshCount,te=l.screenMeta,ne=l.stateCid,ie=l.screenRuntimeState,se=l.transition,Se=(0,$r.Oz)(te.cid,ne,ie.itemListMap[ne]),Te=(0,L.Z)({display:s?"":"none",backgroundColor:te.bgcolor,backgroundImage:te.bgimage?"url("+te.bgimage+")":"",height:te.height},v),Le=te.orientation,ke=ot()("pcanvas",Le,{active:p,mouseAble:Se.length}),nt=ie.dataMap[ne],it=nt.hh,ct=nt.fh,de=p&&j&&Te.display!=="none";return(0,g.jsxs)("div",{id:"pscreen"+te.cid,"data-cid":te.cid,"data-orientation":Le,className:ke,style:Te,children:[(0,g.jsx)(Xp,{screenMeta:te,stateCid:ne,transition:se,screenRuntimeState:ie,isHTMLZip:M,isInspectInPanel:Z,selectedPanel:W,annotateHoverCid:X,scale:J,isPanelPreviewMode:o,refreshCount:_}),de&&(0,g.jsx)(Yp,{screenCid:te.cid,hh:it,fh:ct})]})}}]),t}(h.PureComponent);(0,f.Z)(Kp,"propTypes",{isInspectInPanel:u().bool,isShow:u().bool,isActive:u().bool,screenInfo:u().object,style:u().object,isHTMLZip:u().bool,isScrollable:u().bool,scale:u().number,annotateHoverCid:u().string,selectedPanel:u().object,isPanelPreviewMode:u().bool,refreshCount:u().number});var Yp=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props.screenCid;setTimeout(function(){return MB.runnerController.renderScrollbar(e)})}},{key:"componentDidUpdate",value:function(){var e=this.props.screenCid;MB.runnerController.renderScrollbar(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.screenCid;MB.runnerController.destroyScrollBarByCid(e)}},{key:"render",value:function(){return null}}]),t}(h.PureComponent);(0,f.Z)(Yp,"propTypes",{screenCid:u().string});var Xp=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleGetAnnotateTree",function(l){var p=n.props.annotateHoverCid;return p?l.widgetStore.getNode(p):null}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isPanelPreviewMode,s=e.screenMeta,l=e.stateCid,p=e.transition,v=e.screenRuntimeState,M=e.isHTMLZip,j=e.isInspectInPanel,Z=e.selectedPanel,W=e.annotateHoverCid,X=e.scale,J=e.refreshCount,_=v.dataMap[l],te=_.hh,ne=te===void 0?0:te,ie=_.fh,se=ie===void 0?0:ie,Se={height:s.height-(ne+se)},Te={height:s.height,marginTop:-ne};return(0,g.jsx)(rC.Z,{screen:s,stateCid:l,transition:p,screenRuntimeState:v,isHTMLZip:M,isPanelPreviewMode:o,children:function(ke){return(0,g.jsxs)(h.Fragment,{children:[(0,g.jsx)("div",{className:"screen-header",style:{height:ne},children:ne>0&&(0,g.jsxs)(h.Fragment,{children:[(0,g.jsx)(Qs.Z,{imageUrl:s.artboard_image_url}),tC(ke,ne).render({isWithinHeader:!0,annotateHoverCid:W,scale:X,refreshCount:J})]})}),(0,g.jsx)("div",{className:"screen-content",children:(0,g.jsx)("div",{className:"widgets",style:Se,children:(0,g.jsxs)("div",{className:"scontainer",style:Te,children:[(0,g.jsx)(Qs.Z,{imageUrl:s.artboard_image_url}),ke.render({isWithinPanelEditor:j,editingPanelCid:Z&&Z.cid,annotateHoverCid:W,scale:X,refreshCount:J})]})})}),(0,g.jsx)("div",{className:"screen-footer",style:{height:se},children:se>0&&(0,g.jsxs)("div",{className:"footer-widgets",style:{marginTop:se-s.height},children:[(0,g.jsx)(Qs.Z,{imageUrl:s.artboard_image_url}),nC(ke,s.height,se).render({isWithinFooter:!0,annotateHoverCid:W,scale:X,refreshCount:J})]})})]})}})}}]),t}(h.PureComponent);(0,f.Z)(Xp,"propTypes",{screenMeta:u().object,stateCid:u().string,transition:u().object,screenRuntimeState:u().object,isHTMLZip:u().bool,isInspectInPanel:u().bool,scale:u().number,annotateHoverCid:u().string,selectedPanel:u().object,isPanelPreviewMode:u().bool,refreshCount:u().number});var Js=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"handleHomeScreenLoad",function(o){var s=e.props.screenInfoMap,l=s[o],p=l.screenMeta,v=l.stateCid;MB.runnerController.doneTransition(p,v)}),(0,f.Z)((0,ae.Z)(e),"handleTransitionEnd",function(o){var s=e.props,l=s.screenInfoMap,p=s.transition,v=p.name,M=p.callback;/(menu|drawer)-reverse/.test(v)&&(console.log("menu - closed"),MB.runnerController.setCurrentMenu(null),MB.runnerController.setCurrentScreen(null));var j=l[o],Z=j.screenMeta,W=j.stateCid;MB.runnerController.doneTransition(Z,W),M&&M()}),e.state={prevScreenCid:"",currentScreenCid:n.activeCid},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){MB.webpackInterface.store.dispatch({type:"reducer:artboards:toggle:splash",payload:{isShowSplash:!0}})}},{key:"componentWillUnmount",value:function(){console.log("mb runner will unmount")}},{key:"render",value:function(){var e=this.props,o=e.isPanelPreviewMode,s=e.screenInfoMap,l=e.transition,p=e.isHTMLZip,v=e.isScrollable,M=e.isInspectInPanel,j=e.selectedPanel,Z=e.isStickyShow,W=e.isImmersive,X=e.annotateHoverCid,J=e.scale,_=e.annotateSelectWidgetCid,te=e.refreshCount,ne=this.state,ie=ne.prevScreenCid,se=ne.currentScreenCid;return se?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(eC.Z,{activeCid:se,transition:l,onHomeScreenLoad:this.handleHomeScreenLoad,onTransitionEnd:this.handleTransitionEnd,children:function(Te,Le){return Object.values(s).sort(function(ke,nt){return ke.cid>nt.cid?1:-1}).map(function(ke,nt){var it=ke.cid,ct=it===ie,de=it===se,ue=ct?Te:de?Le:null;return(0,g.jsx)(Kp,{isShow:ct||de,screenInfo:ke,style:ue,isActive:se===it,isHTMLZip:p,isScrollable:v,isInspectInPanel:M,selectedPanel:j,isStickyShow:Z,isImmersive:W,annotateHoverCid:X,scale:J,annotateSelectWidgetCid:_,isPanelPreviewMode:o,refreshCount:te},it)})}})}):null}}]),t}(h.PureComponent);(0,f.Z)(Js,"propTypes",{isHTMLZip:u().bool,isScrollable:u().bool,screenInfoMap:u().object,activeCid:u().string,isInspectInPanel:u().bool,isStickyShow:u().bool,isImmersive:u().bool,annotateSelectWidgetCid:u().string,annotateHoverCid:u().string,scale:u().number,transition:u().object,selectedPanel:u().object,isPanelPreviewMode:u().bool,refreshCount:u().number}),(0,f.Z)(Js,"getDerivedStateFromProps",function(a,i){return a.activeCid!==i.currentScreenCid?{prevScreenCid:i.currentScreenCid,currentScreenCid:a.activeCid}:null});var aC=(0,U.connect)(function(a){var i=a.container.annotatePanel.annotateHoverCid,t=(0,re.GP)(a),n=t.isHTMLZip,e=(0,re.HR)(a),o=e==="device",s=Oa(a),l=Cr(a),p=(0,re.yZ)(a),v=(0,re.yT)(a),M=(0,re.P8)(a);return(0,L.Z)({isHTMLZip:n,isScrollable:o,isInspectInPanel:s,selectedPanel:l,annotateHoverCid:i,scale:p,isPanelPreviewMode:v,refreshCount:M},(0,re.Uq)(a))})(Js),_s=c(73376),iC=function(i){var t=i.project_meta_cid,n=i.screen_glue_cid,e=(0,Gr.Qu)(t,n),o=i.orientation==="portrait"?[e.width,e.height]:[e.height,e.width],s=(0,F.Z)(o,2),l=s[0],p=s[1];return[l,p]},oC=ze.default.div.withConfig({displayName:"style__StyledAppSplash",componentId:"sc-b8jnw5-0"})(["position:absolute;width:100%;height:100%;background:#f5f5f5;overflow:hidden;margin-bottom:500px;top:0;z-index:2;img{position:absolute;width:100%;height:100%;}.loading{display:flex;align-items:center;justify-content:center;position:absolute;top:50%;width:100%;height:30px;.splash-loading{width:30px;height:30px;}}&.landscape{img{transform:rotate(90deg);transform-origin:bottom left;}}"]),sC=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.homeScreen,s=e.url,l=e.isPanelPreviewMode,p=iC(o),v=(0,F.Z)(p,2),M=v[0],j=v[1],Z;return o.width!==M?Z={top:0-M,width:j,height:M}:Z={top:0,width:M,height:"101%"},(0,g.jsxs)(oC,{className:ot()("splash",o.orientation),style:{backgroundColor:o.bgcolor},children:[s&&!l&&(0,g.jsx)("img",{src:s,style:Z}),(0,g.jsx)("div",{className:"loading",children:(0,g.jsx)(_s.Z,{className:"splash-loading"})})]})}}]),t}(h.PureComponent),lC=ze.default.div.withConfig({displayName:"styles__StyledScreenItem",componentId:"sc-17tn6jf-0"})(["display:flex;align-items:center;height:58px;border-bottom:1px solid #dbdbdb;&.active{background:#DAEBFE;font-weight:700;}.choosed{height:14px;min-width:14px;margin-right:16px;color:#999999;}.expander{height:18px;width:18px;margin-left:-16px;.arrow-icon{height:18px;width:18px;color:#8d9ea7;&.is-expand{transform:rotate(90deg);}}}.screen-name{display:flex;align-items:center;width:100%;height:100%;.screen-item-icon{width:24px;height:24px;display:flex;justify-content:center;align-items:center;flex-shrink:0;margin-right:6px;}.editable-span{font-size:18px;color:#415058;height:26px;",";}}"],ka),qs=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"setElementRef",function(l){return n.$elem=l}),(0,f.Z)((0,ae.Z)(n),"handleExpand",function(l){l.stopPropagation();var p=n.props,v=p.screenMeta,M=p.actionProps.onExpand;M(v)}),(0,f.Z)((0,ae.Z)(n),"handleClick",function(l){l.stopPropagation();var p=n.props,v=p.screenMeta,M=p.actionProps.onSelect;M(l,v)}),(0,f.Z)((0,ae.Z)(n),"handleOpenState",function(){var l=n.props.dispatch;l({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!0}})}),n}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){if(!(0,Dr.pn)(this.$elem)){var e=this.$elem.classList.contains("active");if(!e)return;var o=document.querySelector(".rn-content-body");if(!o)return;var s=o.getBoundingClientRect(),l=this.$elem.getBoundingClientRect(),p=l.bottom;o.scrollTop+=p-s.bottom+20}}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props,o=e.screenMeta,s=e.depth,l=e.isExpand,p=e.isActive,v=e.showExpander,M=e.runnerState,j=e.theme,Z=!1;if(p){var W=M.screenInfoMap[o.cid].screenRuntimeState.dataMap;Z=Object.values(W).length>1}var X=14*(s+1)+12,J=(0,In.Vx)(o),_=o.cid,te=o.name,ne=o.firstState;return(0,g.jsxs)(lC,{ref:this.setElementRef,"data-cid":_,onClick:this.handleClick,style:{paddingLeft:X},className:ot()("rn-list-item",{active:p,folder:J}),children:[v&&(0,g.jsx)("a",{className:"expander",onClick:this.handleExpand,onDoubleClick:this.stopPropagation,children:(0,g.jsx)(Et.q,{className:ot()("arrow-icon",{"is-expand":!l}),name:"new/arrow"})}),(0,g.jsxs)("div",{className:"screen-name",children:[(0,g.jsx)("div",{className:"screen-item-icon",children:(0,g.jsx)(ju.p,{icon:ne==null?void 0:ne.icon,theme:j,isExpand:l})}),(0,g.jsx)(Ru.p,{className:"editable-span",children:(0,Dr.j4)(te)})]}),p&&Z&&(0,g.jsx)("a",{onClick:this.handleOpenState,children:(0,g.jsx)(Et.q,{name:"preview/menu/state",className:"choosed"})})]})}}]),t}(h.PureComponent);(0,f.Z)(qs,"propTypes",{theme:u().string,depth:u().number,screenMeta:u().object,isActive:u().bool,isExpand:u().bool,showExpander:u().bool,actionProps:u().object,dispatch:u().func,runnerState:u().object});var oo=c(79702),Br=c(18903),Qp,Jp,_p;function el(a,i){return i||(i=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(i)}}))}var cC=ze.default.div(Qp||(Qp=el(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 100vw;\n  height: 100vh;\n  transition: all 0.2s ease-out;\n  background-color: rgba(0, 0, 0, 0.4);\n  &.mask-enter {\n    opacity: 0;\n  }\n  &.mask-exit-active {\n    opacity: 0;\n  }\n"]))),uC=ze.default.div(Jp||(Jp=el(["\n  position: relative;\n  margin: 15vh auto 3rem;\n  height: -moz-fit-content;\n  height: -webkit-fit-content;\n  height: fit-content;\n  min-height: 9.5rem;\n  width: 31.25rem;\n  font-size: 0.875rem;\n  background-color: #fff;\n  box-shadow: 0 2px 8px 0 rgba(0,0,0,0.1);\n  border-radius: 1px;\n  color: #5b6b73;\n  cursor: initial;\n  transition: all 0.2s ease-out;\n  &.is-v-centered {\n    margin: 3rem auto;\n  }\n  &.fade-enter, &.fade-appear {\n    opacity: 0;\n    transform: translateY(-50vh);\n  }\n  &.fade-exit-active {\n    opacity: 0;\n    transform: translateY(-50vh);\n  }\n"]))),dC=(0,ze.createGlobalStyle)(_p||(_p=el(["\n  .ModalPortal {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1050;\n    padding: 3rem 1.5rem;\n    width: 100vw;\n    min-width: 64rem;\n    height: auto;\n    min-height: 100vh;\n\n    @media (max-width: 40rem) {\n      padding: unset;\n      min-width: unset;\n    }\n  }\n"])));function pC(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function qp(a,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,ef(n.key),n)}}function fC(a,i,t){return i&&qp(a.prototype,i),t&&qp(a,t),Object.defineProperty(a,"prototype",{writable:!1}),a}function hC(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&tl(a,i)}function tl(a,i){return tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},tl(a,i)}function vC(a){var i=gC();return function(){var n=so(a),e;if(i){var o=so(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return mC(this,e)}}function mC(a,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wa(a)}function Wa(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function gC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function so(a){return so=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},so(a)}function ba(a,i,t){return i=ef(i),i in a?Object.defineProperty(a,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[i]=t,a}function ef(a){var i=yC(a,"string");return typeof i=="symbol"?i:String(i)}function yC(a,i){if(typeof a!="object"||a===null)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var n=t.call(a,i||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}var SC="ModalPortal",tf="IBOT_MODAL_ROOT",nf=document.body,lo=document.getElementById(tf)||Object.assign(document.createElement("div"),{id:tf});nf.contains(lo)||nf.appendChild(lo);var rf=function(i){return i.stopPropagation()},co=function(a){hC(t,a);var i=vC(t);function t(){var n;pC(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),ba(Wa(n),"portal",(0,Br.Qt)(lo,(0,Br.A1)([SC,n.props.portalClassName]))),ba(Wa(n),"close",function(){var l=n.props,p=l.onClose,v=l.timeout;p(),setTimeout(function(){return n.portal.remove()},v)}),ba(Wa(n),"open",function(){var l=n.props,p=l.isOpen,v=l.onOpen;p&&(v(),lo.appendChild(n.portal)),n.positionY()}),ba(Wa(n),"positionY",function(){return setTimeout(function(){var l=(0,Br.$)(".TransitionModal",n.portal);if(l){var p=window,v=p.innerHeight,M=l.offsetHeight,j=v<=M||(v-M)/2<v*.2?"add":"remove";l.classList[j]("is-v-centered")}})}),ba(Wa(n),"onClickMask",function(l){rf(l);var p=n.props,v=p.onClose,M=p.canCloseOnClickMask;v&&M&&n.close()}),n}return fC(t,[{key:"componentDidMount",value:function(){var e=this.props.isOpen;e&&this.open(),window.addEventListener("resize",this.positionY)}},{key:"componentDidUpdate",value:function(e){var o=e.isOpen,s=this.props.isOpen;!o&&s?this.open():o&&!s&&this.close()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.positionY)}},{key:"renderModalDOM",value:function(){var e=this.props,o=e.children,s=e.isOpen,l=e.timeout,p=e.className,v=e.maskClassName,M=e.onEntered;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(dC,{}),(0,g.jsx)(oo.Z,{in:s,classNames:"mask",timeout:l,unmountOnExit:!0,children:(0,g.jsx)(cC,{className:(0,Br.A1)(["TransitionModalMask",v]),onClick:this.onClickMask})}),(0,g.jsx)(oo.Z,{in:s,classNames:"fade",timeout:l,unmountOnExit:!0,appear:!0,onEntered:M,children:(0,g.jsx)(uC,{className:(0,Br.A1)(["TransitionModal",p]),onClick:rf,children:o})})]})}},{key:"render",value:function(){var e=this.props.isOpen;return e&&(0,b.createPortal)(this.renderModalDOM(),this.portal)}}]),t}(h.PureComponent);ba(co,"propTypes",{isOpen:u().bool,children:u().node,timeout:u().number,canCloseOnClickMask:u().bool,className:u().string,maskClassName:u().string,portalClassName:u().string,onOpen:u().func,onClose:u().func,onEntered:u().func}),ba(co,"defaultProps",{isOpen:!1,timeout:200,maskClassName:"",portalClassName:"",className:"",canCloseOnClickMask:!0,onOpen:function(){return null},onClose:function(){return null},onToggle:function(){return null}});var af="local_embed_toast_show";function bC(){var a=(0,Tt.RD)(af,null,Tt.cM.Boolean),i=function(){(0,Tt.iO)(af,!0,Tt.cM.Boolean),o(!0)},t=(0,h.useState)(a),n=(0,F.Z)(t,2),e=n[0],o=n[1];return(0,g.jsx)(g.Fragment,{children:!e&&(0,g.jsxs)(xC,{isOpen:!0,children:[(0,g.jsx)("div",{className:"placeholder"}),(0,g.jsxs)("div",{className:"content",children:[(0,g.jsx)("img",{src:"/mb-workspace/images/preview/loading.gif",alt:"Loading..."}),(0,g.jsx)("span",{children:"\u53CC\u6307\u70B9\u51FB\u5C4F\u5E55\u8C03\u51FA\u8BBE\u7F6E\u9762\u677F"}),(0,g.jsx)("span",{children:"\u53EF\u76F4\u63A5\u8DF3\u8F6C\u9875\u9762"})]}),(0,g.jsx)("div",{className:"close-btn",children:(0,g.jsx)(Et.q,{onClick:i,name:"design/close_sm"})})]})})}var xC=(0,ze.default)(co).withConfig({displayName:"EmbedToastModal__StyledPreviewAuthModal",componentId:"sc-j1vvjo-0"})(["width:80%;min-width:255px;display:flex;flex-direction:row;padding-bottom:25px;.placeholder{width:10%;}.content{width:80%;display:flex;flex-direction:column;align-items:center;}.close-btn{display:flex;flex-direction:row-reverse;width:10%;height:32px;svg{width:32px;height:32px;}}"]),of=ze.default.div.withConfig({displayName:"styles__StyledPreviewMask",componentId:"sc-rebllg-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;z-index:5;"]),sf=ze.default.div.withConfig({displayName:"styles__StyledPreviewSetting",componentId:"sc-rebllg-1"})(["position:fixed;bottom:-363px;display:flex;flex-direction:column;z-index:6;height:363px;width:100%;background-color:#f7f7f7;transition:bottom 0.3s ease-in-out;&.is-open{bottom:0;}.theContent{display:flex;flex-grow:1;flex-direction:column;.line{border-bottom:1px solid #dbdbdb;margin-left:16px;}.contentItem{display:flex;flex-direction:row;justify-content:flex-start;margin:20px 16px 16px 16px;.menuBlock{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:0 12px 0 0;.menuBlockIcon{border-radius:10px;background-color:white;height:60px;width:60px;margin-bottom:8px;border:1px solid #f2f2f2;display:flex;align-items:center;justify-content:center;.blockIcon{height:36px;width:36px;color:#ffffff;}}.menuBlockName{display:flex;align-items:center;font-size:12px;color:#84817a;.redDot{width:4px;height:4px;background:#eb5648;border-radius:50%;margin-right:2px;}}}}.highlight-blue{.menuBlockIcon .link-svg{fill:#4257ff;}.menuBlockName .name{color:#4257ff;}}.offline-blue{.menuBlockIcon .download-svg{fill:#4257ff;}.menuBlockName .name{color:#4257ff;}}.highlight-red{.menuBlockIcon .link-svg{fill:#fe5859;}.menuBlockName .name{color:#fe5859;}}.offline-red{.menuBlockIcon .download-svg{fill:#fe5859;}.menuBlockName .name{color:#fe5859;}}.theHeader{display:flex;align-items:center;justify-content:flex-start;height:68px;padding-left:16px;color:#415058;border-bottom:1px solid #dbdbdb;.headerIcon{height:40px;width:40px;margin-right:12px;border-radius:6px;img{height:40px;width:40px;}}.headerTitle{display:flex;flex-direction:column;justify-content:space-between;.headerName{font-weight:bold;font-size:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#415058;text-align:left;width:300px;}.headerIntro{margin-top:4px;color:#8d9ea7;font-size:12px;font-weight:none;text-align:left;}}}}.theFooter{display:flex;align-items:center;justify-content:center;height:50px;background-color:#fff;font-size:18px;color:#415058;border-top:1px solid #dbdbdb;}@supports (bottom:env(safe-area-inset-bottom)){&.is-open{margin-bottom:env(safe-area-inset-bottom);}}"]),CC=ze.default.div.withConfig({displayName:"styles__StyledProgressBar",componentId:"sc-rebllg-2"})(["position:absolute;height:100vh;width:100vw;z-index:6;display:flex;justify-content:center;align-items:center;.progress-box{display:flex;justify-content:center;align-items:center;flex-direction:column;width:240px;height:120px;background:#fff;box-shadow:0 2px 6px 0 rgba(0,0,0,0.18);border-radius:4px;}.splash-loading{width:70px;height:70px;}.sliderName{margin-top:10px;font-size:14px;color:#415058;letter-spacing:0;text-align:center;}"]),lf=ze.default.div.withConfig({displayName:"styles__StyledScreenSetting",componentId:"sc-tn095f-0"})(["flex:1;width:100%;.theHeader{width:100%;display:flex;align-items:center;justify-content:flex-start;height:68px;border-bottom:1px solid #dbdbdb;.backBtn{padding:12px;.backIcon{height:25px;width:11px;color:#fff;}}.headerTitle{display:flex;flex-direction:column;justify-content:space-between;.headerName{font-size:18px;color:#415058;font-weight:bold;}}}.screen-list{width:100%;overflow-x:hidden;overflow-y:auto;height:245px;}.when-ws .choosed path{fill:#4257ff;}"]),wC=ze.default.div.withConfig({displayName:"styles__StyledScreenSetting",componentId:"sc-9v8nry-0"})(["flex:1;width:100%;.theHeader{width:100%;display:flex;align-items:center;justify-content:flex-start;height:68px;border-bottom:1px solid #dbdbdb;.backBtn{padding:20px 17px 20px 20px;.backIcon{padding-top:5px;height:18px;width:18px;color:#fff;}}.headerTitle{width:100%;display:flex;flex-direction:colum;justify-content:space-between;.headerName{font-size:18px;color:#415058;font-weight:bold;}}}.state-list{width:100%;overflow-x:hidden;overflow-y:auto;height:245px;}"]),EC=ze.default.ul.withConfig({displayName:"styles__StyledStateList",componentId:"sc-ihrfak-0"})(["&,ol,li{list-style:none;}"]),AC=ze.default.div.withConfig({displayName:"styles__StyledStateItem",componentId:"sc-ihrfak-1"})(["display:flex;align-items:center;height:48px;border-bottom:1px solid #f2f2f2;padding-left:24px;font-weight:",";.choosed{height:14px;min-width:14px;margin-right:20px;color:#333;}.state-name{display:flex;align-items:center;width:100%;height:100%;font-size:16px;color:#333;height:26px;}"],function(a){return a.isActive?"700":""}),cf=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleActivate",function(l){var p=n.props,v=p.screenCid,M=p.dispatch;M({type:"entry:runner:activate:screen-state",payload:{screenCid:v,stateCid:l.cid}})}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.screenStateCid,l=o.screenStateList;return(0,g.jsx)(EC,{children:l.map(function(p){return(0,g.jsx)(uf,{screenState:p,isActive:p.cid===s,onClick:e.handleActivate},p.cid)})})}}]),t}(h.PureComponent);(0,f.Z)(cf,"propTypes",{screenCid:u().string,screenStateCid:u().string,screenStateList:u().array,dispatch:u().func});var uf=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleClick",function(){var l=n.props,p=l.screenState,v=l.isActive,M=l.onClick;v||M(p)}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.screenState,s=e.isActive;return(0,g.jsxs)(AC,{isActive:s,children:[(0,g.jsx)("div",{className:ot()("state-name "),onClick:this.handleClick,children:o.name}),s&&(0,g.jsx)("a",{className:"choosed",onClick:this.handleOpenState,children:(0,g.jsx)(Et.q,{name:"preview/menu/choose"})})]})}}]),t}(h.PureComponent);(0,f.Z)(uf,"propTypes",{screenState:u().object,isActive:u().bool,onClick:u().func});function MC(a){var i=a.isShow,t=a.screenStateCid,n=a.dataMap,e=a.screenCid,o=a.dispatch;if(!i)return null;var s=Object.values(n).sort(function(p,v){return p.position-v.position}),l=function(){o({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!1}})};return(0,g.jsxs)(wC,{children:[(0,g.jsxs)("div",{className:"theHeader",children:[(0,g.jsx)("a",{className:"backBtn",onClick:l,children:(0,g.jsx)(Et.q,{className:"backIcon",name:"preview/menu/back_state"})}),(0,g.jsx)("div",{className:"headerTitle",children:(0,g.jsx)("div",{className:"headerName",children:"\u9009\u62E9\u9875\u9762\u72B6\u6001"})})]}),(0,g.jsx)("div",{className:ot()("state-list"),children:(0,g.jsx)(cf,{screenStateList:s,screenStateCid:t,screenCid:e,dispatch:o})})]})}var PC=(0,an.P1)([re.d9,re.Uq],function(a,i){var t=i.activeCid,n=i.screenInfoMap,e=n[t];if(!e)return{isShow:!1};var o=e.stateCid,s=e.screenRuntimeState.dataMap;return{isShow:a,screenCid:t,screenStateCid:o,dataMap:s}}),df=(0,U.connect)(function(a){return PC(a)})(MC),pf=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"setElementRef",function(o){return e.$elem=o}),(0,f.Z)((0,ae.Z)(e),"initCollapseKeySet",function(){var o=e.props,s=o.activeCid,l=o.screenTreeData,p=(0,In._i)(s,l),v=new Set(p.map(function(M){var j=M.cid;return j}));e.setState({collapseKeySet:v})}),(0,f.Z)((0,ae.Z)(e),"handleScreenMetaExpand",function(o){var s=o.cid,l=e.state.collapseKeySet,p=new Set(l);l.has(s)?p.delete(s):p.add(s),e.setState({collapseKeySet:p})}),(0,f.Z)((0,ae.Z)(e),"handleSelectScreenMeta",function(o,s){var l=e.props,p=l.activeCid,v=l.dispatch,M=(0,In.Vx)(s);M||(p===s.cid?e.handleScreenMetaExpand(s):v({type:"entry:sync-runner:set-screen",payload:{cid:s.cid}}))}),(0,f.Z)((0,ae.Z)(e),"handleClosePreviewSetting",function(){e.setState({isOpen:!1})}),(0,f.Z)((0,ae.Z)(e),"onClickOutside",function(o){var s=o.target;e.$elem.contains(s)||e.handleClosePreviewSetting()}),(0,f.Z)((0,ae.Z)(e),"renderScreenMetaItem",function(o){var s=o.depth,l=o.screenMeta,p=o.hasScreenMetaChildren,v=o.collapseScreenMetaCidSet,M=o.activeScreenMetaCid,j=o.dispatch,Z=e.props.runnerState,W=l.cid,X=M===W,J=v.has(W),_=p||(0,In.Vx)(l);return(0,g.jsx)(qs,{depth:s,screenMeta:l,isActive:X,isExpand:J,showExpander:_,actionProps:e.literalActionProps,dispatch:j,runnerState:Z})}),e.state={isOpen:!1,collapseKeySet:new Set},e.literalActionProps={onExpand:e.handleScreenMetaExpand,onSelect:e.handleSelectScreenMeta},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this,o=document.querySelector("#workspace"),s=new(sa()).Manager(o);s.add(new(sa()).Tap({event:"doubletap",pointers:2})),s.on("doubletap",function(l){e.setState({isOpen:!0})}),this.initCollapseKeySet()}},{key:"render",value:function(){var e=this.props,o=e.project,s=e.screenTreeData,l=e.activeCid,p=e.isStatePanelShow,v=e.dispatch,M=e.runnerState,j=e.previewOptions,Z=this.state,W=Z.isOpen,X=Z.collapseKeySet,J=j.isEmbedV1,_=j.isEmbedV2;return(0,g.jsxs)(g.Fragment,{children:[(J||_)&&(0,g.jsx)(bC,{}),W&&(0,g.jsx)(of,{className:"mask"}),M.activeCid!==""&&(0,g.jsxs)(sf,{className:ot()({"is-open":W}),ref:this.setElementRef,children:[!p&&(0,g.jsxs)(lf,{children:[(0,g.jsxs)("div",{className:"theHeader",children:[(0,g.jsx)("div",{className:"backBtn","data-value":""}),(0,g.jsx)("div",{className:"headerTitle",children:(0,g.jsx)("div",{className:"headerName",children:(0,Dr.FQ)(o.name)})})]}),(0,g.jsx)("div",{className:ot()("screen-list",{"when-ws":!1}),children:(0,g.jsx)(us,{collapseScreenMetaCidSet:X,activeScreenMetaCid:l,isExpandTree:!1,screenTreeData:s,renderScreenMetaItem:this.renderScreenMetaItem,dispatch:v})})]}),(0,g.jsx)(df,{}),!p&&(0,g.jsx)(ff,{onClose:this.handleClosePreviewSetting}),W&&(0,g.jsx)(Wn.ZP,{target:document,onClick:(0,Wn.Yc)(this.onClickOutside,{capture:!0})})]})]})}}]),t}(h.PureComponent);(0,f.Z)(pf,"propTypes",{project:u().object,dispatch:u().func,activeCid:u().string,screenTreeData:u().object,isStatePanelShow:u().bool,runnerState:u().object,previewOptions:u().object});var ff=(0,h.memo)(function(a){var i=a.onClose;return(0,g.jsx)("div",{className:"theFooter",onClick:i,children:I18N.pPreview.mobileMenu.cancel})});ff.propTypes={onClose:u().func};var TC=(0,an.P1)([re.Kv,re.CL,re.vo,re.d9,re.Uq],function(a,i,t,n,e){var o=i.cid;return{screenTreeData:a,activeCid:o,project:t,isStatePanelShow:n,runnerState:e}}),IC=(0,U.connect)(function(a){return TC(a)})(pf),nl=(0,ze.createGlobalStyle)(["::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar{width:6px;height:6px;}::-webkit-scrollbar-thumb{background-color:",";border-radius:4px;&:hover{background-color:",";}}::-webkit-scrollbar-corner{background-color:transparent;}.widget.panel{::-webkit-scrollbar-thumb{background-color:#d2d2d8;&:hover{background-color:",";}}}"],function(a){return a.theme.color_background_split},function(a){return a.theme.color_background_split_hover},function(a){return a.theme.color_background_split_hover}),OC=(0,ze.createGlobalStyle)([".ModalPortal,.CoreModalPortal,.OverlayPortal{min-width:initial !important;}"]),DC=(0,ze.createGlobalStyle)([".animated{animation-duration:1s;animation-fill-mode:backwards;}.animated.infinite{animation-iteration-count:infinite;}.animated.bounceIn{animation-duration:.75s;}@keyframes bounce{from,20%,53%,80%,to{animation-timing-function:cubic-bezier(0.215,0.610,0.355,1.000);transform:translate3d(0,0,0);}40%,43%{animation-timing-function:cubic-bezier(0.755,0.050,0.855,0.060);transform:translate3d(0,-30px,0);}70%{animation-timing-function:cubic-bezier(0.755,0.050,0.855,0.060);transform:translate3d(0,-15px,0);}90%{transform:translate3d(0,-4px,0);}}.bounce{animation-name:bounce;transform-origin:center bottom;}@keyframes flash{from,50%,to{opacity:1;}25%,75%{opacity:0;}}.flash{animation-name:flash;}@keyframes pulse{from{transform:scale3d(1,1,1);}50%{transform:scale3d(1.05,1.05,1.05);}to{transform:scale3d(1,1,1);}}.pulse{animation-name:pulse;}@keyframes rubberBand{from{transform:scale3d(1,1,1);}30%{transform:scale3d(1.25,0.75,1);}40%{transform:scale3d(0.75,1.25,1);}50%{transform:scale3d(1.15,0.85,1);}65%{transform:scale3d(.95,1.05,1);}75%{transform:scale3d(1.05,.95,1);}to{transform:scale3d(1,1,1);}}.rubberBand{animation-name:rubberBand;}@keyframes shake{from,to{transform:translate3d(0,0,0);}10%,30%,50%,70%,90%{transform:translate3d(-10px,0,0);}20%,40%,60%,80%{transform:translate3d(10px,0,0);}}.shake{animation-name:shake;}@keyframes swing{20%{transform:rotate3d(0,0,1,15deg);}40%{transform:rotate3d(0,0,1,-10deg);}60%{transform:rotate3d(0,0,1,5deg);}80%{transform:rotate3d(0,0,1,-5deg);}to{transform:rotate3d(0,0,1,0deg);}}.swing{transform-origin:top center;animation-name:swing;}@keyframes tada{from{transform:scale3d(1,1,1);}10%,20%{transform:scale3d(.9,.9,.9) rotate3d(0,0,1,-3deg);}30%,50%,70%,90%{transform:scale3d(1.1,1.1,1.1) rotate3d(0,0,1,3deg);}40%,60%,80%{transform:scale3d(1.1,1.1,1.1) rotate3d(0,0,1,-3deg);}to{transform:scale3d(1,1,1);}}.tada{animation-name:tada;}@keyframes wobble{from{transform:none;}15%{transform:translate3d(-25%,0,0) rotate3d(0,0,1,-5deg);}30%{transform:translate3d(20%,0,0) rotate3d(0,0,1,3deg);}45%{transform:translate3d(-15%,0,0) rotate3d(0,0,1,-3deg);}60%{transform:translate3d(10%,0,0) rotate3d(0,0,1,2deg);}75%{transform:translate3d(-5%,0,0) rotate3d(0,0,1,-1deg);}to{transform:none;}}.wobble{animation-name:wobble;}@keyframes jello{from,11.1%,to{transform:none;}22.2%{transform:skewX(-12.5deg) skewY(-12.5deg);}33.3%{transform:skewX(6.25deg) skewY(6.25deg);}44.4%{transform:skewX(-3.125deg) skewY(-3.125deg);}55.5%{transform:skewX(1.5625deg) skewY(1.5625deg);}66.6%{transform:skewX(-0.78125deg) skewY(-0.78125deg);}77.7%{transform:skewX(0.390625deg) skewY(0.390625deg);}88.8%{transform:skewX(-0.1953125deg) skewY(-0.1953125deg);}}.jello{animation-name:jello;transform-origin:center;}@keyframes bounceIn{from,20%,40%,60%,80%,to{animation-timing-function:cubic-bezier(0.215,0.610,0.355,1.000);}0%{opacity:0;transform:scale3d(.3,.3,.3);}20%{transform:scale3d(1.1,1.1,1.1);}40%{transform:scale3d(.9,.9,.9);}60%{opacity:1;transform:scale3d(1.03,1.03,1.03);}80%{transform:scale3d(.97,.97,.97);}to{opacity:1;transform:scale3d(1,1,1);}}.bounceIn{animation-name:bounceIn;}@keyframes bounceInDown{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.610,0.355,1.000);}0%{opacity:0;transform:translate3d(0,-3000px,0);}60%{opacity:1;transform:translate3d(0,25px,0);}75%{transform:translate3d(0,-10px,0);}90%{transform:translate3d(0,5px,0);}to{transform:none;}}.bounceInDown{animation-name:bounceInDown;}@keyframes bounceInLeft{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.610,0.355,1.000);}0%{opacity:0;transform:translate3d(-3000px,0,0);}60%{opacity:1;transform:translate3d(25px,0,0);}75%{transform:translate3d(-10px,0,0);}90%{transform:translate3d(5px,0,0);}to{transform:none;}}.bounceInLeft{animation-name:bounceInLeft;}@keyframes bounceInRight{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.610,0.355,1.000);}from{opacity:0;transform:translate3d(3000px,0,0);}60%{opacity:1;transform:translate3d(-25px,0,0);}75%{transform:translate3d(10px,0,0);}90%{transform:translate3d(-5px,0,0);}to{transform:none;}}.bounceInRight{animation-name:bounceInRight;}@keyframes bounceInUp{from,60%,75%,90%,to{animation-timing-function:cubic-bezier(0.215,0.610,0.355,1.000);}from{opacity:0;transform:translate3d(0,3000px,0);}60%{opacity:1;transform:translate3d(0,-20px,0);}75%{transform:translate3d(0,10px,0);}90%{transform:translate3d(0,-5px,0);}to{transform:translate3d(0,0,0);}}.bounceInUp{animation-name:bounceInUp;}@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}.fadeIn{animation-name:fadeIn;}@keyframes fadeOut{from{opacity:1;}to{opacity:0;}}.fadeOut{animation-name:fadeOut;}@keyframes flipInX{from{transform:perspective(400px) rotate3d(1,0,0,90deg);animation-timing-function:ease-in;opacity:0;}40%{transform:perspective(400px) rotate3d(1,0,0,-20deg);animation-timing-function:ease-in;}60%{transform:perspective(400px) rotate3d(1,0,0,10deg);opacity:1;}80%{transform:perspective(400px) rotate3d(1,0,0,-5deg);}to{transform:perspective(400px);}}.flipInX{backface-visibility:visible !important;animation-name:flipInX;}@keyframes flipInY{from{transform:perspective(400px) rotate3d(0,1,0,90deg);animation-timing-function:ease-in;opacity:0;}40%{transform:perspective(400px) rotate3d(0,1,0,-20deg);animation-timing-function:ease-in;}60%{transform:perspective(400px) rotate3d(0,1,0,10deg);opacity:1;}80%{transform:perspective(400px) rotate3d(0,1,0,-5deg);}to{transform:perspective(400px);}}.flipInY{backface-visibility:visible !important;animation-name:flipInY;}@keyframes spinning{0%{transform:rotate(0deg);}100%{transform:rotate(359deg);}}@keyframes spinning-reverse{0%{transform:rotate(359deg);}100%{transform:rotate(0deg);}}.spinning{animation-name:spinning;animation-timing-function:linear;}.spinning-reverse{animation-name:spinning-reverse;animation-timing-function:linear;}@keyframes rotateIn{from{transform-origin:center;transform:rotate3d(0,0,1,-200deg);opacity:0;}to{transform-origin:center;transform:none;opacity:1;}}.rotateIn{animation-name:rotateIn;}@keyframes rotateInDownLeft{from{transform-origin:left bottom;transform:rotate3d(0,0,1,-45deg);opacity:0;}to{transform-origin:left bottom;transform:none;opacity:1;}}.rotateInDownLeft{animation-name:rotateInDownLeft;}@keyframes rotateInDownRight{from{transform-origin:right bottom;transform:rotate3d(0,0,1,45deg);opacity:0;}to{transform-origin:right bottom;transform:none;opacity:1;}}.rotateInDownRight{animation-name:rotateInDownRight;}@keyframes rotateInUpLeft{from{transform-origin:left bottom;transform:rotate3d(0,0,1,45deg);opacity:0;}to{transform-origin:left bottom;transform:none;opacity:1;}}.rotateInUpLeft{animation-name:rotateInUpLeft;}@keyframes rotateInUpRight{from{transform-origin:right bottom;transform:rotate3d(0,0,1,-90deg);opacity:0;}to{transform-origin:right bottom;transform:none;opacity:1;}}.rotateInUpRight{animation-name:rotateInUpRight;}@keyframes rollIn{from{opacity:0;transform:translate3d(-100%,0,0) rotate3d(0,0,1,-120deg);}to{opacity:1;transform:none;}}.rollIn{animation-name:rollIn;}@keyframes zoomIn{from{opacity:0;transform:scale3d(.3,.3,.3);}50%{opacity:1;}}.zoomIn{animation-name:zoomIn;}@keyframes zoomInDown{from{opacity:0;transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);animation-timing-function:cubic-bezier(0.550,0.055,0.675,0.190);}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(0,60px,0);animation-timing-function:cubic-bezier(0.175,0.885,0.320,1);}}.zoomInDown{animation-name:zoomInDown;}@keyframes zoomInLeft{from{opacity:0;transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);animation-timing-function:cubic-bezier(0.550,0.055,0.675,0.190);}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(10px,0,0);animation-timing-function:cubic-bezier(0.175,0.885,0.320,1);}}.zoomInLeft{animation-name:zoomInLeft;}@keyframes zoomInRight{from{opacity:0;transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);animation-timing-function:cubic-bezier(0.550,0.055,0.675,0.190);}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);animation-timing-function:cubic-bezier(0.175,0.885,0.320,1);}}.zoomInRight{animation-name:zoomInRight;}@keyframes zoomInUp{from{opacity:0;transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);animation-timing-function:cubic-bezier(0.550,0.055,0.675,0.190);}60%{opacity:1;transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);animation-timing-function:cubic-bezier(0.175,0.885,0.320,1);}}.zoomInUp{animation-name:zoomInUp;}@keyframes slideInDown{from{transform:translate3d(0,-100%,0);visibility:visible;}to{transform:translate3d(0,0,0);}}.slideInDown{animation-name:slideInDown;}@keyframes slideInLeft{from{transform:translate3d(-100%,0,0);visibility:visible;}to{transform:translate3d(0,0,0);}}.slideInLeft{animation-name:slideInLeft;}@keyframes slideInRight{from{transform:translate3d(100%,0,0);visibility:visible;}to{transform:translate3d(0,0,0);}}.slideInRight{animation-name:slideInRight;}@keyframes slideInUp{from{transform:translate3d(0,100%,0);visibility:visible;}to{transform:translate3d(0,0,0);}}.slideInUp{animation-name:slideInUp;}@keyframes lightSpeedIn{from{transform:translate3d(100%,0,0) skewX(-30deg);opacity:0;}60%{transform:skewX(20deg);opacity:1;}80%{transform:skewX(-5deg);opacity:1;}to{transform:none;opacity:1;}}.lightSpeedIn{animation-name:lightSpeedIn;animation-timing-function:ease-out;}"]),LC=function(i){var t=(0,Gr.$s)(i).cid,n=(0,Gr.D)(t),e=(0,y.o)(n);return e},NC=function(i,t,n,e,o,s){var l=o.isMobile,p=o.isEmbedV1,v=o.isEmbedV2,M=o.isSquare,j=s.isShellShow,Z=s.isImmersive,W=s.scale,X=l||p||(v||M)&&e==="device",J=Z||e!=="device",_=(v||M)&&e!=="device",te;if(X){var ne=p||v,ie=ne&&LC(n.cid).orientation==="landscape",se=ie?[t.height,t.width]:[t.width,t.height],Se=window.innerWidth,Te=window.innerHeight;if(ne&&(Se=se[0],Te=se[1]),(v||M)&&!l){var Le=i.orientation==="landscape"?[t.height,t.width]:[t.width,t.height],ke=(0,F.Z)(Le,2);Se=ke[0],Te=ke[1]}var nt=v&&!l||p||M?{width:Se,height:Te}:{width:window.innerWidth,height:window.innerHeight},it=nt.width,ct=nt.height,de=it/i.width,ue=i.width,ge=ct,$e=0;i.height*de<ct&&(ge=i.height*de,$e=Math.floor(Math.max((ct-ge)/2,0))),i.width===n.width&&nt.width<nt.height&&(ge=Math.min(n.height*de,ct),$e=Math.floor(Math.max((ct-ge)/2,0))),te={width:ue,height:ge/de,transform:"scale("+de+")",marginTop:$e}}else if(_){var Ye=W/100,Xe=i.orientation==="landscape",ut=Xe?t.width:t.height;e!=="device"&&(ut=Math.min(ut,i.height)),te={width:i.width,height:i.height,marginBottom:(window.innerHeight-ut*Ye)/2/Ye}}else if(J)te={width:i.width,height:i.height};else{var dt=i.width,mt=0;j?(n.height===i.width&&(mt=n.width),n.width===i.width&&(mt=n.height)):mt=i.height;var Nt=dt,Bt=mt;te={width:Nt,height:Bt}}return te},RC=ze.default.div.withConfig({displayName:"style__StyledSimulator",componentId:"sc-1w830co-0"})(["transform-origin:top left;background-size:100% 100%;position:relative;z-index:4;&.iphone,&.android{cursor:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABblBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBQX////////////////////////////////////////////////////////////////////////////+/v7///8CAgL///////////8AAAAAAAD///////////////////////////8AAAADAwP///////////8AAAD///////////8BAQH///8AAAD////t7e3///8DAwNDQ0MkJCQXFxcgICDl5eX8/Pz8/Pz19fW4uLj///+0tLSurq7////AwMChoaFZWVlAQECqqqqfn591dXVqampOTk4vLy/q6urx8fHr6+vg4ODa2trz8/POzs7CwsLKysr19fXg4OC7u7v////k5OT09PT///////+ysrL////39/fn5+eWlpbT09PLy8u5ubmamprS0tKzs7Obm5stLS1WVlbJycnX19dISEiZmZnPz8/R0dGZmZlISEjBwcG/v7/YpJ28AAAAenRSTlMAAwYLEg4XCS8tNzJEST81KiglIyBCR049OhgbTB0WVBMUGhBYVg4eC1EmIwlcBykcY14sOyBSBVovNzEtNZ6MhXx4dHRualxMPz0SYkdGMjCqo6Ccl5KMiYaFhXx7eXhvbWdgX19eU0pGOjIvLBwaFxMTBXBvZDwdHMsX0GIAAAKhSURBVEjHpZYHk5pAFICTCHheNP1OjSEGYnIRgmjQE3vv9XrvvbfUf59d6nkI7sx9w4yF/ea9XZb39skwnuoY7pkMf6aBYEnj7TYbLmGz2eySZimA8TiGUYQERWFAkyQrAcMImmQZXhB4hiVJGlgg1HBHFiia5LvlpYXszEx2Yanc5WM0ASTZMRogJTr2Z31+NpffKG1vlzbyudn59SZLEpgcyGhgBJkqzuVK1YhGtZSbK2ZiNIZLjtFg29l8NfJjgEg1n/3N0BR0jAZTXNzZ4zhR5EROQ+T2dhaLAvnQkYz+8mpEDAxBjKyupKADUtMNO04wKwXuiwlcYVkgMbhuelo4xZa3RL8p4laZp6FzLy3ysBCYhgSngyrgq/Y7UDhkCZiaEgSklVoLuC0JrGWk1LQgscq++4Ml7v0Ko4WBQZKbQdcI3JtNKYw6k4rfNTkCl78CZqMqFPPT5RyJ65dAYyAzqOBE48A5MRLnQUPKDE4Fo9uTLxCYbMdgZvJ67To9UU8UXB4z4P2JXUZVKLbm8UKi3ii4vGZ4ajyN22WFqUXHEYjWwPwVhT8af4nA+FFCV46fI3GsK8zJGBInemJsfcyBwFhdmz4WqzteIeCog0VWH2XH8RoBRwc+SmXDJM/eIHCmbGV5/qdvETjVtiXc/J13CHTh5tdesdR5eCoMrikD4E8I+DjX3mR5zRo+C8K+cNjna9x7kWGY9MX7EVzoQZTZJP9+tORfUy1KeulLXn+y4Dqplz69wPZuPpty01MK7GAZ53utrya0koJcxg3Not/6NpRW39AsVIdNXYW+GwhdZbSWZHRIIX0bDw0Qv00l1MZn0l4T6Uv7XVzhzn6ZTmjt1aKJJ9JgFI5TJJtOGJs4+lHhsQcS9GPP4w9X6Ee4/9WZxSosYtQDAAAAAElFTkSuQmCC') 25 25,default;&:active{cursor:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAA51BMVEUAAADu7u7t7e3s7Ozl5eXr6+vq6uro6OgAAAAAAADt7e3s7Ozq6uro6Ojs7Ozp6enm5ubk5OTv7+/n5+fv7+/v7+/q6uri4uLh4eHs7Ozp6enw8PDf39/v7+/h4eHx8fHw8PDi4uLd3d3v7+/o6Ojw8PDm5ubr6+soKCi/v7/l5eXx8fHw8PDa2trx8fHAwMCZmZlmZmbHx8e5ubnh4eHOzs66urro6Ojc3NzAwMDc3NzZ2dnm5ubk5OTW1tbS0tLLy8vQ0NC0tLSvr6+MjIyCgoLf39/i4uLs7Ozh4eHW1tbPz8/q6uojhl1DAAAATXRSTlMAgHlyVG1qWwcCfHRoYG9hV1GGXYOMZktJd2STRIhGlpBNQY5YmVJ/DGJNmoiGjmYoFHBbjHNgk4J4m5GMf316eXhKSB8cdp6Xko6GhVNXB78AAAI1SURBVEjH3ZZrd6IwEIa3oJKoKHZbVIpaVmRBF1FAvF/qrdf//3t2kGVDBJXPfTKZzHvkPTkcJMOP7w7GCOk6QhinvB4NnNHKfH83VyNngPBtw8EwF6zEaYqicRK7MI0Dvm4YGi6r1mT51wlZrqmsawyvmNDWZbUmXE+Qm1rJ3aKLDmOpVuUYNXVpXPDo04LWTKJWKWz0xD022UotgSrMSnaKEhxWtlINUKoxKkcr5sHbpaB0u0pXAbpBRLWw3OIzy3DCaRUaWnPm8GwTS8qEaBBhpWmQAiSL3mY/4TJCBiJEEE7an/80N9nTm4iqKqgCAAsARaiDCUmktkFrnrsJv0YRy+DI/6TgSfZToI4D4sBGkefLfEBYxLVoYGKxi+WyVP6PBCMIyS9DRJtY0KgoiREkUZIgwxLUgP97cYSI5SVXjCDCSCL3Qiz6KpeKlU4s62wq1sSCRmypBHEiVhEdvRebTYVNLNiuF1JQtzGxOHWmDsEw/upXydrBkT/MhGGYPHOd/GRAHPBg8imAx0LA3t3d7zAgwfDTmfYw9YqZdzcx9/SL7Hw9+Nw/EM70F9w8xdC8j9MIkw8cFzR45zYaf4LwEyy0dnc4dvR5i8crLJyk43L62O63n2Ge6Pfb4QDGNko+xsfPNE/+9PN4ql9qFuOnRMbe5Qazm7+1YrzNd+hq45u1er1Op9fqQG71Oq3ODBrfjfZqfbyCpQcWiNcP64DTNHFv8zmfzeafG4808fSfCt+cvwzTdVIzvwMmAAAAAElFTkSuQmCC') 25 25,default;}}.panel .tree-node{pointer-events:auto;}.invisible{pointer-events:none;*{pointer-events:none !important;}}.panel{transform:translateX(0);.panel-scroll-box{position:relative;width:100%;height:100%;overflow:hidden;}&.panelShow{overflow:visible;.panel-scroll-box{overflow:visible !important;.pstate{overflow:visible !important;}}}&.panelHidden{overflow:hidden;.panel-scroll-box{overflow:hidden;width:100% !important;height:100% !important;.pstate{overflow:hidden;}}}&.panelScrollX{overflow:hidden;.panel-scroll-box{overflow:hidden;height:100% !important;.pstate{overflow:hidden;}}}&.panelScrollY{overflow:hidden;.panel-scroll-box{overflow:hidden;width:100% !important;.pstate{overflow:hidden;}}}}.lr{background:transparent;opacity:1;border:none;}.clickable > .region{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(255,195,16,0.2);z-index:100;display:none;background-repeat:no-repeat;background-position:50%;border:1px solid #ff7100;}.pg{display:none;left:50%;margin-left:-20px;z-index:110;justify-content:center;align-items:center;&.stap{top:10px;}&.sleft{top:60px;}&.sright{top:120px;}&.sup{top:180px;}&.sdown{top:240px;}&.sshake{top:300px;}&.sdtap{top:300px;}}#app{width:100%;height:100%;position:absolute;background-size:100% auto;z-index:1;transform:translate(0,0);overflow:hidden;.pstate{position:absolute;overflow:hidden;width:100%;height:100%;z-index:1;}.pcanvas{display:flex;flex-direction:column;.screen-header,.screen-footer{position:relative;overflow:hidden;}.screen-footer{.footer-widgets{position:absolute;top:0;left:0;width:100%;height:100%;}}.screen-content{position:relative;flex:1;overflow:hidden;.iScrollVerticalScrollbar{z-index:2147483647 !important;}}}.pcanvas,.pstate{transition:unset !important;z-index:1;width:100%;height:100%;max-height:100%;position:absolute;left:0;top:0;background-color:transparent;background-repeat:repeat;background-position:top left;background-size:100% auto;overflow:hidden;.widgets{width:100%;height:100%;position:relative;overflow:hidden;.scontainer{position:absolute;overflow:hidden;width:100%;}}&.mouseAble{pointer-events:auto;}}}&.is-outside-visible{#app{overflow:visible;.pcanvas{overflow:visible;.screen-header,.screen-footer{overflow:visible;}.screen-content{overflow:visible;.widgets{overflow:visible;.scontainer{overflow:visible;}}}}}}&.is-mobile{#app{overflow:visible;.pcanvas{overflow:visible;}}.panel{overflow:auto;&.panelShow{overflow:visible;}}.map_view .image{overflow:auto;}}"]),jC=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"shouldHasBorderRadius",function(o,s){return!o||s!=="device"?!1:!!o.includes("iphone_14")}),e.state={homeScreen:n.screen},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this,o=this.props,s=o.previewOptions,l=o.isImmersive,p=s.isMobile;if(p){var v=function(){setTimeout(function(){e.forceUpdate()},100)},M="onorientationchange"in window?"orientationchange":"resize";window.addEventListener(M,v,!1)}MB.runnerController.initEventHandler(document.querySelector("#app"),{isImmersive:l,isMobile:p})}},{key:"render",value:function(){var e=this.props,o=e.project,s=e.screen,l=e.screenGlue,p=e.scale,v=e.bgcolor,M=e.isImmersive,j=e.isShowSplash,Z=e.isPanelPreviewMode,W=e.isShellShow,X=e.simulatorType,J=e.previewOptions,_=this.state.homeScreen,te=J.isMobile,ne=o.splash,ie=ne===void 0?"":ne,se=(0,L.Z)({backgroundColor:v},NC(s,l,o,X,J,{isShellShow:W,isImmersive:M,scale:p})),Se=(0,ao.Wi)(s,o.device),Te=X==="outside_artboard",Le=M||X!=="device";te&&(Se+=" is-mobile"),Te&&Le&&(Se+=" is-outside-visible");var ke=this.shouldHasBorderRadius(o==null?void 0:o.model,X);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(RC,{id:"simulator",className:Se,style:se,children:[(0,g.jsx)("div",{id:"app",style:{borderRadius:ke?"12px":void 0},children:(0,g.jsx)(aC,{})}),j&&(0,g.jsx)(sC,{homeScreen:_,url:ie,isPanelPreviewMode:Z}),(0,g.jsx)(DC,{}),te&&(0,g.jsx)(OC,{})]}),te&&(0,g.jsx)(IC,{previewOptions:J})]})}}]),t}(h.PureComponent),kC=function(i){return i.container.artboards.isShowSplash},rl=(0,U.connect)(function(a){var i=(0,re.CL)(a),t=(0,re.vo)(a),n=(0,re.ku)(a),e=(0,re.gz)(a),o=kC(a),s=(0,re.GP)(a),l=(0,re.yT)(a),p=(0,re.HR)(a),v=(0,re.z7)(a),M=(0,re.Wf)(a);return{bgcolor:M,screen:i,project:t,screenGlue:n,previewOptions:s,isImmersive:e,isShowSplash:o,isPanelPreviewMode:l,simulatorType:p,scale:v}})(jC),hf=c(79075),BC=c(56099),CM=c(62075);function ZC(a,i){var t=document.querySelector("#canvas").getBoundingClientRect(),n=itemsGetBoundingRect(a),e=n.x,o=n.y,s=n.w,l=n.h;return{left:e*i+t.left,top:o*i+t.top,right:(e+s)*i+t.left,bottom:(o+l)*i+t.top,width:s*i,height:l*i}}function wM(a,i){var t=document.querySelector(".screen-viewport > .zoom-area").getBoundingClientRect(),n=ZC(a,i);return{x:t.left+t.width/2-(n.left+n.width/2),y:t.top+t.height/2-(n.top+n.height/2)}}var EM=function(i){var t=i.width,n=i.height,e=i.scale,o=e/100,s=document.querySelector("#canvas").getBoundingClientRect(),l=document.querySelector(".mb-viewport").getBoundingClientRect(),p={x:(l.left+l.right)/2,y:(l.top+l.bottom)/2},v={x:(p.x-s.left)/o,y:(p.y-s.top)/o};return{top:Math.round(v.y-n/2),left:Math.round(v.x-t/2)}},AM=function(i){var t=document.querySelector("#mb-layer-panel .rn-content-body"),n=document.querySelector("#mb-layer-panel [data-cid="+i+"]");if(!(!t||!n)){var e=t.getBoundingClientRect(),o=e.height,s=e.top,l=n.getBoundingClientRect(),p=l.top-s>=o,v=l.top<s;(p||v)&&(t.scrollTop+=l.top-s)}},FC=function(i,t){if(!(!i||!t)){var n=i.getBoundingClientRect(),e=n.top,o=n.bottom,s=t.getBoundingClientRect(),l=s.bottom>=o,p=s.top<e;(l||p)&&(i.scrollTop+=s.top-e)}},UC=function(i,t){t===void 0&&(t=!1),setTimeout(function(){var n=t?".annotatePanel.preview":".annotatePanel",e=document.querySelector(n+" .panel-container"),o=document.querySelector(n+" [data-cid="+i+"]");FC(e,o)},200)},HC=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleHover",function(l){var p=n.props,v=p.widget.bind_widget_cid,M=p.dispatch;v&&M({type:"reducer:set:annotateHoverCid",payload:{annotateHoverCid:l?v:null}})}),(0,f.Z)((0,ae.Z)(n),"handlePointerDown",function(){var l=n.props,p=l.widget,v=l.dispatch;v({type:"reducer:set:annotateSelectWidgetCid",payload:{annotateSelectWidgetCid:p.cid}}),v({type:"reducer:set:update:preview:annotate",payload:{annotatePanelShow:!0}}),UC(p.cid,!0),_t("\u9009\u4E2D\u6C34\u6EF4")}),(0,f.Z)((0,ae.Z)(n),"handleClickOutSide",function(){var l=n.props.dispatch;l({type:"reducer:set:annotateSelectWidgetCid",payload:{annotateSelectWidgetCid:""}})}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.widget,s=e.annotateSelectWidgetCid,l=e.scale,p=e.indexNumber,v=s===o.cid,M=(0,Ur.ov)(o,{isPreview:!0}),j=o.width,Z=o.height,W=(0,Ur.qQ)(o,{isPreview:!0}),X=100/l,J="scale("+X+")",_=(0,L.Z)((0,L.Z)({},W),{},{transform:J,opacity:1,width:j,height:Z,pointerEvents:"auto"});return(0,g.jsx)("div",{"data-cid":o.cid,id:"widget"+o.cid+"p",className:M,style:_,children:(0,g.jsx)(BC.w,{widget:o,isSelect:v,number:p,onHover:this.handleHover,onPointerDown:this.handlePointerDown,onClickOutSide:this.handleClickOutSide})},o.cid)}}]),t}(h.PureComponent),MM={},vf=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.screenMeta,s=e.itemList,l=e.scrollTop,p=e.annotateSelectWidgetCid,v=e.scale,M=e.dispatch,j=[],Z={},W=[];s.forEach(function(_){_.name==="sticky"?j.push(_):_.name==="link"?Z[_.cid]=_:_.name===Q.l.Annotate&&W.push(_)});var X=j.map(function(_){return(0,L.Z)((0,L.Z)({},_),{},{links:(0,qa.TA)(Z,_.link_cids)})}),J=W.sort(function(_,te){return _.ctime-te.ctime});return(0,g.jsx)("div",{id:"sticky-container","data-cid":o.cid,className:ot()({pcanvas:j.length>0}),onClick:this.handleClick,children:(0,g.jsxs)("div",{style:{marginTop:l||0},children:[X.map(function(_){return(0,g.jsx)(mf,{sticky:_},_.cid)}),J.map(function(_,te){return(0,g.jsx)(HC,{indexNumber:te+1,widget:_,annotateSelectWidgetCid:p,scale:v,dispatch:M},_.cid)})]})})}}]),t}(h.PureComponent);(0,f.Z)(vf,"propTypes",{screenMeta:u().object,scrollTop:u().number,itemList:u().array,annotateSelectWidgetCid:u().string,scale:u().number,dispatch:u().func});var WC=!0,mf=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleClick",function(l){var p=n.props.sticky;p.link_cids&&MB.runnerController.prepareJump(l,["tap","click"])}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props.sticky,o=(0,Ur.ov)(e,{links:e.links,isPreview:WC}),s=(0,L.Z)((0,L.Z)((0,L.Z)({},(0,Ur._3)(e)),(0,hf.Ex)(e)),{},{position:"absolute",top:e.top,left:e.left,width:e.width,height:e.height});return(0,g.jsx)("div",{"data-cid":e.cid,"data-link_cid":e.link_cids,id:"widget"+e.cid+"p",className:o,style:s,onClick:this.handleClick,children:(0,g.jsx)(hf.bv,{widget:e,onCopy:function(){return _t("\u5361\u7247\u6279\u6CE8\u5185\u5BB9\u590D\u5236")}})},e.cid)}}]),t}(h.PureComponent);(0,f.Z)(mf,"propTypes",{sticky:u().object});var zC=function(i){var t=(0,re.CL)(i),n=(0,re.Uq)(i),e=n.screenInfoMap,o=n.screenScrollTopMap,s=(0,re.gi)(i),l=(0,re.aS)(i),p=(0,re.yZ)(i);return{screenMeta:s[t.cid],screenInfo:e[t.cid],scrollTop:o[t.cid],annotateSelectWidgetCid:l,scale:p}},gf=(0,h.memo)(function(a){var i=a.screenMeta,t=a.screenInfo,n=a.scrollTop,e=a.annotateSelectWidgetCid,o=a.scale,s=a.dispatch;if(!(i&&t))return null;var l=t.stateCid,p=t.screenRuntimeState.itemListMap[l],v=[];return p.forEach(function(M){if(M.name==="panel"){var j=t.panelInfoMap[M.cid],Z=j.currentScreenStateCid,W=j.currentScreenMetaCid;if(!j)return;var X=[],J=j.screenDataMap[W];if(!J||(X=J.screenRuntimeState.itemListMap[Z],!X))return;v=[].concat((0,Jt.Z)(v),(0,Jt.Z)(X.filter(function(_){return _.name==="sticky"}).map(function(_){var te=_.point||[0,0],ne=(0,F.Z)(te,2),ie=ne[0],se=ne[1];return(0,L.Z)((0,L.Z)({},_),{},{top:M.top+_.top,left:M.left+_.left,point:_.point?[M.left+ie,M.top+se]:void 0})})))}}),i&&(0,g.jsx)(vf,{screenMeta:i,itemList:[].concat((0,Jt.Z)(p),(0,Jt.Z)(v)),scrollTop:n,annotateSelectWidgetCid:e,scale:o,dispatch:s},i.cid)});gf.propTypes={scrollTop:u().number,annotateSelectWidgetCid:u().string,scale:u().number,screenMeta:u().object,screenInfo:u().object,dispatch:u().func};var yf=(0,U.connect)(zC)(gf),PM={},$C=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"state",{isDraggingCanvas:!1}),(0,f.Z)((0,ae.Z)(n),"handleKeyDown",function(l){var p=n.props.dispatch,v=l.target.matches("input")||l.target.matches("textarea"),M=l.keyCode===32;M&&!v&&(l.preventDefault(),p({type:"preview:set:key:flags",payload:{isSpaceDown:!0}}))}),(0,f.Z)((0,ae.Z)(n),"handleKeyUp",function(){n.props.dispatch({type:"preview:reset:key:flags"})}),(0,f.Z)((0,ae.Z)(n),"handleMouseDown",function(l){var p=n.props.isSpaceDown;(l.button===1||p)&&n.initDraggingCanvas(l)}),(0,f.Z)((0,ae.Z)(n),"handleScaleChange",function(l){n.props.dispatch({type:"entry:preview:set:scale",payload:{scale:l}})}),(0,f.Z)((0,ae.Z)(n),"handleOffsetChange",function(l,p){n.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:{x:l,y:p}}})}),n}return(0,S.Z)(t,[{key:"initDraggingCanvas",value:function(e){var o=this,s=e.clientX,l=e.clientY,p=this.props.canvasOffset,v=p.x,M=p.y;this.setState({isDraggingCanvas:!0});var j=function(X){var J={x:v+(X.clientX-s),y:M+(X.clientY-l)};o.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:J}})},Z=function W(){o.setState({isDraggingCanvas:!1}),document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",W)};document.addEventListener("mousemove",j),document.addEventListener("mouseup",Z)}},{key:"render",value:function(){var e=this.props,o=e.scale,s=e.canvasOffset,l=e.project,p=e.screenGlue,v=e.screen,M=e.isSpaceDown,j=e.isStickyShow,Z=e.isStickyAvailable,W=e.simulatorType,X=e.isShowShell,J=e.bgcolor,_=e.isLayerActive,te=e.isCommentActive,ne=e.isFullScreenMode,ie=e.isPreviewActive,se=e.isHTMLZip,Se=this.state.isDraggingCanvas,Te=s.x,Le=s.y,ke=_||te,nt=ke||!X||W!=="device"?"none":(0,Na.uL)(l),it=!ke&&(0,ao.SZ)({screenGlue:p,screen:v,project:l}),ct=v.orientation==="landscape"||v.width===l.height,de=[v.width,ct?p.width:p.height],ue=de[0],ge=de[1],$e=Z&&j&&!te,Ye={width:ue,height:ge,minWidth:ue,minHeight:ge,transform:"matrix(1, 0, 0, 1, "+Te+", "+Le+")"},Xe={transform:"scale("+o/100+")"},ut={width:o+"%",height:o+"%"},dt={width:v.width*o/100,height:v.height*o/100},mt=ot()({"wait-drag":M||Se,"is-immersive":ke,"is-comment-active":te,"is-screen-expanded":ke||W!=="device","is-fullscreen-mode":ne}),Nt={backgroundColor:ne?"unset":J||"unset"};return(0,g.jsxs)(cx.Z,{x:Te,y:Le,scale:o,style:Nt,id:"simulator-container",className:mt,isDisabled:Se,onMouseDown:this.handleMouseDown,onScaleChange:this.handleScaleChange,onOffsetChange:this.handleOffsetChange,children:[function(Bt,Wt,Gn){return(0,g.jsxs)("div",{className:"screen-viewport",style:Ye,children:[(0,g.jsxs)("div",{className:"zoom-area",style:Xe,children:[(0,g.jsx)(rl,{isShellShow:it}),it&&(0,g.jsx)(Xs,{isHTMLZip:se,project:l,shellType:nt,isLandscape:ct}),$e&&(0,g.jsx)(yf,{})]}),(0,g.jsx)("div",{className:"no-zoom-area-wrapper",style:ut,children:(0,g.jsxs)("div",{className:"no-zoom-area",style:ie&&W==="device"?{}:dt,children:[(0,g.jsx)(Jx,{}),(0,g.jsx)("div",{id:"ui-comment-marker-panel",children:(0,g.jsx)(tg,{isActive:te,scale:Gn/100})})]})})]},"1")},(0,g.jsx)(Wn.ZP,{target:document,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp})]})}}]),t}(h.PureComponent),Sf=(0,U.connect)(function(a){var i=a.container.common,t=i.offset,n=i.keyFlags.isSpaceDown,e=(0,re.GP)(a),o=e.isHTMLZip,s=(0,re.z7)(a),l=(0,re.CL)(a),p=(0,re.vo)(a),v=(0,re.ku)(a),M=(0,re.NK)(a),j=(0,re.EZ)(a),Z=(0,re.XL)(a),W=(0,re.nB)(a),X=W.isPreview,J=W.isInspect,_=W.isComment,te=(0,re.HR)(a),ne=(0,re.ki)(a),ie=(0,re.Wf)(a);return{scale:s,bgcolor:ie,canvasOffset:t,screen:l,project:p,screenGlue:v,simulatorType:te,isSpaceDown:n,isStickyShow:j,isPreviewActive:X,isLayerActive:J,isCommentActive:_,isFullScreenMode:Z,isHTMLZip:o,isShowShell:ne,isStickyAvailable:M}})($C),bf=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"initCollapseKeySet",function(){var o=e.props,s=o.activeCid,l=o.screenTreeData,p=(0,In._i)(s,l),v=new Set(p.map(function(M){var j=M.cid;return j}));e.setState({collapseKeySet:v})}),(0,f.Z)((0,ae.Z)(e),"handleSelectScreenMeta",function(o,s){var l=e.props,p=l.activeCid,v=l.dispatch,M=(0,In.Vx)(s);M||(p===s.cid?e.handleScreenMetaExpand(s):v({type:"entry:sync-runner:set-screen",payload:{cid:s.cid}}))}),(0,f.Z)((0,ae.Z)(e),"handleScreenMetaExpand",function(o){var s=o.cid,l=e.state.collapseKeySet,p=new Set(l);l.has(s)?p.delete(s):p.add(s),e.setState({collapseKeySet:p})}),(0,f.Z)((0,ae.Z)(e),"backHeader",function(o,s){return(0,g.jsxs)("div",{className:"theHeader",children:[(0,g.jsx)("div",{className:"backBtn","data-value":"",onClick:s,children:(0,g.jsx)(Et.q,{name:"preview/menu/back",className:"backIcon"})}),(0,g.jsx)("div",{className:"headerTitle",children:(0,g.jsx)("div",{className:"headerName",children:o})})]})}),(0,f.Z)((0,ae.Z)(e),"renderScreenMetaItem",function(o){var s=o.depth,l=o.screenMeta,p=o.hasScreenMetaChildren,v=o.collapseScreenMetaCidSet,M=o.activeScreenMetaCid,j=o.dispatch,Z=e.props,W=Z.runnerState,X=Z.theme,J=l.cid,_=M===J,te=v.has(J),ne=p||(0,In.Vx)(l);return(0,g.jsx)(qs,{theme:X,depth:s,screenMeta:l,isActive:_,isExpand:te,showExpander:ne,actionProps:e.literalActionProps,dispatch:j,runnerState:W})}),e.state={collapseKeySet:new Set},e.literalActionProps={onExpand:e.handleScreenMetaExpand,onSelect:e.handleSelectScreenMeta},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.initCollapseKeySet()}},{key:"render",value:function(){var e=this.props,o=e.activeCid,s=e.screenTreeData,l=e.onBack,p=e.projectName,v=e.isWonderShare,M=e.runnerState,j=e.dispatch,Z=e.isStatePanelShow,W=this.state.collapseKeySet;return(0,g.jsxs)(g.Fragment,{children:[!Z&&(0,g.jsxs)(lf,{children:[this.backHeader(p,l),(0,g.jsx)("div",{className:ot()("screen-list",{"when-ws":v}),children:(0,g.jsx)(us,{collapseScreenMetaCidSet:W,activeScreenMetaCid:o,isExpandTree:!1,screenTreeData:s,renderScreenMetaItem:this.renderScreenMetaItem,dispatch:j})})]}),M.activeCid!==""&&(0,g.jsx)(df,{})]})}}]),t}(h.PureComponent);(0,f.Z)(bf,"propTypes",{theme:u().string,isWonderShare:u().bool,activeCid:u().string,screenTreeData:u().object,dispatch:u().func,onBack:u().func,projectName:u().string,runnerState:u().object,isStatePanelShow:u().bool});var GC=(0,an.P1)([re.gh,re.Kv,re.CL,re.Uq,re.d9],function(a,i,t,n,e){var o=t.cid;return{screenTreeData:i,activeCid:o,runnerState:n,isStatePanelShow:e,theme:a}}),VC=(0,U.connect)(function(a){return GC(a)})(bf),xf=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),e.el=document.createElement("div"),e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){return(0,b.createPortal)(this.props.children,this.el)}}]),t}(h.PureComponent);(0,f.Z)(xf,"propTypes",{children:u().element});var KC=ze.default.div.withConfig({displayName:"styles__StyledSharingPanel",componentId:"sc-2l9svj-0"})(["flex:1;width:100%;.theHeader{width:100%;display:flex;align-items:center;justify-content:flex-start;height:68px;border-bottom:1px solid #dbdbdb;.backBtn{padding:20px;.backIcon{height:18px;width:18px;color:#fff;}}.headerTitle{display:flex;flex-direction:column;justify-content:space-between;.headerName{color:#353b48;font-weight:bold;font-size:16px;color:#415058;}.headerIntro{margin-top:4px;font-weight:none;font-size:12px;color:#8D9EA7;}}}.mb-sharing-list{width:100%;overflow-x:hidden;overflow-y:auto;height:245px;}"]),YC=ze.default.ul.withConfig({displayName:"styles__StyledStateList",componentId:"sc-1j3ri67-0"})(["&,ol,li{list-style:none;}"]),XC=ze.default.div.withConfig({displayName:"styles__StyledStateItem",componentId:"sc-1j3ri67-1"})(["display:flex;align-items:center;height:58px;border-bottom:1px solid #DBDBDB;margin-left:16px;font-weight:",";.state-name{display:flex;align-items:center;width:100%;height:100%;font-size:16px;color:#333;height:26px;padding-left:22px;}.page-size{display:flex;align-items:center;font-size:16px;color:#8D9EA7;height:26px;width:50px;margin-right:20px;}"],function(a){return a.isActive?"700":""});function QC(a){var i=a.sharingList,t=a.pageCidList,n=a.activeSharing;return(0,g.jsx)(YC,{children:(i==null?void 0:i.length)>0?i.map(function(e,o){return(0,g.jsx)(JC,{sharing:e,pageCidList:t,activeSharing:n},o)}):(0,g.jsx)(_C,{})})}function JC(a){var i=a.sharing,t=a.pageCidList,n=a.activeSharing,e=function(){n({sharing:i,isShowSharingLinkPage:!0})};return(0,g.jsxs)(XC,{onClick:e,children:[(0,g.jsx)("div",{className:"state-name",children:i.link_name}),(0,g.jsx)("div",{className:"page-size",children:(0,Pi.F2)({pageCidList:t},i,I18N)})]})}function _C(){return(0,g.jsxs)(qC,{children:[(0,g.jsx)("img",{className:"top",src:"/mb-workspace/images/sharing/mobile_no_sharing.png"}),(0,g.jsx)("span",{className:"center",children:"\u65E0\u53EF\u7528\u5206\u4EAB"}),(0,g.jsx)("span",{className:"bottom",children:"\u8BF7\u5148\u5728Web\u7AEF\u6216\u684C\u9762\u5BA2\u6237\u7AEF\u521B\u5EFA"})]})}var qC=ze.default.div.withConfig({displayName:"StateList__StyledNoSharing",componentId:"sc-10jg6dj-0"})(["display:flex;justify-items:center;align-items:center;flex-direction:column;.top{width:108px;margin-top:32px;}.center{color:'#415058';font-size:16px;margin-top:24px;}.bottom{color:'#7D8B94';font-size:12px;margin-top:8px;}"]),ew=ze.default.div.withConfig({displayName:"styles__StyledSharingSetting",componentId:"sc-azj1vv-0"})(["flex:1;display:flex;flex-grow:1;flex-direction:column;.theHeader{display:flex;align-items:center;justify-content:flex-start;height:68px;color:#415058;border-bottom:1px solid #dbdbdb;.backBtn{padding:20px;.backIcon{height:18px;width:18px;}}}.headerTitle{display:flex;flex-direction:column;justify-content:space-between;.headerName{color:#353b48;font-weight:bold;font-size:16px;color:#415058;}.headerIntro{margin-top:4px;font-weight:none;font-size:12px;color:#8D9EA7;}}}.line{border-bottom:1px solid #dbdbdb;margin-left:16px;}.contentItem{display:flex;flex-direction:row;justify-content:flex-start;margin:20px 16px 16px 16px;.sharingBlock{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:0 24px 0 0;.sharingIconUp{border-radius:10px;height:56px;width:56px;margin-bottom:8px;display:flex;align-items:center;justify-content:center;margin-top:4px;&.wechat{background-color:#57BA40;}&.circle{background-color:#5CC0A5;}.blockIconUp{height:36px;width:36px;}}.sharingIcon{border-radius:10px;background-color:white;height:60px;width:60px;margin-bottom:8px;display:flex;align-items:center;justify-content:center;border:1px solid #F2F2F2;.icon-color{stroke:rgb(91,107,115);}.blockIcon{height:36px;width:36px;}}.sharingName{font-size:12px;color:#7D8694;}}}"]),tw=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"onBack",function(){var l=n.props,p=l.isMultiLink,v=l.onBackSetting;p?n.props.setActivedSharing({sharing:void 0,isShowSharingLinkPage:!1}):v()}),(0,f.Z)((0,ae.Z)(n),"circleIcon",function(l,p,v,M,j){return(0,g.jsxs)("div",{className:"sharingBlock",onClick:j,children:[(0,g.jsx)("div",{className:"sharingIconUp "+M,children:(0,g.jsx)(Et.q,{isColorPure:!0,name:v,className:"blockIconUp"})}),(0,g.jsx)("div",{className:"sharingName",children:l})]})}),(0,f.Z)((0,ae.Z)(n),"shareToWX",function(){var l=n.props,p=l.currentSharing,v=l.project,M=window.location.origin+"/app/"+p.access_token;MB.messageBucket.send("shareToWX",JSON.stringify({url:M,project:v,shareName:p.link_name}))}),(0,f.Z)((0,ae.Z)(n),"shareToWXMoments",function(){var l=n.props,p=l.currentSharing,v=l.project,M=window.location.origin+"/app/"+p.access_token;MB.messageBucket.send("shareToWXMoments",JSON.stringify({url:M,project:v,shareName:p.link_name}))}),(0,f.Z)((0,ae.Z)(n),"copyLinkAddress",function(){var l=n.props.currentSharing,p=window.location.origin+"/app/"+l.access_token;MB.messageBucket.send("copyLinkAddress",JSON.stringify({url:p,shareName:l.link_name}))}),(0,f.Z)((0,ae.Z)(n),"otherIcon",function(l,p,v){return(0,g.jsxs)("div",{className:"sharingBlock",onClick:n.copyLinkAddress,children:[(0,g.jsx)("div",{className:"sharingIcon",children:(0,g.jsx)(Et.q,{isColorPure:!0,name:v,className:"blockIcon"})}),(0,g.jsx)("div",{className:"sharingName",children:l})]})}),(0,f.Z)((0,ae.Z)(n),"shareHeader",function(){return(0,g.jsxs)("div",{className:"theHeader",children:[(0,g.jsx)("div",{className:"backBtn","data-value":"",onClick:n.onBack,children:(0,g.jsx)(Et.q,{name:"preview/menu/back_state",className:"backIcon"})}),(0,g.jsxs)("div",{className:"headerTitle",children:[(0,g.jsx)("div",{className:"headerName",children:I18N.pPreview.mobileMenu.share}),(0,g.jsx)("div",{className:"headerIntro",children:I18N.pPreview.mobileMenu.shareTo})]})]})}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isOnPremises,s=e.isWonderShare,l=e.isMultiLink;return(0,g.jsxs)(ew,{children:[this.shareHeader(),l?!o&&!s&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"contentItem",children:[this.circleIcon(I18N.pPreview.mobileMenu.weChat,null,"preview/menu/wechat","wechat",this.shareToWX),this.circleIcon(I18N.pPreview.mobileMenu.moments,null,"preview/menu/circle","circle",this.shareToWXMoments)]}),(0,g.jsx)("div",{className:"line"}),(0,g.jsx)("div",{className:"contentItem",children:this.otherIcon(I18N.pPreview.mobileMenu.copyUrl,null,"preview/menu/share_link")})]}):(0,g.jsx)(nw,{})]})}}]),t}(h.PureComponent);function nw(){return(0,g.jsxs)(rw,{children:[(0,g.jsx)("img",{className:"top",src:"/mb-workspace/images/sharing/mobile_sharing_old_version.png"}),(0,g.jsx)("span",{className:"center",children:"APP\u7248\u672C\u4F4E \u65E0\u6CD5\u5206\u4EAB"}),(0,g.jsx)("span",{className:"bottom",children:"\u8BF7\u5347\u7EA7\u81F3\u6700\u65B0\u7248\u672C"})]})}var rw=ze.default.div.withConfig({displayName:"SharingLinkPage__StyledOldVersion",componentId:"sc-1raucp0-0"})(["display:flex;justify-items:center;align-items:center;flex-direction:column;.top{width:108px;margin-top:32px;}.center{color:'#415058';font-size:16px;margin-top:24px;}.bottom{color:'#7D8B94';font-size:12px;margin-top:8px;}"]),aw=(0,an.P1)([re.EK,re.cM],function(a,i){return{currentScreenMetaList:a,currentProjectShare:i}});function iw(a){var i=a.onBack,t=a.sharings,n=a.project,e=a.isOnPremises,o=a.isWonderShare,s=a.isMultiLink,l=(0,U.useSelector)(aw),p=l.currentScreenMetaList,v=l.currentProjectShare,M=p.filter(function(te){return te.orientation!=="folder"}).map(function(te){return te.cid}),j=v.access_token===n.access_token,Z=(0,h.useState)({sharing:void 0,isShowSharingLinkPage:!1}),W=(0,F.Z)(Z,2),X=W[0],J=W[1],_;return j?_=t:_=t.filter(function(te){return te.access_token===v.access_token}),(0,g.jsx)(KC,{children:X.isShowSharingLinkPage||!s?(0,g.jsx)(tw,{isMultiLink:s,isOnPremises:e,isWonderShare:o,currentSharing:X.sharing,setActivedSharing:J,project:n,onBackSetting:i}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"theHeader",children:[(0,g.jsx)("a",{className:"backBtn",onClick:i,children:(0,g.jsx)(Et.q,{className:"backIcon",name:"preview/menu/back_state"})}),(0,g.jsxs)("div",{className:"headerTitle",children:[(0,g.jsx)("div",{className:"headerName",children:"\u5206\u4EAB"}),(0,g.jsx)("div",{className:"headerIntro",children:"\u9009\u62E9\u73B0\u6709\u5206\u4EAB"})]})]}),(0,g.jsx)("div",{className:"mb-sharing-list",children:(0,g.jsx)(QC,{activeSharing:J,sharingList:_,pageCidList:M})})]})})}var Cf="sharing",wf="screen",ow="a1162497883172b3a4f79d1eb0f4b949",Ef=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"handleClickScreenSeeting",function(){var o=e.props.onUpdateSetting;o(wf)}),(0,f.Z)((0,ae.Z)(e),"handleClickSharingSeeting",function(){var o=e.props.onUpdateSetting;o(Cf)}),(0,f.Z)((0,ae.Z)(e),"refreshRenderTitle",function(){var o=e.props,s=o.isAppOffline,l=o.isAppCacheNeedUpToDate;return s&&l?(0,g.jsx)("div",{className:"redDot"}):null}),e.isDemo=ow===n.project.access_token,e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isWonderShare,s=e.isDummyApk,l=e.isAppCacheNeedUpToDate,p=e.project,v=e.isHighlight,M=e.isHTMLZip,j=e.onPreviewExit,Z=e.onProjectPreviewReload,W=e.onUpdateProjectHighlight,X=p.name,J=p.model,_=p.screens_count,te=p.icon,ne=te?(M?".":"")+te:"/images/app_icon.svg",ie=I18N.pPreview.mobileMenu[J]?""+I18N.pPreview.mobileMenu[J]+I18N.pPreview.mobileMenu.project+", ":"";return(0,g.jsxs)("div",{className:"theContent",children:[(0,g.jsxs)("div",{className:"theHeader",children:[(0,g.jsx)("div",{className:"headerIcon",children:(0,g.jsx)("img",{src:ne})}),(0,g.jsxs)("div",{className:"headerTitle",children:[(0,g.jsx)("div",{className:"headerName",children:X}),(0,g.jsx)("div",{className:"headerIntro",children:""+ie+_+I18N.pPreview.mobileMenu.unitScreen})]})]}),(0,g.jsxs)("div",{className:"contentItem",children:[(0,g.jsx)(za,{name:I18N.pPreview.mobileMenu.refresh,icon:"preview/menu/refresh",isAppCacheNeedUpToDate:l,renderName:this.refreshRenderTitle,onClick:Z}),(0,g.jsx)(za,{className:v?o?"highlight-blue":"highlight-red":"",name:I18N.pPreview.mobileMenu.viewLink,icon:"preview/menu/link",onClick:W}),(0,g.jsx)(za,{name:I18N.pPreview.mobileMenu.screenList,icon:"preview/menu/list",onClick:this.handleClickScreenSeeting})]}),(0,g.jsx)("div",{className:"line"}),(0,g.jsxs)("div",{className:"contentItem",children:[(0,g.jsx)(za,{name:I18N.pPreview.mobileMenu.share,icon:"preview/menu/share",onClick:this.handleClickSharingSeeting}),!s&&(0,g.jsx)(za,{name:I18N.pPreview.mobileMenu.exitPreview,icon:"preview/menu/exit",onClick:j})]})]})}}]),t}(h.PureComponent);(0,f.Z)(Ef,"propTypes",{isWonderShare:u().bool,isDummyApk:u().bool,isHighlight:u().bool,isHTMLZip:u().bool,isAppOffline:u().bool,isAppCacheNeedUpToDate:u().bool,project:u().object,onPreviewExit:u().func,onUpdateSetting:u().func,onProjectPreviewReload:u().func,onUpdateProjectHighlight:u().func});var za=(0,h.memo)(function(a){var i=a.icon,t=a.name,n=a.onClick,e=a.renderName,o=a.className;return(0,g.jsxs)("div",{className:ot()("menuBlock",o),onClick:n,children:[(0,g.jsx)("div",{className:"menuBlockIcon",children:(0,g.jsx)(Et.q,{name:i,className:"blockIcon"})}),(0,g.jsxs)("div",{className:"menuBlockName",children:[e&&e(),(0,g.jsx)("p",{className:"name",children:t||""})]})]})});za.propTypes={className:u().string,icon:u().string,name:u().string,renderName:u().func,onClick:u().func};var Af=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"setElementRef",function(o){return e.$elem=o}),(0,f.Z)((0,ae.Z)(e),"handleBackPreviewSetting",function(){e.setState({currentMenuType:""})}),(0,f.Z)((0,ae.Z)(e),"handleClosePreviewSetting",function(){e.setState({isOpen:!1,currentMenuType:""}),MB.messageBucket.send("closePreviewSettingMenu")}),(0,f.Z)((0,ae.Z)(e),"handleUpdateProjectHighlight",function(){var o=e.props,s=o.isHighlight,l=o.dispatch;l({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:!s}}),MB.messageBucket.send("setDisplayLinkOK",{isHighlight:!s})}),(0,f.Z)((0,ae.Z)(e),"handleProjectPreviewReload",function(){var o=e.props.isShowOfflineModal;o||MB.messageBucket.send("refreshPreview")}),(0,f.Z)((0,ae.Z)(e),"handlePreviewExit",function(){MB.messageBucket.send("exitAppPreview")}),(0,f.Z)((0,ae.Z)(e),"handleUpdateSetting",function(o){e.setState({currentMenuType:o})}),(0,f.Z)((0,ae.Z)(e),"handleShowModal",function(){MB.messageBucket.send("toggleOffline")}),(0,f.Z)((0,ae.Z)(e),"onClickOutside",function(o){var s=o.target;e.$elem.contains(s)||e.handleClosePreviewSetting()}),e.state={isOpen:!1,currentMenuType:"",sharings:[]},e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var n=(0,d.Z)((0,r.Z)().mark(function o(){var s,l,p,v,M,j,Z;return(0,r.Z)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(s=this,l=document.querySelector("#workspace"),p=new(sa()).Manager(l),p.add(new(sa()).Tap({event:"doubletap",pointers:2})),p.on("doubletap",function(J){s.setState({isOpen:!0}),MB.messageBucket.send("openPreviewSettingMenu")}),v=this.props,M=v.isAppOffline,j=v.isHTMLZip,!(!M&&!j)){X.next=11;break}return X.next=9,(0,du.UC)({projectCid:this.props.project.cid});case 9:Z=X.sent,this.setState({sharings:Z.projectShares});case 11:case"end":return X.stop()}},o,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"render",value:function(){var e=this.props,o=e.project,s=e.isWonderShare,l=e.isShowOfflineModal,p=e.isHTMLZip,v=e.isOnPremises,M=e.isHighlight,j=e.isAppOffline,Z=e.isAppCacheNeedUpToDate,W=e.isDummyApk,X=e.isMultiLink,J=this.state,_=J.isOpen,te=J.currentMenuType,ne=J.sharings,ie=te===Cf,se=te===wf,Se=te==="";return(0,g.jsxs)(g.Fragment,{children:[_&&(0,g.jsx)(of,{className:"mask"}),(0,g.jsxs)(sf,{className:ot()({"is-open":_}),ref:this.setElementRef,children:[Se&&(0,g.jsx)(Ef,{project:o,isWonderShare:s,isHTMLZip:p,isHighlight:M,isAppOffline:j,isDummyApk:W,isAppCacheNeedUpToDate:Z,onUpdateSetting:this.handleUpdateSetting,onPreviewExit:this.handlePreviewExit,onProjectPreviewReload:this.handleProjectPreviewReload,onUpdateProjectHighlight:this.handleUpdateProjectHighlight,onShowModal:this.handleShowModal}),ie&&(0,g.jsx)(iw,{isMultiLink:X,project:o,sharings:ne,isOnPremises:v,isWonderShare:s,onBack:this.handleBackPreviewSetting}),se&&(0,g.jsx)(VC,{onBack:this.handleBackPreviewSetting,projectName:o.name,isWonderShare:s}),l&&(0,g.jsx)(Pf,{}),(0,g.jsx)(Mf,{onClose:this.handleClosePreviewSetting}),_&&(0,g.jsx)(Wn.ZP,{target:document,onClick:(0,Wn.Yc)(this.onClickOutside,{capture:!0})})]})]})}}]),t}(h.PureComponent);(0,f.Z)(Af,"propTypes",{isDummyApk:u().bool,isHighlight:u().bool,isHTMLZip:u().bool,isMultiLink:u().bool,isOnPremises:u().bool,isAppOffline:u().bool,isWonderShare:u().bool,isAppCacheNeedUpToDate:u().bool,isShowOfflineModal:u().bool,project:u().object,dispatch:u().func});var Mf=(0,h.memo)(function(a){var i=a.onClose;return(0,g.jsx)("div",{className:"theFooter",onClick:i,children:I18N.pPreview.mobileMenu.cancel})});Mf.propTypes={onClose:u().func};var Pf=(0,h.memo)(function(){return(0,g.jsx)(xf,{children:(0,g.jsx)(CC,{children:(0,g.jsxs)("div",{className:"progress-box",children:[(0,g.jsx)(_s.Z,{className:"splash-loading"}),(0,g.jsx)("div",{className:"sliderName",children:I18N.pPreview.mobile_menu_downloading_Project})]})})})});Pf.propTypes={};var sw=(0,an.P1)([re.vo,re.Ci,re.uX,re.Ei,re.Bi,re.GP,re.CD,re.IR],function(a,i,t,n,e,o,s,l){var p=o.isHTMLZip,v=o.isMultiLink,M=s.isOnPremises,j=s.isWonderShare;return{project:a,isHighlight:e,isHTMLZip:p,isOnPremises:M,isShowOfflineModal:i,isAppOffline:t,isAppCacheNeedUpToDate:n,isDummyApk:l,isWonderShare:j,isMultiLink:v}}),lw=(0,U.connect)(function(a){return sw(a)})(Af),Tf,If,Of,Df;function uo(a,i){return i||(i=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(i)}}))}var cw=ze.default.div(Tf||(Tf=uo(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 100vw;\n  height: 100vh;\n  transition: all 0.2s ease-out;\n  background-color: rgba(0, 0, 0, 0.4);\n\n  .mask-enter {\n    opacity: 0;\n  }\n\n  .mask-exit-active {\n    opacity: 0;\n  }\n\n  \n"]))),uw=ze.default.div(If||(If=uo(["\n  position: relative;\n  margin: 15vh auto 3rem;\n  height: -moz-fit-content;\n  height: -webkit-fit-content;\n  height: fit-content;\n  min-height: 9.5rem;\n  width: 31.25rem;\n  font-size: 0.875rem;\n  background-color: #fff;\n  box-shadow: 0 2px 8px 0 rgba(0,0,0,0.1);\n  border-radius: 1px;\n  color: #5b6b73;\n  cursor: initial;\n  transition: all 0.2s ease-out;\n\n  &.is-v-centered {\n    margin: 3rem auto;\n  }\n\n  &.fade-enter, &.fade-appear{\n    opacity: 0;\n    transform: translateY(-50vh);\n  }\n\n  &.fade-exit-active {\n    opacity: 0;\n    transform: translateY(-50vh);\n  }\n\n  .header {\n    position: relative;\n    display: flex;\n    align-items: center;\n    height: 60px;\n    background: #FFFFFF;\n    border-bottom: 1px solid #E8E8E8;\n    padding: 0 1.5em;\n\n    .close-btn {\n      margin-left: auto;\n      font-size: 1em;\n      color: #8d9ea7;\n      transition: all 0.2s ease-in;\n      &:hover {\n        color: #415058;;\n        transition-delay: 0.1s;\n      }\n    }\n  }\n\n  .content {\n    padding: 30px 20px 35px;\n  }\n"]))),dw=ze.default.footer(Of||(Of=uo(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  height: 60px;\n  margin-top: 0;\n  line-height: 1;\n  background: #F7F7F7;\n  padding-right: 16px;\n  bottom: 0;\n  width: 100%;\n\n  & .cancel-btn {\n    padding: 0px 1em;\n    min-width: 5.25rem;\n    height: 32px;\n    border-radius: 2px;\n    font-size: 14px;\n    text-align: center;\n    line-height: 22px;\n    background: #fff;\n    border: 1px solid #c8cdd0;\n    color: #415058;\n    margin-right: 10px;\n    cursor: pointer;\n    transition: all 0.2s ease-out 0s;\n    &:hover{\n      background-color: #8d9ea7;\n      border: 1px solid #7d8694;\n      color: #fff;\n    }\n  }\n\n  & .confirm-btn {\n    background: #ff6161;\n    border-radius: 2px;\n    font-size: 14px;\n    color: #fff;\n    text-align: center;\n    line-height: 22px;\n    height: 32px;\n    min-width: 7rem;\n    margin-right: 0.5em;\n    padding: 0px 1em;\n    cursor: pointer;\n    transition: all 0.2s ease-out 0s;\n    border-color: transparent;\n    &:hover{\n      background-color: #e04c4c;\n    }\n  }\n"]))),pw=(0,ze.createGlobalStyle)(Df||(Df=uo(["\n  .ModalPortal {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1050;\n    padding: 3rem 1.5rem;\n    width: 100vw;\n    min-width: 64rem;\n    height: auto;\n    min-height: 100vh;\n\n    @media (max-width: 40rem) {\n      padding: unset;\n      min-width: unset;\n    }\n  }\n"])));function fw(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function Lf(a,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,Nf(n.key),n)}}function hw(a,i,t){return i&&Lf(a.prototype,i),t&&Lf(a,t),Object.defineProperty(a,"prototype",{writable:!1}),a}function vw(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&al(a,i)}function al(a,i){return al=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},al(a,i)}function mw(a){var i=yw();return function(){var n=po(a),e;if(i){var o=po(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return gw(this,e)}}function gw(a,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ua(a)}function ua(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function yw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function po(a){return po=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},po(a)}function Jr(a,i,t){return i=Nf(i),i in a?Object.defineProperty(a,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[i]=t,a}function Nf(a){var i=Sw(a,"string");return typeof i=="symbol"?i:String(i)}function Sw(a,i){if(typeof a!="object"||a===null)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var n=t.call(a,i||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}var bw="ModalPortal",Rf="IBOT_MODAL_ROOT",jf=document.body,fo=document.getElementById(Rf)||Object.assign(document.createElement("div"),{id:Rf});jf.contains(fo)||jf.appendChild(fo);var kf=function(i){return i.stopPropagation()},il=function(a){vw(t,a);var i=mw(t);function t(){var n;fw(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),Jr(ua(n),"portal",(0,Br.Qt)(fo,(0,Br.A1)([bw,n.props.portalClassName]))),Jr(ua(n),"close",function(){var l=n.props,p=l.onClose,v=l.timeout;p(),setTimeout(function(){return n.portal.remove()},v)}),Jr(ua(n),"open",function(){var l=n.props,p=l.isOpen,v=l.onOpen;p&&(v(),fo.appendChild(n.portal)),n.positionY()}),Jr(ua(n),"onConfirm",function(){var l=n.props,p=l.onConfirm,v=l.shouldCloseOnAction,M=l.isConfirmDisabled;typeof p=="function"&&!M&&p(),v&&n.close()}),Jr(ua(n),"onCancel",function(){var l=n.props,p=l.onCancel,v=l.shouldCloseOnAction,M=l.isCancelDisabled;typeof p=="function"&&!M&&p(),v&&n.close()}),Jr(ua(n),"positionY",function(){return setTimeout(function(){var l=(0,Br.$)(".TransitionModal",n.portal);if(l){var p=window,v=p.innerHeight,M=l.offsetHeight,j=v<=M||(v-M)/2<v*.2?"add":"remove";l.classList[j]("is-v-centered")}})}),Jr(ua(n),"onClickMask",function(l){kf(l);var p=n.props.onClose;p&&n.close()}),n}return hw(t,[{key:"componentDidMount",value:function(){var e=this.props.isOpen;e&&this.open(),window.addEventListener("resize",this.positionY)}},{key:"componentDidUpdate",value:function(e){var o=e.isOpen,s=this.props.isOpen;!o&&s?this.open():o&&!s&&this.close()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.positionY)}},{key:"renderModalDOM",value:function(){var e=this.props,o=e.children,s=e.isOpen,l=e.timeout,p=e.className,v=e.maskClassName,M=e.title,j=e.canClose,Z=e.isCancelDisabled,W=e.cancelText,X=e.canCloseOnClickMask,J=e.isConfirmDisabled,_=e.confirmText,te=e.onConfirm,ne=e.onCancel,ie=e.shouldRenderFooter;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(pw,{}),(0,g.jsx)(oo.Z,{in:s,classNames:"mask",timeout:l,unmountOnExit:!0,children:(0,g.jsx)(cw,{className:(0,Br.A1)(["TransitionModalMask",v]),onClick:X?this.onClickMask:null})}),(0,g.jsx)(oo.Z,{in:s,classNames:"fade",timeout:l,unmountOnExit:!0,appear:!0,children:(0,g.jsxs)(uw,{className:(0,Br.A1)(["TransitionModal",p]),onClick:kf,children:[(0,g.jsxs)("header",{className:"header",children:[M,j&&(0,g.jsx)("button",{className:"close-btn",onClick:this.close,children:(0,g.jsx)(ss.Z,{name:"times",label:"Close the Modal"})})]}),(0,g.jsx)("div",{className:"content",children:o}),ie&&(0,g.jsxs)(dw,{children:[ne&&(0,g.jsx)("button",{className:"cancel-btn",onClick:this.onCancel,disabled:Z,children:W}),te&&(0,g.jsx)("button",{className:"confirm-btn",onClick:this.onConfirm,disabled:J,children:_})]})]})})]})}},{key:"render",value:function(){var e=this.props.isOpen;return e&&(0,b.createPortal)(this.renderModalDOM(),this.portal)}}]),t}(h.PureComponent);Jr(il,"propTypes",{isOpen:u().bool,children:u().node,timeout:u().number,title:u().node,className:u().string,maskClassName:u().string,portalClassName:u().string,onOpen:u().func,onClose:u().func,canClose:u().bool,canCloseOnClickMask:u().bool,shouldCloseOnAction:u().bool,shouldRenderFooter:u().bool,confirmText:u().string,onConfirm:u().func,isConfirmDisabled:u().bool,cancelText:u().string,onCancel:u().func,isCancelDisabled:u().bool}),Jr(il,"defaultProps",{isOpen:!1,timeout:200,maskClassName:"",portalClassName:"",className:"",onOpen:function(){return null},onClose:function(){return null},onToggle:function(){return null},canClose:!0,canCloseOnClickMask:!0,shouldCloseOnAction:!0,shouldRenderFooter:!0,canCloseOnEsc:!0,canConfirmOnEnter:!0,cancelText:"\u53D6\u6D88",confirmText:"\u786E\u8BA4\u5220\u9664"});var xw=(0,ze.default)(il).withConfig({displayName:"styles__StyledPreOpenHyperlinkModal",componentId:"sc-1vnhe7-0"})(["&.pre-open-hyperlink-modal{width:560px;height:280px;overflow:hidden;border-radius:8px;header{height:38px;border-bottom:none;button{margin-top:24px;}}.content{padding:0 40px;.title{p:nth-child(1){font-size:20px;font-weight:500;line-height:28px;text-align:center;height:34px;color:#1f292e;}p:nth-child(2){line-height:20px;color:#415058;text-align:center;}}.hyperlink-container{display:flex;background-color:#f7f7f7;margin-top:24px;padding:11px 15px 11px 12px;border:1px solid #dbdbdb;border-radius:4px;.svg-container{display:flex;justify-content:center;width:36px;height:36px;background-color:#c8cdd0;border-radius:2px;svg{width:22px;color:white;}}span{width:405px;margin-left:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;align-self:center;color:#7d8b94;font-weight:500;}}}footer{margin-top:22px;background-color:transparent;padding-right:40px;button{height:40px;border-radius:4px;&.confirm-btn{margin-right:0;}&.cancel-btn{margin-right:16px;}}}&.is-mobile{width:295px;height:auto;padding:32px 20px 0 20px;header{display:none;}.content{padding:0;.wechat-internal-url-new-tab-tip{margin:8px 26px 20px 26px;text-align:center;font-size:18px;}.hyperlink-container{height:72px;padding:16px 12px;.svg-container{display:none;}}}.wechat-tip{margin-top:20px;margin-bottom:-10px;font-size:12px;color:#1f292e;}footer{margin-top:10px;margin-bottom:22px;padding:0;button{width:124px;}}}}"]),Cw=(0,ze.createGlobalStyle)(["#IBOT_MODAL_ROOT{.pre-open-hyperlink-protal{z-index:1052;}}"]),Bf=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isOpen,s=e.isMobile,l=e.displayWeChatNewTabExternalUrlTip,p=e.displayWeChatNewTabInternalUrlTip,v=e.confirmText,M=e.onConfirm,j=e.onClose,Z=e.hyperlink;return(0,g.jsxs)(xw,{isOpen:o,onClose:j,onConfirm:M,confirmText:v,canCancel:!0,onCancel:j,cancelText:I18N.Common.cancel,className:ot()("pre-open-hyperlink-modal",{"is-mobile":s}),portalClassName:"pre-open-hyperlink-protal",children:[p?(0,g.jsx)("div",{className:"wechat-internal-url-new-tab-tip",children:I18N.SettingPanel.open_link_in_a_new_tab_on_wechat_tip}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"title",children:[(0,g.jsx)("p",{children:I18N.SettingPanel.about_to_jump_to_an_external_website}),(0,g.jsx)("p",{children:I18N.SettingPanel.if_you_wish_to_continue})]}),(0,g.jsxs)("div",{className:"hyperlink-container",children:[(0,g.jsx)("div",{className:"svg-container",children:(0,g.jsx)(Et.q,{name:"link/link_icon"})}),(0,g.jsx)("span",{children:Z})]}),l&&(0,g.jsxs)("p",{className:"wechat-tip",children:["*",I18N.SettingPanel.open_link_in_a_new_tab_on_wechat_tip]})]}),(0,g.jsx)(Cw,{})]})}}]),t}(h.PureComponent);(0,f.Z)(Bf,"propTypes",{isOpen:u().bool,hyperlink:u().string,isMobile:u().bool,displayWeChatNewTabInternalUrlTip:u().bool,displayWeChatNewTabExternalUrlTip:u().bool,confirmText:u().string,onConfirm:u().func,onClose:u().func});var Zf=c(52680);function Ff(){var a=ol(["\n  &.CoreModalPortal {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1050;\n    display: flex;\n    padding: 3rem 1.5rem;\n    width: 100vw;\n    min-width: 64rem;\n    height: auto;\n    min-height: 100vh;\n    &:empty {\n      display: none;\n      pointer-events: none;\n    }\n  }\n"]);return Ff=function(){return a},a}function Uf(){var a=ol(["\n  position: relative;\n  margin: 15vh auto 3rem;\n  height: -moz-fit-content;\n  height: -webkit-fit-content;\n  height: fit-content;\n  min-height: 12em;\n  font-size: 0.875rem;\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 3px 10px 0 rgba(0,0,0,0.1);\n  cursor: initial;\n  transition: all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.1);\n  .CoreModalMask:not(.is-open) + & {\n    opacity: 0;\n    transform: translateY(-100%);\n  }\n  .CoreModalMask.is-open + & {\n    opacity: 1;\n    transform: none;\n    transition-delay: 0.2s;\n  }\n  &.is-v-centered {\n    margin: auto;\n  }\n  > header {\n    display: flex;\n    align-items: center;\n    padding: 0 1.5em;\n    height: 3.75rem;\n    font-size: 1rem;\n    font-weight: 500;\n    border-bottom: 1px solid #dedee4;\n    color: #415058;\n  }\n  > .content {\n    padding: 1.5em;\n  }\n  > footer {\n    padding: 0 1.5em 1.5em;\n    .Button {\n      margin-right: 0.5em;\n    }\n  }\n  .close-btn {\n    margin-left: auto;\n    font-size: 1em;\n    color: #8d9ea7;\n    transition: all 0.2s ease-in;\n    &:hover {\n      color: #eb5648;\n      transition-delay: 0.1s;\n    }\n  }\n\n  &.AlertCoreModal,\n  &.FormCoreModal {\n    display: flex;\n    flex-direction: column;\n    width: 23.75rem;\n    line-height: 1.5;\n    .FormEntry {\n      &:last-child {\n        margin-bottom: -0.5em;\n      }\n      > .key {\n        flex-basis: 7em;\n      }\n    }\n  }\n  &.FormCoreModal {\n    width: 26.25rem;\n  }\n  &.FunctionalCoreModal {\n    width: 38.875rem;\n  }\n  &.DisplayCoreModal {\n    width: 40rem;\n  }\n"]);return Uf=function(){return a},a}function Hf(){var a=ol(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(30,41,46, 0.5);\n  transition: all 0.2s ease-out;\n  &.can-close {\n    cursor: pointer;\n  }\n  &:not(.is-open) {\n    opacity: 0;\n    pointer-events: none;\n    transition-delay: 0.2s;\n  }\n  &.is-open {\n    opacity: 1;\n  }\n"]);return Hf=function(){return a},a}function ol(a,i){return i||(i=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(i)}}))}var ww=ze.default.div(Hf()),Ew=ze.default.div(Uf()),Aw=(0,ze.createGlobalStyle)(Ff());function ho(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ho=function(t){return typeof t}:ho=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(a)}function Mw(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function Wf(a,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}function Pw(a,i,t){return i&&Wf(a.prototype,i),t&&Wf(a,t),a}function Tw(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),i&&sl(a,i)}function sl(a,i){return sl=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},sl(a,i)}function Iw(a){var i=Dw();return function(){var n=vo(a),e;if(i){var o=vo(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return Ow(this,e)}}function Ow(a,i){return i&&(ho(i)==="object"||typeof i=="function")?i:Bn(a)}function Bn(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Dw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function vo(a){return vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vo(a)}function Jn(a,i,t){return i in a?Object.defineProperty(a,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[i]=t,a}var ll=function(i){return i.stopPropagation()},zf="IBOT_MODAL_ROOT",Lw="CoreModalPortal",$f=Yi()(window,"I18N",{}),Gf=document.body,cl=document.getElementById(zf)||Object.assign(document.createElement("div"),{id:zf});Gf.contains(cl)||Gf.appendChild(cl);var Nw={alert:"AlertCoreModal",form:"FormCoreModal",functional:"FunctionalCoreModal",display:"DisplayCoreModal"},ul=function(a){Tw(t,a);var i=Iw(t);function t(){var n;Mw(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),Jn(Bn(n),"state",{prevProps:n.props,isOpen:n.props.isOpen,isVisible:!1}),Jn(Bn(n),"portal",(0,At.Qt)(cl,(0,At.A1)([Lw,n.props.portalClassName]))),Jn(Bn(n),"maskRef",(0,h.createRef)()),Jn(Bn(n),"didOpen",function(){var l=n.props,p=l.onOpen,v=l.onToggle,M=Bn(n),j=M.maskRef.current;(0,At.AZ)(Bn(n)),n.positionY(),(0,At.ci)(!0),p(),v(!0)}),Jn(Bn(n),"didClose",function(){var l=n.props,p=l.onClose,v=l.onToggle;p(),v(!1),setTimeout(function(){(0,At.qE)(Bn(n)),(0,At.Je)()&&(0,At.ci)(!1)})}),Jn(Bn(n),"onTransitionEnd",function(l){var p=l.target,v=n.state.isVisible;!v&&p.matches(".CoreModalMask")&&n.setState({isOpen:!1})}),Jn(Bn(n),"open",function(){return n.setState({isOpen:!0})}),Jn(Bn(n),"close",function(){return n.setState({isVisible:!1})}),Jn(Bn(n),"toggle",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!n.state.isOpen;return l?n.open():n.close()}),Jn(Bn(n),"positionY",function(){return setTimeout(function(){var l=n.props.type,p=(0,At.$)(".CoreModal",n.portal);if(!(!p||l==="alert")){var v=window,M=v.innerHeight,j=p.getBoundingClientRect(),Z=j.height,W=M<=Z||(M-Z)/2<M*.15?"add":"remove";p.classList[W]("is-v-centered")}})}),Jn(Bn(n),"onClickMask",function(l){ll(l);var p=n.props,v=p.canClose,M=p.canCloseOnClickMask,j=!!(0,At.$)("#IBOT_SELECT_MENU_ROOT .SelectMenu.is-open");v&&M&&!j&&n.close()}),Jn(Bn(n),"confirm",function(){var l=n.props,p=l.onConfirm,v=l.shouldCloseOnAction;p&&p(),v&&n.close()}),Jn(Bn(n),"cancel",function(){var l=n.props,p=l.onCancel,v=l.shouldCloseOnAction;p&&p(),v&&n.close()}),Jn(Bn(n),"onKeyDown",function(l){var p=l.key,v=l.target,M=n.props,j=M.type,Z=M.canClose,W=M.canCloseOnEsc,X=M.canConfirmOnEnter,J=M.onConfirm,_=M.onCancel,te=n.state.isOpen,ne=!!(0,At.$)("#IBOT_SELECT_MENU_ROOT .SelectMenu.is-open");if(p==="Escape"&&!v.matches("input, textarea, select")&&!ne&&te&&Z&&W&&!ne&&(0,At.b7)(Bn(n))===0)return _&&n.cancel(),n.close();if(p==="Enter"&&!v.matches("textarea, button")&&!ne&&te&&X&&(0,At.b7)(Bn(n))===0&&J)return n.confirm()}),n}return Pw(t,[{key:"componentDidMount",value:function(){var e=this,o=this.props,s=o.onOpen,l=o.onToggle,p=this.state.isOpen;p&&setTimeout(function(){return e.setState({isVisible:!0},e.didOpen)}),window.addEventListener("resize",this.positionY)}},{key:"componentDidUpdate",value:function(e,o){var s=this,l=o.isOpen,p=this.state.isOpen;!l&&p?setTimeout(function(){return s.setState({isVisible:!0},s.didOpen)}):l&&!p&&this.didClose()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),this.didClose(),window.removeEventListener("resize",this.positionY)}},{key:"render",value:function(){return this.opener}},{key:"opener",get:function(){var e=this.props,o=e.opener,s=e.openerType,l=this.state.isOpen,p=this.modal;return s==="none"?p:s==="custom"?o?h.createElement("span",{onClick:this.toggle},o,p):p:s==="switch"?h.createElement(Zf.Z,{isChecked:l,onChange:this.toggle},p):h.createElement(hr.ZP,{type:s,onClick:this.open},o,p)}},{key:"modal",get:function(){return(0,b.createPortal)(this.modalDOM,this.portal)}},{key:"footer",get:function(){var e=this.props,o=e.onConfirm,s=e.onCancel,l=e.confirmText,p=e.cancelText,v=e.isConfirmDisabled,M=e.isCancelDisabled,j=o||s;return j&&h.createElement("footer",null,o&&h.createElement(hr.YZ,{onClick:this.confirm,isDisabled:v},l),s&&h.createElement(hr.K5,{onClick:this.cancel,isDisabled:M},p))}},{key:"modalDOM",get:function(){var e=this.props,o=e.type,s=e.maskClassName,l=e.className,p=e.title,v=e.children,M=e.canClose,j=e.canCloseOnClickMask,Z=this.state,W=Z.isOpen,X=Z.isVisible,J=this.footer;return W&&h.createElement(h.Fragment,null,h.createElement(Aw,null),h.createElement(ww,{ref:this.maskRef,className:(0,At.A1)(["CoreModalMask",s,X&&"is-open",M&&j?"can-close":"cant-close"]),onClick:this.onClickMask,onTransitionEnd:this.onTransitionEnd}),h.createElement(Ew,{className:(0,At.A1)(["CoreModal",Nw[o],l]),onTransitionEnd:ll,onClick:ll},h.createElement("header",null,p,M&&h.createElement(hr.ZP,{type:"text",className:"close-btn",onClick:this.close},h.createElement(Za.Z,{name:"times",label:"Close the Modal"}))),h.createElement("div",{className:"content"},v),J),h.createElement(Nr.ZP,{target:document,onKeyDown:this.onKeyDown}))}}],[{key:"getDerivedStateFromProps",value:function(e,o){var s=o.prevProps,l=o.isOpen;if(!ti()(s,e)){var p=e.isOpen;if(Li()(p)){if(!l&&p)return{isOpen:!0,prevProps:e};if(l&&!p)return{isVisible:!1,prevProps:e}}return{prevProps:e}}return null}}]),t}(h.PureComponent);Jn(ul,"propTypes",{isOpen:u().bool,title:u().node,children:u().node,modal:u().node,type:u().oneOf(["alert","form","functional","display"]),opener:u().node,openerType:u().oneOf(["primary","regular","text","switch","custom","none"]),className:u().string,maskClassName:u().string,portalClassName:u().string,onOpen:u().func.isRequired,onClose:u().func.isRequired,onToggle:u().func.isRequired,canClose:u().bool,canCloseOnClickMask:u().bool,shouldCloseOnAction:u().bool,canCloseOnEsc:u().bool,canConfirmOnEnter:u().bool,onConfirm:u().func,confirmText:u().string,isConfirmDisabled:u().bool,onCancel:u().func,isCancelDisabled:u().bool,cancelText:u().string}),Jn(ul,"defaultProps",{openerType:"none",type:"functional",onOpen:function(){return null},onClose:function(){return null},onToggle:function(){return null},canClose:!0,canCloseOnClickMask:!0,shouldCloseOnAction:!0,canCloseOnEsc:!0,canConfirmOnEnter:!0,cancelText:$f.cancel||"Cancel",confirmText:$f.confirm||"Confirm"});var Vf=ul,Rw=c(24455),jw=function(i){return(0,En.IP)("/api/dashboard/v4/orgs/"+i+"/enable_trial")},kw=function(i){return(0,En.IP)("/api/dashboard/v4/users/enable_trial")},Bw=function(){var a=(0,d.Z)((0,r.Z)().mark(function i(t){var n;return(0,r.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,En.Gf)("/api/payment/v4/coupon/double_coupon",{type:t});case 3:if(n=o.sent,!n.msg){o.next=11;break}if(n.msg!=="already redeemed"){o.next=8;break}return MB.notice({text:"\uD83C\uDF89 \u4F18\u60E0\u5238\u9886\u53D6\u6210\u529F\uFF0C\u8BF7\u524D\u5F80\u5347\u7EA7"}),o.abrupt("return",!0);case 8:if(n.msg!=="coupon not found"){o.next=11;break}return MB.notice({text:"\u4F18\u60E0\u5238\u4E0D\u5B58\u5728"}),o.abrupt("return",!1);case 11:return MB.notice({text:"\uD83C\uDF89 \u4F18\u60E0\u5238\u9886\u53D6\u6210\u529F\uFF0C\u8BF7\u524D\u5F80\u5347\u7EA7"}),o.abrupt("return",!0);case 15:return o.prev=15,o.t0=o.catch(0),MB.notice({text:"\u4F18\u60E0\u5238\u9886\u53D6\u5931\u8D25"}),o.abrupt("return",!1);case 19:case"end":return o.stop()}},i,null,[[0,15]])}));return function(t){return a.apply(this,arguments)}}(),Zw=function(i){var t=i.onClick;return(0,g.jsx)("button",{className:"btn-cancel",onClick:t,children:"\u9886\u53D67\u5929\u8BD5\u7528"})},mo=Zw,TM={},li=c(54715),Fw=function(i,t,n){var e=i||{},o=e.is_trial_enabled;if(o)return!1;var s=dl(t==null?void 0:t.plan,t==null?void 0:t.trial);if(!s)return!1;var l=t.trial_end_on;if(l)return!1;var p=n.some(function(v){var M=Uw(v),j=v.value_in_cents;return["paid"].includes(M)||j>10});return!p},dl=function(i,t){return i==="org_free"&&!t},Uw=function(i){if(dl(i==null?void 0:i.plan,i==null?void 0:i.trial))return"free";var t=i||{},n=t.paid,e=t.trial,o=t.value_in_cents,s=t.next_billing_on,l=t.plan,p=oe()(s).startOf("day"),v=oe()().startOf("day"),M=p.isSameOrBefore(v),j;return M?(j=o>10?"paidExpire":"trialExpire",l||(j="defaultExpire")):(n&&(j="paid"),e&&(j="trial")),j},Kf=function(i,t){return i==="org_free"&&!t?li.J.FreeOrg:i==="org_lite"?li.J.LiteOrg:i==="org_full"?li.J.FullOrg:i==="org_free"&&t?li.J.TrialOrg:li.J.FullOrg},Hw=function(i,t){if(t){var n=t.plan,e=t.trial;return Kf(n,e)}else return(i==null?void 0:i.current_plan)==="solo"?"\u4E2A\u4EBA\u7248":"\u514D\u8D39\u7248"},IM=function(i){return(i==null?void 0:i.current_project_version)||(i==null?void 0:i.currentProjectVersion)||"v4.0"},Ww=function(i,t){if(t&&t.cid){var n=t.limitation,e=t.plan,o=t.trial,s=t.paid,l=t.next_billing_on,p=t.value_in_cents;return{storage:n.storage,isExportWatermark:n.is_export_watermark,maxPicBytes:n.max_pic_bytes,maxScreenCount:n.max_screen_count,maxScreenCount2:n.max_p2page_count||3,maxProjectVersionCount:n.max_project_version_count,maxMktCount:n.max_mkt_count,plan:e,trial:o,paid:s,next_billing_on:l,value_in_cents:p,maxSharingCount:n.max_project_share_count,maxProjectCount:n.max_project_count}}if(i&&i.cid){var v=i.limitation,M=i.current_plan,j=i.trial,Z=i.paid,W=i.next_billing_on,X=i.free_projects_count;return{storage:v.storage,current_plan:M,trial:j,paid:Z,next_billing_on:W,isExportWatermark:!1,maxPicBytes:0,maxScreenCount:(v==null?void 0:v.screens)||20,maxScreenCount2:(v==null?void 0:v.max_p2page_count)||3,maxProjectVersionCount:0,maxMktCount:0,value_in_cents:0,maxSharingCount:M==="solo"?3:1,maxProjectCount:X}}return{storage:0,isExportWatermark:!1,maxPicBytes:0,maxScreenCount:0,maxScreenCount2:0,maxProjectVersionCount:0,maxMktCount:0,plan:"",trial:!1,paid:!1,next_billing_on:"",value_in_cents:0,maxSharingCount:1,maxProjectCount:3}},$a=c(61134),go=function(i){return encodeURIComponent(JSON.stringify(i))},OM=function(i){return JSON.parse(decodeURIComponent(i))},DM=function(a){return a.Everyone="everyone",a.MemberFree="member_free",a.MemberDiscount="member_discount",a.OriginPrice="origin_price",a}({}),LM=function(i,t,n){if(n===void 0&&(n=""),getConfigConstant("isWonderShare"))return i?I18N.link.link_price_business:I18N.link.link_price_share;var e="";if(i){var o=i.cid,s={mode:"org",orgCid:o,payEntrance:t,checkoutArea:"workspace",checkoutPlace:n||"org_use_vip_mkt"};e="/workspace/"+o+"?payment_param="+encodeJSON(s)}else{var l={mode:"solo",payEntrance:t,checkoutArea:"workspace",checkoutPlace:n||"solo_use_vip_mkt"};e="/workspace/me?payment_param="+encodeJSON(l)}return e},zw=function(i,t,n){n===void 0&&(n="");var e="";if(i){var o=i.cid,s={mode:"org",orgCid:o,payEntrance:t,checkoutArea:"workspace",checkoutPlace:n||"org_use_vip_mkt"};e=go(s)}else{var l={mode:"solo",payEntrance:t,checkoutArea:"workspace",checkoutPlace:n||"solo_use_vip_mkt"};e=go(l)}return e},$w=function(i){var t=i.next_billing_on;return!moment().startOf("day").isBefore(moment(t).subtract(1,"day"))},Gw=function(i){if(!i)return!1;var t=$w(i),n=i.paid;return!n&&!t},Vw=function(i){return i&&["paid_org","solo"].indexOf(i==null?void 0:i.login_plan)!==-1},Kw=function(i){var t=i.is_star,n=i.policy,e=i.is_purchased,o=i.is_owner,s=n!==void 0&&n!==ResourcesPolicy.Everyone,l=n===ResourcesPolicy.OriginPrice,p=n===ResourcesPolicy.MemberDiscount;return{isOwner:o,isStar:t,isPurchased:e,isVipTemplate:s,isVipOriginPrice:l,isVipMemberDiscount:p}},NM=function(){var a=(0,d.Z)((0,r.Z)().mark(function i(t,n,e){return(0,r.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(e===void 0&&(e=!0),!t){s.next=6;break}return s.next=4,Zn.api.requestUnStarredResources(n);case 4:s.next=8;break;case 6:return s.next=8,Zn.api.requestStarredResources(n);case 8:e&&MB.notice({text:t?"\u53D6\u6D88\u6536\u85CF\u6210\u529F":"\u6536\u85CF\u6210\u529F"});case 9:case"end":return s.stop()}},i)}));return function(t,n,e){return a.apply(this,arguments)}}(),RM=function(i){i&&i.scrollIntoView()},jM=function(i){var t="2022-03-22 23:59:59";return moment(i).isBefore(t)},kM=function(i){var t="2022-04-13 00:00:00";return moment(i).isBefore(t)},BM=function(i){var t="2022-06-14 00:00:00";return moment(i).isBefore(t)},ZM=function(i,t,n){var e=Kw(i),o=e.isVipTemplate,s=e.isVipMemberDiscount,l=e.isPurchased,p=e.isOwner,v=Vw(t),M=Gw(n||t),j=v||M,Z=!1,W=s;return p||(j?Z=!l&&s:Z=!l&&o),{show:Z,hasDiscount:W,isPayingUser:j}},Yw=function(i,t,n){return i.map(function(e){var o=e.market_templates.map(function(s){return s.cid===t?n(s):s});return _objectSpread(_objectSpread({},e),{},{market_templates:o})})},FM=function(i,t,n){var e=new Map,o=_createForOfIteratorHelper(i),s;try{for(o.s();!(s=o.n()).done;){var l=_slicedToArray(s.value,2),p=l[0],v=l[1],M=Yw(v,t,n);e.set(p,M)}}catch(j){o.e(j)}finally{o.f()}return e},UM=function(i){var t=i.url,n=i.tab,e=i.width,o=i.height,s=i.tags;return{asset_cid:"findPicture_"+t,created_at:new Date().getTime(),group_cid:"findPicture_"+n,height:o,width:e,name:"\u793A\u4F8B\u56FE\u7247",size:999,image:"/res-img/org/"+t,thumb:"/res-img/thmb/"+t,timestamp:0,tags:"",img_tag:s}},HM=function(i){if(!i)return"\u514D\u8D39\u7248";var t=i.plan;if(t==="free")return"\u514D\u8D39\u7248";if(t==="solo")return"\u6807\u51C6\u7248";if(t==="life_time")return"\u7EC8\u8EAB\u7248"},Xw=function(i){if(!i)return"free";var t=i.plan,n=i.paid,e=i.trial,o=i.next_billing_on,s=oe()(o).startOf("day"),l=oe()().startOf("day"),p=s.isSameOrBefore(l),v;return p?v="free":(n&&(v="paid"),t==="solo"&&e&&(v="trial"),t==="free"&&(v="free")),v},WM=function(i){return(i==null?void 0:i.current_project_version)||(i==null?void 0:i.currentProjectVersion)||"v4.0"};function zM(a){var i=a.nextBillingOn,t=Qw(a),n=!moment().startOf("day").isBefore(moment(i).subtract(1,"day"));return!t&&n}var Qw=function(i){i===void 0&&(i={});var t=i,n=t.plan,e=t.trial;return n==="org_free"&&!e},Jw=function(i){i===void 0&&(i={});var t=i,n=t.plan,e=t.trial;return!n&&!e},_w=["type","isOpen","screenCount"],Yf={OrgPrototypePageNumber:"\u7F16\u8F91\u533A-\u539F\u578B_\u9875\u9762\u8D85\u9650_\u65B0\u5EFA\u9875\u9762",OrgPrototypePageNumberWhenOpen:"\u7F16\u8F91\u533A-\u9875\u9762\u8D85\u9650_\u6253\u5F00\u9875\u9762\u8D85\u9650\u7684\u7D20\u6750\u9879\u76EE",OrgVersionNumber:"\u7F16\u8F91\u533A-\u7248\u672C\u6570\u8D85\u9650_\u5347\u7EA7\u7248\u672C",OrgfreeMaterialNumber:"\u7F16\u8F91\u533A-\u4F01\u4E1A\u6A21\u677F\u9650\u5236-\u5347\u7EA7\u7248\u672C",OrgMaxPicSize:"\u7F16\u8F91\u533A-\u56FE\u7247\u8D85\u9650_\u5347\u7EA7\u7248\u672C",MaxSharingCount:"\u7F16\u8F91\u533A-\u591A\u94FE\u63A5\u5206\u4EAB_\u5347\u7EA7\u7248\u672C",OrgMaxProjectNumber:"\u7F16\u8F91\u533A-\u6587\u4EF6\u6570\u8D85\u9650_\u4F01\u4E1A"},Xf={OrgPrototypePageNumber:"workspace-proto_filepage_new_limit",OrgPrototypePageNumberWhenOpen:"workspace-filepage_open_limit",OrgVersionNumber:"workspace_fileversion_limit",OrgfreeMaterialNumber:"workspace-org_template_limit",OrgMaxPicSize:"workspace_imgsize_limit",MaxSharingCount:"workspace-linkshare_limit",OrgMaxProjectNumber:"workspace-org_file_limit"},Qf=function(i){var t=i.type,n=i.isOpen,e=i.screenCount,o=(0,pa.Z)(i,_w),s=o.currentOrg,l=o.currentUser,p=o.isFromScreenList,v=o.project,M=o.isFromEntry,j=(0,U.useDispatch)(),Z=(0,h.useState)([]),W=(0,F.Z)(Z,2),X=W[0],J=W[1],_=(0,h.useState)([]),te=(0,F.Z)(_,2),ne=te[0],ie=te[1],se=(0,h.useState)(!1),Se=(0,F.Z)(se,2),Te=Se[0],Le=Se[1],ke=Ww(l,s),nt=ke.maxScreenCount,it=ke.maxProjectVersionCount,ct=ke.maxMktCount,de=ke.maxPicBytes,ue=ke.maxSharingCount,ge=ke.maxProjectCount,$e,Ye,Xe,ut,dt,mt;if(s){mt=!0;var Nt=s.plan,Bt=s.trial;$e=Nt,Ye=Bt,Xe=dl($e,Ye),dt=Kf($e,Ye)}else{var Wt=Xw(l);Wt==="free"?(ut=!0,dt="\u514D\u8D39\u7248"):dt="\u4E2A\u4EBA\u7248"}var Gn=new Set(["OrgVersionNumber","OrgMaxPicSize","OrgMaxProjectNumber"]);(0,h.useEffect)(function(){var un=mt?s.created_at:l.created_at;if(mt){var bn=Jw(s),xn=s.paid;Le(oe()(un,"YYYY-MM-DD HH:mm:ss").add(1,"day")>=oe()(new Date,"YYYY-MM-DD HH:mm:ss")&&!bn&&!xn)}else{var tn=l.paid;Le(oe()(un,"YYYY-MM-DD HH:mm:ss").add(1,"day")>=oe()(new Date,"YYYY-MM-DD HH:mm:ss")&&!tn)}},[s,l,mt]),(0,h.useEffect)(function(){function un(){return tn.apply(this,arguments)}function tn(){return tn=(0,d.Z)((0,r.Z)().mark(function bn(){var xn,vn;return(0,r.Z)().wrap(function(Ir){for(;;)switch(Ir.prev=Ir.next){case 0:return Ir.next=2,(0,En.EE)("/api/dashboard/v4/orgs/list");case 2:vn=Ir.sent,((xn=vn.orgs)==null?void 0:xn.length)>0&&J((0,Jt.Z)(vn.orgs));case 4:case"end":return Ir.stop()}},bn)})),tn.apply(this,arguments)}un()},[]),(0,h.useEffect)(function(){function un(){return tn.apply(this,arguments)}function tn(){return tn=(0,d.Z)((0,r.Z)().mark(function bn(){var xn;return(0,r.Z)().wrap(function(mr){for(;;)switch(mr.prev=mr.next){case 0:return mr.next=2,(0,En.EE)("/api/payment/v4/coupon/coupons");case 2:xn=mr.sent,xn&&ie((0,Jt.Z)(xn));case 4:case"end":return mr.stop()}},bn)})),tn.apply(this,arguments)}un()},[]),(0,h.useEffect)(function(){t==="OrgPrototypePageNumber"&&(mt?Vr.xd.orgTwentyPagesLimit():Vr.xd.soloTwentyPagesLimit())},[]);var Hn=(0,h.useMemo)(function(){return ne.every(function(un){return un.tid!==844})&&!ENV.IS_WONDER_SHARE},[ne]),rr=Hw(l,s),lr=function(){j({type:"modal:update:state",payload:{managePageModal:{isOpen:!0}}})},Pn=function(){(Gn.has(t)||t==="OrgPrototypePageNumber"&&mt)&&Hn&&Bw("org_free_upgrade_paid"),t==="MaxSharingCount"&&(0,Pi.dL)({action:"\u5347\u7EA7\u7248\u672C",linkName:"\u65E0",project:v,isFromScreenList:p});var tn=Yf[t],bn=Xf[t];M&&t==="OrgPrototypePageNumber"&&(tn=Yf.OrgPrototypePageNumberWhenOpen,bn=Xf.OrgPrototypePageNumberWhenOpen),j({type:"entry:start:saving"}),ea();var xn=zw(s,tn,bn);j({type:"modal:update:state",payload:{chargeModal:{isOpen:!0,mode:"org",src:location.origin+"/embed/payment_modal?param="+xn}}})},Vn=function(){var un=(0,d.Z)((0,r.Z)().mark(function tn(){var bn;return(0,r.Z)().wrap(function(vn){for(;;)switch(vn.prev=vn.next){case 0:return vn.next=2,jw(s.cid);case 2:if(bn=vn.sent,t==="OrgPrototypePageNumber"&&Vr.xd.orgTwentyPagesLimitReceiveTryOut(),!(!bn||!bn.org)){vn.next=6;break}return vn.abrupt("return");case 6:MB.notice({text:"\u5DF2\u6210\u529F\u9886\u53D67\u5929\u4F01\u4E1A\u7248\u6743\u76CA\uFF0C\u5230\u671F\u540E\u53EF\u7EE7\u7EED\u4F7F\u7528\u514D\u8D39\u7248\u3002"}),o.onClose(),location.reload();case 9:case"end":return vn.stop()}},tn)}));return function(){return un.apply(this,arguments)}}(),qr=function(){var un=(0,d.Z)((0,r.Z)().mark(function tn(){var bn;return(0,r.Z)().wrap(function(vn){for(;;)switch(vn.prev=vn.next){case 0:return vn.next=2,kw();case 2:if(bn=vn.sent,Vr.xd.soloTwentyPagesLimitReceiveTryOut(),!(!bn||!bn.user)){vn.next=6;break}return vn.abrupt("return");case 6:MB.notice({text:"\u5DF2\u6210\u529F\u9886\u53D62\u5929\u4E2A\u4EBA\u7248\u6743\u76CA\uFF0C\u5230\u671F\u540E\u53EF\u7EE7\u7EED\u4F7F\u7528\u514D\u8D39\u7248\u3002"}),o.onClose(),location.reload();case 9:case"end":return vn.stop()}},tn)}));return function(){return un.apply(this,arguments)}}(),ea=function(){o.onClose()},Zr=(0,h.useMemo)(function(){if(!mt){var un=l.plan,tn=l.trial;return un==="solo"&&tn}return Fw(l,s,X||[])},[mt,l,s,X]),Ca=(0,h.useMemo)(function(){return t!=="OrgPrototypePageNumber"?!0:e&&nt?e<=nt:!0},[t,e,nt]),br=function(){j({type:"toolbar:sharingManager:open"}),o.onClose()},ta=function(){var tn;(0,fr.gn)("/workspace/"+(((tn=o.currentOrg)==null?void 0:tn.cid)||"me"),"_blank","noreferrer"),o.onClose()};return(0,g.jsxs)(Vf,{isOpen:n,canCloseOnClickMask:Ca,canClose:Ca,onClose:ea,className:"apps-count-over",portalClassName:"OrgRightsAndInterestsModalPortal",title:"\u5347\u7EA7\u7248\u672C \u89E3\u9501\u66F4\u591A\u529F\u80FD",children:[t&&t==="OrgPrototypePageNumber"&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"modal-content",children:[(0,g.jsxs)("p",{children:["\u5F53\u524D\u4E3A",(0,g.jsx)("span",{className:"strong",children:dt})]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{className:"strong",children:dt+"\u7684\u5355\u9879\u76EE\u539F\u578B\u9875\u6570\u6700\u591A\u652F\u6301"+nt+"\u9875\uFF0C"}),"\u60A8\u53EF\u4EE5\u5220\u9664\u4E0D\u5FC5\u8981\u7684\u9875\u9762\u6216\u5347\u7EA7\u7248\u672C, \u4EAB\u53D7\u66F4\u591A\u7684\u9875\u9762\u6570\u91CF\u3002"]}),mt?(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("table",{children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"\u514D\u8D39\u7248"}),(0,g.jsx)("th",{children:"\u56E2\u961F\u7248"}),(0,g.jsx)("th",{children:"\u4F01\u4E1A\u7248"})]})}),(0,g.jsx)("tbody",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:Xe?"highlight":"",children:"20\u9875"}),(0,g.jsx)("td",{className:$e==="org_lite"?"highlight":"",children:"3000\u9875"}),(0,g.jsx)("td",{children:"\u4E0D\u9650"})]})})]})}):(0,g.jsxs)("table",{children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"\u514D\u8D39\u7248"}),(0,g.jsx)("th",{children:"\u4E2A\u4EBA\u7248"})]})}),(0,g.jsx)("tbody",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:ut?"highlight":"",children:"20\u9875"}),(0,g.jsx)("td",{className:ut?"":"highlight",children:"500\u9875"})]})})]})]}),(0,g.jsx)("footer",{className:"modal-footer",children:(0,g.jsxs)("div",{className:"buttons",children:[mt&&Zr&&(0,g.jsx)(mo,{onClick:Vn}),Te&&!mt&&(0,g.jsx)("button",{className:"btn-cancel",onClick:qr,children:"\u9886\u53D62\u5929\u8BD5\u7528"}),(0,g.jsx)("button",{className:"btn-cancel",onClick:lr,children:"\u7BA1\u7406\u9875\u9762"}),(0,g.jsx)("button",{className:"btn-confirm",onClick:Pn,children:Hn&&mt?"\u9886\u5238\u5347\u7EA7":"\u5347\u7EA7\u7248\u672C"})]})})]}),t&&t==="OrgVersionNumber"&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"modal-content",children:[(0,g.jsxs)("p",{children:["\u5F53\u524D\u4E3A",(0,g.jsx)("span",{className:"strong",children:dt})]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{className:"strong",children:dt+"\u6700\u591A\u652F\u6301\u7F16\u8F91"+it+"\u4E2A\u9879\u76EE\u7248\u672C\uFF0C"}),"\u60A8\u53EF\u4EE5\u5220\u9664\u4E0D\u5FC5\u8981\u7684\u9879\u76EE\u7248\u672C\u6216\u5347\u7EA7\u7248\u672C, \u4EAB\u53D7\u66F4\u591A\u7684\u9879\u76EE\u7248\u672C\u6570\u91CF\u3002"]}),(0,g.jsxs)("table",{children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"\u514D\u8D39\u7248"}),(0,g.jsx)("th",{children:"\u56E2\u961F\u7248"}),(0,g.jsx)("th",{children:"\u4F01\u4E1A\u7248"})]})}),(0,g.jsx)("tbody",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:Xe?"highlight":"",children:"2\u4E2A"}),(0,g.jsx)("td",{className:$e==="org_lite"?"highlight":"",children:"10\u4E2A"}),(0,g.jsx)("td",{children:"30\u4E2A"})]})})]})]}),(0,g.jsx)("footer",{className:"modal-footer",children:(0,g.jsxs)("div",{className:"buttons",children:[Zr&&(0,g.jsx)(mo,{onClick:Vn}),(0,g.jsx)("button",{className:"btn-confirm",onClick:Pn,children:Hn?"\u9886\u5238\u5347\u7EA7":"\u5347\u7EA7\u7248\u672C"})]})})]}),t&&t==="OrgfreeMaterialNumber"&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"modal-content",children:[(0,g.jsxs)("p",{children:["\u5F53\u524D\u4E3A",(0,g.jsx)("span",{className:"strong",children:dt})]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{className:"strong",children:dt+"\u6700\u591A\u652F\u6301\u4F7F\u7528"+ct+"\u4E2A\u9879\u76EE\u7D20\u6750\uFF0C"})," \u60A8\u53EF\u4EE5\u5220\u9664\u4E0D\u5FC5\u8981\u7684\u7D20\u6750\u6216\u5347\u7EA7\u7248\u672C, \u4EAB\u53D7\u66F4\u591A\u7684\u7D20\u6750\u6570\u91CF\u3002"]}),(0,g.jsxs)("table",{children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"\u514D\u8D39\u7248"}),(0,g.jsx)("th",{children:"\u56E2\u961F\u7248"}),(0,g.jsx)("th",{children:"\u4F01\u4E1A\u7248"})]})}),(0,g.jsx)("tbody",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:Xe?"highlight":"",children:"5\u4E2A"}),(0,g.jsx)("td",{className:$e==="org_lite"?"highlight":"",children:"\u4E0D\u9650"}),(0,g.jsx)("td",{children:"\u4E0D\u9650"})]})})]})]}),(0,g.jsx)("footer",{className:"modal-footer",children:(0,g.jsxs)("div",{className:"buttons",children:[Zr&&(0,g.jsx)(mo,{onClick:Vn}),(0,g.jsx)("button",{className:"btn-confirm",onClick:Pn,children:"\u5347\u7EA7\u7248\u672C"})]})})]}),t&&t==="OrgMaxPicSize"&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"modal-content",children:[(0,g.jsxs)("p",{children:["\u5F53\u524D\u4E3A",(0,g.jsx)("span",{className:"strong",children:dt})]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{className:"strong",children:dt+"\u6700\u591A\u652F\u6301\u5355\u5F20\u6700\u5927"+de/1024/1024+"MB\u7684\u56FE\u7247\uFF0C"})," \u60A8\u53EF\u4EE5\u538B\u7F29\u56FE\u7247\u6216\u5347\u7EA7\u7248\u672C, \u4EAB\u53D7\u66F4\u5927\u7684\u56FE\u7247\u5BB9\u91CF\u3002"]}),(0,g.jsxs)("table",{children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"\u514D\u8D39\u7248"}),(0,g.jsx)("th",{children:"\u56E2\u961F\u7248"}),(0,g.jsx)("th",{children:"\u4F01\u4E1A\u7248"})]})}),(0,g.jsx)("tbody",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:Xe?"highlight":"",children:"2MB"}),(0,g.jsx)("td",{className:$e==="org_lite"?"highlight":"",children:"5MB"}),(0,g.jsx)("td",{children:"10MB"})]})})]})]}),(0,g.jsx)("footer",{className:"modal-footer",children:(0,g.jsxs)("div",{className:"buttons",children:[Zr&&(0,g.jsx)(mo,{onClick:Vn}),(0,g.jsx)("button",{className:"btn-confirm",onClick:Pn,children:Hn?"\u9886\u5238\u5347\u7EA7":"\u5347\u7EA7\u7248\u672C"})]})})]}),t&&t==="MaxSharingCount"&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"modal-content",children:[(0,g.jsxs)("p",{children:["\u5F53\u524D\u4E3A",(0,g.jsx)("span",{className:"strong",children:rr})]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{className:"strong",children:rr+"\u5355\u4E2A\u6587\u4EF6\u6700\u591A\u652F\u6301"+ue+"\u4E2A\u5206\u4EAB\uFF0C"})," \u60A8\u53EF\u4EE5\u5347\u7EA7\u65B9\u6848\u89E3\u9501\u66F4\u591A\u5206\u4EAB\uFF0C\u6216\u8005\u5220\u9664\u4E4B\u524D\u7684\u5206\u4EAB\u3002"]}),(0,g.jsxs)("table",{children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"\u514D\u8D39\u7248"}),(0,g.jsx)("th",{children:"\u4E2A\u4EBA\u7248"}),(0,g.jsx)("th",{children:"\u56E2\u961F\u7248"}),(0,g.jsx)("th",{children:"\u4F01\u4E1A\u7248"})]})}),(0,g.jsx)("tbody",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:"1\u4E2A"}),(0,g.jsx)("td",{children:"3\u4E2A"}),(0,g.jsx)("td",{children:"10\u4E2A"}),(0,g.jsx)("td",{children:"20\u4E2A"})]})})]})]}),(0,g.jsx)("footer",{className:"modal-footer",children:(0,g.jsxs)("div",{className:"buttons",children:[(0,g.jsx)("button",{className:"btn-cancel",onMouseUp:br,children:"\u7BA1\u7406\u5206\u4EAB"}),(0,g.jsx)("button",{className:"btn-confirm",onClick:Pn,children:"\u5347\u7EA7\u7248\u672C"})]})})]}),t&&t==="OrgMaxProjectNumber"&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"modal-content",children:[(0,g.jsxs)("p",{children:["\u5F53\u524D\u4E3A ",(0,g.jsx)("span",{className:"strong",children:rr})]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("span",{className:"strong",children:rr+"\u6700\u591A\u652F\u6301 "+ge+" \u4E2A\u9879\u76EE\uFF0C"})," \u60A8\u53EF\u4EE5\u5347\u7EA7\u65B9\u6848\u89E3\u9501\u66F4\u591A\u9879\u76EE\uFF0C\u6216\u8005\u5220\u9664\u4E4B\u524D\u7684\u9879\u76EE\u3002"]}),(0,g.jsxs)("table",{children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"\u514D\u8D39\u7248"}),(0,g.jsx)("th",{children:"\u56E2\u961F\u7248"}),(0,g.jsx)("th",{children:"\u4F01\u4E1A\u7248"})]})}),(0,g.jsx)("tbody",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:Xe?"highlight":"",children:"3\u4E2A"}),(0,g.jsx)("td",{className:$e==="org_lite"?"highlight":"",children:"100\u4E2A"}),(0,g.jsx)("td",{children:"\u4E0D\u9650"})]})})]})]}),(0,g.jsx)("footer",{className:"modal-footer",children:(0,g.jsxs)("div",{className:"buttons",children:[(0,g.jsx)("button",{className:"btn-cancel",onClick:ta,children:"\u7BA1\u7406\u9879\u76EE"}),(0,g.jsx)("button",{className:"btn-confirm",onClick:Pn,children:Hn?"\u9886\u5238\u5347\u7EA7":"\u5347\u7EA7\u7248\u672C"})]})})]})]})};Qf.propTypes={type:u().string,onClose:u().func,plan:u().string,trial:u().bool,currentOrg:u().object,currentUser:u().object,orgList:u().array,screenCount:u().number,isOpen:u().bool,onCancel:u().func,onConfirm:u().func,isFromScreenList:u().bool,project:u().object,currentProject:u().object,isFromEntry:u().bool};var qw=(0,U.connect)(function(a){var i=(0,Rw.voT)(a);return{currentProject:i}})(Qf),pl="400-659-9879",eE="\u987E\u95EE\u5DE5\u4F5C\u65F6\u95F4\uFF1A\u5468\u4E00\u81F3\u5468\u4E94 9:00-18:00",$M={},tE=["isOpen","beyondType"],Jf=function(i){var t=i.isOpen,n=i.beyondType,e=(0,pa.Z)(i,tE),o=(0,U.useDispatch)(),s=function(){o({type:"toolbar:sharingManager:open"}),e.onClose()};return(0,g.jsxs)(Vf,{isOpen:t,canCloseOnClickMask:!0,onClose:e.onClose,className:"apps-count-over",title:"\u4F01\u4E1A\u7248\u8D85\u9650\u63D0\u9192",children:[(0,g.jsxs)("div",{className:"modal-content",children:[(0,g.jsxs)("p",{children:["\u5F53\u524D\u4E3A",(0,g.jsx)("span",{className:"strong",children:"\u4F01\u4E1A\u7248"})]}),n==="versionNumber"&&(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"\u4F01\u4E1A\u7248\u6700\u591A\u652F\u630130\u4E2A\u9879\u76EE\u7248\u672C\uFF0C"}),"\u60A8\u53EF\u4EE5\u5220\u9664\u4E0D\u5FC5\u8981\u7684\u7248\u672C\uFF0C\u82E5\u60A8\u6709\u66F4\u9AD8\u9700\u6C42\uFF0C\u6B22\u8FCE\u54A8\u8BE2\u987E\u95EE",(0,g.jsx)("span",{className:"strong",children:" "+pl+" "}),"\u4E86\u89E3\u79C1\u6709\u5316\u7248\u672C\u3002"]}),n==="picSize"&&(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"\u4F01\u4E1A\u7248\u6700\u591A\u652F\u6301\u4E0A\u4F20\u5355\u5F20\u6700\u592710MB\u7684\u56FE\u7247\uFF0C"}),"\u60A8\u53EF\u4EE5\u538B\u7F29\u540E\u4E0A\u4F20\uFF0C\u82E5\u60A8\u6709\u66F4\u9AD8\u9700\u6C42\uFF0C\u6B22\u8FCE\u54A8\u8BE2\u987E\u95EE",(0,g.jsx)("span",{className:"strong",children:" "+pl+" "}),"\u4E86\u89E3\u79C1\u6709\u5316\u7248\u672C\u3002"]}),n==="MaxSharingCount"&&(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"\u4F01\u4E1A\u7248\u5355\u4E2A\u6587\u4EF6\u6700\u591A\u652F\u630120\u4E2A\u5206\u4EAB\uFF0C"}),"\u82E5\u60A8\u6709\u66F4\u9AD8\u9700\u6C42\uFF0C\u6B22\u8FCE\u54A8\u8BE2\u987E\u95EE",(0,g.jsx)("span",{className:"strong",children:" "+pl+" "}),"\u4E86\u89E3\u79C1\u6709\u5316\u7248\u672C\u3002"]}),(0,g.jsx)("p",{children:(0,g.jsx)("span",{className:"tip",children:eE})})]}),(0,g.jsx)("footer",{className:"modal-footer",children:(0,g.jsx)("div",{className:"buttons",children:n==="MaxSharingCount"?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("button",{className:"btn-cancel",onMouseUp:s,children:"\u7BA1\u7406\u5206\u4EAB"}),(0,g.jsx)("button",{className:"btn-confirm",onMouseUp:e.onClose,children:"\u6211\u77E5\u9053\u4E86"})]}):(0,g.jsx)("button",{className:"btn-cancel",onClick:e.onClose,children:"\u786E\u5B9A"})})})]})};Jf.propTypes={isOpen:u().bool,beyondType:u().string,onClose:u().func};var nE=Jf,_f=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleCloseModal",function(){n.props.dispatch({type:"previewModal:reset:state"})}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.preOpenHyperlinkModal,s=e.orgRightsAndInterestsModal,l=e.orgfullBeyondNoticeModal;return(0,g.jsxs)(g.Fragment,{children:[o.isOpen&&(0,g.jsx)(Bf,(0,L.Z)((0,L.Z)({},o),{},{onClose:this.handleCloseModal})),s.isOpen&&(0,g.jsx)(qw,(0,L.Z)((0,L.Z)({},(0,L.Z)((0,L.Z)({},s),{},{currentUser:MB.user,currentOrg:MB.org})),{},{onClose:this.handleCloseModal})),l.isOpen&&(0,g.jsx)(nE,(0,L.Z)((0,L.Z)({},l),{},{onClose:this.handleCloseModal}))]})}}]),t}(h.PureComponent);_f.propTypes={preOpenHyperlinkModal:u().object,dispatch:u().func};var qf=(0,U.connect)(function(a){return(0,L.Z)({},a.container.modals)})(_f),eh=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleZoomIn",function(){var l=n.props.dispatch;l({type:"entry:preview:zoom-in"})}),(0,f.Z)((0,ae.Z)(n),"handleZoomOut",function(){var l=n.props.dispatch;l({type:"entry:preview:zoom-out"})}),(0,f.Z)((0,ae.Z)(n),"handleZoomSpecifiedScale",function(l){var p=n.props.dispatch;p({type:"entry:preview:set:scale",payload:{scale:l}})}),(0,f.Z)((0,ae.Z)(n),"handleZoomInitialScale",function(l){l.stopPropagation(),l.preventDefault();var p=n.props.dispatch;p({type:"entry:auto-fit:preview:scale"}),p({type:"entry:preview:reset:canvas:offset"})}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props.scale;return(0,g.jsx)("div",{className:"ZoomButton",children:(0,g.jsx)(Vs,{scale:e,isShowZoomSelection:!1,onZoomIn:this.handleZoomIn,onZoomOut:this.handleZoomOut,onZoomInitialScale:this.handleZoomInitialScale,onZoomSpecifiedScale:this.handleZoomSpecifiedScale})})}}]),t}(h.PureComponent);(0,f.Z)(eh,"propTypes",{scale:u().number,dispatch:u().func});var rE=(0,an.P1)([re.z7,re.XL],function(a,i){return{scale:a,isFullScreenMode:i}}),th=(0,U.connect)(function(a){return rE(a)})(eh),nh=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleShare",(0,d.Z)((0,r.Z)().mark(function l(){var p,v,M;return(0,r.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!(MB.global.experienceLoginModalHelper&&MB.global.experienceLoginModalHelper("isSave","","a32"))){Z.next=2;break}return Z.abrupt("return");case 2:M=n.props.dispatch,M({type:"entry:preview:toggle:sharingManager"}),(p=MB)==null||p.action("entry:set:task-list-track",{type:0,key:Er._.TaskListFlag.FLAG_CLICK_SHARE_IN_DESIGN}),(v=MB)==null||v.action("entry:update:task-list-step",{key:Er._.TaskListGuideKey.GUIDE_SHARE_TASK});case 6:case"end":return Z.stop()}},l)}))),n}return(0,S.Z)(t,[{key:"render",value:function(){return(0,g.jsx)("div",{style:{fontSize:12},id:"preview-sharing-box",children:(0,g.jsx)(zn.Z,{direction:"down",content:I18N.pPreviewToolbar.share,children:(0,g.jsx)("div",{className:"share-menu-wrapper",onClick:this.handleShare,children:I18N.pPreviewToolbar.share})})})}}]),t}(h.PureComponent);(0,f.Z)(nh,"propTypes",{dispatch:u().func});var aE=nh,iE=ze.default.a.withConfig({displayName:"styles__StyledToolBarItem",componentId:"sc-4p46sd-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:44px;color:",";border-top:2px solid transparent;cursor:pointer;&.preview,&.inspect,&.comment{.svg-icon{width:32px;height:32px;}}&.active{background:",";border-top:2px solid ",';[type="tip"]{color:',";}}&:not(.active):hover{color:",";background:",';[type="tip"]{color:',";}}"],function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_text_L2}),yo=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleClick",function(){var l=n.props,p=l.type,v=l.onClick;v(p)}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.type,s=e.name,l=e.iconName,p=e.isActive;return(0,g.jsx)(zn.Z,{content:s,direction:"down",children:(0,g.jsx)(iE,{className:ot()({active:p},o,"toolbar-item"),onClick:this.handleClick,children:(0,g.jsx)(Et.q,{name:l})})})}}]),t}(h.PureComponent);(0,f.Z)(yo,"propTypes",{isActive:u().bool,iconName:u().string,name:u().string,type:u().string,onClick:u().func});var oE=ze.default.header.withConfig({displayName:"styles__StyledPreviewToolbar",componentId:"sc-1pj149d-0"})(["&{display:flex;align-items:center;z-index:1000;background:",";height:48px;width:100%;box-shadow:0 1px 0 ",";padding:0 16px;transition:all 0.3s ease-in-out;color:",";.svg-icon{color:",";> *{fill:currentColor;}}.toolbar-right{font-size:18px;display:flex;align-items:center;justify-content:flex-end;height:100%;.new_version_artboard_guide{margin-right:15px;text-decoration:none;display:flex;align-items:flex-end;img{width:27px;}span{margin-bottom:2px;margin-left:6px;font-size:14px;line-height:16px;color:#FFFFFF;line-height:17px;background:linear-gradient(90.17deg,#FF6D20 4.49%,#FC1616 44.72%,#FC8D16 97.02%,#FCE516 158.98%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}}.preview-seeting{width:21px;height:22px;}button.login{border:1px solid #d8d8d8;width:72px;height:32px;background:transparent;color:#333;border-radius:4px;font-size:14px;font-weight:500;margin-right:8px;&:lang(en){width:80px;&:hover{border:1px solid #000;}}&:hover{border:1px solid #fc3f55;}}button.signup{width:88px;height:32px;background:linear-gradient(230.47deg,#FFA41C -0.87%,#FE4141 25.89%,#F4153E 77.87%,#FF27C3 97.94%),#E73828;color:#fff;border-radius:4px;font-size:14px;font-weight:500;margin-right:8px;&:lang(en){width:120px;background:#FFC401;color:#000;&:hover{color:#000;border:1px solid #000;}}&:hover{color:#d9d9d9;}}.to-share{width:32px;height:32px;cursor:pointer;font-size:12px;.svg-icon{width:32px;height:32px;}}.share-menu-wrapper{display:flex;align-items:center;height:32px;padding:0 15px;margin:0 10px;font-weight:500;background:#1684FC;border-radius:8px;font-size:12px;color:#fff;transition:all 0.2s ease-in-out;white-space:nowrap;cursor:pointer;&:hover{background:#1169C9;}}a,.svg-icon{&:active,&.active{cursor:pointer;}}label.Dropdown:not(:global(.is-disabled)){&:hover{.svg-icon{color:#415058;}}}span.share-icon:hover{color:",";}}a{&[disabled]{cursor:not-allowed;color:#c8cdd0 !important;> span{color:#c8cdd0 !important;}}}.back-icon{display:flex;width:32px;height:100%;justify-content:center;align-items:center;margin-left:-8px;margin-right:-6px;color:",";font-size:16px;cursor:pointer;transition:all 0.1s linear;> div{width:32px;height:32px;}}.line{height:20px;width:1px;background:",";margin:0 25px;}.toolbar-left,.toolbar-right{flex-basis:450px;flex-shrink:0;}.toolbar-abar{display:none !important;}.toolbar-left{position:relative;display:flex;height:100%;align-items:center;.project-name{width:400px;font-size:14px;font-weight:500;color:",";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-left:12px;user-select:text;}svg.modao-logo{height:32px;width:62px;cursor:pointer;g{path:nth-child(2){fill:","}path:nth-child(3){fill:","}}}div.divider{border-left:1px solid #e5e5e5;margin-left:16px;margin-right:4px;height:20px;}button.to-edit{display:flex;white-space:nowrap;width:auto;border:1px solid #1684fc;margin-left:12px;padding:4px 12px;border-radius:4px;color:#1684fc;}}.toolbar-main{position:relative;height:100%;padding:0 100px;display:flex;justify-content:center;flex:1;}.preview-toolbar-nav{display:flex;height:100%;background:#fff;border-bottom:none;justify-content:space-between;.nav-icon{.svg-icon{width:28px;height:28px;}&:hover{color:#415058;}}.active .nav-icon,.active .nav-label{color:#f55d54;transition:none;.svg-icon{color:",";}}> li{width:260px;font-size:14px;border-bottom:2px solid transparent;&:not(.active){&:hover{overflow:visible;.icon{color:#415058;}}}}.background-cube{border:none;height:calc(100% + 1px);&::after{content:'';position:absolute;left:18px;bottom:-1px;width:52px;border-top:2px solid #f55d54;}}}.toolbar-main-wrapper{position:relative;display:flex;justify-content:space-around;width:200px;height:100%;}&:not(.hide-text){.toolbar-main{.toolbar-main-wrapper{.toolbar-item{&:lang(en){width:60px;}}}}}&.hide-text{height:44px;.toolbar-main{.toolbar-main-wrapper{span[type=\"tip\"]{display:none;}}}}&.is-fullscreen-mode{position:absolute;opacity:0;pointer-events:none;}}@media only screen and (max-width:985px){.toolbar-left{flex-basis:unset;.project-name{max-width:140px;}}.toolbar-right{flex-basis:140px;label.Dropdown:first-child,span.line:nth-child(2){display:none;}#preview-sharing-box{font-size:12px;}}}"],function(a){return a.theme.color_background_white},function(a){return a.theme.color_background_split},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L3},function(a){return a.theme.color_background},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_primary_brand01}),sE=ze.default.div.withConfig({displayName:"styles__StyledZoomButton",componentId:"sc-1pj149d-1"})(["position:absolute;display:flex;align-items:center;right:60px;top:-55px;height:55px;z-index:1000;"]),rh=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleTabChange",function(l){var p=n.props.dispatch;p({type:"entry:preview:select",payload:{toolbarActiveItem:l}});var v="";switch(l){case"preview":{v="\u9884\u89C8";break}case"inspect":{v="\u6807\u6CE8";break}case"comment":{v="\u8BC4\u8BBA";break}}_t(v)}),(0,f.Z)((0,ae.Z)(n),"handleCloseGuide",function(){(0,Tt.iO)("new_version_artboard_guide_has_shown",!0,Tt.cM.Boolean)}),(0,f.Z)((0,ae.Z)(n),"handleShare",(0,d.Z)((0,r.Z)().mark(function l(){var p;return(0,r.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:p=n.props.dispatch,p({type:"entry:preview:toggle:sharingManager"});case 2:case"end":return M.stop()}},l)}))),(0,f.Z)((0,ae.Z)(n),"getCanEditByCurrentUser",function(){var l,p,v,M,j=(l=MB)==null||(p=l.user)==null?void 0:p.id,Z=(((v=MB)==null||(M=v.currentProject)==null?void 0:M.permissions)||[]).find(function(W){return W.user_id===j});return Z}),(0,f.Z)((0,ae.Z)(n),"onClickTopSign",function(l,p){MB.global.popupHelper.loginAsync({onConfirm:function(){setTimeout(function(){return location.reload()},50),setTimeout(function(){return _t("\u767B\u5F55")},0),(0,fr.gn)("/workspace/me","_blank","noreferrer")},type:"signin",source:"proto-preview",entryTerm:l,entry:p}),Vr.xd.userSourceTrack(l)}),n}return(0,S.Z)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var o=e.toolbarActiveItem;o!==this.props.toolbarActiveItem&&this.props.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowColorPicker:!1,isSelectLayer:!1}})}},{key:"isShowNewVersionArtboardGuide",get:function(){var e=this.props,o=e.toolbarActiveItem,s=e.isShowNewVersionArtboardGuide;return o==="inspect"&&s}},{key:"render",value:function(){var e,o,s=this,l=this.props,p=l.project,v=l.dispatch,M=l.toolbarActiveItem,j=l.isHTMLZip,Z=l.isProjectMain,W=l.isFullScreenMode,X=l.theme,J=l.isOnPremises,_=l.isWonderShare,te=l.user,ne=this.isShowNewVersionArtboardGuide,ie=this.getCanEditByCurrentUser;if(!Z)return(0,g.jsx)(sE,{className:"zoom-button-box",children:(0,g.jsx)(th,{})});var se=p.name||"",Se=function(){var ke,nt;setTimeout(function(){return _t("\u58A8\u5200logo")},0),(ke=MB)!=null&&(nt=ke.user)!=null&&nt.id?(0,fr.ll)(location.origin+"/workspace/me"):(typeof C.U1=="function"&&setTimeout(function(){return(0,C.U1)("enter_home_page",{source:"\u539F\u578B-\u4F01\u4E1A\u7528\u6237\u767B\u5F55\u4F46\u65E0\u6743\u8BBF\u95EE"})},0),(0,fr.ll)(location.origin))},Te=ENV.IS_WONDER_SHARE?(0,g.jsx)(Et.q,{name:"common/mockitt-logo",className:"modao-logo mockitt",isColorPure:!0,onClick:Se}):(0,g.jsx)(Et.q,{name:"common/modao-logo",className:"modao-logo",onClick:Se});return(0,g.jsxs)(oE,{className:ot()("preview-toolbar",{"is-fullscreen-mode":W},Er._.TaskListGuideBindClass.GUIDE_SHARE_TASK_BIND),children:[(0,g.jsxs)("div",{className:"toolbar-left "+((0,Fa.xM)()?"toolbar-abar":""),children:[(0,Pt.hi)()?(0,g.jsx)("a",{className:"back-icon",title:I18N.pPreviewToolbar.back,onClick:lE,children:(0,g.jsx)(ma.Z,{name:"common/back"})}):!j&&(0,g.jsxs)(g.Fragment,{children:[Te,(0,g.jsx)("div",{className:"divider"}),ie()&&(0,g.jsx)("button",{className:"to-edit",onClick:function(){setTimeout(function(){return _t("\u514D\u8D39\u4F7F\u7528")},0),(0,fr.ll)(location.origin+"/app/design/"+p.cid)},children:I18N.pPreviewToolbar.edit})]}),(0,g.jsx)("span",{className:ot()("project-name",Er._.TaskListGuideBindClass.GUIDE_CLICK_BACK_DESIGN_IN_PREVIEW_BIND),children:(0,Dr.FQ)(se)})]}),(0,g.jsx)("div",{className:"toolbar-main",children:(0,g.jsxs)("div",{className:ot()("toolbar-main-wrapper"),children:[(0,g.jsx)(yo,{type:"preview",name:I18N.pPreviewToolbar.preview,iconName:"toolbar/preview",isActive:M==="preview",onClick:this.handleTabChange}),(0,g.jsx)(yo,{type:"inspect",name:I18N.pPreviewToolbar.developer_mode,iconName:"design/preview/handoff",isActive:M==="inspect",onClick:this.handleTabChange}),!j&&(0,g.jsx)(yo,{type:"comment",name:I18N.pPreviewToolbar.comment,iconName:"design/preview/comment",isActive:M==="comment",onClick:this.handleTabChange})]})}),(0,g.jsxs)("div",{className:"toolbar-right "+((0,Fa.xM)()?"toolbar-abar":""),children:[!J&&ne&&(0,g.jsxs)("a",{onClick:this.handleCloseGuide,className:"new_version_artboard_guide",href:"/feature/aboard/index.html",target:"_blank",children:[(0,g.jsx)("img",{src:"/mb-workspace/images/preview/toolbar-artboard-guide.png"}),(0,g.jsx)("span",{children:"\u4E0A\u65B0\uFF01\u5F00\u53D1\u6807\u6CE8\u66F4\u7CBE\u51C6\uFF0C\u62A2\u5148\u4F53\u9A8C"})]}),!((e=MB)!=null&&(o=e.user)!=null&&o.id)&&!j&&!J?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("button",{className:"login",onClick:function(){s.onClickTopSign("sign_top_right","a32"),ENV.IS_WONDER_SHARE&&(0,C.Mn)("Top-Signin")},children:I18N.pPreviewToolbar.login}),(0,g.jsx)("button",{className:"signup",onClick:function(){s.onClickTopSign("free_use","a32"),ENV.IS_WONDER_SHARE&&(0,C.Mn)("Top-Start for Free")},children:I18N.pPreviewToolbar.signup}),(0,g.jsx)(ma.Z,{id:"preview-sharing-box",className:"to-share",name:"toolbar/preview/share",onClick:this.handleShare})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ro,{dispatch:v}),!j&&(0,g.jsx)(aE,{dispatch:v,isHTMLZip:j,theme:X,isOnPremises:J,isWonderShare:_,user:te}),(0,g.jsx)(th,{})]})]})]})}}]),t}(h.PureComponent);(0,f.Z)(rh,"propTypes",{project:u().object,isOnPremises:u().bool,isHTMLZip:u().bool,isProjectMain:u().bool,isFullScreenMode:u().bool,toolbarActiveItem:u().string,theme:u().string,isWonderShare:u().bool,user:u().object,dispatch:u().func,isShowNewVersionArtboardGuide:u().bool});var lE=function(){if((0,Pt.hi)()){var i,t,n,e;MB.action&&MB.action("entry:activate:screen",{screenCid:MB.webpackInterface.store.getState().container.current.screenMeta.cid}),MB.backDesign(),(i=MB)==null||i.action("entry:close:task-list-guide",{key:Er._.TaskListGuideKey.GUIDE_CLICK_BACK_DESIGN_IN_PREVIEW,isDestroy:!0}),(t=MB)==null||t.action("reducer:flag:update-state",{isInPreview:!1}),(n=MB)==null||n.action("entry:set:task-list-track",{type:0,key:Er._.TaskListGuideKey.GUIDE_CLICK_BACK_DESIGN_IN_PREVIEW}),(e=MB)==null||e.action("entry:init:task-list-steps")}},cE=(0,an.P1)([re.GP,re.Ds,re.vo,re.v8,re.XL,re.gh,re.CD,re.ts,re.pt],function(a,i,t,n,e,o,s,l,p){var v=a.isHTMLZip,M=s.isOnPremises,j=p.isShowNewVersionArtboardGuide;return{project:t,isHTMLZip:v,isProjectMain:n,isFullScreenMode:e,toolbarActiveItem:i,theme:o,isOnPremises:M,user:l,isShowNewVersionArtboardGuide:j}}),uE=(0,U.connect)(function(a){return cE(a)})(rh),dE=ze.default.div.withConfig({displayName:"styles__StyledScreenName",componentId:"sc-19ywro-0"})(["&{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:50px;width:258px;border-radius:25px;background:rgba(31,41,46,0.5);font-size:16px;z-index:2;display:flex;justify-content:center;align-items:center;color:#fff;opacity:0;transition:opacity 0.5s ease-in-out;pointer-events:none;}span.dot{position:static;width:5px;height:5px;background:#fff;margin:10px;border-radius:50%;}div.screen-name{",";max-width:120px;}&.show{opacity:1;}"],ka),ah=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.screen,s=e.screenMetaList,l=e.shouldTextShow,p=e.reachFirstScreen,v=e.reachLastScreen,M=s.findIndex(function(Z){var W=Z.cid;return W===o.cid}),j;return p?j=I18N.pFullScreen.firstScreen:v?j=I18N.pFullScreen.lastScreen:j=M+1+" / "+s.length,(0,g.jsxs)(dE,{className:ot()("screen-info",{show:l}),children:[(0,g.jsx)("div",{children:j}),(0,g.jsx)("span",{className:"dot"}),(0,g.jsx)("div",{className:"screen-name",children:o.name})]})}}]),t}(h.PureComponent);(0,f.Z)(ah,"propTypes",{screen:u().object,screenMetaList:u().array,shouldTextShow:u().bool,reachFirstScreen:u().bool,reachLastScreen:u().bool});var pE=(0,ze.keyframes)(["from{opacity:0;}to{opacity:1;}"]),ih=(0,ze.css)(["top:calc(50% - 106px);background:",";border-radius:50%;width:218px;height:218px;transition:left 0.3s ease-in-out,right 0.3s ease-in-out,background 0.5s ease-in-out;animation:"," 0.3s ease-in-out;z-index:1;& svg{position:absolute;top:50%;transform:translateY(-50%);font-size:18px;& > *{fill:",";}}&:hover{background:",";}&:active{& svg{fill:",";}}"],function(a){return a.theme.color_text_L3},pE,function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L2}),fE=ze.default.div.withConfig({displayName:"styles__StyledNavigationButton",componentId:"sc-1jlxrgo-0"})(["position:relative;width:100%;height:100%;.last-screen{position:absolute;left:-186px;",";& svg{right:32px;}&:hover{left:-146px;}}.next-screen{position:absolute;right:-186px;",";& svg{left:32px;}&:hover{right:-146px;}}"],ih,ih),oh=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){return(0,g.jsxs)(fE,{children:[(0,g.jsx)("span",{className:"last-screen","data-action":"last",onClick:this.props.onClick,children:(0,g.jsx)(Et.q,{className:"left-arrow",name:"general/angle_bracket_left"})}),(0,g.jsx)("span",{className:"navigation-button next-screen","data-action":"next",onClick:this.props.onClick,children:(0,g.jsx)(Et.q,{className:"right-arrow",name:"general/angle_bracket_right"})})]})}}]),t}(h.PureComponent);(0,f.Z)(oh,"propTypes",{onClick:u().func});var hE=(0,ze.keyframes)(["0%{top:-45px;opacity:0;}100%{top:10px;opacity:1;}"]),sh=(0,ze.css)(["position:relative;display:inline-block;cursor:pointer;width:35px;height:35px;border-radius:20px;box-shadow:0 2px 3px 0 rgba(65,80,88,0.40);background:",";transition:width 0.3s ease-in-out,background 0.5s ease-in-out;z-index:1;&:hover{box-shadow:0 4px 8px 0 rgba(65,80,88,0.16);& svg{fill:#415058;}}&:active{box-shadow:0 4px 8px 0 rgba(65,80,88,0.16);& svg{fill:#8d9ea7;}}"],function(a){return a.theme.color_background_white_modal}),vE=ze.default.div.withConfig({displayName:"styles__StyledExitAndModeButton",componentId:"sc-10ftbs3-0"})(["&{position:absolute;right:20px;top:10px;transition:all 0.5s ease-in-out;animation:"," 0.5s ease-in-out;display:flex;.mode{",";display:flex;align-items:center;justify-content:center;svg{width:16px;height:16px;color:",";}span{display:inline-block;width:18px;height:18px;border-radius:50%;position:absolute;top:calc(50% - 9px);opacity:0;transition:opacity 0.5s ease-in-out;border:1px solid transparent;&.active{border:1px solid ",";}}span.light{right:43px;background-color:#f7f7f7;opacity:0;transition:opacity 0.5s ease-in-out;}span.dark{right:9px;background-color:#151515;opacity:0;transition:opacity 0.5s ease-in-out;}span.custom{left:9px;opacity:0;transition:opacity 0.5s ease-in-out;background-color:",";&:after{display:inline-block;content:'';width:1px;height:16px;background-color:",";position:absolute;right:-16px;}}&:hover{width:",";svg{opacity:0;}span{opacity:1;}}}.exit-full-screen{",";margin-left:10px;display:flex;justify-content:center;align-items:center;svg{width:16px;height:16px;color:",";}&:hover{svg{color:",";}}&:active{svg{color:",";}}}}"],hE,sh,function(a){return a.theme.color_text_L3},function(a){return a.theme.color_primary_proto01},function(a){return a.bgcolor},function(a){return a.theme.color_text_disabled},function(a){return a.isSetBgColor?"117px":"71px"},sh,function(a){return a.theme.color_text_L2},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L3}),lh=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isSetBgColor,s=e.bgcolor,l=e.active;return(0,g.jsxs)(vE,{isSetBgColor:o,bgcolor:s,className:"top-right-action",children:[(0,g.jsxs)("div",{className:"mode",children:[(0,g.jsx)(Et.q,{name:"design/preview/daynight"}),o&&(0,g.jsx)("span",{className:ot()("custom",{active:l==="custom"}),"data-mode":"custom",onClick:this.props.onClickMode}),(0,g.jsx)("span",{className:ot()("light",{active:l==="light"}),"data-mode":"light",onClick:this.props.onClickMode}),(0,g.jsx)("span",{className:ot()("dark",{active:l==="dark"}),"data-mode":"dark",onClick:this.props.onClickMode})]}),(0,g.jsx)("div",{className:"exit-full-screen",onClick:this.props.onClickExit,children:(0,g.jsx)(Et.q,{name:"design/preview/exit"})})]})}}]),t}(h.PureComponent);(0,f.Z)(lh,"propTypes",{active:u().string,bgcolor:u().string,isSetBgColor:u().bool,onClickMode:u().func,onClickExit:u().func});var mE=ze.default.div.withConfig({displayName:"styles__StyledFullScreenActions",componentId:"sc-kmkm3x-0"})(["&{position:absolute;bottom:0;top:0;left:0;right:0;transition:all 0.5s ease-in-out;.zoom-wrapper{position:absolute;left:260px;height:56px;z-index:1;font-size:14px;display:flex;align-items:center;&.is-Iniframe{left:20px;}a:not([disabled]) svg{fill:#8d9ea7;&:hover{fill:currentColor;}}}a{&[disabled]{cursor:not-allowed;color:#c8cdd0 !important;}}&.dark-mode{background:#151515;.top-right-action{.mode{background:#363738;}.exit-full-screen{background:#363738;svg{color:#b8bcbf;}&:hover{svg{color:#f2f4f5;}}}}.last-screen,.next-screen{background:#2c383e;& svg{fill:#8d9ea7;}&:hover{background:#3a4850;}&:active{& svg{fill:#1f292e;}}}.zoom-wrapper{a{&:not([disabled]){svg{fill:#8D9EA7;}&:hover svg{fill:#7d8694;}}&[disabled] svg{fill:#415058;}}}}&.custom-mode{background-color:",";}&.light-mode{background:#f7f7f7;.top-right-action{.mode{background:#fff;}.exit-full-screen{background:#fff;svg{color:#666;}&:hover{svg{color:#333;}}}}}}@media only screen and (max-width:985px){&{.zoom-wrapper{left:168px;}}}"],function(a){return a.bgcolor}),ch=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"setMode",function(s){var l=s.target.dataset.mode;e.setState({mode:l})}),(0,f.Z)((0,ae.Z)(e),"handleKeyDown",function(s){s.keyCode===37&&e.goToScreenByStep(-1),s.keyCode===39&&e.goToScreenByStep(1)}),(0,f.Z)((0,ae.Z)(e),"handleNavigate",function(s){var l=s.currentTarget.dataset.action;l==="last"?e.goToScreenByStep(-1):l==="next"&&e.goToScreenByStep(1)}),(0,f.Z)((0,ae.Z)(e),"handleExitFullScreen",(0,d.Z)((0,r.Z)().mark(function s(){return(0,r.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!fa.isFullscreen){p.next=3;break}return p.next=3,fa.exit();case 3:e.props.dispatch({type:"entry:exit:fill-screen-mode"});case 4:case"end":return p.stop()}},s)}))),(0,f.Z)((0,ae.Z)(e),"goToScreenByStep",function(s){var l=e.props,p=l.screen,v=l.screenMetaList,M=l.dispatch,j=p.cid,Z=v.findIndex(function(J){var _=J.cid;return _===j}),W=Z+s;if(W<0)e.setState({shouldTextShow:!0,reachFirstScreen:!0});else if(W>v.length-1)e.setState({shouldTextShow:!0,reachLastScreen:!0});else{var X=v[W].cid;M({type:"entry:sync-runner:set-screen",payload:{cid:X}}),M({type:"entry:preview:reset:canvas:offset"}),e.setState({shouldTextShow:!0,reachFirstScreen:!1,reachLastScreen:!1})}});var o=n.isSetBgColor?"custom":n.theme;return e.state={mode:o,shouldTextShow:!1,reachFirstScreen:!1,reachLastScreen:!1},e}return(0,S.Z)(t,[{key:"componentDidUpdate",value:function(e){var o=this;if(this.state.shouldTextShow&&(clearTimeout(this.timer),this.timer=setTimeout(function(){return o.setState({shouldTextShow:!1})},1500)),this.props.screen!==e.screen){var s=this.props,l=s.screen,p=s.screenMetaList,v=l.cid,M=p.findIndex(function(j){var Z=j.cid;return Z===v});M!==0&&this.setState({reachFirstScreen:!1}),M!==p.length-1&&this.setState({reachLastScreen:!1})}}},{key:"render",value:function(){var e=this.props,o=e.screen,s=e.screenMetaList,l=e.isSetBgColor,p=e.bgcolor,v=e.previewOptions,M=this.state,j=M.mode,Z=M.shouldTextShow,W=M.reachFirstScreen,X=M.reachLastScreen,J=v.isEmbedV2;return(0,g.jsxs)(mE,{className:"full-screen-actions "+j+"-mode",bgcolor:p,children:[!J&&(0,g.jsx)(lh,{active:j,bgcolor:p,isSetBgColor:l,onClickMode:this.setMode,onClickExit:this.handleExitFullScreen}),(0,g.jsx)(ah,{screen:o,screenMetaList:s,shouldTextShow:Z,reachFirstScreen:W,reachLastScreen:X}),!J&&(0,g.jsx)(oh,{onClick:this.handleNavigate}),(0,g.jsx)(Wn.ZP,{target:document,onKeyDown:this.handleKeyDown})]})}}]),t}(h.PureComponent);(0,f.Z)(ch,"propTypes",{isSetBgColor:u().bool,bgcolor:u().string,theme:u().string,screen:u().object,screenMetaList:u().array,dispatch:u().func,previewOptions:u().object});var uh=(0,U.connect)(function(a){var i=(0,re.CL)(a),t=(0,re.px)(a),n=(0,re.Wf)(a),e=(0,re.vo)(a),o=(0,re.gh)(a),s=(0,re.GP)(a),l=(0,ao.z9)(e);return{screen:i,screenMetaList:t,bgcolor:n,isSetBgColor:l,theme:o,previewOptions:s}})(ch),gE=function(){return(0,Tt.GQ)("close_client_load_tip")!=="true"},yE=function(){return(0,Tt.A6)("close_client_load_tip","true")},SE=function(){var i=(0,h.useState)(gE()),t=(0,F.Z)(i,2),n=t[0],e=t[1];if(!n)return null;var o=function(){e(!1),yE()},s=I18N.pPreview.client_load_a,l=I18N.pPreview.client_load_tip;return(0,g.jsxs)("div",{className:"download-client-tip",children:[(0,g.jsx)(wr.Z,{type:"fa",name:"info-circle",className:"download-client-tip-icon"}),(0,g.jsxs)("span",{className:"download-text",children:[(0,g.jsx)("a",{href:I18N.link.link_download_client,rel:"noopener noreferrer",target:"_blank",children:s})," ",l]}),(0,g.jsx)(wr.Z,{type:"dora",name:"times_fc",className:"download-client-close-icon",onClick:o})]})},bE=(0,h.memo)(SE),xE=ze.default.div.withConfig({displayName:"style__StyledCommercialFontTip",componentId:"sc-yw7rpt-0"})(["display:flex;position:absolute;left:50%;transform:translateX(-50%);bottom:40px;padding:20px;background-color:#ffffff;color:#8d9ea7;font-size:14px;border-radius:4px;z-index:11;"]),CE=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"state",{isOpen:!0}),n}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({isOpen:!1}),(0,Tt.A6)(dh,!0)},4e3)}},{key:"render",value:function(){var e=this.state.isOpen;return e?(0,g.jsx)(xE,{className:"commercial-font-tip",innerHeight:window.innerHeight,children:I18N.pPreview.commercial_font_tip_preview}):null}}]),t}(h.Component);function wE(a){var i=(0,Tt.GQ)(dh);return i?null:(0,g.jsx)(CE,(0,L.Z)({},a))}var dh="commercialFontTipShownInPreview",ph=c(67562),EE=c(10846),AE=c.n(EE),ME=c(7145),fh=c.n(ME),hh=[{tag:"p",attrs:[{name:"data-we-empty-p",value:""}],children:[{tag:"br",attrs:[],children:[]}]}],PE=function(i){return i.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("<br/>","\n")},TE=function(i){return i.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/(\r\n|\r|\n)/g,"<br/>")},fl=function a(i,t){t===void 0&&(t=document.createElement("div"));var n=t;return i.forEach(function(e){var o;typeof e=="string"&&(o=document.createTextNode(PE(e))),typeof e=="object"&&(o=document.createElement(e.tag),e.attrs.forEach(function(s){o.setAttribute(s.name,s.value)}),e.children&&e.children.length>0&&a(e.children,o)),o&&n.appendChild(o)}),n},IE=function(i,t,n){var e=[t];return OE(i,t,n,e),e[0]},OE=function a(i,t,n,e){i.children&&i.children.length>0&&Array.from(i.children).every(function(o){var s=o==null?void 0:o.getBoundingClientRect();if(s){if(s.x===n.x&&s.y===n.y&&s.width===n.width&&s.height===n.height&&s.top===n.top&&s.bottom===n.bottom&&s.right===n.right&&s.left===n.left)return DE(o,t,e),!1;a(o,t,n,e)}return!0})},DE=function a(i,t,n){i.childNodes&&Array.from(i.childNodes).every(function(e){return e.nodeValue===t.nodeValue?(n[0]=e,!1):(a(e,t,n),!0)})},vh=function a(i){var t=[],n=(i==null?void 0:i.childNodes)||[];return n.forEach(function(e){var o,s=e.nodeType;if(s===3&&(o=e.textContent||"",o=TE(o)),s===1){o={},o=o,o.tag=e.nodeName.toLowerCase();for(var l=[],p=e.attributes,v=p.length||0,M=0;M<v;M++){var j=p[M];l.push({name:j.name,value:j.value})}o.attrs=l,o.children=a(e)}o&&t.push(o)}),t},LE=function a(i){i.length>0&&i.forEach(function(t,n){t!=null&&t.children&&(t.children.length>0?a(t.children):i.splice(n,1))})},GM=function(i){var t=document.createElement("div");t.classList.add("w-e-text"),t.innerHTML=i;var n=vh(t);return JSON.stringify(n)!==JSON.stringify(hh)&&LE(n),n},NE=function(i){var t,n;if(!i||i.length===0)return!0;var e=(t=fl(i))==null?void 0:t.innerText;return i.length===1&&!["ul","ol"].includes((n=i[0])==null?void 0:n.tag)&&!e},RE=ze.default.div.withConfig({displayName:"styles__StyledAnnotateEditor",componentId:"sc-nsl0ff-0"})(["position:relative;.w-e-text-container{height:auto !important;border:1px solid ",";border-top:none;border-radius:0 0 8px 8px;background:",";min-height:32px;user-select:text;-webkit-user-select:text;.placeholder{font-size:12px;color:#999;background:",';left:16px;top:16px;}ul{list-style:disc;li{line-height:1.7;letter-spacing:0.01rem;}}ol{list-style:decimal;li{line-height:1.7;letter-spacing:0.01rem;}}.w-e-text{padding:16px;min-height:16px !important;overflow-wrap:break-word;p,h1,h2,h3,h4,h5{margin:0;letter-spacing:0.01rem;}h1,h2,h3{line-height:24px;}h1{font-size:18px !important;}h2{font-size:16px !important;}h3{font-size:14px !important;}font{&[size="2"]{font-size:12px;}&[size="3"]{font-size:14px;}&[size="4"]{font-size:16px;}&[size="5"]{font-size:18px;}&[size="6"]{font-size:20px;}&[size="7"]{font-size:22px;}&[color="#000000"]{color:',';}&[color="#666666"]{color:',";}}p{font-size:14px !important;line-height:2;}}a{cursor:auto;}a[href]{color:#1684fc;cursor:pointer;&:hover{background:rgba(22,132,252,0.24);}}[contenteditable]{-webkit-user-select:text;user-select:text;*{-webkit-user-select:text;user-select:text;}}}.w-e-toolbar{min-height:32px;display:none;align-items:center;border:1px solid ",";border-radius:8px 8px 0 0;grid-template-columns:repeat(auto-fill,24px);grid-row-gap:5px;grid-column-gap:5px;background:",";.w-e-menu{width:24px;height:24px;border-radius:4px;margin-top:4px;transition:all 0.2s ease-in-out;i{color:",";}&.w-e-active{background:",";i{color:",";}}&:not(.w-e-active):hover{background:",";}&:not(.w-e-active):active{background:",';}&[data-title="\u5B57\u53F7"],&[data-title="\u6807\u9898"],&[data-title="\u5E8F\u5217"]{.w-e-droplist{width:100px !important;background:#333;box-shadow:0 2px 8px rgba(0,0,0,0.3);border-radius:4px;border:none;ul.w-e-list{padding:8px 0;li.w-e-item{color:#fff;height:24px;text-align:left;padding-left:32px;.w-e-drop-list-item::before{color:#fff;}&:not(:first-child){margin-top:2px;}&:hover{background-color:#666;}}}}}&[data-title="\u6587\u5B57\u989C\u8272"]{.w-e-droplist{width:108px !important;background:#333;box-shadow:0 2px 8px rgba(0,0,0,0.3);border-radius:4px;border:none;ul.w-e-block{li.w-e-item{width:24px;height:24px;border-radius:4px;&:hover{background-color:#666;}}}}}&[data-title="\u6807\u9898"]{.w-e-droplist{ul.w-e-list{li.w-e-item{&:nth-child(4),&:nth-child(5){display:none;}}}}}&[data-title="\u5E8F\u5217"]{.w-e-droplist{right:0;left:auto;width:120px !important;ul.w-e-list{li.w-e-item{padding-left:16px;}}}}}.w-e-droplist{.w-e-dp-title{display:none;}.w-e-list{.w-e-item{h1,h2,h3,h4,h5,p{font-size:12px !important;}}}}}&.readOnly{.w-e-toolbar{display:none;}.w-e-text-container{pointer-events:auto;.w-e-text{*{user-select:text;-webkit-user-select:text;}}}}&:not(.readOnly){cursor:text;}'],function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_background_white},function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_text_L2},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_background_icon_active}),jE=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"setRef",function(o){return e.ref=o}),(0,f.Z)((0,ae.Z)(e),"isEmpty",function(){var o=e.props.widget.data;return NE(o)}),(0,f.Z)((0,ae.Z)(e),"handleValidateHref",function(o){var s=!1,l="";try{var p=new URL(o);l=p.hostname.split(".").slice(-2).join("."),s=$a.$h.includes(p.protocol)}catch(v){}return{isValidated:s,domain:l}}),(0,f.Z)((0,ae.Z)(e),"initXss",function(){var o={whiteList:Object.fromEntries(Object.entries(fh().whiteList).filter(function(s){var l=(0,F.Z)(s,2),p=l[1];return!p.includes("src")}).map(function(s){var l=(0,F.Z)(s,2),p=l[0],v=l[1];return p==="a"?[p,["href","target"]]:[p,v.filter(function(M){return M!=="href"})]})),onTagAttr:function(l,p,v,M){if(!M)return"";if(l==="a"){if(p==="href"){var j=e.handleValidateHref(v),Z=j.isValidated;return Z?"href="+v:""}else if(p==="target")return'target="_blank"'}},stripIgnoreTag:!0,stripIgnoreTagBody:["script","iframe"]};e.myxss=new(fh()).FilterXSS(o)}),(0,f.Z)((0,ae.Z)(e),"handleClickHref",function(o){var s,l=o.target;if(l&&((s=l.nodeName)==null?void 0:s.toLowerCase())==="a"){var p=l.getAttribute("href");if(p){var v=e.handleValidateHref(p),M=v.domain;if(!["wondershare.com","modao.cc"].includes(M)){o.preventDefault();var j=e.props,Z=j.readOnly,W=j.dispatch,X=function(){(0,fr.gn)(p,"_blank","noreferrer")};W({type:Z?"previewModal:update:state":"modal:update:state",payload:{preOpenHyperlinkModal:{isOpen:!0,hyperlink:p,isMobile:!1,displayWeChatNewTabExternalUrlTip:!1,confirmText:I18N.SettingPanel.continue,onConfirm:X}}})}}}}),(0,f.Z)((0,ae.Z)(e),"initEditorConfig",function(){var o=e.props,s=o.widget,l=o.theme,p=o.readOnly,v=new(AE())(e.$toolbarRef,e.$contentRef);v.config.menus=["head","fontSize","foreColor","bold","italic","underline","strikeThrough","list"],v.config.fontSizes={small:{name:"12px",value:"2"},normal:{name:"14px",value:"3"},large:{name:"16px",value:"4"},"x-large":{name:"18px",value:"5"},"xx-large":{name:"20px",value:"6"},"xxx-large":{name:"22px",value:"7"}};var M=l==="light"?"#000000":"#F2F4F5",j=l==="light"?"#666666":"#B8BCBF";v.config.colors=[M,"#EB3223","#FF7900","#FFDA02","#377D22","#0EB0CF","#1684FC","#3D46CE","#DA58F5","#887FE1",j,"#999999"],v.config.showFullScreen=!1,v.config.showMenuTooltips=!1,v.config.focus=!1,v.config.printLog=!1,p||(v.config.onchange=function(X){MB.f.isEditingAnnotate&&(e.handleErrorCache(),e.handleChangeData())}),v.config.placeholder=I18N.AnnotatePanel.editorPlaceholder,v.create();var Z=!s.data||s.data.length===0?hh:s.data,W=fl(Z);return v.txt.html(e.myxss.process(W.innerHTML)),p&&v.disable(),v}),(0,f.Z)((0,ae.Z)(e),"initDefault",function(){var o=e.props,s=o.readOnly,l=o.editingWidgetCid,p=o.widget,v=o.onUpdateData,M=o.dispatch;if(e.$contentRef){var j=l===p.cid;if(j){e.annotateEditorInstance=e.initEditorConfig();var Z=e.$contentRef.querySelector('[contenteditable="true"]');Z&&Z.setAttribute("spellcheck","false")}else{var W=e.props.widget.data,X=document.createElement("div");X.classList.add("w-e-text-container");var J=document.createElement("div");J.classList.add("w-e-text"),s||(J.setAttribute("contenteditable","true"),J.setAttribute("spellcheck","false"));var _=fl(W,J),te;if(_){var ne=_.innerHTML;te=e.myxss.process(ne);var ie=ne!==te;if(J.innerHTML=te,X.appendChild(J),ie&&!s){var se=vh(_);v(se,p.cid)}}if(J.oninput=function(){l!==p.cid&&(J.innerHTML=te)},e.isEmpty()){var Se=document.createElement("div");Se.classList.add("placeholder"),Se.innerText=I18N.AnnotatePanel.editorPlaceholder,Se.style.zIndex="1",X.appendChild(Se)}e.$contentRef.appendChild(X)}}M({type:"set:annotatePanel:update",payload:{editingAnnotateEditorInstance:{instance:e.annotateEditorInstance||null,cid:p.cid}}})}),(0,f.Z)((0,ae.Z)(e),"handleDestroy",function(){e.annotateEditorInstance&&(e.annotateEditorInstance.destroy(),e.annotateEditorInstance=null)}),(0,f.Z)((0,ae.Z)(e),"createContentRef",function(o){return e.$contentRef=o}),(0,f.Z)((0,ae.Z)(e),"createToolbarRef",function(o){return e.$toolbarRef=o}),(0,f.Z)((0,ae.Z)(e),"setFocus",function(o){var s=o.focusNode,l=o.parentRect,p=o.focusOffset;if(e.annotateEditorInstance){var v=e.$contentRef.querySelector(".w-e-text");if(v)if(s&&l){var M=IE(v,s,l);if(M&&v.contains(M)){var j=window.getSelection(),Z=document.createRange(),W=p;M.hasChildNodes()&&(W=M.childNodes.length),W=p>W?W:p,Z.setStart(M,W),Z.setEnd(M,W),j.removeAllRanges(),j.addRange(Z),e.annotateEditorInstance.selection.saveRange(Z)}}else e.handleSetAllRange()}}),(0,f.Z)((0,ae.Z)(e),"handleSetAllRange",function(){if(e.annotateEditorInstance){var o=e.$contentRef.querySelector(".w-e-text");if(o)if(e.isEmpty()){var s=e.annotateEditorInstance.$textElem,l=s.children(),p=l==null?void 0:l.last();e.annotateEditorInstance.selection.createRangeByElem(p,!0,!0),e.annotateEditorInstance.selection.restoreSelection()}else{var v=window.getSelection(),M=document.createRange(),j=o.childElementCount>0?o.lastChild:o,Z=1;j.hasChildNodes()&&(Z=j.childNodes.length),j&&Z&&(M.setStart(j,Z),M.setEnd(j,Z),v.removeAllRanges(),v.addRange(M),e.annotateEditorInstance.selection.saveRange(M))}}}),(0,f.Z)((0,ae.Z)(e),"setBlur",function(){var o=e.$contentRef.querySelector(".w-e-text");o&&e.handleBlur()}),(0,f.Z)((0,ae.Z)(e),"handleErrorCache",function(){var o,s,l,p,v;if((o=e.annotateEditorInstance)!=null&&(s=o.history)!=null&&(l=s.content)!=null&&(p=l.cache)!=null&&(v=p.data)!=null&&v.data){var M=e.annotateEditorInstance.history.content.cache.data.data.findIndex(function(j){if((j==null?void 0:j.length)===1){var Z;return((Z=j[0].target)==null?void 0:Z.className)==="w-e-text"}return!1});M>-1&&e.annotateEditorInstance.history.content.cache.data.data.splice(M,1)}}),(0,f.Z)((0,ae.Z)(e),"handleKeyDown",function(o){if(MB.f.isEditingAnnotate){var s=o.key===ei.Fn.Escape,l=(o.metaKey||o.ctrlKey)&&o.key===ei.Fn.Enter,p=s||l;p&&(o.preventDefault(),e.setBlur())}}),(0,f.Z)((0,ae.Z)(e),"handleChangeData",Ui()(function(){e.handleUpdateData()},500)),(0,f.Z)((0,ae.Z)(e),"handleUpdateData",function(){var o=e.props,s=o.widget,l=o.onUpdateData;if(e.annotateEditorInstance){var p=s.data,v=e.annotateEditorInstance.txt.getJSON();JSON.stringify(p)!==JSON.stringify(v)&&l(v,s.cid)}}),(0,f.Z)((0,ae.Z)(e),"handleFocus",function(){var o=e.props,s=o.readOnly,l=o.widget,p=o.onSetEditingAnnotate,v=o.onJudgeIsEditingExceedOneScreen,M=o.dispatch;s||(M({type:"entry:update:selection:select:items",payload:{cids:[l.cid]}}),p(!0,l.cid),v(l.cid))}),(0,f.Z)((0,ae.Z)(e),"handleBlur",function(){var o=e.props,s=o.show,l=o.onBlur;s&&e.handleUpdateData(),l()}),(0,f.Z)((0,ae.Z)(e),"handleClick",function(o){var s=e.props,l=s.widget,p=s.onSetEditingAnnotate,v=s.onJudgeIsEditingExceedOneScreen,M=s.editingWidgetCid;p(!0,l.cid),v(l.cid);var j=M===l.cid;if(!j)e.handleSetRange();else{var Z=o?o.target.className.includes("w-e-text-container"):!0;Z&&setTimeout(function(){e.handleSetAllRange()})}}),(0,f.Z)((0,ae.Z)(e),"handleSetRange",function(){var o,s=window.getSelection(),l=s==null?void 0:s.focusNode,p=l==null?void 0:l.parentElement,v=p==null||(o=p.classList)==null?void 0:o.contains("w-e-text"),M=(p==null?void 0:p.tagName)==="UL",j=(v||M)&&(l==null?void 0:l.nodeType)===1?l==null?void 0:l.getBoundingClientRect():l==null?void 0:l.parentElement.getBoundingClientRect(),Z=s==null?void 0:s.focusOffset;setTimeout(function(){e.setFocus({focusNode:l,parentRect:j,focusOffset:Z})})}),(0,f.Z)((0,ae.Z)(e),"handleCopy",function(){var o=e.props,s=o.onCopy,l=o.readOnly;l&&s&&s()}),n.onSetRef&&n.onSetRef((0,ae.Z)(e)),e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.initXss(),this.initDefault(),document.addEventListener("click",this.handleClickHref)}},{key:"componentDidUpdate",value:function(e,o,s){var l=e.editingWidgetCid,p=e.widget.data,v=this.props,M=v.editingWidgetCid,j=v.widget,Z=j.cid,W=j.data;if((l===Z&&M!==Z||l!==Z&&M===Z)&&(this.handleDestroy(),this.initDefault()),!M&&JSON.stringify(W)!==JSON.stringify(p)){for(this.handleDestroy();this.$contentRef.hasChildNodes();)this.$contentRef.firstChild&&this.$contentRef.removeChild(this.$contentRef.firstChild);this.initDefault()}}},{key:"componentWillUnmount",value:function(){this.handleDestroy(),document.removeEventListener("click",this.handleClickHref)}},{key:"render",value:function(){var e=this,o=this.props,s=o.widget,l=o.readOnly;return(0,g.jsxs)(RE,{className:ot()({readOnly:l},"annotateComponent"),onKeyDown:function(v){return l?void 0:e.handleKeyDown(v)},children:[(0,g.jsx)("div",{ref:this.createToolbarRef,className:"editorToolbar"}),(0,g.jsx)("div",{ref:this.createContentRef,id:l?"annotate_preview_"+s.cid:"annotate_"+s.cid,className:"editorContent",onClick:l?void 0:this.handleClick,onCopy:this.handleCopy})]})}}]),t}(h.PureComponent),VM=c(63748),kE=24,KM=function(i){if(!/[^\d.]/.test(i)&&!/^\.|^0\./.test(i)){var t=i.split(".");if(t.length>0){var n=t.map(function(e){return parseInt(e)}).filter(function(e){return!isNaN(e)&&e!==0});return n.splice(0,MAX_ANNOTATE_DEPTH).join(".")}}return null},hl=function(i){return i.toString().split(".").length},Ga=function(i,t){for(var n=[t];n.length;){var e=n.pop();if(e.order===i)return e;n.push.apply(n,_toConsumableArray(e.children))}},BE=function(i,t){var n=Ga(getParentOrder(i.order)||"root",t);return n==null?void 0:n.children.map(function(e){return e.data})},mh=function(i,t){var n=Ga(i,t),e=BE(n.data,t);return e&&e.length>0?e[e.length-1].order===i:!1},YM=function(i){return preOrderTraversal(i,function(t){return t.data})},ZE=function(i,t){var n=t.getBoundingClientRect(),e=getComputedStyle(t),o=e.paddingTop,s=e.paddingRight,l=e.paddingBottom,p=e.paddingLeft,v=parseInt(p)+(i-1)*kE,M=parseInt(o),j=v,Z=parseInt(s),W=parseInt(l);return{top:n.top,left:n.left+j,width:n.width-(j+Z),height:n.height-(M+W)}},XM=function(i,t){var n=document.querySelector(".annotate-drag-container"),e=n.firstChild,o=Array.from(n.querySelectorAll(".annotate-tree-item")),s=n.getBoundingClientRect(),l=e.getBoundingClientRect(),p=[],v={},M=new Set([i.order]),j=[],Z=1;preOrderTraversal(t,function(ne){var ie=ne.order,se=ne.children;if(M.has(ie)&&se){var Se=_createForOfIteratorHelper(se),Te;try{for(Se.s();!(Te=Se.n()).done;){var Le=Te.value;M.add(Le.order)}}catch(ke){Se.e(ke)}finally{Se.f()}j.push(ne)}});for(var W=0,X=j;W<X.length;W++){var J=X[W],_=getTreeNodeHeight(J);Z=Math.max(_,Z)}var te=o.length;return o.forEach(function(ne,ie){var se=ne.dataset.order,Se=hl(se),Te=Ga(se,t),Le=ne.querySelector(":scope > .annotateEditorItem"),ke=Le.getBoundingClientRect(),nt=ZE(Se,Le),it=ne.getBoundingClientRect(),ct={top:ke.top-l.top,left:ke.left-l.left,width:ke.width,height:ke.height},de={top:nt.top-l.top,left:nt.left-l.left,width:nt.width,height:nt.height},ue={top:it.top-l.top,left:de.left,width:de.width,height:it.height};v[se]={rect:ct,contentRect:de,treeRect:ue};var ge=ct.left,$e=ct.top,Ye=ct.width,Xe=ct.height,ut=ge+Ye,dt=$e+Xe,mt=$e+Xe/3,Nt=$e+Xe/3*2;if(M.has(se)){p.push({cid:se,type:null,min:{x:ge,y:$e},max:{x:ut,y:dt},isValid:!1});return}ie===0&&p.push({cid:se,type:"prevSibling",parentCid:getParentOrder(se),min:{x:ge,y:$e},max:{x:ut,y:mt},isValid:!0}),ie===te-1&&p.push({cid:se,type:"nextSibling",parentCid:getParentOrder(se),min:{x:ge,y:dt},max:{x:ut,y:s.height},isValid:!0});var Bt=MAX_ANNOTATE_DEPTH,Wt=Se+Z<=Bt,Gn=Se-1+Z<=Bt;if(Te.children.length>0){var Hn=Te.children[0].order;p.push({cid:Hn,type:"prevSibling",parentCid:se,min:{x:ge,y:Nt},max:{x:ut,y:dt},isValid:Wt})}else{var rr=Ga(getParentOrder(se),t),lr=mh(se,t)&&rr;if(lr){p.push({cid:se,type:"nextSibling",parentCid:getParentOrder(se),min:{x:v[se].contentRect.left,y:Nt},max:{x:ut,y:dt},isValid:Gn});for(var Pn=Te,Vn=null;Pn&&mh(Pn.order,t)&&(Vn=Ga(getParentOrder(Pn.data.order),t));){var qr,ea=hl(Vn.order)-1+Z<=4;p.push({cid:Vn.order,type:"nextSibling",parentCid:getParentOrder((qr=Vn.data)==null?void 0:qr.order),min:{x:v[Vn.order].contentRect.left,y:Nt},max:{x:v[Pn.order].contentRect.left,y:dt},isValid:ea}),Pn=Vn}}else p.push({cid:se,type:"nextSibling",parentCid:getParentOrder(se),min:{x:ge,y:Nt},max:{x:ut,y:dt},isValid:Gn})}p.push({cid:se,type:"firstChild",parentCid:se,min:{x:ge,y:$e},max:{x:ut,y:Nt},isValid:Wt})}),{matchDataList:p,containerRect:s,rectQueryMap:v}},QM=function a(i,t,n,e){var o=t(i,n,e);i.children.forEach(function(s,l){a(s,t,o,l)})},FE=function a(i,t,n){var e=t(i,n);e&&i.children.forEach(function(o){a(o,t,e)})},UE=function(i,t){var n=new Set;FE(i,function(v,M){var j=v.order==="root"?0:getOrderArr(v.order).length-1;if(j>t.length-1)return!1;if(M){var Z=M.children[M.children.length-1],W=getCurrentPosition(Z.order);n[M.order]=Math.max(W,n[v.order]||1)}return v},i);var e={};Object.entries(n).forEach(function(v){var M=_slicedToArray(v,2),j=M[0],Z=M[1],W=j==="root"?0:getOrderArr(j).length;e[W]=e[W]||[],e[W].push({order:j,max:Z})});for(var o=t,s=function(){var M=t.slice(0,l).join("."),j=getParentOrder(M)||"root";if(e[l-1]){var Z,W=(Z=e[l-1].find(function(se){var Se=se.order;return Se===j}))==null?void 0:Z.max;if(W){var X=l===t.length,J=getCurrentPosition(M),_=J<=(X?W+1:W);if(!_){var te=j==="root"?(W+1).toString():j+"."+(W+1);return o=getOrderArr(te),"break"}}else{var ne=j==="root"?"1":j+".1";return o=getOrderArr(ne),"break"}}else if(l>1){var ie=j==="root"?"1":j+".1";return o=getOrderArr(ie),"break"}},l=1;l<=t.length;l++){var p=s();if(p==="break")break}return o},HE=function(i,t,n){var e=n.annotateTreeData,o=getOrderArr(i),s=UE(e,o),l=Ga(t||"root",e),p=0;preOrderTraversal(l,function(M){var j=getOrderArr(M.order).length;p=Math.max(p,j)});var v=p-getOrderArr(l.order).length+1+(s.length-1);if(v>MAX_ANNOTATE_DEPTH){MB.notice({text:I18N.AnnotatePanel.invalid_annotate_nested_level.replace(/%s/,MAX_ANNOTATE_DEPTH),type:"error"});return}return s&&s.length>0?s.join("."):null},JM=function(i,t,n){var e=n.annotateDataMap,o=n.annotateTreeMap,s={cid:"",type:null,parentCid:"",isValid:!1};if(i.startsWith(t))return s;var l=HE(i,t,n);if(l){if(l&&t.startsWith(l)){var p=getParentOrder(l);return{cid:l,type:"prevSibling",parentCid:p,isValid:!0}}var v=getParentOrder(l),M=e[v],j=o[v||"root"],Z=getCurrentPosition(l);if(!j||Z===1)s={cid:M==null?void 0:M.order,type:"firstChild",parentCid:M==null?void 0:M.order,isValid:!0};else{var W=getParentOrder(t),X=e[l];if(W===v&&X){var J=getCurrentPosition(t),_=J-Z>0;s={cid:l,type:_?"prevSibling":"nextSibling",parentCid:v,isValid:!0}}else{var te=Z-1;te>j.length&&(te=j.length);var ne=v?v+"."+te:te.toString();if(ne===t){if(te===j.length)return;s={cid:v?v+"."+(te+1):(te+1).toString(),type:"nextSibling",parentCid:M==null?void 0:M.order,isValid:!0}}else s={cid:ne,type:"nextSibling",parentCid:M==null?void 0:M.order,isValid:!0}}}return s}},_M=function(i,t){return i.map(function(n){var e=getCurrentPosition(n.order),o=getAllParentOrders(n.order),s=o.find(function(M){return t[M]}),l="";if(s)l=t[s]+"."+e;else{var p=getParentOrder(n.order),v=getParentOrder(p);l=v?v+"."+e:(parseInt(p)+e-1).toString()}return l?(t[n.order]=l,_objectSpread(_objectSpread({},n),{},{order:l})):null}).filter(function(n){return n})},WE=ze.default.aside.withConfig({displayName:"styles__StyledAnnotationPanel",componentId:"sc-8trio4-0"})(["position:absolute;width:300px;height:100%;background:",";box-shadow:0 0 10px rgba(0,0,0,0.1);z-index:106;right:0;top:0;.panel-header{width:100%;height:40px;padding:0 16px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid ",";.panel-title{color:",";font-size:12px;font-weight:500;}}.panel-container{overflow-x:hidden;overflow-y:overlay;height:calc(100% - 40px);padding-bottom:40px;.tree-container{position:relative;}ul.annotate-children-tree{list-style:none;&:first-child{margin-bottom:420px;}}.dnd{.indicator-line{left:8px;}.indicator-circle{right:calc(100% - 8px);}.group-indicator{&::after{inset:11px 15px;border-radius:8px;}}}}&.preview{.panel-container{padding-bottom:20px;}}.border-resizer.left{right:-1px;&:hover{background-color:rgba(22,132,252,.6);}&.active{background-color:rgba(22,132,252,.6);}}"],function(a){return a.theme.color_background_white},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_text_L1}),zE=ze.default.section.withConfig({displayName:"styles__StyledAnnotateEditorItem",componentId:"sc-8trio4-1"})(["background:",";padding:12px 16px;color:",";header{height:32px;display:flex;align-items:center;justify-content:space-between;padding-left:16px;padding-right:12px;background:",";border:1px solid ",";border-bottom:none;border-radius:8px 8px 0 0;.item-title{font-weight:600;font-size:12px;color:#1684fc;width:54px;display:flex;align-items:center;.child-order-container{margin-right:6px;display:flex;.child-order{display:inline-block;width:2px;height:16px;background:",";&:not(:first-child){margin-left:4px;}}}.order-input{cursor:text;&.is-editing{border-bottom:1px solid ",";textarea{background:",";color:",";font-weight:600;}}}&:hover{.order-input:not(.is-editing){border-bottom:1px solid ",";}}}.options-menu-opener{display:flex;align-items:center;&.is-open{.more{background:",";&:not(.disabled):hover{background:",";}}}&:not(.is-open):hover{.more{background:",";}}}}&:not(.isDragging):not(.active):not(:active):hover{background:",";}&.active{background:",";}&.editing{header{border-color:#1684fc;display:none;}.w-e-text-container{border-color:#1684fc;}.editorToolbar{height:32px;.w-e-toolbar{border-color:#1684fc;border-bottom:none;display:grid;}}}&.isEditingExceedOneScreen{.editorToolbar{position:fixed;z-index:10001;width:","px;top:88px;.w-e-toolbar{border-radius:0;}}.editorContent{margin-top:32px;}}&.highLight{background:",";}&.isDragging{.w-e-text-container{height:61px !important;p:first-child{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}}}"],function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L1},function(a){return a.theme.color_background},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_text_disabled},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_background},function(a){return a.theme.color_primary_proto01},function(a){return a.theme.color_text_disabled},function(a){return a.theme.color_background_split},function(a){return a.theme.color_background_split},function(a){return a.theme.color_background_icon_active},function(a){return a.theme.color_background_icon_hover},function(a){return a.theme.color_background_selection01},function(a){return a.width-33},function(a){return a.color_feedback_highlight_bg}),qM=ze.default.div.withConfig({displayName:"styles__StyledAnnotateEditorMoreMenu",componentId:"sc-8trio4-2"})(["span{display:flex;height:24px;padding-left:16px;color:#fff;font-size:12px;align-items:center;cursor:pointer;&:hover{background:#666;}}"]),eP=(0,ze.createGlobalStyle)(["#IBOT_DROPDOWN_MENU_ROOT{.annotate-options-menu{width:120px;background-color:#333;box-shadow:0 2px 8px rgba(0,0,0,0.3);border-radius:4px;.content{background-color:#333;margin:8px 0;padding:0;}}}"]),tP=(0,ze.createGlobalStyle)([".drag-annotate-protal{width:300px;.annotateEditorItem{background:transparent !important;opacity:0.6;.container{box-shadow:-2px 4px 8px rgba(0,0,0,0.08);header{.options-menu-opener{display:none;}}&.hasChildren{position:relative;.trailing{display:block;position:absolute;z-index:-1;width:268px;height:93px;box-shadow:-2px 4px 8px rgba(0,0,0,0.08);top:8px;left:-8px;border-radius:8px;background:",";overflow:hidden;&::after{content:'';display:block;width:100%;height:61px;margin-top:32px;background:",";border-radius:0 0 8px 8px;}}}}}}"],function(a){return a.theme.color_background},function(a){return a.theme.color_background_white}),gh=200,$E=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"setElementRef",function(l){return n.$elem=l}),(0,f.Z)((0,ae.Z)(n),"handleClick",function(l){l.stopPropagation();var p=n.props.dispatch;p({type:"reducer:toggle:annotatePanelShow"}),p({type:"reducer:set:annotateSelectWidgetCid",payload:{annotateSelectWidgetCid:""}}),_t("\u5173\u95ED\u6C34\u6EF4\u6279\u6CE8\u9762\u677F")}),(0,f.Z)((0,ae.Z)(n),"handleResizeStart",function(){return n.$elem.style.transition="none"}),(0,f.Z)((0,ae.Z)(n),"handleResizeEnd",function(){return n.$elem.style.transition=""}),(0,f.Z)((0,ae.Z)(n),"handleWidthChange",function(l){var p=n.props.dispatch;p({type:"reducer:set:update:preview:annotate",payload:{annotatePanelWidth:l}})}),(0,f.Z)((0,ae.Z)(n),"handleClickCard",function(l){var p=n.props,v=p.mode,M=p.dispatch;M({type:"reducer:set:annotateSelectWidgetCid",payload:{annotateSelectWidgetCid:l.cid}}),M({type:"entry:preview:zoom:annotate",payload:{widget:l,mode:v}}),_t("\u9009\u4E2D\u6C34\u6EF4\u5361\u7247")}),(0,f.Z)((0,ae.Z)(n),"getDefaultTransitionStyles",function(){var l=n.props.annotatePanelWidth;return{right:-l-8,transition:"right "+gh+"ms ease-in-out"}}),(0,f.Z)((0,ae.Z)(n),"getTransitionStyles",function(){var l=n.props.annotatePanelWidth;return{entering:{right:-l-8},entered:{right:0,borderRight:"1px solid rgba(0, 0, 0, 0.1)"},exiting:{right:-l-8}}}),(0,f.Z)((0,ae.Z)(n),"handleHover",function(l,p,v){if(l.stopPropagation(),l.preventDefault(),!!p){var M=p.bind_widget_cid,j=n.props.dispatch;M&&j({type:"reducer:set:annotateHoverCid",payload:{annotateHoverCid:v?M:null}})}}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this,o=this.props,s=o.annotateSortList,l=o.selectCid,p=o.show,v=o.annotatePanelWidth,M=o.dispatch,j=this.getDefaultTransitionStyles(),Z=this.getTransitionStyles();return(0,g.jsx)(ph.ZP,{in:p,timeout:gh,children:function(X){if(X===ph.ZP.EXITED)return null;var J=(0,L.Z)((0,L.Z)({width:v},j),Z[X]);return(0,g.jsxs)(WE,{className:ot()("annotatePanel","preview"),ref:e.setElementRef,style:J,children:[(0,g.jsxs)("header",{className:"panel-header",children:[(0,g.jsx)("span",{className:"panel-title",children:I18N.AnnotatePanel.annotatePanelTitle.replace(/%size/,s.length)}),(0,g.jsx)(ma.Z,{name:"common/close",onClick:e.handleClick})]}),(0,g.jsx)("div",{className:"panel-container",children:s.map(function(_,te){var ne=hl(_.order||te+1)-1,ie=new Array(ne).fill(1);return(0,g.jsx)(zE,{"data-cid":_.cid,className:ot()("annotateEditorItem","preview",{active:_.cid===l}),onClick:function(){return e.handleClickCard(_)},onMouseEnter:function(Se){return e.handleHover(Se,_,!0)},onMouseLeave:function(Se){return e.handleHover(Se,_,!1)},children:(0,g.jsxs)("div",{className:"container",children:[(0,g.jsx)("header",{children:(0,g.jsxs)("div",{className:"item-title",children:[ne!==0&&(0,g.jsx)("div",{className:"child-order-container",children:ie.map(function(se,Se){return(0,g.jsx)("span",{className:"child-order"},Se)})}),(0,g.jsx)("span",{className:"order",children:_.order||te+1})]})}),(0,g.jsx)(jE,{widget:_,dispatch:M,readOnly:!0,onCopy:function(){return _t("\u590D\u5236\u6C34\u6EF4\u6279\u6CE8\u5185\u5BB9")}})]})},_.cid)})}),p&&(0,g.jsx)(ga,{placement:"left",className:"v-resizer",value:v,min:On.AI,max:window.innerWidth/2,onResizeStart:e.handleResizeStart,onResizeEnd:e.handleResizeEnd,onChange:e.handleWidthChange})]})}})}}]),t}(h.PureComponent),GE=(0,an.P1)([re.aS,re.Ds,re.Dx,re.JH,re.oD],function(a,i,t,n,e){var o=n.annotateSortList,s=n.show;return{selectCid:a,annotateSortList:o,show:s,annotatePanelWidth:e}}),vl=(0,U.connect)(function(a){return GE(a)})($E),VE=ze.default.div.withConfig({displayName:"styles__StyledSignUpPrompt",componentId:"sc-1ewo4qr-0"})(["svg.close-btn{cursor:pointer;width:24px;height:24px;border-radius:4px;transition:background-color 0.2s ease-in-out;&:hover{background:#f2f2f2;}&:active{background:#e5e5e5;}}position:absolute;display:flex;align-items:center;flex-direction:row;left:50%;top:98px;transform:translateX(-50%);padding:16px;width:420px;height:64px;background-color:#fff;box-shadow:0 2px 10px rgba(82,94,113,0.1);border-radius:4px;pointer-events:auto;.content{display:flex;flex-direction:column;> span:first-child{font-weight:500;font-size:14px;line-height:14px;color:#333;margin-bottom:4px;}}.login-btn{cursor:pointer;&:lang(en){color:#5303AF;}}button.signup-btn{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-left:auto;margin-right:12px;padding:8px 15px;white-space:nowrap;width:77px;height:28px;color:#fff;border-radius:4px;&:lang(en){background:#FFC401;color:#000;&:hover{border:1px solid #000;}}}svg.close-btn{bottom:36px;}svg.logo{width:62px;height:32px;margin-right:16px;}.login-btn{color:#f33;}button.signup-btn{background:linear-gradient(230.47deg,#ffa41c -0.87%,#fe4141 25.89%,#f4153e 77.87%,#ff27c3 97.94%),#e73828;}"]),yh="local_signup_prompt_close",KE=function(i){var t=i.withOffset,n=i.mode,e=function(){setTimeout(function(){return location.reload()},50),(0,fr.gn)("/workspace/me","_blank","noreferrer")},o=function(){var j="a32",Z="sign_middle";MB.global.popupHelper.loginAsync({onConfirm:e,type:"signin",source:"proto-preview",entryTerm:Z,entry:j}),Vr.xd.userSourceTrack(Z),_t("\u767B\u5F55\uFF08\u70B9\u51FB\u6D6E\u52A8\u6761\u6309\u94AE\uFF09"),ENV.IS_WONDER_SHARE&&(0,C.Mn)("Middle-Signin")},s=function(){var j="a32",Z="join_now";MB.global.popupHelper.loginAsync({onConfirm:e,type:"signup",source:"proto-preview",entryTerm:Z,entry:j}),Vr.xd.userSourceTrack(Z),_t("\u7ACB\u5373\u52A0\u5165\uFF08\u70B9\u51FB\u6D6E\u52A8\u6761\u7684\u6309\u94AE\uFF09"),ENV.IS_WONDER_SHARE&&(0,C.Mn)("Middle-Join now")},l=(0,Tt.RD)(yh,null,Tt.cM.Object),p=l?oe()().isAfter(l.expired):!0,v=n===Sn.c6?I18N.SignUpPrompt.after_sigin_1:n===Sn.nh?I18N.SignUpPrompt.after_sigin_2:n===Sn.Ab?I18N.SignUpPrompt.after_sigin_3:"";return(0,g.jsx)(g.Fragment,{children:p&&(0,g.jsxs)(VE,{withOffset:t,children:[(0,g.jsx)(Et.q,{className:"logo",name:ENV.IS_WONDER_SHARE?"common/mockitt-logo/new":"common/modao-logo",isColorPure:!0}),(0,g.jsxs)("div",{className:"content",children:[(0,g.jsx)("span",{children:I18N.SignUpPrompt.welcome}),(0,g.jsxs)("span",{children:[(0,g.jsx)("span",{className:"login-btn",onClick:o,children:I18N.SignUpPrompt.signin}),(0,g.jsxs)("span",{children:[" ",v]})]})]}),(0,g.jsx)("button",{className:"signup-btn",onClick:s,children:I18N.SignUpPrompt.join_now}),(0,g.jsx)(Et.q,{className:"close-btn",onClick:function(j){j.currentTarget.parentElement.style.display="none";var Z=oe()().add(1,"week").startOf("week").format("YYYY-MM-DD");(0,Tt.iO)(yh,{expired:Z},Tt.cM.Object),_t("\u5173\u95ED\u6D6E\u52A8\u6761")},name:"common/close_sm"})]})})},_r=c(46486),nP=c(72969),rP=c(96106),YE=c(69834),XE=ze.default.div.withConfig({displayName:"styles__StyledNoticeTipsContainer",componentId:"sc-1bbydy0-0"})(["position:fixed;left:50%;max-width:480px;transform:translateX(-50%);z-index:1052;&.can-auto-close{pointer-events:none;}&.new-workspace{max-width:unset;}"]),QE=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"closeCallback",null),(0,f.Z)((0,ae.Z)(e),"handleDisappear",function(){e.setState({isShow:!1}),typeof e.closeCallback=="function"&&e.closeCallback(),e.priority=0}),e.state={isShow:!1,text:"",type:"success",showClose:!1,isReactDom:!1,CustomChildComponent:void 0},e.priority=0,e.el=document.createElement("div"),e}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this;document.body.appendChild(this.el),MB.notice=function(o){var s=o.text,l=o.type,p=l===void 0?"success":l,v=o.CustomChildComponent,M=v===void 0?void 0:v,j=o.duration,Z=j===void 0?2e3:j,W=o.showClose,X=W===void 0?!1:W,J=o.isReactDom,_=J===void 0?!1:J,te=o.closeCallback,ne=te===void 0?null:te,ie=o.priority,se=ie===void 0?0:ie;e.priority>se||(clearTimeout(e.timer),e.setState({isShow:!0,text:s,type:p,showClose:X,isReactDom:_,CustomChildComponent:M}),e.timer=Z&&setTimeout(e.handleDisappear,Z),e.closeCallback=ne,e.priority=se)},MB.closeNotice=this.handleDisappear}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){var e=this.props.top,o;e?o=e:o=56;var s=this.state,l=s.isShow,p=s.type,v=s.text,M=s.showClose,j=s.isReactDom,Z=s.CustomChildComponent;return(0,b.createPortal)((0,g.jsx)(XE,{className:ot()({"can-auto-close":!M&&Z===void 0,"new-workspace":p==="new-workspace"}),style:{top:o},children:(0,g.jsx)(YE.Z,{isShow:l,type:p,showClose:M,onDisappear:this.handleDisappear,isReactDom:j,text:v,CustomChildComponent:Z})}),this.el)}}]),t}(h.PureComponent),JE=(0,ze.css)(["&.svg-icon-path-icon.fill{[fill]{fill:currentColor;stroke:none;}[stroke]{stroke:currentColor;fill:none;}[fill='none']{fill:none;}[fill='none'][stroke]{stroke:currentColor;}[stroke='none']{stroke:none;}[stroke='none'][fill]{fill:currentColor;}&:not([fill]),&:not([stroke]){fill:currentColor;}}"]),_E=ze.default.div.withConfig({displayName:"styles__StyledApp",componentId:"sc-jk0psb-0"})(["&{width:100%;height:100%;display:flex;flex-direction:column;background:",";.svg-icon{",";}.preview-content-container{position:relative;flex:1;display:flex;overflow:hidden;}&.full-screen{#preview_scrollBar_viewport{transition:opacity 0.5s ease-in-out;}}.download-client-tip{display:flex;justify-content:space-around;align-items:center;position:absolute;left:50%;bottom:26px;transform:translate(-50%);padding:0 12px 0 10px;height:34px;border-radius:22px;background:#fff;box-shadow:0 -2px 30px 0 rgba(39,54,78,0.11);.download-text{color:#415058;margin:0 10px;}span{color:#415058;a{color:",";}}.download-client-tip-icon{font-size:22px;color:",";}.download-client-close-icon{cursor:pointer;color:#c8cdd0;&:hover{color:#8d9ea7;}}}.marign-top-20{margin-top:20px;}&.is-offline-mode{.screen-actions .viewmode,.download-client-tip{display:none;}.event-gift{display:none;}.preview-sub-toolbar{.mode{min-width:initial;.picker{display:none;}}.param{margin-left:0;}}}&.is-uichina{header{background:transparent;.toolbar-main{order:1;flex:unset;flex-basis:240px;.toolbar-main-wrapper{display:none;flex:unset;}}.toolbar-left{flex:1;order:2;justify-content:center;.project-name{text-align:center;margin-left:0;}}.toolbar-right{order:3;}}}@media only screen and (max-width:985px){&.is-uichina{header{.toolbar-main{flex-basis:140px;padding:0;}}}}}"],function(a){return a.theme.color_background_icon_hover},JE,function(a){return a.theme.color_primary_brand01},function(a){return a.theme.color_interaction_reference_line}),ml={keys:{"ctrl+enter":{type:"entry:enter:full-screen-mode"},"command+enter":{type:"entry:enter:full-screen-mode"},esc:{type:"entry:preview:escape:key"},"ctrl+numpad_add":{type:"entry:preview:zoom-in"},"command+numpad_add":{type:"entry:preview:zoom-in"},"ctrl+=":{type:"entry:preview:zoom-in"},"ctrl++":{type:"entry:preview:zoom-in"},"command+=":{type:"entry:preview:zoom-in"},"command++":{type:"entry:preview:zoom-in"},"ctrl+numpad_subtract":{type:"entry:preview:zoom-out"},"command+numpad_subtract":{type:"entry:preview:zoom-out"},"ctrl+-":{type:"entry:preview:zoom-out"},"command+-":{type:"entry:preview:zoom-out"},"ctrl+numpad_0":{type:"entry:preview:set:scale",payload:{scale:100}},"command+numpad_0":{type:"entry:preview:set:scale",payload:{scale:100}},"ctrl+0":{type:"entry:preview:set:scale",payload:{scale:100}},"command+0":{type:"entry:preview:set:scale",payload:{scale:100}},"ctrl+numpad_1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"command+numpad_1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"ctrl+1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"command+1":[{type:"entry:auto-fit:preview:scale"},{type:"entry:preview:reset:canvas:offset"}],"ctrl+[":{type:"entry:preview-setting:toggle:isMinimized"},"command+[":{type:"entry:preview-setting:toggle:isMinimized"}}},So;(function(a){function i(n,e){for(var o=(0,L.Z)({},e),s=0,l=Object.entries(n);s<l.length;s++){var p=(0,F.Z)(l[s],2),v=p[0],M=p[1];o[v]===void 0&&(o[v]=M)}return o}a.merge=i;function t(n,e){for(var o={},s=0,l=Object.entries(n);s<l.length;s++){var p=(0,F.Z)(l[s],2),v=p[0],M=p[1];o[v]=e(M)}return o}a.mapValues=t})(So||(So={}));var Sh;(function(a){function i(t){for(var n={},e=0,o=Object.entries(t);e<o.length;e++){var s=(0,F.Z)(o[e],2),l=s[0],p=s[1];p.shortcut!==void 0&&p.action!==void 0&&p.system!==!0&&(n[p.shortcut]=p.action)}return n}a.toKeys=i})(Sh||(Sh={}));var bh=(0,h.memo)(function(a){var i=(0,h.useContext)(_r.XC),t=(0,U.useDispatch)();return(0,h.useEffect)(function(){var n=So.mapValues(a.sheet.keys,function(o){return function(){return Array.isArray(o)?o.map(function(s){return t(s)}):t(o)}}),e=(0,L.Z)((0,L.Z)({},a.sheet),{},{keys:n});return i.bind(e),function(){i.unbind(e)}}),null}),qE=(0,h.memo)(function(a){var i=(0,h.useContext)(_r.XC),t=(0,U.useDispatch)();return(0,h.useEffect)(function(){var n=So.mapValues(a.sheet.keys,function(s){return function(){return Array.isArray(s)?s.map(function(l){return t(l)}):t(s)}}),e=(0,L.Z)((0,L.Z)({},a.sheet),{},{keys:n}),o=(0,Jt.Z)(i.sheetsBound);return o.forEach(function(s){return i.unbind(s)}),i.bind(e),function(){i.unbind(e),o.forEach(function(s){return i.bind(s)})}}),null}),eA=c(23666),tA=ze.default.div.withConfig({displayName:"styles__StyledSharingManager",componentId:"sc-v74t3y-0"})(["min-width:376px;height :550px;background:",";color:",";position:absolute;transform:",";top:48px;border-radius:8px;border:1px solid ",";box-shadow:",";overflow:hidden;cursor:auto;z-index:100;"],function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_L2},function(a){return a.isLogined?"translateX(-84%)":"translateX(-48%)"},function(a){return a.theme.color_background_split},function(a){return a.theme.shadow_5}),nA=(0,an.P1)([re.gh,re.vo,re.T4,re.EK],function(a,i,t,n){return{theme:a,currentProject:i,isShowSharingManager:t,screenMetaList:n}});function rA(){var a=(0,U.useSelector)(function(j){return nA(j)}),i=a.theme,t=a.currentProject,n=a.isShowSharingManager,e=a.screenMetaList,o=(0,U.useDispatch)(),s=(0,h.useState)(void 0),l=(0,F.Z)(s,2),p=l[0],v=l[1],M=function(Z){var W=document.elementFromPoint(Z.clientX,Z.clientY),X=document.querySelector("#preview-sharing-box"),J=Z.target.closest("#preview-sharing-box"),_=document.querySelector("#IBOT_MODAL_ROOT");if(!_.contains(W)&&J===null){var te=X.contains(W);if(!te){var ne=Z.target.closest(".context-menu-mask");ne===null&&o({type:"entry:preview:toggle:sharingManager"})}}};return(0,h.useEffect)(function(){var j=function(){o({type:"entry:preview:toggle:sharingManager"})},Z=function(_){var te=_.sharings;o({type:"current:update:state",payload:{sharings:te}})},W=function(_){var te=_.whichModal;o(te==="MaxOrgSize"?{type:"previewModal:update:state",payload:{orgfullBeyondNoticeModal:{isOpen:!0,beyondType:"MaxSharingCount"}}}:{type:"previewModal:update:state",payload:{orgRightsAndInterestsModal:{isOpen:!0,type:"MaxSharingCount"}}})},X=window.SharingEventEmitter;return n&&(X.on("imock:sharing:update",Z),X.on("sharing:exit",j),X.on("sharing:count",W)),function(){X.off("imock:sharing:update",Z),X.off("sharing:exit",j),X.off("sharing:count",W)}},[n]),(0,h.useEffect)(function(){n&&v(document.getElementById("preview-sharing-box"))},[n,p]),!p||!n?null:(0,b.createPortal)((0,g.jsxs)(tA,{isLogined:MB.user.id!==void 0,children:[(0,eA.m)({sharingProject:t,theme:i,className:"workspace",user:MB.user,screenMetaList:e}),(0,g.jsx)(Wn.ZP,{target:document,onClick:function(Z){return M(Z)}})]}),p)}var aA=c(68235),xh=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"keyboardManager",new _r.Sm),(0,f.Z)((0,ae.Z)(n),"handleFullScreenChange",function(){fa.isFullscreen||n.props.dispatch({type:"entry:exit:fill-screen-mode"})}),n}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){fa.on("change",this.handleFullScreenChange),(0,Fa.gB)(JSON.stringify({type:Fa.Kk.currentTheme,payload:{theme:this.props.theme}}))}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"entry:preview:clear"}),fa.off("change",this.handleFullScreenChange)}},{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props,o=e.previewOptions,s=e.previewSetting,l=e.mode,p=e.isWonderShare,v=e.isOnPremises,M=e.user,j=o.isMobile,Z=o.isEmbedV1,W=o.isHTMLZip,X=o.isUIChina,J=o.isForum,_=o.isElectron;if(j||Z){var te=s.appVeresion,ne=!!te;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(rl,{}),ne&&(0,g.jsx)(lw,{}),(0,g.jsx)(qf,{})]})}var ie=s.toolbarActiveItem,se=s.isFullScreenMode,Se=ie===Sn.c6,Te=ie===Sn.nh,Le=!_&&!W&&Te&&r0,ke=ot()("preview-app",{"is-offline-mode":W,"is-uichina":X||J,"full-screen":se}),nt=!v&&!W&&!(M!=null&&M.id);return(0,g.jsxs)(_E,{className:ke,onContextMenu:this.preventDefault,children:[(0,g.jsx)(qE,{sheet:ml}),(0,g.jsx)(uE,{}),se&&(0,g.jsx)(uh,{}),(0,g.jsxs)("div",{id:"preview-content-container",className:"preview-content-container",children:[(0,g.jsx)(Fs,{}),(0,g.jsx)(Sf,{}),(0,g.jsx)(Fp,{}),(0,g.jsx)(cp,{}),(0,g.jsx)(vl,{mode:wi.previewOrShare})]}),(0,g.jsxs)("div",{className:"fixed_area",children:[nt&&(0,g.jsx)(KE,{mode:l}),(0,g.jsx)(p0,{}),Se&&!p&&(0,g.jsx)(wE,{}),(0,g.jsx)(rA,{}),(0,g.jsx)(QE,{})]}),(0,g.jsx)(qf,{}),Le&&(0,g.jsx)(bE,{isWonderShare:p}),(0,g.jsx)(nl,{}),(0,g.jsx)(aA.Be,{})]})}}]),t}(h.PureComponent);(0,f.Z)(xh,"propTypes",{user:u().object,isOnPremises:u().bool,mode:u().string,theme:u().string,previewOptions:u().object,previewSetting:u().object,dispatch:u().func,isWonderShare:u().bool});var iA=(0,U.connect)(function(a){var i=(0,re.kc)(a),t=(0,re.GP)(a),n=(0,re.CD)(a),e=n.isWonderShare,o=n.isOnPremises,s=(0,re.Ds)(a),l=(0,re.ts)(a),p=(0,re.gh)(a);return{user:l,mode:s,theme:p,previewOptions:t,previewSetting:i,isWonderShare:e,isOnPremises:o}})(xh),Ch="loading",oA=function(i,t){t===void 0&&(t="");var n=document.createElement("div");n.id=Ch,document.body.insertBefore(n,document.body.firstChild),b.render((0,g.jsxs)(g.Fragment,{children:[i==="zh-CN"?(0,g.jsx)(_s.Z,{isNormal:!1,className:"logo"}):(0,g.jsx)("div",{className:"logo"}),t&&(0,g.jsxs)("span",{id:"loading-text",children:[i==="zh-CN"?"\u6B63\u5728\u52A0\u8F7D":"Loading","... ",t]})]}),n)},sA=function(){var i=document.getElementById(Ch);i&&(i.style.display="none")},gl=c(24011),lA=window,vr=lA.MB;vr.f.inSharing=!0;var cA=function(i){var t=i.initialData,n=i.designOptions,e=i.previewOptions,o=i.popupHelper,s=i.initStoreRelated,l=i.api,p=l.requestProjectFullDataByAccessToken,v=l.requestSketchArtboardList,M=l.requestSketchArtboardById,j=l.requestSliceByArtboardId,Z=l.requestSliceZipByArtboardId,W=l.checkSharingPermission,X=l.fetchProjectComment,J=l.fetchProjectScreenCommentThreadCountMap,_=l.requestProjectShare,te=l.requestUserCommonGuidesData,ne=l.updateUserCommonGuidesData,ie=l.fetchCreateCommentThread,se=l.fetchCreateComment,Se=l.fetchDeleteCommentThread,Te=l.fetchDeleteComment,Le=l.updateProjectBasicsInfo,ke=e.isMobile,nt=e.isIOSClient,it=e.isStandAlone;vr.config.minFS=(0,D.T_)(),(it||nt)&&(document.documentElement.style.height="100vh");var ct=Rg(iA),de=ct.runnerController,ue=ct.messageBucket,ge=ct.webpackInterface,$e=ct.PreviewApp;return Bv({api:{requestSketchArtboardList:v,requestSketchArtboardById:M,requestSliceByArtboardId:j,requestSliceZipByArtboardId:Z,checkSharingPermission:W,fetchProjectComment:X,fetchProjectScreenCommentThreadCountMap:J,requestUserCommonGuidesData:te,updateUserCommonGuidesData:ne,fetchCreateCommentThread:ie,fetchCreateComment:se,fetchDeleteCommentThread:Se,fetchDeleteComment:Te,updateProjectBasicsInfo:Le}}),Object.assign(vr,{runnerController:de,messageBucket:ue,webpackInterface:ge,global:{popupHelper:o,designOptions:n}}),vr.webpackInterface.store.dispatch({type:"entry:init:preview:options",payload:{previewOptions:e}}),{requestData:function(){var Ye=(0,d.Z)((0,r.Z)().mark(function ut(dt){var mt,Nt,Bt,Wt,Gn,Hn,rr,lr,Pn,Vn,qr,ea,Zr,Ca,br,ta,un,tn,bn,xn,vn,mr,Ir,pi,Va,wo,fi,Eo,Ka,Ao,hi,Mo;return(0,r.Z)().wrap(function(cr){for(;;)switch(cr.prev=cr.next){case 0:return mt=dt.projectAccessToken,Nt=dt.projectEncryptedPassword,Bt=dt.isPasswordRequired,Wt=t.user,Gn=t.org,Hn=t.preference,rr=t.MBSketchPluginDownloadURL,lr=t.canEditByCurrentUser,Pn=s(Wt&&!ke?Wt.id:null),Vn=Pn.autoSaver,qr=Pn.socketStore,ea=Pn.projectExchange,Zr=Pn.snapshotStore,Object.assign(window,{AutoSaver:Vn,ProjectExchange:ea,MBSketchPluginDownloadURL:rr}),Zr&&Object.assign(window,{SnapshotStore:Zr}),cr.next=7,qr.getSocketConnectPromise();case 7:return Ca=t0(p),cr.next=10,Ca({projectAccessToken:mt,projectEncryptedPassword:Nt,isPasswordRequired:Bt});case 10:if(br=cr.sent,br){cr.next=13;break}return cr.abrupt("return");case 13:return ta=br.projectMeta,un=br.screenGlueList,tn=br.screenMetaList,bn=br.projectScreenObjectList,xn=br.projectBasic,cr.next=16,_(xn.cid,mt);case 16:return vn=cr.sent,mr=vn.projectShare,Ir=lr&&(ta.is_org_project?!(xn!=null&&xn.expired):!(xn!=null&&xn.expired)||Wt.apps.length<=Wt.free_projects_count),Object.assign(vr,{user:Wt||{},canEditByCurrentUser:Ir,org:Gn||void 0,tag:xn.version}),pi=JSON.parse(JSON.stringify(tn)),Va=tn,wo=mr.screen_visible_switch,fi=mr.screen_visible_list,Eo=un.find(function(na){return na.type===Ii._H.PROJECT_MAIN}),Ka=Eo.cid,wo&&(Ao=new Set(fi),Va=tn.filter(function(na){return na.screen_glue_cid!==Ka||Ao.has(na.cid)})),cr.next=28,ProjectExchange.openProject({projectMeta:ta,screenGlueList:un,screenMetaList:Va,projectScreenObjectList:bn});case 28:return hi=(0,A.K)(xn),vr.webpackInterface.store.dispatch({type:"entry:state:init"}),sA(),document.title=(0,Dr.FQ)(hi.name),Mo=tn.filter(function(na){return na.screen_glue_cid===Ka}),vr.webpackInterface.store.dispatch({type:"preview:originalScreenMetaList:update",payload:{originalScreenMetaList:pi}}),vr.webpackInterface.store.dispatch({type:"preview:screenMetaList:set",payload:{screenMetaList:Mo}}),vr.webpackInterface.store.dispatch({type:"preview:set:current-projectShare",payload:{projectShare:mr}}),vr.webpackInterface.store.dispatch({type:"entry:init:preview:preference",payload:{preference:Hn||{}}}),Wt&&(0,C.$b)(Wt.id),cr.abrupt("return",{projectAlike:hi,projectMeta:ta});case 39:case"end":return cr.stop()}},ut)}));function Xe(ut){return Ye.apply(this,arguments)}return Xe}(),renderPreview:function(Xe,ut,dt){var mt=(0,Gr.rt)(ut.cid).find(function(lr){return lr.type==="project-main"}),Nt=(0,Gr.bO)(ut.cid,mt.cid),Bt=Nt.find(function(lr){return lr.cid===dt})||(0,y.o)(Nt);if(!Bt){var Wt;return setTimeout(function(){return Ul("\u9875\u9762\u4E3A\u7A7A")},0),vr==null||(Wt=vr.messageBucket)==null||Wt.send("mobileLoadProjectError",{errMsg:I18N.dModule.zero_screen_err_title}),(0,g.jsx)(P.Z,{errorType:404,customTitle:I18N.dModule.zero_screen_err_title,customDes:I18N.dModule.zero_screen_err_des,isShowSecondaryBtn:!1,primaryClick:function(){return kg("zh-CN","\u539F\u578B-\u5206\u4EAB\u94FE\u63A5\u9875\u9762\u4E3A\u7A7A")}})}var Gn=new _r.Sm,Hn=new URLSearchParams(location.search),rr=ke?"preview":Hn.has("inspect")?"inspect":Hn.has("comment")?"comment":"preview";return setTimeout(function(){(0,Fa.u0)()},1e3),(0,g.jsx)(_r.XC.Provider,{value:Gn,children:(0,g.jsx)(gl.Z,{children:(0,g.jsx)($e,{store:vr.webpackInterface.store,previewMode:rr,projectAlike:Xe,projectMeta:ut,screenGlue:mt,screenMeta:Bt})})})}}},wh={popupAlertModal:{isOpen:!1},loginModal:{isOpen:!1},teamSelectModal:{isOpen:!1},sharingModal:{isOpen:!1},chargeOverlay:{isOpen:!1},previewAuthModal:{isOpen:!1,isWrongPwd:!1}};function uA(a,i){a===void 0&&(a=wh);var t=i.type,n=i.payload;switch(t){case"modal:update:state":return(0,L.Z)((0,L.Z)({},a),n);case"modal:reset:state":return wh;default:return a}}var dA=(0,ze.default)(co).withConfig({displayName:"styles__StyledPreviewAuthModal",componentId:"sc-1lojk56-0"})(["width:380px;height:240px;display:flex;flex-direction:column;border-radius:8px;align-items:center;@media (max-width:40rem){width:306px;margin:20vh auto;}span.title{margin-top:62px;color:#333;width:auto;white-space:nowrap;margin-bottom:40px;font-weight:600;font-size:18px;line-height:25px;}div.wrapper{display:flex;.input-wrapper{display:flex;flex-direction:column;input{padding-left:12px;font-size:14px;line-height:16px;width:152px;height:40px;border:1px solid #1684fc;border-radius:4px;margin-right:10px;}span{margin-top:4px;color:#ff2e4a;font-size:12px;line-height:17px;}}}button.confirm-btn{color:#fff;background-color:#1684fc;width:64px;height:40px;font-size:14px;font-weight:500;border-radius:4px;&:hover{background-color:#1169c9;}&:active{background-color:#1169c9;color:rgba(255,255,255,0.61);}}"]),pA=function(i){var t=i.onConfirm,n=i.isWrongPwd,e=(0,h.useState)(""),o=(0,F.Z)(e,2),s=o[0],l=o[1],p=function(M){M.key===ei.Fn.Enter&&t(s)};return(0,g.jsxs)(dA,{className:"preview-auth-modal",isOpen:!0,canCloseOnEsc:!1,canCloseOnClickMask:!1,canConfirmOnEnter:!1,children:[(0,g.jsx)("span",{className:"title",children:"\u8BF7\u8F93\u5165\u5BC6\u7801\u8BBF\u95EE\u9879\u76EE"}),(0,g.jsxs)("div",{className:"wrapper",children:[(0,g.jsxs)("div",{className:"input-wrapper",children:[(0,g.jsx)("input",{type:"password",onChange:function(M){return l(M.currentTarget.value)}}),n&&(0,g.jsx)("span",{className:"warning",children:"\u5BC6\u7801\u9519\u8BEF"})]}),(0,g.jsx)("button",{className:"confirm-btn",onClick:function(){return t(s)},children:"\u786E\u5B9A"})]}),(0,g.jsx)(Wn.ZP,{target:document,onKeyDown:p})]})},fA=c(14974),yl=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"setComponentRef",function(l){return n.modal=l}),n}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this;window.onmessage=(0,d.Z)((0,r.Z)().mark(function o(s){var l,p;return(0,r.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:s.data==="loginSuccess"||s.data==="registerSuccess"?(l=btoa("client=web&type=to_url&url="+location.href),p="https://accounts.wondershare.com/v3/user/oauth-client/authorize?response_type=code&redirect_uri="+location.origin+"/wondershare/callback&scope=user%20normal&state="+l+"&source=37&app_key=689b3b14b4e225a9ddadd80a5ef81ca3&product_id=8038",(0,fr.ll)(p)):s.data==="close"&&e.modal.close();case 1:case"end":return M.stop()}},o)}))}},{key:"render",value:function(){var e=this.props,o=e.isOpen,s=e.onClose,l=e.type,p="https://accounts.wondershare.com/web/"+(l==="signin"?"login":"register")+"?redirect_uri="+location.origin+"&source=37&site=mockitt.wondershare.com&mode=1";return(0,g.jsx)(fA.I,{isOpen:o,onClose:s,ref:this.setComponentRef,className:"login-modal",children:(0,g.jsx)("iframe",{src:p})})}}]),t}(h.PureComponent);(0,f.Z)(yl,"propTypes",{isOpen:u().bool,type:u().string,onClose:u().func}),(0,f.Z)(yl,"defaultProps",{type:"signin"});var hA=function(){return(0,$a.eq)("isWonderShare")?yl:is.Z},vA=hA,Eh=c(60843),mA=(0,ze.default)(Eh.Z).withConfig({displayName:"styles__StyledTeamSelectModal",componentId:"sc-slosbn-0"})(["width:775px;border-radius:2px;height:448px;background-color:#fff;margin:auto;header{display:none;}.content{width:100%;height:100%;padding:0;}iframe{width:100%;height:100%;border:0;}"]),Ah=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"setIframeRef",function(l){return n.$iframe=l}),(0,f.Z)((0,ae.Z)(n),"onhandleFunc",function(l){l.data==="close"?n.close():l.data.msg==="submit"&&n.onSubmit(l.data.param)}),(0,f.Z)((0,ae.Z)(n),"onSubmit",(0,d.Z)((0,r.Z)().mark(function l(p){var v,M;return(0,r.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:v=p.target,M=n.props.onConfirm,n.close(),M(v);case 4:case"end":return Z.stop()}},l)}))),(0,f.Z)((0,ae.Z)(n),"close",function(){var l=n.props.onClose;l()}),n}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var n=(0,d.Z)((0,r.Z)().mark(function o(){return(0,r.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:window.addEventListener("message",this.onhandleFunc,!1);case 1:case"end":return l.stop()}},o,this)}));function e(){return n.apply(this,arguments)}return e}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.onhandleFunc,!1)}},{key:"render",value:function(){var e=this.props,o=e.isOpen,s=e.projectCid,l={title:I18N.Popups.save_to,from:"workspace",projectCidList:s?[s]:[]};return(0,g.jsx)(mA,{isOpen:o,className:(0,At.A1)(["TargetSelectingModal","select-common"]),onClose:this.close,children:(0,g.jsx)("iframe",{ref:this.setIframeRef,src:"/embed/folder_select?param="+JSON.stringify(l)})})}}]),t}(h.PureComponent);(0,f.Z)(Ah,"propTypes",{onClose:u().func,onConfirm:u().func,isOpen:u().bool,projectCid:u().string});function Mh(){var a=bo(["\n  display: flex;\n  align-items: center;\n  margin: 0.5em 0;\n  min-height: 34px;\n"]);return Mh=function(){return a},a}function Ph(){var a=bo(["\n  display: flex;\n  align-items: center;\n  margin: 0.5em 0;\n  min-height: 34px;\n"]);return Ph=function(){return a},a}function Th(){var a=bo(["\n  flex: 1;\n  & > .Input, .CoreInput {\n    display: block;\n    width: 100%;\n    .small{\n      margin-top: 12px;\n      margin-bottom: 12px;\n    }\n  }\n  .Textarea,\n  .CoreTextarea {\n    display: block;\n    width: 100%;\n  }\n  .CoreCheck,\n  .Radio,\n  .CoreRadio,\n  .CheckGroup,\n  .CoreCheckGroup,\n  .RadioGroup,\n  .CoreRadioGroup {\n    margin-top: calc((34px - 1.5em)/2);\n  }\n"]);return Th=function(){return a},a}function Ih(){var a=bo(["\n  align-self: flex-start;\n  display: flex;\n  align-items: center;\n  flex-basis: 7em;\n  height: 34px;\n  .required-sign {\n    margin: 0 0.25em;\n    color: #eb5648;\n  }\n"]);return Ih=function(){return a},a}function bo(a,i){return i||(i=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(i)}}))}var gA=ze.default.span(Ih()),yA=ze.default.span(Th()),SA=ze.default.div(Ph()),bA=ze.default.label(Mh());function Sl(a){var i=a.name,t=a.children,n=a.isRequired;return h.createElement(h.Fragment,null,i&&h.createElement(gA,{className:"FormEntry-Key key"},i,n&&h.createElement("span",{className:"required-sign"},"*")),h.createElement(yA,{className:"FormEntry-Val val"},t))}Sl.propTypes={children:u().node,name:u().any,isRequired:u().bool};function xA(a){var i=a.className,t=a.type;return h.createElement(SA,{className:(0,At.A1)(["FormEntry",i]),type:t},h.createElement(Sl,a))}xA.propTypes={className:u().string,type:u().string};function Oh(a){var i=a.className,t=a.type;return h.createElement(bA,{className:(0,At.A1)(["FormEntry",i]),type:t},h.createElement(Sl,a))}Oh.propTypes={className:u().string,type:u().string};var CA=(0,ze.default)(Eh.Z).withConfig({displayName:"styles__StyledPopupHelp",componentId:"sc-sc1ghl-0"})(["&{min-width:unset;}&.is-open{z-index:1100;}&.Modal{background-color:#fff;border-radius:8px;color:#1f292e;header{font-weight:500;}@media (max-width:40rem){width:100%;}}a{&:link,&:visited{color:#eb5648;}&:hover,&:active{text-decoration:none;}}.desc{&{margin:0.25em 0;}& + .FormEntry{margin-top:1em;}}.Punctuation .Ellipsis{max-width:5em;}.desc.tertiary{margin:1em 0 0;font-size:12px;color:#8d9ea6;}.recycle{margin:0 0.25em;padding:0.4em 0.5em;border:1px solid #e5e5e5;border-radius:1px;color:#5b6b73;}.icon-recycle{font-size:1.1em;vertical-align:-0.15em;color:#eb5648;}footer{background-color:#f7f7f7;border-bottom-left-radius:8px;border-bottom-right-radius:8px;}.confirm-btn{height:32px;width:84px;border-radius:2px;background-color:#ff6161;cursor:pointer;color:#fff;font-weight:unset;}.confirm-btn:active{background-color:#ec4954;color:rgba(255,255,255,0.6);}.confirm-btn:enabled:hover{background-color:#ec4954;color:#fff;}.cancel-btn{height:32px;width:84px;border-radius:2px;cursor:pointer;color:#415058;background:#fff;border:1px solid #c8cdd0;transition:all ease-in-out 0.2s;&:enabled:hover{color:#fff;background:#8d9ea7;border-color:#7d8694;}&:active{color:#fff;background:#5b6b73;border-color:#415058;}}"]),bl=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isOpen,s=e.type,l=e.alertType,p=e.title,v=e.desc,M=v===void 0?p:v,j=e.isHTML,Z=e.onClose,W=e.onCancel,X=W===void 0?function(){return null}:W,J=e.onConfirm,_=e.canClose,te=e.canCancel,ne=e.canConfirm,ie=e.cancelText,se=ie===void 0?I18N.dModule.cancel:ie,Se=e.confirmText,Te=Se===void 0?I18N.dModule.confirm:Se,Le=function(){typeof X=="function"&&X(),Z()},ke=te?function(){X&&X(),Z&&Z()}:void 0,nt=ne?function(){J&&J(),Z&&Z()}:void 0;return(0,g.jsxs)(CA,{isOpen:o,type:s,className:(0,$a.eq)("isWonderShare")?"wonder-share":"",portalClassName:(0,gn.tq)()?"popup-helper-portal is-mobile":"popup-helper-portal",title:p===M||!p?I18N.dModule.reminder:p,onClose:Le,canClose:_,onCancel:ke,onConfirm:nt,cancelText:se,confirmText:Te,children:[j?(0,g.jsx)("p",{className:"desc",dangerouslySetInnerHTML:{__html:M}}):(0,g.jsx)("div",{className:"desc",children:M}),l==="prompt"&&(0,g.jsx)(Oh,{name:I18N.dModule.password,children:(0,g.jsx)(mm,{type:"password",className:"prompt-pwd"})})]})}}]),t}(h.PureComponent);(0,f.Z)(bl,"propTypes",{isOpen:u().bool,type:u().string,alertType:u().oneOf(["confirm","alert","prompt"]),onClose:u().func,onCancel:u().func,onConfirm:u().func,canClose:u().bool,canCancel:u().bool,canConfirm:u().bool,confirmText:u().string,cancelText:u().string,title:u().string,desc:u().any,isHTML:u().bool}),(0,f.Z)(bl,"defaultProps",{type:"alert"});function Dh(){var a=xl(["\n  &.OverlayPortal {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1050;\n    display: flex;\n    padding: 5rem 3rem;\n    width: 100vw;\n    min-width: 64rem;\n    height: auto;\n    min-height: 100vh;\n    &:empty {\n      display: none;\n      pointer-events: none;\n    }\n    .OverlayCloseButton {\n      position: fixed;\n      top: 1em;\n      left: 100vw;\n      transform: translateX(calc(-100% - 1em));\n      font-size: 3rem;\n      color: #dedee4;\n      opacity: 0.8;\n      transition: all 0.2s ease-out;\n      & .fore {\n        fill: #8d9ea7;\n        transition: all 0.2s ease-out;\n        transition-duration: 0.3s;\n      }\n      &:enabled:hover {\n        color: #eb5648;\n        opacity: 1;\n      }\n      &:enabled:hover .fore {\n        fill: #fff;\n        transition-duration: 0.1s;\n      }\n    }\n    .OverlayMask:not(.is-open) ~ .OverlayCloseButton {\n      opacity: 0;\n    }\n    .OverlayMask.is-open ~ .OverlayCloseButton {\n      opacity: 1;\n    }\n  }\n"]);return Dh=function(){return a},a}function Lh(){var a=xl(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(255,255,255,0.98);\n  color: #5b6b73;\n  transition: opacity 0.3s ease-in;\n  &:not(.is-open) {\n    opacity: 0;\n    pointer-events: none;\n  }\n"]);return Lh=function(){return a},a}function Nh(){var a=xl(["\n  position: relative;\n  margin: auto;\n  padding: 0 3rem;\n  transition: all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);\n  .OverlayMask:not(.is-open) ~ & {\n    opacity: 0;\n    transform: translateY(-10vh);\n  }\n  .OverlayMask.is-open ~ & {\n    opacity: 1;\n    transform: none;\n    transition-delay: 0.4s;\n  }\n  h1 {\n    margin: 0.5em 0 1.5em;\n    font-size: 1.5rem;\n    font-weight: 500;\n    color: #415058;\n  }\n  footer {\n    margin-top: 4em;\n\n    button:not(:last-child) {\n      margin-right: 1em;\n    }\n  }\n"]);return Nh=function(){return a},a}function xl(a,i){return i||(i=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(i)}}))}var wA=ze.default.div(Nh()),EA=ze.default.div(Lh()),AA=(0,ze.createGlobalStyle)(Dh());function xo(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xo=function(t){return typeof t}:xo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(a)}function MA(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function Rh(a,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}function PA(a,i,t){return i&&Rh(a.prototype,i),t&&Rh(a,t),a}function TA(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),i&&Cl(a,i)}function Cl(a,i){return Cl=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},Cl(a,i)}function IA(a){var i=DA();return function(){var n=Co(a),e;if(i){var o=Co(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return OA(this,e)}}function OA(a,i){return i&&(xo(i)==="object"||typeof i=="function")?i:sr(a)}function sr(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function DA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function Co(a){return Co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Co(a)}function Sr(a,i,t){return i in a?Object.defineProperty(a,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[i]=t,a}var jh="IBOT_OVERLAY_ROOT",LA="OverlayPortal",NA=function(i){return i.stopPropagation()},kh=document.body,wl=document.getElementById(jh)||Object.assign(document.createElement("div"),{id:jh});kh.contains(wl)||kh.appendChild(wl);var El=function(a){TA(t,a);var i=IA(t);function t(){var n;MA(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),Sr(sr(n),"state",{prevProps:n.props,isOpen:n.props.isOpen,isVisible:!1}),Sr(sr(n),"portal",(0,At.Qt)(wl,(0,At.A1)([LA,n.props.portalClassName]))),Sr(sr(n),"open",function(){return n.setState({isOpen:!0})}),Sr(sr(n),"close",function(){return n.setState({isVisible:!1})}),Sr(sr(n),"didOpen",function(){var l=n.props,p=l.onOpen,v=l.onToggle,M=sr(n),j=M.portal;(0,At.AZ)(sr(n)),p(),v(!0),(0,At.ci)(!0)}),Sr(sr(n),"didClose",function(){var l=n.props,p=l.onClose,v=l.onToggle;p(),v(!1),setTimeout(function(){(0,At.qE)(sr(n)),(0,At.Je)()&&(0,At.ci)(!1)})}),Sr(sr(n),"toggle",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!n.state.isOpen;return l?n.open():n.close()}),Sr(sr(n),"confirm",function(){var l=n.props.onConfirm;l(),n.close()}),Sr(sr(n),"cancel",function(){var l=n.props.onCancel;l(),n.close()}),Sr(sr(n),"onTransitionEnd",function(l){var p=l.target,v=n.state.isVisible;!v&&p.matches(".OverlayMask")&&n.setState({isOpen:!1})}),n}return PA(t,[{key:"componentDidMount",value:function(){var e=this,o=this.props,s=o.onOpen,l=o.onToggle,p=this.state.isOpen;p&&setTimeout(function(){return e.setState({isVisible:!0},e.didOpen)})}},{key:"componentDidUpdate",value:function(e,o){var s=this,l=o.isOpen,p=this.props,v=p.onOpen,M=p.onClose,j=p.onToggle,Z=this.state.isOpen;!l&&Z?setTimeout(function(){return s.setState({isVisible:!0},s.didOpen)}):l&&!Z&&this.didClose()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),this.didClose()}},{key:"render",value:function(){return this.opener}},{key:"opener",get:function(){var e=this.props,o=e.opener,s=e.openerType,l=this.state.isOpen,p=(0,b.createPortal)(this.overlay,this.portal);return s==="none"?p:s==="custom"?o?h.createElement("span",{onClick:this.open},o,p):p:s==="switch"?h.createElement(Zf.Z,{isChecked:l,onChange:this.toggle},p):h.createElement(hr.ZP,{type:s,onClick:this.open},o,p)}},{key:"overlay",get:function(){var e=this.props,o=e.maskClassName,s=e.className,l=e.title,p=e.children,v=e.canClose,M=e.canConfirm,j=e.canCancel,Z=e.onConfirm,W=e.onCancel,X=e.confirmText,J=e.cancelText,_=this.state,te=_.isVisible,ne=_.isOpen,ie=Z||W;return ne&&h.createElement(h.Fragment,null,h.createElement(AA,null),h.createElement(EA,{className:(0,At.A1)(["OverlayMask",te&&"is-open",o]),onTransitionEnd:this.onTransitionEnd,onClick:NA}),v&&h.createElement(hr.ZP,{type:"text",className:"OverlayCloseButton",onClick:this.close},h.createElement(Za.Z,{name:"close",label:"Close the Overlay"})),h.createElement(wA,{className:(0,At.A1)(["Overlay",s])},l&&h.createElement("h1",null,l),p,ie&&h.createElement("footer",null,Z&&h.createElement(hr.YZ,{onClick:this.confirm,isDisabled:!M},X),W&&h.createElement(hr.K5,{onClick:this.cancel,isDisabled:!j},J))))}}],[{key:"getDerivedStateFromProps",value:function(e,o){var s=o.prevProps,l=o.isOpen;if(!ti()(s,e)){var p=e.isOpen;if(Li()(p)){if(!l&&p)return{isOpen:!0,prevProps:e};if(l&&!p)return{isVisible:!1,prevProps:e}}return{prevProps:e}}return null}}]),t}(h.PureComponent);Sr(El,"propTypes",{isOpen:u().bool,openerType:u().oneOf(["primary","regular","text","switch","custom","none"]),portalClassName:u().string,maskClassName:u().string,className:u().string,canClose:u().bool,canConfirm:u().bool,canCancel:u().bool,onOpen:u().func.isRequired,onClose:u().func.isRequired,onToggle:u().func.isRequired,onConfirm:u().func,onCancel:u().func,confirmText:u().string,cancelText:u().string,title:u().node,children:u().node}),Sr(El,"defaultProps",{openerType:"none",canClose:!0,onOpen:function(){return null},onClose:function(){return null},onToggle:function(){return null},confirmText:"Confirm",cancelText:"Cancel"});var Bh=El,RA=(0,ze.default)(Bh).withConfig({displayName:"styles__StyledNewOrderOverlay",componentId:"sc-1h4aqqn-0"})(["width:100%;margin:0 auto;padding:0;iframe{width:100%;height:100%;border:none;}"]),jA=(0,ze.createGlobalStyle)(["#IBOT_OVERLAY_ROOT{.OrderChargeOverlay{z-index:1051;height:auto;padding:0;.OverlayCloseButton{z-index:2;&:hover{color:#eb5648;}}}}"]),Zh=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){return(0,I.Z)(this,t),i.apply(this,arguments)}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.mode,s=e.payEntrance,l=e.orgCid,p=e.onClose,v=e.isOpen,M=e.from,j=e.productId,Z=e.hours,W={mode:o,payEntrance:s,orgCid:l,from:M||"workspace",productId:j,hours:Z};return(0,g.jsxs)(RA,{isOpen:v,onClose:p,portalClassName:"OrderChargeOverlay",children:[(0,g.jsx)("iframe",{src:location.origin+"/embed/payment_modal?param="+go(W)}),(0,g.jsx)(jA,{})]})}}]),t}(h.PureComponent);(0,f.Z)(Zh,"propTypes",{isOpen:u().bool,mode:u().string,orgCid:u().string,onClose:u().func,payEntrance:u().string,from:u().string,productId:u().number,hours:u().string});var kA=(0,ze.default)(Bh).withConfig({displayName:"styles__StyledNewOrderOverlay4WS",componentId:"sc-1yl0r50-0"})(["width:100%;margin:0 auto;padding:0;iframe{width:100%;height:100%;border:none;}"]),BA=(0,ze.createGlobalStyle)(["#IBOT_OVERLAY_ROOT{.OrderChargeOverlay{z-index:1051;height:auto;padding:0;.OverlayCloseButton{z-index:2;&:hover{color:#4257ff;}}}}"]),Fh=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"state",{isOpen:!1}),(0,f.Z)((0,ae.Z)(n),"handleCloseModal",function(l){l.state&&l.state.target==="MeanSure"&&(n.setState({isOpen:!1}),window.history.forward())}),n}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){var e=this,o=this.props.isOpen;this.setState({isOpen:o}),setTimeout(function(){window.history.state&&window.history.state.target==="Final"||(window.history.pushState({target:"MeanSure",random:Math.random()},"",location.href),window.history.pushState({target:"Final",random:Math.random()},"",location.href)),window.addEventListener("popstate",function(s){return e.handleCloseModal(s)},!1)},500)}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("popstate",function(o){return e.handleCloseModal(o)},!1)}},{key:"render",value:function(){var e=this.props,o=e.mode,s=e.payEntrance,l=e.orgCid,p=e.onClose,v=e.from,M=e.productId,j=e.hours,Z=this.state.isOpen,W={mode:o,payEntrance:s,orgCid:l,from:v||"workspace",productId:M,hours:j};return(0,g.jsxs)(kA,{isOpen:Z,onClose:p,portalClassName:"OrderChargeOverlay",children:[(0,g.jsx)("iframe",{src:location.origin+"/embed/payment_modal?param="+go(W)}),(0,g.jsx)(BA,{})]})}}]),t}(h.PureComponent);(0,f.Z)(Fh,"propTypes",{isOpen:u().bool,mode:u().string,orgCid:u().string,onClose:u().func,payEntrance:u().string,from:u().string,productId:u().number,hours:u().string});var ZA=function(){return(0,$a.eq)("isWonderShare")?Fh:Zh},FA=ZA,UA=(0,ze.createGlobalStyle)([".popup-helper-portal{&.ModalPortal{z-index:9999;&.is-mobile{padding:unset;min-width:unset;.Modal{width:unset;}}}.wonder-share .confirm-btn{background-color:#4257ff;color:#fff;&:hover{background-color:#7584ff;}}}"]),Uh=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"handleCloseModal",function(){var l=n.props.dispatch;l({type:"modal:reset:state"})}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.loginModal,s=e.popupAlertModal,l=e.teamSelectModal,p=e.chargeOverlay,v=e.previewAuthModal,M=e.dispatch,j=FA(),Z=vA();return(0,g.jsxs)(h.Fragment,{children:[o.isOpen&&(0,g.jsx)(Z,(0,L.Z)((0,L.Z)({},o),{},{onClose:this.handleCloseModal,dispatch:M})),l.isOpen&&(0,g.jsx)(Ah,(0,L.Z)((0,L.Z)({},l),{},{onClose:this.handleCloseModal,dispatch:M})),s.isOpen&&(0,g.jsx)(bl,(0,L.Z)((0,L.Z)({},s),{},{onClose:this.handleCloseModal,dispatch:M})),p.isOpen&&(0,g.jsx)(j,(0,L.Z)((0,L.Z)({},p),{},{onClose:this.handleCloseModal,dispatch:M})),v.isOpen&&(0,g.jsx)(pA,(0,L.Z)({},v)),(0,g.jsx)(UA,{})]})}}]),t}(h.PureComponent);(0,f.Z)(Uh,"propTypes",{loginModal:u().object,popupAlertModal:u().object,teamSelectModal:u().object,sharingModal:u().object,chargeOverlay:u().object,previewAuthModal:u().object,dispatch:u().func});var HA=(0,U.connect)(function(a){return(0,L.Z)({},a)})(Uh),WA={isInNewGuide:!1,isOnPremises:!1,canUploadToSquare:!1},zA=function(i){i===void 0&&(i="POPUP-HELPER-ROOT");var t=document.createElement("div");t.id=i,document.body.appendChild(t);var n=(0,La.createStore)(uA);b.render((0,g.jsx)(U.Provider,{store:n,children:(0,g.jsx)(HA,{})}),t);var e=$A(n.dispatch),o=e.confirmAsync,s=e.alertAsync,l=e.alertAsyncWide,p=e.alertAsyncBlocked,v=e.promptGetPasswordAsync,M=e.loginAsync,j=e.teamSelectModalAsync,Z=e.sharingAsync,W=e.chargeAsync;return{confirmAsync:o,alertAsync:s,alertAsyncWide:l,alertAsyncBlocked:p,promptGetPasswordAsync:v,loginAsync:M,teamSelectModalAsync:j,sharingAsync:Z,chargeAsync:W,destroy:function(){b.unmountComponentAtNode(t),t.remove()}}},$A=function(i){var t=function(Z){var W=Z.title,X=Z.desc,J=Z.isHTML,_=Z.confirmText,te=Z.cancelText,ne=Z.isClose;return new Promise(function(ie){return i({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:W,desc:X,isHTML:J,type:"alert",alertType:"confirm",canClose:ne!==!1,canCancel:!0,canConfirm:!0,cancelText:te,confirmText:_,onCancel:function(){return ie(!1)},onConfirm:function(){return ie(!0)}}}})})},n=function(Z){var W=Z.title,X=Z.desc,J=Z.isHTML,_=Z.confirmText;return new Promise(function(te){return i({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:W,desc:X,isHTML:J,type:"alert",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:_,onConfirm:function(){return te()}}}})})},e=function(Z){var W=Z.title,X=Z.desc,J=Z.isHTML,_=Z.confirmText;return new Promise(function(te){return i({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:W,desc:X,isHTML:J,type:"functional",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:_,onConfirm:function(){return te()}}}})})},o=function(Z){var W=Z.title,X=Z.desc,J=Z.isHTML,_=Z.confirmText;return new Promise(function(te){return i({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:W,desc:X,isHTML:J,type:"alert",alertType:"alert",canClose:!1,canCancel:!1,canConfirm:!0,confirmText:_,onConfirm:function(){return te()}}}})})},s=function(Z,W){return new Promise(function(X){return i({type:"modal:update:state",payload:{previewAuthModal:{isOpen:Z,isWrongPwd:W,onConfirm:function(_){return _&&X(_)}}}})})},l=function(Z){var W=Z.onCancel,X=W===void 0?ci:W,J=Z.onConfirm,_=J===void 0?ci:J,te=Z.type,ne=te===void 0?"signin":te,ie=Z.source,se=Z.entryTerm,Se=se===void 0?"":se,Te=Z.entry,Le=Te===void 0?"":Te;return i({type:"modal:update:state",payload:{loginModal:{source:ie,isOpen:!0,type:ne,entry:Le,entryTerm:Se,onCancel:X,onConfirm:_}}})},p=function(Z){var W=Z.projectCid,X=W===void 0?"":W,J=Z.onCancel,_=J===void 0?ci:J,te=Z.onConfirm,ne=te===void 0?ci:te;return i({type:"modal:update:state",payload:{teamSelectModal:{isOpen:!0,projectCid:X,onCancel:_,onConfirm:ne}}})},v=function(Z){var W=Z.project,X=Z.theme,J=Z.isGuestMode,_=Z.screenMetaList,te=_===void 0?[]:_,ne=Z.onUpdateProject,ie=ne===void 0?ci:ne,se=Z.extraInfo,Se=se===void 0?WA:se,Te=Z.screenMetaCidToVisit,Le=Z.user;return i({type:"modal:update:state",payload:{sharingModal:{isOpen:!0,project:W,theme:X,extraInfo:Se,isGuestMode:J,screenMetaList:te,onUpdateProject:ie,screenMetaCidToVisit:Te,user:Le}}})},M=function(Z){return i({type:"modal:update:state",payload:{chargeOverlay:(0,L.Z)({isOpen:!0},Z)}})};return{confirmAsync:t,alertAsync:n,alertAsyncWide:e,alertAsyncBlocked:o,promptGetPasswordAsync:s,loginAsync:l,teamSelectModalAsync:p,sharingAsync:v,chargeAsync:M}},ci=function(){},GA=function(){var a=(0,d.Z)((0,r.Z)().mark(function i(t){var n,e,o,s,l,p,v,M,j,Z,W,X,J,_,te,ne,ie,se,Se,Te,Le,ke,nt;return(0,r.Z)().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:return n=t.initialData,e=t.previewOptions,o=t.api,s=t.initStoreRelated,l=t.projectAccessToken,p=t.projectEncryptedPassword,v=t.isPasswordRequired,M=t.$root,j={isDesign:!0,isExperience:!1,isLoggedExperience:!1,isOnPremises:!!n.is_on_premises,isWonderShare:!!n.is_wonder_share},Z=cA({api:o,initialData:n,popupHelper:zA(),previewOptions:e,designOptions:j,initStoreRelated:s}),W=Z.requestData,X=Z.renderPreview,J=performance.now(),v&&setTimeout(function(){return Ul("\u5BC6\u7801\u67E5\u770B-\u9700\u8F93\u5165\u5BC6\u7801")},0),ct.next=7,W({projectAccessToken:l,projectEncryptedPassword:p,isPasswordRequired:v});case 7:_=ct.sent,te=_.projectAlike,ne=_.projectMeta,ie=performance.now(),se=Math.ceil((ie-J)/1e3);try{Vr.xd.trackViewSharing({project_type:"\u539F\u578B",load_time:se,project_name:te.name,project_cid:te.cid,view_by:(0,Pi.QS)(),sign_in_out:(Se=MB)!=null&&(Te=Se.user)!=null&&Te.id?1:0,view_permission:MB.canEditByCurrentUser?"\u53EF\u7F16\u8F91":"\u4EC5\u67E5\u770B",my_project:((Le=((te==null?void 0:te.permissions)||[]).find(function(de){var ue,ge;return de.user_id===((ue=MB)==null||(ge=ue.user)==null?void 0:ge.id)}))==null?void 0:Le.role)==="project_owner"?1:0})}catch(de){(0,w.Tb)(de)}ke=location.hash||"",nt=ke&&ke.startsWith("#screen=")&&ke.substr(8),b.render(X(te,ne,nt),M);case 16:case"end":return ct.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),VA=c(17402),KA=c(54347),xa="hzv3",YA="pid",Hh="pbj",XA="psol",Wh="psv2am";function Tr(){"use strict";Tr=function(){return a};var a={},i=Object.prototype,t=i.hasOwnProperty,n=Object.defineProperty||function(de,ue,ge){de[ue]=ge.value},e=typeof Symbol=="function"?Symbol:{},o=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",l=e.toStringTag||"@@toStringTag";function p(de,ue,ge){return Object.defineProperty(de,ue,{value:ge,enumerable:!0,configurable:!0,writable:!0}),de[ue]}try{p({},"")}catch(de){p=function(ge,$e,Ye){return ge[$e]=Ye}}function v(de,ue,ge,$e){var Ye=ue&&ue.prototype instanceof Z?ue:Z,Xe=Object.create(Ye.prototype),ut=new nt($e||[]);return n(Xe,"_invoke",{value:Se(de,ge,ut)}),Xe}function M(de,ue,ge){try{return{type:"normal",arg:de.call(ue,ge)}}catch($e){return{type:"throw",arg:$e}}}a.wrap=v;var j={};function Z(){}function W(){}function X(){}var J={};p(J,o,function(){return this});var _=Object.getPrototypeOf,te=_&&_(_(it([])));te&&te!==i&&t.call(te,o)&&(J=te);var ne=X.prototype=Z.prototype=Object.create(J);function ie(de){["next","throw","return"].forEach(function(ue){p(de,ue,function(ge){return this._invoke(ue,ge)})})}function se(de,ue){function ge(Ye,Xe,ut,dt){var mt=M(de[Ye],de,Xe);if(mt.type!=="throw"){var Nt=mt.arg,Bt=Nt.value;return Bt&&typeof Bt=="object"&&t.call(Bt,"__await")?ue.resolve(Bt.__await).then(function(Wt){ge("next",Wt,ut,dt)},function(Wt){ge("throw",Wt,ut,dt)}):ue.resolve(Bt).then(function(Wt){Nt.value=Wt,ut(Nt)},function(Wt){return ge("throw",Wt,ut,dt)})}dt(mt.arg)}var $e;n(this,"_invoke",{value:function(Xe,ut){function dt(){return new ue(function(mt,Nt){ge(Xe,ut,mt,Nt)})}return $e=$e?$e.then(dt,dt):dt()}})}function Se(de,ue,ge){var $e="suspendedStart";return function(Ye,Xe){if($e==="executing")throw new Error("Generator is already running");if($e==="completed"){if(Ye==="throw")throw Xe;return ct()}for(ge.method=Ye,ge.arg=Xe;;){var ut=ge.delegate;if(ut){var dt=Te(ut,ge);if(dt){if(dt===j)continue;return dt}}if(ge.method==="next")ge.sent=ge._sent=ge.arg;else if(ge.method==="throw"){if($e==="suspendedStart")throw $e="completed",ge.arg;ge.dispatchException(ge.arg)}else ge.method==="return"&&ge.abrupt("return",ge.arg);$e="executing";var mt=M(de,ue,ge);if(mt.type==="normal"){if($e=ge.done?"completed":"suspendedYield",mt.arg===j)continue;return{value:mt.arg,done:ge.done}}mt.type==="throw"&&($e="completed",ge.method="throw",ge.arg=mt.arg)}}}function Te(de,ue){var ge=ue.method,$e=de.iterator[ge];if($e===void 0)return ue.delegate=null,ge==="throw"&&de.iterator.return&&(ue.method="return",ue.arg=void 0,Te(de,ue),ue.method==="throw")||ge!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+ge+"' method")),j;var Ye=M($e,de.iterator,ue.arg);if(Ye.type==="throw")return ue.method="throw",ue.arg=Ye.arg,ue.delegate=null,j;var Xe=Ye.arg;return Xe?Xe.done?(ue[de.resultName]=Xe.value,ue.next=de.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=void 0),ue.delegate=null,j):Xe:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,j)}function Le(de){var ue={tryLoc:de[0]};1 in de&&(ue.catchLoc=de[1]),2 in de&&(ue.finallyLoc=de[2],ue.afterLoc=de[3]),this.tryEntries.push(ue)}function ke(de){var ue=de.completion||{};ue.type="normal",delete ue.arg,de.completion=ue}function nt(de){this.tryEntries=[{tryLoc:"root"}],de.forEach(Le,this),this.reset(!0)}function it(de){if(de){var ue=de[o];if(ue)return ue.call(de);if(typeof de.next=="function")return de;if(!isNaN(de.length)){var ge=-1,$e=function Ye(){for(;++ge<de.length;)if(t.call(de,ge))return Ye.value=de[ge],Ye.done=!1,Ye;return Ye.value=void 0,Ye.done=!0,Ye};return $e.next=$e}}return{next:ct}}function ct(){return{value:void 0,done:!0}}return W.prototype=X,n(ne,"constructor",{value:X,configurable:!0}),n(X,"constructor",{value:W,configurable:!0}),W.displayName=p(X,l,"GeneratorFunction"),a.isGeneratorFunction=function(de){var ue=typeof de=="function"&&de.constructor;return!!ue&&(ue===W||(ue.displayName||ue.name)==="GeneratorFunction")},a.mark=function(de){return Object.setPrototypeOf?Object.setPrototypeOf(de,X):(de.__proto__=X,p(de,l,"GeneratorFunction")),de.prototype=Object.create(ne),de},a.awrap=function(de){return{__await:de}},ie(se.prototype),p(se.prototype,s,function(){return this}),a.AsyncIterator=se,a.async=function(de,ue,ge,$e,Ye){Ye===void 0&&(Ye=Promise);var Xe=new se(v(de,ue,ge,$e),Ye);return a.isGeneratorFunction(ue)?Xe:Xe.next().then(function(ut){return ut.done?ut.value:Xe.next()})},ie(ne),p(ne,l,"Generator"),p(ne,o,function(){return this}),p(ne,"toString",function(){return"[object Generator]"}),a.keys=function(de){var ue=Object(de),ge=[];for(var $e in ue)ge.push($e);return ge.reverse(),function Ye(){for(;ge.length;){var Xe=ge.pop();if(Xe in ue)return Ye.value=Xe,Ye.done=!1,Ye}return Ye.done=!0,Ye}},a.values=it,nt.prototype={constructor:nt,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ke),!ue)for(var ge in this)ge.charAt(0)==="t"&&t.call(this,ge)&&!isNaN(+ge.slice(1))&&(this[ge]=void 0)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var ge=this;function $e(Nt,Bt){return ut.type="throw",ut.arg=ue,ge.next=Nt,Bt&&(ge.method="next",ge.arg=void 0),!!Bt}for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var Xe=this.tryEntries[Ye],ut=Xe.completion;if(Xe.tryLoc==="root")return $e("end");if(Xe.tryLoc<=this.prev){var dt=t.call(Xe,"catchLoc"),mt=t.call(Xe,"finallyLoc");if(dt&&mt){if(this.prev<Xe.catchLoc)return $e(Xe.catchLoc,!0);if(this.prev<Xe.finallyLoc)return $e(Xe.finallyLoc)}else if(dt){if(this.prev<Xe.catchLoc)return $e(Xe.catchLoc,!0)}else{if(!mt)throw new Error("try statement without catch or finally");if(this.prev<Xe.finallyLoc)return $e(Xe.finallyLoc)}}}},abrupt:function(ue,ge){for(var $e=this.tryEntries.length-1;$e>=0;--$e){var Ye=this.tryEntries[$e];if(Ye.tryLoc<=this.prev&&t.call(Ye,"finallyLoc")&&this.prev<Ye.finallyLoc){var Xe=Ye;break}}Xe&&(ue==="break"||ue==="continue")&&Xe.tryLoc<=ge&&ge<=Xe.finallyLoc&&(Xe=null);var ut=Xe?Xe.completion:{};return ut.type=ue,ut.arg=ge,Xe?(this.method="next",this.next=Xe.finallyLoc,j):this.complete(ut)},complete:function(ue,ge){if(ue.type==="throw")throw ue.arg;return ue.type==="break"||ue.type==="continue"?this.next=ue.arg:ue.type==="return"?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):ue.type==="normal"&&ge&&(this.next=ge),j},finish:function(ue){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var $e=this.tryEntries[ge];if($e.finallyLoc===ue)return this.complete($e.completion,$e.afterLoc),ke($e),j}},catch:function(ue){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var $e=this.tryEntries[ge];if($e.tryLoc===ue){var Ye=$e.completion;if(Ye.type==="throw"){var Xe=Ye.arg;ke($e)}return Xe}}throw new Error("illegal catch attempt")},delegateYield:function(ue,ge,$e){return this.delegate={iterator:it(ue),resultName:ge,nextLoc:$e},this.method==="next"&&(this.arg=void 0),j}},a}function zh(a,i,t,n,e,o,s){try{var l=a[o](s),p=l.value}catch(v){t(v);return}l.done?i(p):Promise.resolve(p).then(n,e)}function ui(a){return function(){var i=this,t=arguments;return new Promise(function(n,e){var o=a.apply(i,t);function s(p){zh(o,n,e,s,l,"next",p)}function l(p){zh(o,n,e,s,l,"throw",p)}s(void 0)})}}var aP=function(){return isBasicObject(window[TAG_HTML_ZIP_V3])},di=function(){return(0,KA.hK)(window[xa],"missing htmlZipV3 data")},QA=function(){var a=ui(Tr().mark(function i(){return Tr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return di(),n.abrupt("return",window[xa][YA]);case 2:case"end":return n.stop()}},i)}));return function(){return a.apply(this,arguments)}}(),JA=function(){var a=ui(Tr().mark(function i(){var t,n,e,o,s,l,p;return Tr().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return di(),t=window[xa][Hh],n=t.project_basic,e=t.screen_aligns,o=t.project_metas,s=t.screen_glues,l=t.screen_metas,p=window[xa][XA],M.abrupt("return",{projectBasic:n,screenAlignList:e,projectMetaList:o,screenGlueList:s,screenMetaList:l,projectScreenObjectList:p});case 4:case"end":return M.stop()}},i)}));return function(){return a.apply(this,arguments)}}(),_A=function(){var a=ui(Tr().mark(function i(){return Tr().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return di(),n.abrupt("return",{artboards:Object.values(window[xa][Wh]).map(function(e){var o=e.artboard;return o})});case 2:case"end":return n.stop()}},i)}));return function(){return a.apply(this,arguments)}}(),qA=function(){var a=ui(Tr().mark(function i(t){return Tr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return di(),e.abrupt("return",window[xa][Wh][t]);case 2:case"end":return e.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),e1=function(){var a=ui(Tr().mark(function i(){var t;return Tr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return di(),t=window[xa][Hh].project_share,e.abrupt("return",{projectShare:t});case 3:case"end":return e.stop()}},i)}));return function(){return a.apply(this,arguments)}}(),t1=function(){var a=(0,d.Z)((0,r.Z)().mark(function i(t){var n,e,o,s,l,p,v,M,j,Z;return(0,r.Z)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return n=t.projectEncryptedPassword,X.next=3,JA();case 3:if(e=X.sent,o=(0,F.Z)(e.projectMetaList,1),s=o[0],l=e.screenGlueList,p=e.screenMetaList,v=e.projectScreenObjectList,M=e.projectBasic,j=e.screenAlignList,Z=M.password,!(Z&&n!==Z)){X.next=14;break}throw new Error("error password");case 14:return X.abrupt("return",{projectMeta:s,screenGlueList:l,screenMetaList:p,projectScreenObjectList:v,projectBasic:M,screenAlignList:j});case 15:case"end":return X.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),n1=function(){var a=(0,d.Z)((0,r.Z)().mark(function i(t){var n,e,o;return(0,r.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,e1(t);case 2:return n=l.sent,e=n.projectShare,o=(0,L.Z)((0,L.Z)({},e),{},{screen_visible_switch:!1,screen_visible_list:[]}),l.abrupt("return",{projectShare:o});case 6:case"end":return l.stop()}},i)}));return function(t){return a.apply(this,arguments)}}(),$h={requestPreviewInitialData:QA,requestProjectFullDataByAccessToken:t1,requestSketchArtboardList:_A,requestSketchArtboardById:qA,requestProjectShare:n1},r1=ze.default.div.withConfig({displayName:"styles__StyledAppContainer",componentId:"sc-8844k3-0"})(["flex:1;overflow:hidden;position:relative;.app-placeholder{position:relative;min-width:100%;min-height:100%;display:flex;justify-content:center;align-items:center;.app-content{background:black;&.hide-back{background:inherit;}}&.wait-drag{cursor:grab;}}"]),a1=ze.default.div.withConfig({displayName:"style__StyledSquareOptionList",componentId:"sc-grea7k-0"})(["position:absolute;left:16px;top:16px;.option-list-wrapper{background:#fff;box-shadow:0 2px 6px rgba(39,54,78,0.08);border-radius:2px;pointer-events:auto;width:32px;height:36px;overflow-y:hidden;&.isExpand{height:100%;overflow:unset;}&.shell-wrapper{margin:16px 0 0 0;.svg-icon{width:24px;height:24px;}}}.nav{border-radius:0 0 2px 2px;&:hover{border:2px solid rgb(22,132,252);}.svg-icon{width:24px;height:24px;}& > .svg-icon path{fill:#fff;}}.expand-btn{display:flex;justify-content:center;width:32px;height:20px;margin:4px 0 0 0;background:#fff;box-shadow:0 2px 6px rgba(39,54,78,0.08);border-radius:4px;cursor:pointer;.svg-icon{transition:all 0.2s ease-in-out;&.isExpand{transform:rotate(-180deg);}}}.command-wrapper{height:36px;display:flex;justify-content:center;align-items:center;cursor:pointer;&:first-child{border-radius:2px 2px 0 0;}&:hover{background:#e8e8e8;}&.active{background:#1684fc;.svg-icon path{fill:#fff !important;}}}.wrapper-top{margin-bottom:8px;border-radius:2px;background:",";box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),0 12px 40px 0 rgba(39,54,78,0.1);}.locate{width:12px;height:16px;}.rotate{width:16px;height:16px;}.link{width:11px;height:16px;}.sticky-icon{width:14px;height:16px;}"],function(a){return a.theme.color_background_white}),i1=a1,Gh=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"state",{isExpand:!1}),(0,f.Z)((0,ae.Z)(n),"handleToggleHighlight",function(){var l=n.props,p=l.isHighlight,v=l.isEmbedV2,M=p?"\u9AD8\u4EAE\u663E\u793A\u5173":"\u9AD8\u4EAE\u663E\u793A\u5F00";n.props.dispatch({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:!p}}),v&&(0,C.U1)("embed_share_links_click",{operation_type:M})}),(0,f.Z)((0,ae.Z)(n),"handleToggleStatePanel",function(){var l=n.props,p=l.dispatch,v=l.isEmbedV2,M=l.isStatePanelShow;if(v){p({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!M}});var j=M?"\u72B6\u6001\u9762\u677F\u5173":"\u72B6\u6001\u9762\u677F\u5F00";(0,C.U1)("embed_share_links_click",{operation_type:j})}}),(0,f.Z)((0,ae.Z)(n),"handleToggleSticky",function(){var l=n.props,p=l.isStickyShow,v=l.isEmbedV2,M=p?"\u6279\u6CE8\u9690\u85CF":"\u6279\u6CE8\u663E\u793A";n.props.dispatch({type:"entry:preview-setting:update:is-sticky-show",payload:{isStickyShow:!p}}),n.props.dispatch({type:"reducer:toggle:annotatePanelShow"}),v&&(0,C.U1)("embed_share_links_click",{operation_type:M})}),(0,f.Z)((0,ae.Z)(n),"handleExpandList",function(){var l=n.props.isEmbedV2;n.setState({isExpand:!n.state.isExpand}),l&&(0,C.U1)("embed_share_links_click",{operation_type:"\u4E0B\u62C9\u83DC\u5355\u70B9\u51FB"})}),(0,f.Z)((0,ae.Z)(n),"handleToggleShellType",function(){var l=n.props,p=l.isShowShell,v=l.dispatch,M=!p;v({type:"entry:preview-setting:update:show:shell",payload:{isShowShell:M}})}),n}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props,o=e.isHighlight,s=e.isStickyShow,l=e.isStickyAvailable,p=e.dispatch,v=e.simulatorType,M=e.isShowOutsideArtboardNav,j=e.isShowShell,Z=e.project,W=e.isEmbedV2,X=e.isStatePanelShow,J=this.state.isExpand,_=v==="device";return(0,g.jsxs)(i1,{children:[W&&(0,g.jsx)(zn.Z,{content:I18N.pMainContent.statePanel,direction:"right",children:(0,g.jsx)("a",{className:ot()("command-wrapper wrapper-top",{active:X}),onClick:this.handleToggleStatePanel,children:(0,g.jsx)(Et.q,{name:"art_board/state",style:{fontSize:"24px"}})})}),(0,g.jsxs)("div",{className:ot()("option-list-wrapper",{isExpand:J}),children:[(0,g.jsx)(zn.Z,{content:I18N.pSquareOptionsList.highlighted,direction:"left",children:(0,g.jsx)("div",{className:ot()("command-wrapper",{active:o}),onClick:this.handleToggleHighlight,children:(0,g.jsx)(Et.q,{name:"square/preview/link",className:"link"})})}),l&&(0,g.jsx)(zn.Z,{content:I18N.pMainContent.sticky_visible,direction:"left",children:(0,g.jsx)("div",{className:ot()("command-wrapper",{active:s}),onClick:this.handleToggleSticky,children:(0,g.jsx)(Et.q,{name:"square/preview/sticky",className:"sticky-icon"})})}),(0,g.jsx)(Ap,{isInspect:!1,simulatorType:v,isShowOutsideArtboardNav:M,dispatch:p,isEmbedV2:W})]}),J&&_&&(0,g.jsx)("div",{className:"option-list-wrapper shell-wrapper",children:(0,g.jsx)(zn.Z,{content:j?""+Mp(Z):I18N.pMainContent.hide_border,direction:"right",children:(0,g.jsx)("div",{className:ot()("command-wrapper","shell",{active:j}),onClick:this.handleToggleShellType,children:j?(0,g.jsx)(Et.q,{name:"art_board/shell/open"}):(0,g.jsx)(Et.q,{name:"art_board/shell/close"})})})}),(0,g.jsx)("div",{className:"expand-btn",onClick:this.handleExpandList,children:(0,g.jsx)(Et.q,{name:"common/triangle-down",className:ot()({isExpand:J})})})]})}}]),t}(h.PureComponent);(0,f.Z)(Gh,"propTypes",{isHighlight:u().bool,isStickyShow:u().bool,simulatorType:u().string,isStickyAvailable:u().bool,isShowOutsideArtboardNav:u().bool,isShowShell:u().bool,isEmbedV2:u().bool,isStatePanelShow:u().bool,project:u().object,dispatch:u().func});var o1=(0,U.connect)(function(a){var i=a.container.previewSetting.isHighlight,t=a.container.previewSetting.isStickyShow,n=a.container.previewSetting.isStickyAvailable,e=a.container.previewSetting.simulatorType,o=a.container.previewSetting.isShowOutsideArtboardNav,s=a.container.previewSetting.isShowShell,l=a.container.current.rootProject,p=a.container.previewSetting.isStatePanelShow;return{isHighlight:i,isStickyShow:t,isStickyAvailable:n,simulatorType:e,isShowOutsideArtboardNav:o,isShowShell:s,project:l,isStatePanelShow:p}})(Gh),Vh=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"state",{isDraggingCanvas:!1}),(0,f.Z)((0,ae.Z)(n),"setElementRef",function(l){return n.$elem=l}),(0,f.Z)((0,ae.Z)(n),"handleKeyDown",function(l){var p=n.props.dispatch,v=l.target.matches("input")||l.target.matches("textarea"),M=l.keyCode===32;M&&!v&&(l.preventDefault(),p({type:"preview:set:key:flags",payload:{isSpaceDown:!0}}))}),(0,f.Z)((0,ae.Z)(n),"handleKeyUp",function(){n.props.dispatch({type:"preview:reset:key:flags"})}),(0,f.Z)((0,ae.Z)(n),"handleWheel",function(l){var p=n.props,v=p.scale,M=p.dispatch,j=p.canvasOffset,Z=j.x,W=j.y,X=n.state.isDisabled;if(!X){l.preventDefault();var J=Math.max(-1,Math.min(l.deltaY,1));if(l.ctrlKey||l.metaKey){var _=n.$elem.getBoundingClientRect(),te=_.top,ne=_.left,ie=_.right,se=_.bottom,Se=(ne+ie)/2,Te=(te+se)/2,Le=v<=100?v-J*5:v-v*J*.05,ke=l.pageX-Se,nt=l.pageY-Te;Le=Math.min(Math.max(Le,On.vL),On.Fv);var it=Le/v;if(it===1)return;var ct=ke+it*(Z-ke),de=nt+it*(W-nt),ue={x:ct,y:de};M({type:"entry:preview:set:scale",payload:{scale:Le}}),M({type:"preview:set:canvas:offset",payload:{offset:ue}})}else M({type:"preview:set:canvas:offset",payload:{offset:{x:Z-l.deltaX,y:W-l.deltaY}}})}}),(0,f.Z)((0,ae.Z)(n),"handleMouseDown",function(l){var p=n.props,v=p.isSpaceDown,M=p.previewOptions.isEmbedV2;l.button===1||l.button===2?(n.initDraggingCanvas(l),M&&(0,C.U1)("embed_share_links_click",{operation_type:"\u62D6\u52A8\u753B\u5E03"})):v&&(n.initDraggingCanvas(l),M&&(0,C.U1)("embed_share_links_click",{operation_type:"\u62D6\u52A8\u753B\u5E03"}))}),n}return(0,S.Z)(t,[{key:"componentDidMount",value:function(){this.$elem.addEventListener("wheel",this.handleWheel,{passive:!1}),this.$elem.addEventListener("mousedown",this.handleMouseDown,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.$elem.removeEventListener("wheel",this.handleWheel,{passive:!1}),this.$elem.removeEventListener("mouseDown",this.handleMouseDown,{passive:!1})}},{key:"initDraggingCanvas",value:function(e){var o=this,s=e.clientX,l=e.clientY,p=this.props,v=p.canvasOffset,M=v.x,j=v.y,Z=p.dispatch;this.setState({isDraggingCanvas:!0});var W=function(_){var te={x:M+(_.clientX-s),y:j+(_.clientY-l)};Z({type:"preview:set:canvas:offset",payload:{offset:te}})},X=function J(){o.setState({isDraggingCanvas:!1}),document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",J)};document.addEventListener("mousemove",W),document.addEventListener("mouseup",X)}},{key:"render",value:function(){var e=this.props,o=e.scale,s=e.project,l=e.screenGlue,p=e.screen,v=e.isShowShell,M=e.simulatorType,j=e.previewOptions,Z=e.isStickyShow,W=e.canvasOffset,X=e.isSpaceDown,J=e.annotateBtnShow,_=e.zoomOptionBarRight,te=e.dispatch,ne=this.state.isDraggingCanvas,ie=o/100,se=p.orientation==="landscape",Se=M==="device"&&v?(0,Na.uL)(s):"none",Te=W.x,Le=W.y,ke=(0,Na.sD)(s,Se,se,j.isSquare),nt=ke.width,it=ke.height,ct={width:nt*ie,height:it*ie,transform:"matrix(1, 0, 0, 1, "+Math.round(Te)+", "+Math.round(Le)+")"},de={transform:"scale("+ie+")",width:se?l.height:l.width,height:se?l.width:l.height},ue=j.isSquare,ge=j.isEmbedV2;M!=="device"&&(de.height=Math.min(de.height,p.height));var $e=(0,ao.SZ)({screenGlue:l,screen:p,project:s}),Ye=ue||ge;return(0,g.jsxs)(r1,{ref:this.setElementRef,children:[(0,g.jsx)("div",{className:ot()("app-placeholder",{"wait-drag":X||ne}),style:ct,children:(0,g.jsxs)("div",{className:ot()("app-content",!$e&&"hide-back"),style:de,children:[(0,g.jsx)(rl,{isShellShow:$e}),$e&&(0,g.jsx)(Xs,{isHTMLZip:!1,project:s,shellType:Se,isLandscape:se}),Z&&(0,g.jsx)(yf,{})]})}),ge&&(0,g.jsx)(jp,{}),Ye&&(0,g.jsx)(o1,{isEmbedV2:ge}),Ye&&(0,g.jsx)(kp,{isEmbedV2:ge,zoomOptionBarRight:_}),(0,g.jsx)(Bp,{isShowResetButton:!1,annotateBtnShow:J,dispatch:te}),(0,g.jsx)(Wn.ZP,{target:document,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp})]})}}]),t}(h.PureComponent);(0,f.Z)(Vh,"propTypes",{simulatorType:u().string,scale:u().number,screen:u().object,project:u().object,screenGlue:u().object,isShowShell:u().bool,isStickyShow:u().bool,dispatch:u().func,previewOptions:u().object,canvasOffset:u().object,isSpaceDown:u().bool,annotateBtnShow:u().bool,zoomOptionBarRight:u().number});var s1=(0,U.connect)(function(a){var i=(0,re.z7)(a),t=(0,re.CL)(a),n=(0,re.vo)(a),e=(0,re.ku)(a),o=(0,re.HR)(a),s=(0,re.ki)(a),l=(0,re.GP)(a),p=(0,re.EZ)(a),v=(0,re._L)(a),M=(0,re.W9)(a),j=(0,re.H9)(a),Z=!(v.x===j.x&&v.y===j.y),W=(0,re.Dx)(a),X=(0,re.JH)(a),J=X.annotateSortList,_=X.show,te=(0,re.oD)(a),ne=!W&&J.length>0&&p,ie=_?te+16:16;return{scale:i,screen:t,project:n,screenGlue:e,simulatorType:o,isShowShell:s,previewOptions:l,isStickyShow:p,canvasOffset:v,isSpaceDown:M,isDisplaced:Z,annotateBtnShow:ne,zoomOptionBarRight:ie}})(Vh),l1=184,c1=520,u1=184,d1=c(12105),p1=ze.default.div.withConfig({displayName:"styles__StyledSquareLeftPanel",componentId:"sc-1nwb7ql-0"})(['position:relative;.screen-panel{width:100%;height:100%;display:flex;flex-direction:column;background-color:#F7F7F7;overflow:hidden;.screen-header{display:flex;padding:8px 12px;justify-content:space-between;align-items:center;background-color:#363738;.title{font-weight:900;font-size:12px;line-height:17px;color:#FFFFFF;}.toggle-icon{width:16px;color:#363738;cursor:pointer;&:hover{path{stroke:#0099FF;}}}}.screen-search{padding:8px;[type="search"]{flex:1;}input{background-color:',";border-color:",";border-radius:4px;}}.screen-count{display:flex;padding:8px;justify-content:space-between;align-items:center;.info{font-weight:700;font-size:10px;line-height:14px;color:#333333;}.expand-button{font-weight:400;font-size:10px;line-height:14px;color:#0099FF;cursor:pointer;}}.screen-list-container{flex:1;overflow-x:hidden;overflow-y:auto;.thumbnail-list{padding:10px;.thumbnail-item{width:158px;height:158px;padding:6px;border-radius:7px;box-sizing:border-box;border:3px solid transparent;cursor:pointer;&:hover{border-color:",";}&.active{border:3px solid ",";}.image-wrapper{background:url(",");width:100%;height:100%;border-radius:4px;object-fit:cover;overflow:hidden;border-width:0px;padding:0px;&:hover{border-width:0px;padding:0px;}&.active{border-width:0px;padding:0px;}img{width:100%;height:100%;object-fit:contain;}.screen-name{font-size:12px;line-height:17px;color:#1f292e;text-align:center;margin:5px 0;}}}}}}.border-resizer.right{position:absolute;right:-1px;&:hover{background-color:rgba(22,132,252,.6);}&.active{background-color:rgba(22,132,252,.6);}}"],function(a){return a.theme.color_background_white},function(a){return a.theme.color_background_white},function(a){return a.theme.color_text_disabled},function(a){return a.theme.color_primary_proto01},d1.r),f1=(0,an.P1)([re.Eg],function(a){return a.filter(function(i){return!(0,In.Vx)(i)}).length}),Kh=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(n){var e;return(0,I.Z)(this,t),e=i.call(this,n),(0,f.Z)((0,ae.Z)(e),"handleWidthChange",function(o){e.setState({screenListWidth:o})}),e.state={screenListWidth:u1},e}return(0,S.Z)(t,[{key:"render",value:function(){var e=this.props.screensCount,o=this.state.screenListWidth;return(0,g.jsxs)(p1,{style:{width:o},children:[(0,g.jsx)(Hu,{isHTMLZip:!1,screensCount:e,from:Yr.community}),(0,g.jsx)(ga,{placement:"right",className:"v-resizer",value:o,min:l1,max:c1,onChange:this.handleWidthChange})]})}}]),t}(h.PureComponent);(0,f.Z)(Kh,"propTypes",{screensCount:u().number});var h1=(0,U.connect)(function(a){return{screensCount:f1(a)}})(Kh),v1=ze.default.div.withConfig({displayName:"styles__StyledApp",componentId:"sc-72l7dj-0"})(["width:100%;height:100%;display:flex;background:",";"],function(a){return a.theme.color_background_icon_hover}),Yh=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"keyboardManager",new _r.Sm),n}return(0,S.Z)(t,[{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props,o=e.previewOptions,s=e.previewSetting,l=o.isSquare,p=o.isEmbedV2,v=s.isFullScreenMode,M=v,j=l&&!M,Z=p;return(0,g.jsx)(_r.XC.Provider,{value:this.keyboardManager,children:(0,g.jsx)(gl.Z,{children:(0,g.jsxs)(v1,{onContextMenu:this.preventDefault,children:[M&&(0,g.jsx)(uh,{}),j&&(0,g.jsx)(h1,{}),Z&&(0,g.jsx)(Fs,{}),(0,g.jsx)(s1,{}),(0,g.jsx)(vl,{mode:wi.isEmbed}),(0,g.jsx)(bh,{sheet:ml}),(0,g.jsx)(nl,{})]})})})}}]),t}(h.PureComponent);(0,f.Z)(Yh,"propTypes",{previewOptions:u().object,previewSetting:u().object});var iP=(0,U.connect)(function(a){var i=(0,re.kc)(a),t=(0,re.GP)(a);return{previewOptions:t,previewSetting:i}})(Yh),m1=ze.default.div.withConfig({displayName:"styles__StyledApp",componentId:"sc-cjiynp-0"})(["width:100%;height:100%;display:flex;flex-direction:column;background:",";.preview-content-container{position:relative;flex:1;display:flex;overflow:hidden;}"],function(a){return a.theme.color_background_icon_hover}),oP=function(a){(0,O.Z)(t,a);var i=(0,T.Z)(t);function t(){var n;(0,I.Z)(this,t);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n=i.call.apply(i,[this].concat(o)),(0,f.Z)((0,ae.Z)(n),"keyboardManager",new _r.Sm),n}return(0,S.Z)(t,[{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"render",value:function(){return(0,g.jsx)(_r.XC.Provider,{value:this.keyboardManager,children:(0,g.jsx)(gl.Z,{children:(0,g.jsxs)(m1,{onContextMenu:this.preventDefault,children:[(0,g.jsxs)("div",{id:"preview-content-container",className:"preview-content-container",children:[(0,g.jsx)(Fs,{}),(0,g.jsx)(Sf,{}),(0,g.jsx)(Fp,{}),(0,g.jsx)(cp,{}),(0,g.jsx)(vl,{mode:wi.version})]}),(0,g.jsx)(bh,{sheet:ml}),(0,g.jsx)(nl,{})]})})})}}]),t}(h.PureComponent),g1=function(i){var t=i||{},n=t.isEmbedV1,e=n===void 0?!1:n;return(0,L.Z)({isDesktop:!((0,gn.tq)()||e),isInApp:!1,isMultiLink:!1,isMobile:(0,gn.tq)(),isIOSClient:(0,gn.B0)(),isStandAlone:(0,gn.IF)(),isEmbedV1:e,isEmbedV2:!1,isHTMLZip:!1,isUIChina:(0,gn.Md)(),isForum:(0,gn._j)(),isElectron:(0,gn.d)(),isSquare:!1,isVersionEmbedded:!1,isFeishu:(0,gn.Rv)(),isWechat:(0,gn.CL)()},i)},sP=function(i){var t=i.isMobile,n=i.isEmbedV2,e=i.isSquare,o=i.isVersionEmbedded;if(t)return AppContent;if(n||e)return SquareContainer;if(o)return VersionsPreviewContainer;throw new Error("\u9875\u9762\u52A0\u8F7D\u5931\u8D25")},y1=c(76938);c.p="./mb-workspace/";var S1=function(){var a=(0,d.Z)((0,r.Z)().mark(function i(){var t,n,e,o,s,l,p,v,M,j;return(0,r.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return t=g1({isHTMLZip:!0}),(0,gn.tq)()&&$("body").addClass("mobile"),W.next=4,$h.requestPreviewInitialData();case 4:return n=W.sent,e=n.locale,o=n.projectName,s=n.is_on_premises,l=n.is_wonder_share,W.next=8,(0,y1.Q)(e);case 8:return p=W.sent,oA(p,o),!s&&(0,C.wb)(),(0,$a.N_)("isOnPremises",!!s),(0,$a.N_)("isWonderShare",!!l),v=n.projectAccessToken,M=n.projectEncryptedPassword,j=n.isPasswordRequired,W.next=16,GA({initialData:n,previewOptions:t,api:$h,initStoreRelated:VA.U,projectAccessToken:v,projectEncryptedPassword:M,isPasswordRequired:j,$root:document.getElementById("workspace")});case 16:case"end":return W.stop()}},i)}));return function(){return a.apply(this,arguments)}}();document.addEventListener("DOMContentLoaded",(0,d.Z)((0,r.Z)().mark(function a(){return(0,r.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S1();case 2:case"end":return t.stop()}},a)})))},25797:function(ce,k,c){"use strict";c.d(k,{Bh:function(){return y},EE:function(){return h},Gf:function(){return I},IP:function(){return B},_Z:function(){return f}});var r=c(91520),d=c(64555),b=c(72005),w=function(F,N){var H=new Error("[NO SENTRY] "+F);return Object.assign(H,N),H},P=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N){var H;return(0,d.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,fetch(N,{credentials:"same-origin"});case 2:if(H=G.sent,H.ok){G.next=5;break}throw w("[fetchGetHead] failed with "+H.status+": "+N,{status:H.status});case 5:case"end":return G.stop()}},F)}));return function(N){return L.apply(this,arguments)}}(),h=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N){var H,V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(N,{credentials:"same-origin"});case 2:return H=R.sent,R.prev=3,R.next=6,H.json();case 6:V=R.sent,R.next=12;break;case 9:R.prev=9,R.t0=R.catch(3),V={};case 12:if(H.ok){R.next=14;break}throw w("[fetchGetJSON] failed with "+H.status+": "+N,(0,r.Z)((0,r.Z)({},V),{},{status:H.status}));case 14:return R.abrupt("return",V);case 15:case"end":return R.stop()}},F,null,[[3,9]])}));return function(N){return L.apply(this,arguments)}}(),x=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N){var H,V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(N,{credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});case 2:return H=R.sent,R.prev=3,R.next=6,H.json();case 6:V=R.sent,R.next=12;break;case 9:R.prev=9,R.t0=R.catch(3),V={};case 12:if(H.ok){R.next=14;break}throw w("[fetchGetJSON] failed with "+H.status+": "+N,(0,r.Z)((0,r.Z)({},V),{},{status:H.status}));case 14:return R.abrupt("return",V);case 15:case"end":return R.stop()}},F,null,[[3,9]])}));return function(N){return L.apply(this,arguments)}}(),E=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N){var H,V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(N,{credentials:"same-origin"});case 2:if(H=R.sent,V=H.headers,H.ok){R.next=18;break}return R.t0=w,R.t1="[fetchGetJSON] failed with "+H.status+": "+N,R.t2=r.Z,R.t3=r.Z,R.t4={},R.next=12,H.json();case 12:throw R.t5=R.sent,R.t6=(0,R.t3)(R.t4,R.t5),R.t7={},R.t8={status:H.status},R.t9=(0,R.t2)(R.t6,R.t7,R.t8),(0,R.t0)(R.t1,R.t9);case 18:return R.next=20,H.json();case 20:return H=R.sent,R.abrupt("return",{result:H,headers:V});case 22:case"end":return R.stop()}},F)}));return function(N){return L.apply(this,arguments)}}(),m=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N){var H;return(0,d.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,fetch(N,{method:"DELETE",credentials:"same-origin"});case 2:if(H=G.sent,H.ok){G.next=5;break}throw w("[fetchDeleteHead] failed with "+H.status+": "+N,{status:H.status});case 5:case"end":return G.stop()}},F)}));return function(N){return L.apply(this,arguments)}}(),D=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N){var H;return(0,d.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,fetch(N,{method:"DELETE",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});case 2:if(H=G.sent,H.ok){G.next=5;break}throw w("[fetchDeleteHead] failed with "+H.status+": "+N,{status:H.status});case 5:case"end":return G.stop()}},F)}));return function(N){return L.apply(this,arguments)}}(),y=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N){var H;return(0,d.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,fetch(N,{method:"DELETE",credentials:"same-origin"});case 2:if(H=G.sent,H.ok){G.next=17;break}return G.t0=w,G.t1="[fetchDeleteJSON] failed with "+H.status+": "+N,G.t2=r.Z,G.t3=r.Z,G.t4={},G.next=11,H.json();case 11:throw G.t5=G.sent,G.t6=(0,G.t3)(G.t4,G.t5),G.t7={},G.t8={status:H.status},G.t9=(0,G.t2)(G.t6,G.t7,G.t8),(0,G.t0)(G.t1,G.t9);case 17:return G.abrupt("return",H.json());case 18:case"end":return G.stop()}},F)}));return function(N){return L.apply(this,arguments)}}(),A=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N,H){return(0,d.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.abrupt("return",fetch(N,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(H)}));case 1:case"end":return G.stop()}},F)}));return function(N,H){return L.apply(this,arguments)}}(),C=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N,H){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,A(N,H);case 2:if(V=R.sent,V.ok){R.next=5;break}throw w("[fetchPostHead] failed with "+V.status+": "+N,{status:V.status});case 5:case"end":return R.stop()}},F)}));return function(N,H){return L.apply(this,arguments)}}(),I=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N,H){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(N,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(H)});case 2:if(V=R.sent,V.ok){R.next=17;break}return R.t0=w,R.t1="[fetchPostJSON] failed with "+V.status+": "+N,R.t2=r.Z,R.t3=r.Z,R.t4={},R.next=11,V.json();case 11:throw R.t5=R.sent,R.t6=(0,R.t3)(R.t4,R.t5),R.t7={},R.t8={status:V.status},R.t9=(0,R.t2)(R.t6,R.t7,R.t8),(0,R.t0)(R.t1,R.t9);case 17:return R.abrupt("return",V.json());case 18:case"end":return R.stop()}},F)}));return function(N,H){return L.apply(this,arguments)}}(),S=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N,H){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(N,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(H)});case 2:if(V=R.sent,V.ok){R.next=5;break}throw w("[fetchPostBlob] failed with "+V.status+": "+N,{status:V.status});case 5:return R.abrupt("return",V.blob());case 6:case"end":return R.stop()}},F)}));return function(N,H){return L.apply(this,arguments)}}(),O=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N,H){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(N,{method:"POST",credentials:"same-origin",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(H)});case 2:if(V=R.sent,V.ok){R.next=17;break}return R.t0=w,R.t1="[fetchPostJSON] failed with "+V.status+": "+N,R.t2=r.Z,R.t3=r.Z,R.t4={},R.next=11,V.json();case 11:throw R.t5=R.sent,R.t6=(0,R.t3)(R.t4,R.t5),R.t7={},R.t8={status:V.status},R.t9=(0,R.t2)(R.t6,R.t7,R.t8),(0,R.t0)(R.t1,R.t9);case 17:return R.abrupt("return",V.json());case 18:case"end":return R.stop()}},F)}));return function(N,H){return L.apply(this,arguments)}}(),T=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N,H){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(N,{method:"POST",headers:{"content-type":"application/json"},credentials:"same-origin",body:H});case 2:if(V=R.sent,V.ok){R.next=5;break}throw w("[fetchDeleteJSON] failed with "+V.status+": "+N,{url:N,status:V.status});case 5:return R.abrupt("return",V.json());case 6:case"end":return R.stop()}},F)}));return function(N,H){return L.apply(this,arguments)}}(),f=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N,H){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(N,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(H)});case 2:if(V=R.sent,V.ok){R.next=5;break}throw w("[fetchPutHead] failed with "+V.status+": "+N,{status:V.status});case 5:case"end":return R.stop()}},F)}));return function(N,H){return L.apply(this,arguments)}}(),B=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N,H){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(N,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(H)});case 2:if(V=R.sent,V.ok){R.next=17;break}return R.t0=w,R.t1="[fetchPutJSON] failed with "+V.status+": "+N,R.t2=r.Z,R.t3=r.Z,R.t4={},R.next=11,V.json();case 11:throw R.t5=R.sent,R.t6=(0,R.t3)(R.t4,R.t5),R.t7={},R.t8={status:V.status},R.t9=(0,R.t2)(R.t6,R.t7,R.t8),(0,R.t0)(R.t1,R.t9);case 17:return R.abrupt("return",V.json());case 18:case"end":return R.stop()}},F)}));return function(N,H){return L.apply(this,arguments)}}(),u=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N,H){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(N,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(H)});case 2:if(V=R.sent,V.ok){R.next=17;break}return R.t0=w,R.t1="[fetchPutJSON] failed with "+V.status+": "+N,R.t2=r.Z,R.t3=r.Z,R.t4={},R.next=11,V.json();case 11:throw R.t5=R.sent,R.t6=(0,R.t3)(R.t4,R.t5),R.t7={},R.t8={status:V.status},R.t9=(0,R.t2)(R.t6,R.t7,R.t8),(0,R.t0)(R.t1,R.t9);case 17:return R.abrupt("return",V.json());case 18:case"end":return R.stop()}},F)}));return function(N,H){return L.apply(this,arguments)}}(),U=function(){var L=(0,b.Z)((0,d.Z)().mark(function F(N,H){var V;return(0,d.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,fetch(N,{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify(H)});case 2:if(V=R.sent,V.ok){R.next=5;break}throw w("[fetchDeleteBodyHead] failed with "+V.status+": "+N);case 5:case"end":return R.stop()}},F)}));return function(N,H){return L.apply(this,arguments)}}()},70956:function(ce,k,c){"use strict";c.d(k,{FQ:function(){return b},MI:function(){return L},U8:function(){return E},VV:function(){return y},X5:function(){return O},j4:function(){return A},pn:function(){return h},rA:function(){return f}});var r=c(48290),d=c(70423);function b(F,N){N===void 0&&(N=!1);var H=document.createElement("div");return H.innerHTML=N?F||"":(F||"").replace(/</g,"&lt;").replace(/>/g,"&gt;"),H.innerText}function w(){var F=document.createElement("div");return document.body.appendChild(F),F}function P(F){var N=F.getBoundingClientRect(),H=getComputedStyle(F),V=H.paddingTop,G=H.paddingLeft,R=H.paddingRight,z=H.paddingBottom,K=parseInt(V),Y=parseInt(G),q=parseInt(R),Q=parseInt(z);return{top:N.top+K,left:N.left+Y,width:N.width-(Y+q),height:N.height-(K+Q)}}function h(F){var N=F.getBoundingClientRect(),H=N.top,V=N.left,G=N.right,R=N.bottom,z=document.elementFromPoint((V+G)/2,(H+R)/2);return F.contains(z)}function x(){var F=document.getSelection();if(!(F.rangeCount>0))return{};var N=F.getRangeAt(0),H={},V=N.commonAncestorContainer;V.nodeName==="DIV"&&V.className==="text"&&(V=N.startContainer);for(var G="text_editor";V&&V.nodeName!=="P"&&V.id!==G;){if(V.nodeType===1)switch(V.nodeName){case"I":H.italic=!0;break;case"B":H.bold=!0;break;case"U":H.underline=!0;break;case"STRIKE":H.lineThrough=!0;break;case"FONT":{H.tc=V.color;var R=V.style.backgroundColor;R&&(H.bg=rgb2hex(R));break}case"SPAN":H.bg=rgb2hex(V.style.backgroundColor)}V=V.parentNode}return H}var E=function(N){N.stopPropagation(),N.nativeEvent.stopImmediatePropagation()},m=function(N,H){var V=Object.assign(document.createElement("a"),{download:N,href:H});document.body.appendChild(V),V.click(),document.body.removeChild(V)},D=function(N){var H=N.onDragStart,V=N.onDrag,G=N.onDrop,R=0,z=function(q){if(R<5)return R++;R===5&&H(q),V(q.clientX,q.clientY)},K=function Y(q){G(q),document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",Y)};document.addEventListener("mousemove",z),document.addEventListener("mouseup",K)},y=function(N){if(/^<p>/.test(N))return N.replace(/\n/g,"");for(var H="",V=N.split(/\n/),G=0,R=V.length;G<R;G++){var z=V[G];z||(z="&nbsp;"),H+="<p>"+z+"</p>"}return H},A=function(N){var H={"&amp;":"&","&lt;":"<","&gt;":">"};return N.replace(/(&amp;|&lt;|&gt;)/g,function(V){return H[V]})},C="top",I="left",S={top:function(N){return{start:N.scrollTop,property:"scrollTop"}},left:function(N){return{start:N.scrollLeft,property:"scrollLeft"}}},O=function(N,H,V,G){G=G||C;var R,z=S[G](N),K=z.start,Y=z.property,q=H-K,Q=20;R=0;var ee=function oe(){R+=Q;var pe=T(R,K,q,V);N[Y]=pe,R<V&&setTimeout(oe,Q)};ee()},T=function(N,H,V,G){return N/=G/2,N<1?V/2*N*N+H:(N--,-V/2*(N*(N-2)-1)+H)},f=function(N){var H="100%";return N&&N.scrollHeight>N.clientHeight&&(H="calc(100% - 2px)"),H},B={top:["top","bottom"],bottom:["top","bottom"],left:["left","right"],right:["left","right"]},u=function(N,H,V){var G=B[V];return N[G[0]]>=H[G[0]]&&N[G[1]]<=H[G[1]]},U=function(N,H,V,G,R){R===void 0&&(R=200);var z=N.querySelectorAll(V);if(!(z.length>1)&&z.length>0){var K=H.getBoundingClientRect(),Y=z[0].getBoundingClientRect(),q=u(Y,K,G);if(q)return;var Q=z[0].getBoundingClientRect(),ee=N.getBoundingClientRect();O(H,Q[G]-ee[G],R,G)}},L=function(N,H,V){var G=(0,d.Rv)()?"_self":H;return window.open(N,G,V)}},21800:function(ce,k,c){"use strict";c.d(k,{$e:function(){return I},SP:function(){return y}});var r=c(18582),d=c(54635),b="Italic",w=500,P={invisible:0,thin:100,extraLight:200,light:300,regular:400,medium:500,semiBold:600,bold:700,extraBold:800,black:900,extraBlack:1e3},h=function(T){var f=T.includes(b);return f?T.replace(b,""):T},x=function(T){return T.includes(b)},E=function(T){var f=h(T);return P[f]>=w},m=r.filter(function(O){var T=O.isShowOnMBServer;return!T}),D=function(T){var f=T.label,B=T.family,u=T.limitedDevices;return{label:f,value:B,limitedDevices:u}},y=m.map(D),A=function(T){return T.includes(b)?""+I18N.dUtils.rich_text_settings.weight[T.replace(b,"")]+I18N.dUtils.rich_text_settings.weight.italic:I18N.dUtils.rich_text_settings.weight[T]},C=function(T){var f=r.find(function(B){var u=B.family;return u===T});return f?f.typeList.map(function(B){return{label:A(B),value:B}}):[]},I=function(T,f){var B=m.find(function(u){var U=u.family;return U===T});return B?B.label+"-"+A(f):T+"-"+f},S=(0,d.LL)(C)},2909:function(ce,k,c){"use strict";c.d(k,{CB:function(){return w},No:function(){return d}});var r=c(41768),d=function(h){switch(h){case"iphone":case"ipad":case"apple_watch":return"ios";case"android":return"android";default:return"others"}},b=function(h,x){var E=x.width,m=x.orientation,D=m==="landscape",y="customize";return!D&&h.width===E||D&&h.height===E?y=h.device:Object.entries(MODEL_NAME_WIDTH_HEIGHT_MAP).forEach(function(A){var C=_slicedToArray(A,1),I=C[0];(!D&&I.width===E||D&&I.height===E)&&(y=I.device)}),!h.template&&!h.combo&&["android","ipad","iphone"].includes(h.device)&&["android","ipad","iphone"].includes(y)},w=function(h){return!h.template&&!h.combo&&["android","ipad","iphone"].includes(h.device)}},79887:function(ce,k,c){"use strict";c.d(k,{DH:function(){return h},G1:function(){return m},bj:function(){return E},fL:function(){return r}});function r(C){var I=1/0,S=1/0,O=-1/0,T=-1/0;return C.forEach(function(f){I=Math.min(f.top,I),S=Math.min(f.left,S),O=Math.max(f.left+f.width,O),T=Math.max(f.top+f.height,T)}),{top:I,left:S,right:O,bottom:T,width:O-S,height:T-I}}function d(C,I){var S=document.querySelector("#canvas").getBoundingClientRect(),O=document.querySelector("#screens").getBoundingClientRect(),T=S.left-O.left,f=S.top-O.top,B=100/I;return P(C,{offsetX:T,offsetY:f,ratio:B})}function b(C,I,S){var O=C.startX,T=C.startY,f=C.endX,B=C.endY;I===void 0&&(I=90),S===void 0&&(S=0);var u=Math.atan2(B-T,f-O)/Math.PI*180,U=Math.hypot(f-O,B-T),L=S+I*Math.round((u-S)/I),F=U*Math.cos((u-L)/180*Math.PI);return{startX:O,startY:T,endX:O+Math.round(F*Math.cos(L/180*Math.PI).toFixed(2)),endY:T+Math.round(F*Math.sin(L/180*Math.PI).toFixed(2))}}function w(C){var I=C.startX,S=C.startY,O=C.endX,T=C.endY,f=Math.min(S,T),B=Math.min(I,O),u=Math.abs(O-I),U=Math.abs(T-S);return{top:Math.round(f),left:Math.round(B),width:Math.round(u),height:Math.round(U)}}function P(C,I){var S=C.startX,O=C.startY,T=C.endX,f=C.endY,B=I.offsetX,u=I.offsetY,U=I.ratio;return{startX:Math.round((S-B)*U),startY:Math.round((O-u)*U),endX:Math.round((T-B)*U),endY:Math.round((f-u)*U)}}var h=function(I,S){return["top","left","width","height"].every(function(O){return I[O]===S[O]})},x=function(I,S){return I.top>S.top&&I.left>S.left&&I.right<S.right&&I.bottom<S.bottom},E=function(I,S){var O=m(I,S);return O.width<I.width+S.width&&O.height<I.height+S.height},m=function(I,S){var O=Math.min(I.top||0,S.top||0),T=Math.max((I.top||0)+I.height,(S.top||0)+S.height),f=Math.min(I.left||0,S.left||0),B=Math.max((I.left||0)+I.width,(S.left||0)+S.width);return{top:O,left:f,width:B-f,height:T-O}},D=function(I,S,O){return y(I,O)&&A(S,O)},y=function(I,S){return I>S.left&&I<S.left+S.width},A=function(I,S){return I>S.top&&I<S.top+S.height}},33258:function(ce,k,c){"use strict";c.d(k,{SZ:function(){return w},Wi:function(){return P},z9:function(){return E}});var r=c(2909),d=c(70423),b=c(58057),w=function(D){var y=D.screenGlue,A=D.project,C=D.screen;return y.type==="project-main"&&(A.width===C.width&&C.height>=A.height||A.height===C.width&&C.height>=A.width)},P=function(D,y,A){A===void 0&&(A=!1);var C=(0,r.No)(y),I=D.orientation,S=(0,d.V5)()?"mac":(0,d.ED)()?"windows":"other-os",O=A?"isQuickAnnotateClass":"";return"mb-screen "+S+" "+C+" "+y+" "+I+" "+O},h=function(D){for(var y=D.name+"_"+D.stateName,A=getProjectScreenMetaList(D.project_meta_cid,D.screen_glue_cid);D=A.find(function(C){return C.cid===D.parent_cid});)y=""+y;return y},x=function(D,y){var A=findScreenTreeNodeByCid(D.parent_cid||"root",y),C=A.children.map(function(O){return O.data}),I=C.findIndex(function(O){return O.cid===D.cid}),S=I+1;C.splice(S,0,null),C.forEach(function(O,T){O&&(O.parent_cid!==D.parent_cid||O.position!==T+1)&&updateScreenMeta(_objectSpread(_objectSpread({},O),{},{position:T+1}))})},E=function(D){return D.attr instanceof Object&&!!D.attr.bgcolor}},21586:function(ce,k,c){"use strict";c.d(k,{o:function(){return w}});var r=c(512),d=c(29661),b=function(h){var x=new Set(h.map(function(E){return E.cid}));return h.filter(function(E){return!x.has(E.parent_cid)}).sort(function(E,m){return E.position-m.position})[0]},w=function(h){var x=(0,d.pb)(h),E=x.screenTreeData;return(0,r.wd)(E)}},512:function(ce,k,c){"use strict";c.d(k,{$m:function(){return O},Vx:function(){return x},Y2:function(){return V},_i:function(){return S},qv:function(){return D},tX:function(){return C},wd:function(){return E}});var r=c(91520),d=c(67741),b=c(9575),w=c(46506),P=["data","children"],h=["data","children"],x=function(R){return R.orientation==="folder"},E=function(R){var z=C(R,function(K){if(K.data&&!x(K.data))return K.data});return z[0]},m=function(R){var z=new Set,K=new Set;return C(R,function(Y){x(Y.data)?K.add(Y.data.cid):z.add(Y.data.cid)}),{pageCidSet:z,folderCidSet:K,pageCount:z.size,folderCount:K.size}},D=function(R){return C(R,function(z){return z.data})},y=function(R){return C(R,function(z){return z.cid})},A=function(R,z){for(var K=[R];K.length;){var Y=K.pop(),q=z(Y);q||K.push.apply(K,_toConsumableArray(Y.children))}},C=function G(R,z){var K,Y=[],q=z(R);return q&&Y.push(q),R==null||(K=R.children)==null||K.forEach(function(Q){Y.push.apply(Y,(0,b.Z)(G(Q,z)))}),Y},I=function(R,z){for(var K=[z];K.length;){var Y=K.pop();if(Y.cid===R)return Y;K.push.apply(K,_toConsumableArray(Y.children))}},S=function(R,z){var K=function Y(q,Q){if(Q.cid===R)return q;var ee=[];return Q.children.forEach(function(oe){ee.push.apply(ee,(0,b.Z)(Y([].concat((0,b.Z)(q),[Q]),oe)))}),ee};return K([],z).slice(1)},O=function(R,z){if(z){var K=new RegExp((0,w.yI)(z),"i");return T(R,function(Y){return K.test(Y.name)})}else return R},T=function G(R,z){var K=R.data,Y=R.children,q=(0,d.Z)(R,P),Q=K?z(K):!0,ee=Y.map(function(oe){return G(oe,z)}).filter(function(oe){return oe});return Q||ee.length?(0,r.Z)({data:K,children:ee},q):null},f=function G(R){var z=1;if(R.children.length){var K=R.children.map(function(Y){return G(Y)});z+=Math.max.apply(null,K)}return z},B=function(R,z){var K=S(R,z);return K.length+1},u=function(R,z){var K=I(R.parent_cid||"root",z);return K.children.map(function(Y){return Y.data})},U=function(R,z){var K=I(R,z),Y=u(K.data,z);return Y[Y.length-1].cid===R},L=function(R,z){var K=[];return R&&R.length>0&&(K=R.map(function(Y){var q=I(Y||"root",z);return F(q)})),new Set(K.flat())},F=function G(R){var z,K=[];return R&&((z=R.children)==null?void 0:z.length)>0&&R.children.forEach(function(Y){var q;K.push((q=Y.data)==null?void 0:q.cid),K.push.apply(K,_toConsumableArray(G(Y)))}),K},N=function G(R){var z,K,Y=[];if(R&&(((z=R.children)==null?void 0:z.length)>0||((K=R.data)==null?void 0:K.orientation)==="folder")){var q;R.data&&Y.push(R.data.cid),((q=R.children)==null?void 0:q.length)>0&&R.children.forEach(function(Q){Y.push.apply(Y,_toConsumableArray(G(Q)))})}return Y},H=function G(R){var z=[],K=R.data,Y=R.children,q=(0,d.Z)(R,h);return K&&z.push((0,r.Z)({data:K,children:[]},q)),(Y==null?void 0:Y.length)>0&&Y.forEach(function(Q){z.push.apply(z,(0,b.Z)(G(Q)))}),z},V=function(R,z){var K=new RegExp((0,w.yI)(z),"i"),Y=H(R),q=Y.filter(function(Q){var ee=Q.data;return K.test(ee.name)});return{cid:"root",children:q,data:void 0}}},30733:function(ce,k,c){"use strict";c.d(k,{A6:function(){return w},GQ:function(){return b},RD:function(){return x},cM:function(){return h},iO:function(){return E},q:function(){return P}});var r=function(){var D={getItem(){return null},setItem(){},removeItem(){},clear(){}},y=function(){try{return window.localStorage.setItem("localStorage",1),window.localStorage.removeItem("localStorage"),!0}catch(C){return!1}};return y()?window.localStorage:D},d=r(),b=function(D){return d.getItem(D)},w=function(D,y){return d.setItem(D,y)},P=function(D){return d.removeItem(D)},h={String:1,Number:2,Boolean:3,Object:4,Array:5},x=function(D,y,A){var C=d.getItem(D);if(C===null)return y;switch(A){case h.String:return C;case h.Number:return Number(C);case h.Boolean:return JSON.parse(C);case h.Object:return JSON.parse(C);case h.Array:return JSON.parse(C)}},E=function(D,y,A){switch(A){case h.String:return d.setItem(D,String(y));case h.Number:return d.setItem(D,Number(y));case h.Boolean:return d.setItem(D,JSON.stringify(y));case h.Object:return d.setItem(D,JSON.stringify(y));case h.Array:return d.setItem(D,JSON.stringify(y))}}},72204:function(ce){/*
 * node-timeago
 * Cam Pedersen
 * <diffference@gmail.com>
 * Oct 6, 2011
 * Timeago is a jQuery plugin that makes it easy to support automatically
 * updating fuzzy timestamps (e.g. "4 minutes ago" or "about 1 day ago").
 *
 * @name timeago
 * @version 0.10.0
 * @requires jQuery v1.2.3+
 * @author Ryan McGeary
 * @license MIT License - http://www.opensource.org/licenses/mit-license.php
 *
 * For usage and examples, visit:
 * http://timeago.yarp.com/
 *
 * Copyright (c) 2008-2011, Ryan McGeary (ryanonjavascript -[at]- mcgeary [*dot*] org)
 */ce.exports=function(w){if(w instanceof Date)return d(w);if(typeof w=="string")return d(r(w));if(typeof w=="number")return d(new Date(w))};var k={allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[],wordSeparator:" "}},c=k.strings;ce.exports.settings=k,c.inWords=function(w){var P=c.prefixAgo,h=c.suffixAgo;k.allowFuture&&w<0&&(P=c.prefixFromNow,h=c.suffixFromNow);var x=Math.abs(w)/1e3,E=x/60,m=E/60,D=m/24,y=D/365;function A(S,O){var T=typeof S=="function"?S(O,w):S,f=c.numbers&&c.numbers[O]||O;return T.replace(/%d/i,f)}var C=x<45&&A(c.seconds,Math.round(x))||x<90&&A(c.minute,1)||E<45&&A(c.minutes,Math.round(E))||E<90&&A(c.hour,1)||m<24&&A(c.hours,Math.round(m))||m<48&&A(c.day,1)||D<30&&A(c.days,Math.floor(D))||D<60&&A(c.month,1)||D<365&&A(c.months,Math.floor(D/30))||y<2&&A(c.year,1)||A(c.years,Math.floor(y)),I=c.wordSeparator||"";return c.wordSeparator===void 0&&(I=" "),[P,C,h].join(I).toString().trim()};function r(w){if(w){var P=w.trim();return P=P.replace(/\.\d\d\d+/,""),P=P.replace(/-/,"/").replace(/-/,"/"),P=P.replace(/T/," ").replace(/Z/," UTC"),P=P.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(P)}}c.parse=r;function d(w){return c.inWords(b(w))}function b(w){return new Date().getTime()-w.getTime()}},1e3:function(ce,k,c){"use strict";c.d(k,{$b:function(){return E},Mn:function(){return y},U1:function(){return P},tv:function(){return x},wb:function(){return w}});var r=c(64555),d=c(72005),b=c(37931),w=ENV.NO_TRACK?function(){}:b.wb,P=ENV.NO_TRACK?function(){}:b.U1,h=ENV.NO_TRACK?function(){}:function(A){var C=A.paramName,I=A.defaultValue,S=A.valueType,O=A.callback;return(0,b.be)({paramName:C,defaultValue:I,valueType:S,callback:O})},x=ENV.NO_TRACK?function(){}:b.pj,E=ENV.IS_WONDER_SHARE?function(){}:function(A){if(!window.gtag)return console.error("gtag is not a function");window.gtag("config","UA-4839360-64",{user_id:A,transport_type:"beacon"})},m={"https://mockittapp.wondershare.com/app":"B1-V7\u539F\u578B\u5185\u5206\u4EAB"},D=function(){var C=Object.keys(m).sort(function(I,S){return S.length-I.length});return m[C.find(function(I){return window.location.href.indexOf(I)!==-1})]},y=function(){var A=(0,d.Z)((0,r.Z)().mark(function C(I){return(0,r.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.prev=0,O.next=3,fetch("https://mockittapp.wondershare.com/invite_track?entry="+D()+"&entry_term="+I);case 3:O.next=8;break;case 5:O.prev=5,O.t0=O.catch(0),console.error(O.t0);case 8:case"end":return O.stop()}},C,null,[[0,5]])}));return function(I){return A.apply(this,arguments)}}()},70423:function(ce,k,c){"use strict";c.d(k,{B0:function(){return A},CL:function(){return P},Dt:function(){return m},ED:function(){return b},IF:function(){return C},Md:function(){return I},Rv:function(){return w},V5:function(){return d},_j:function(){return S},d:function(){return r},li:function(){return O},tq:function(){return E},vU:function(){return x}});var r=function(){return window.MB_DESKTOP_VERSION||window.isElectron||/Electron/i.test(navigator.userAgent)},d=function(){return/(Macintosh)/i.test(navigator.userAgent)},b=function(){return/(Windows)/i.test(navigator.userAgent)},w=function(){return/(Lark)/i.test(navigator.userAgent)},P=function(){return/MicroMessenger/i.test(navigator.userAgent)},h=function(){return/Chrome/i.test(navigator.userAgent)},x=function(){return/Firefox/i.test(navigator.userAgent)},E=function(){return/(iPod|iPhone|iPad|Android|MobileClient)/.test(navigator.userAgent)},m=function(){return/Android/i.test(navigator.userAgent)},D=function(){return/(iPad)/.test(navigator.userAgent)},y=function(){return/(iPod|iPhone|iPad)/.test(navigator.userAgent)},A=function(){return!!(window.webkit&&window.webkit.messageHandlers)},C=function(){return navigator.standalone},I=function(){return/\/uichina$/.test(location.pathname)},S=function(){return/\/forum$/.test(location.pathname)},O=function(){return/(MobileClient)/.test(navigator.userAgent)}},32638:function(ce,k,c){"use strict";c.d(k,{gh:function(){return A},oS:function(){return y}});var r=function(S,O){return E(S,O,P)},d=function(S,O){return E(S,O,x)},b=function(S,O){var T=mapItemsToTrees(S),f=[];T.forEach(function(B){f.push(B.widget),r(B.children,[])}),r(f,O)},w=/(\s\d+)?$/,P=function(S){return S.display_name.replace(w,"")},h=/(\sCopy(\s\d+)?)?$/,x=function(S){return S.display_name.replace(h," Copy")},E=function(S,O,T){var f={};S.forEach(function(u){if(!(u.name==="rich_text"&&!u.display_name)){var U=T(u);f[U]=f[U]||[],f[U].push(u)}});var B={};O.forEach(function(u){var U=T(u);if(f[U]){B[U]=B[U]||new Set;var L=m(u.display_name,U);B[U].add(L)}}),Object.entries(f).forEach(function(u){var U=_slicedToArray(u,2),L=U[0],F=U[1],N=B[L]||new Set,H=D(N,F.length);F.forEach(function(V,G){var R=H[G],z=R===1?L:L+" "+R;V.display_name=z})})},m=function(S,O){try{var T=/[`~!@#$%^&*()_+<>?:"{},./;'[\]]/im,f=O.replace(T,""),B=S.replace(T,""),u=new RegExp("^"+f+"(\\s\\d+)?$"),U=u.exec(B);if(U){var L=U[1]||1;return Number(L)}return 0}catch(F){return 0}},D=function(S,O){for(var T=[],f=1;f<=S.size+O;f++)S.has(f)||T.push(f);return T},y=function(S){return S.name==="rich_text"?A(S):S.display_name},A=function(S){return S.display_name||C(S.text)},C=function(S){var O=Array.isArray(S)?S:JSON.parse(S);return O.reduce(function(T,f){var B=f.children.reduce(function(u,U){return u+U.text},"");return T+B},"")}},61537:function(ce,k,c){"use strict";c.d(k,{UO:function(){return S},yb:function(){return A}});var r=c(68633),d=c(50866),b=c(1372),w=c(9795),P=c(60217),h=c(51404),x=c(8465),E=function(u,U){var L=U.trim().split(/\s+/),F=L.map(function(N){return{literal:N,regular:new RegExp("\\b"+escapeRegex(N),"i"),chinese:new RegExp(""+escapeRegex(N))}});return u.filter(function(N){return y(F,N)})},m=/[\u4E00-\u9FFF]/,D=(0,x.V)(function(){return{All:I18N.dConst.icons.all,"Web Application":I18N.dConst.icons.web_app,Medical:I18N.dConst.icons.medical,"Text Editor":I18N.dConst.icons.text_editor,Spinner:I18N.dConst.icons.spinner,"File Type":I18N.dConst.icons.file_type,Directional:I18N.dConst.icons.directional,"Video Player":I18N.dConst.icons.video_player,"Form Control":I18N.dConst.icons.form_control,Transportation:I18N.dConst.icons.transportation,Chart:I18N.dConst.icons.chart,Brand:I18N.dConst.icons.brand,Hand:I18N.dConst.icons.hand,Payment:I18N.dConst.icons.payment,Currency:I18N.dConst.icons.currency,Accessibility:I18N.dConst.icons.accessibility,Gender:I18N.dConst.icons.gender,AV:I18N.dConst.icons.av,Action:I18N.dConst.icons.action,Alert:I18N.dConst.icons.alert,Communication:I18N.dConst.icons.communication,Content:I18N.dConst.icons.content,Device:I18N.dConst.icons.device,Editor:I18N.dConst.icons.text_editor,File:I18N.dConst.icons.file,Hardware:I18N.dConst.icons.hardware,Image:I18N.dConst.icons.image,Maps:I18N.dConst.icons.maps,"Navi.":I18N.dConst.icons.navi,"Notif.":I18N.dConst.icons.notif,Places:I18N.dConst.icons.places,Social:I18N.dConst.icons.social,Toggle:I18N.dConst.icons.toggle,Widgets:I18N.dConst.icons.widgets,Tool:I18N.dConst.icons.tool,Arrow:I18N.dConst.icons.directional,Miscellaneous:I18N.dConst.icons.miscellaneous,"Brand and Logos":I18N.dConst.icons.brand,Application:"App",Data:I18N.dConst.icons.data,Suggested:I18N.dConst.icons.suggested}}),y=function(u,U){var L=D(window.MBLocale),F=[U.id,U.keywords,U.aliases,U.cat,L[U.cat]].join();return u.some(function(N){var H=N.literal,V=N.regular,G=N.chinese;return V.test(F)||m.test(H)&&G.test(F)})},A=function(u){return u==="icon_button"||u==="svg_icon_button"||u==="svg_icon_path"},C=function(u){var U=itemCreateMap.svg_icon_path(),L=loadWidgetAttr(_objectSpread(_objectSpread({cid:getRandomItemCid()},U),u));return L.top=0,L.left=0,L},I=/^(fa|md|mb|ci|fa5|antOutline|antFill)-/,S=function(u){var U=I.test(u),L=(u||"").replace(I,""),F=U?u.split("-")[0]:"fa",N=F,H=N+"-"+L,V=w.F[H]||w.f[H],G=null;if(F==="fa5"&&V){var R=(0,P.Ps)({prefix:V.lib,iconName:V.id}),z=R.viewBox,K=R.path;G={view_box:z,path:'<path d="'+K+'"></path>'}}else if(F==="fa"&&V){var Y=(0,P.$M)(V.id),q=Y.viewBox,Q=Y.path;G={view_box:q,path:Q}}else if(F==="md"){var ee=(0,P.iw)(L),oe=ee.path;G={view_box:"0 0 24 24",path:oe}}else if(F==="ci"){var pe=(0,P.rG)(L),ve=pe.path;G={view_box:"0 0 1024 1024",path:ve}}else if(F==="mb"){var Pe=(0,P.Ai)(L),He=Pe.path;G={view_box:"0 0 32 32",path:He}}else if(F==="antOutline"){var Ne=(0,P.bN)(L),Ze=Ne.viewBox,et=Ne.path;G={view_box:Ze,path:et}}else if(F==="antFill"){var Je=(0,P.Mc)(L),gt=Je.viewBox,Ve=Je.path;G={view_box:gt,path:Ve}}return G},O=function(u){var U=u.indexOf("-"),L=u.lastIndexOf("-"),F="fa"+u.slice(U,L),N=u.slice(L+1);return N+" "+F},T=function(u,U){U===void 0&&(U="design");var L=_createForOfIteratorHelper(u),F;try{for(L.s();!(F=L.n()).done;){var N=F.value;if(["design","preview"].includes(U)){var H=N.tc,V=N.view_box,G=N.is,R=N.display_name,z=N.path,K=typeof H=="number"?rgbaCSSFromHex8Number(H):H,Y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="'+V+'" width="'+G+'" height="'+G+'" style="fill: '+K+';">'+z+"</svg>";f(Y,"image/svg",R+".svg")}else{var q=N.type,Q=N.view_box,ee=N.id,oe=N.path,pe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="'+Q+'" width="24" height="24">'+oe+"</svg>";f(pe,"image/svg",q+"-"+ee+".svg")}}}catch(ve){L.e(ve)}finally{L.f()}},f=function(u,U,L){var F=new Blob([u],{type:U}),N=document.createElement("a");N.download=L,N.href=URL.createObjectURL(F),N.dataset.downloadurl=[U,N.download,N.href].join(":"),N.style.display="none",document.body.appendChild(N),N.click(),document.body.removeChild(N),setTimeout(function(){URL.revokeObjectURL(N.href)},1500)}},66302:function(ce,k,c){"use strict";c.d(k,{$l:function(){return D},BK:function(){return O},DV:function(){return A},Oz:function(){return T},QP:function(){return S},dG:function(){return C},ud:function(){return I}});var r=c(91520),d=c(61519),b=c(5207),w=c(81786),P=c(48075),h=c(35576),x=c(58057),E=function(B,u,U){var L=getScreenServerStateByCid(B,u),F=L.itemListMap,N={},H={};Object.entries(F).forEach(function(K){var Y=_slicedToArray(K,2),q=Y[0],Q=Y[1],ee={};Q.forEach(function(oe){var pe;oe.name!=="link"&&(oe.name==="rich_text"&&!Array.isArray(oe.text)||(ee[oe.cid]=oe,N[pe=oe.cid]||(N[pe]=[]),N[oe.cid].push({screenCid:u,stateCid:q,data:oe})))}),H[q]=ee});var V=H[U],G=_objectWithoutProperties(H,[U].map(_toPropertyKey)),R=new Set;Object.entries(G).forEach(function(K){var Y=_slicedToArray(K,2),q=Y[0],Q=Y[1];q!==U&&Object.values(Q).forEach(function(ee){V[ee.cid]||ee.name!=="group"&&R.add(ee.cid)})});var z=Array.from(R);return{itemQueryMap:N,ghostItemCids:z}},m=function(B,u){return/default/.test(B)?I18N.dUtils.default_state:I18N.dUtils.state+" "+(u+1)},D=function(B,u){var U=(0,x.FJ)(B,u),L=U.dataMap;return Object.values(L).sort(function(F,N){return F.position-N.position}).map(function(F,N){var H=F.name||m(F.cid,N),V=F.hh||0,G=F.fh||0;return(0,r.Z)((0,r.Z)({},F),{},{name:H,hh:V,fh:G,screen_cid:u})})},y=function(B,u,U){var L=(0,x.Dm)(B,u,U);return L.filter(function(F){return F.name==="panel"?(0,w._s)(F,B,u):!0})},A=function(B,u,U){var L=(0,x.Dm)(B,u,U);return L.filter(function(F){return F.name!=="link"&&(F.name==="panel"?(0,w._s)(F,B,u):!0)}).map(function(F){return(0,b.W3)(F,u,U,B)})},C=function(B,u,U){var L=(0,x.Dm)(B,u,U);return L.filter(function(F){return F.name==="panel"&&(0,w._s)(F,B,u)}).map(function(F){return(0,b.W3)(F,u,U,B)})},I=function f(B){var u=B.projectMetaCid,U=B.screenCid,L=B.screenStateCid,F=B.skipPanel,N=F===void 0?!1:F,H=B.activeScreenStateCidMap,V=H===void 0?{}:H,G=[],R={},z=(0,P.hZ)(u,U,L),K=(0,x.Dm)(u,U,L);return K.forEach(function(Y){if(Y.name==="link"){var q=(0,b.W3)(Y,U,L);if(!z(q))return;G.push(q)}else if(Y.name==="panel"){if(N)return;var Q=Y.cid,ee=Y.screen_meta_cid,oe=V.get(Q),pe=Y.cid+"-"+ee+"-"+oe;if(!(0,w._s)(Y,u,U))return;R[pe]=R[pe]||[Y.cid,ee,oe]}}),Object.values(R).forEach(function(Y){var q=(0,d.Z)(Y,3),Q=q[0],ee=q[1],oe=q[2],pe=f({projectMetaCid:u,screenCid:ee,screenStateCid:oe,skipPanel:!0});pe.forEach(function(ve){Object.assign(ve,{_panelCid:Q}),G.push(ve)})}),G},S=function(B,u,U){var L=(0,P.hZ)(B,u,U),F={},N=[],H=(0,x.Dm)(B,u,U);return Object.values(H).forEach(function(V){V.name==="link"&&(F[V.cid]=(0,b.W3)(V,u,U),V.widget_cids===u&&N.push(V.cid)),V.name==="pg"&&N.push(V.link_cids)}),(0,h.H9)(N.map(function(V){return F[V]}).filter(function(V){return V&&L(V)}))},O=function(B,u,U){var L=(0,P.hZ)(B,u,U),F=y(B,u,U),N=S(B,u,U).filter(function(R){return parseFloat(R.timer)>0}),H={},V=[];F.forEach(function(R){R.name!=="pg"&&(R.name==="link"&&(H[R.cid]=(0,b.W3)(R,u,U)),R.link_cids&&V.push(R.link_cids))});var G=[];return V.forEach(function(R){var z=H[R];z&&parseFloat(z.timer)>0&&L(z)&&G.push(z)}),N.concat(G)},T=function(B,u,U){U===void 0&&(U=[]);var L={},F=[];return U.forEach(function(N){N.name==="link"&&(L[N.cid]=(0,b.W3)(N,B,u),N.widget_cids===B&&F.push(N.cid)),N.name==="pg"&&F.push(N.link_cids)}),(0,h.H9)(F.map(function(N){return L[N]}).filter(function(N){return N}))}},77466:function(ce,k,c){"use strict";c.d(k,{IO:function(){return C},l$:function(){return O},zc:function(){return m}});var r=c(91520),d=c(67741),b=c(9575),w=c(77506),P=c(46506),h=c(11685),x=null,E=["value","children"],m=function f(B,u){u===void 0&&(u=!1);var U=[],L=B.type,F=B.widget,N=B.children;if(!(u&&L===h.l.Annotate))return L==="group"?N.forEach(function(H){return U.push.apply(U,(0,b.Z)(f(H,u)))}):U.push(F),U},D=function f(B){var u=[],U=B.type,L=B.children;return U==="group"?L.forEach(function(F){return u.push.apply(u,_toConsumableArray(f(F)))}):u.push(B),u},y=function f(B){var u=[],U=B.type,L=B.widget,F=B.children;return u.push(L),U==="group"&&F.forEach(function(N){return u.push.apply(u,_toConsumableArray(f(N)))}),u},A=function f(B){var u=[];return B!=null&&B.widget.locked||(u.push(B==null?void 0:B.widget),(B==null?void 0:B.type)==="group"&&(B==null||B.children.forEach(function(U){return u.push.apply(u,_toConsumableArray(f(U)))}))),u},C=function f(B){var u=[];return B.parent&&(u.push(B.parent),u.push.apply(u,(0,b.Z)(f(B.parent)))),u},I=function(B,u){if(u){var U=new RegExp(escapeRegex(u),"i");return S(B,function(L){return U.test(getLayerItemDisplayName(L))})}else return B},S=function f(B,u){var U=B.widget,L=B.children,F=B.type,N=_objectWithoutProperties(B,x),H=U?u(U):!0,V=F===NodeType.panel?[]:L.map(function(G){return f(G,u)}).filter(function(G){return G});return H||V.length?_objectSpread({widget:U,children:V,links:B.links},N):null},O=function(B,u){if(u){var U=new RegExp((0,P.yI)(u),"i");return B.map(function(L){return T(L,function(F){return U.test(F.name)})}).filter(function(L){return!!L})}else return B},T=function f(B,u){var U=B.value,L=B.children,F=L===void 0?[]:L,N=(0,d.Z)(B,E),H=U?u(U):!0,V=H?F:F.map(function(G){return f(G,u)}).filter(function(G){return G});return H||V.length?(0,r.Z)({value:U,children:V},N):null}},37407:function(ce,k,c){"use strict";c.d(k,{$:function(){return ee},$h:function(){return ve},A1:function(){return q},AZ:function(){return K},Je:function(){return z},Jn:function(){return He},Lc:function(){return et},Qt:function(){return pe},Wj:function(){return I},b7:function(){return R},ci:function(){return Pe},l1:function(){return Q},l_:function(){return Ne},qE:function(){return Y},xc:function(){return gt}});var r=c(98059),d=c.n(r),b=c(25370),w=c.n(b),P=c(14839),h=c.n(P),x=c(48441),E=c.n(x),m=c(7485),D='<svg width="6" height="4" viewBox="0 0 6 4"><path d="M3 0l3 4H0"></path></svg>',y='<svg viewBox="0 0 8 3"><path d="M4.654.233L8 3H0L3.383.23c.37-.303.902-.302 1.27.003z" /></svg>',A='<svg width="27" height="8"><path d="M15.069 6.66a3.27 3.27 0 0 1-3.13 0L0 0h27.008l-11.94 6.66z" /></svg>',C='<svg width="16" height="16"><path d="M8 6.945L6.218 5.163a.688.688 0 0 0-.973.972l1.783 1.782L5.245 9.7a.688.688 0 0 0 .973.972L8 8.89l1.782 1.782a.688.688 0 0 0 .973-.972L8.972 7.917l1.783-1.782a.688.688 0 0 0-.973-.972L8 6.945zm-5.185 6.24a7.333 7.333 0 1 1 10.37-10.37 7.333 7.333 0 0 1-10.37 10.37z"/></svg>',I=Object.freeze({__proto__:null,INPUT_ARROW:D,DROPDOWN_ARROW:y,GUIDE_ARROW:A,CLOSE_FILLED:C});function S(Ve,ht,Ct){return ht in Ve?Object.defineProperty(Ve,ht,{value:Ct,enumerable:!0,configurable:!0,writable:!0}):Ve[ht]=Ct,Ve}function O(Ve,ht){return B(Ve)||f(Ve,ht)||L(Ve,ht)||T()}function T(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(Ve,ht){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Ve)))){var Ct=[],wt=!0,zt=!1,Ut=void 0;try{for(var Ot=Ve[Symbol.iterator](),Lt;!(wt=(Lt=Ot.next()).done)&&(Ct.push(Lt.value),!(ht&&Ct.length===ht));wt=!0);}catch($t){zt=!0,Ut=$t}finally{try{!wt&&Ot.return!=null&&Ot.return()}finally{if(zt)throw Ut}}return Ct}}function B(Ve){if(Array.isArray(Ve))return Ve}function u(Ve){return N(Ve)||F(Ve)||L(Ve)||U()}function U(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(Ve,ht){if(Ve){if(typeof Ve=="string")return H(Ve,ht);var Ct=Object.prototype.toString.call(Ve).slice(8,-1);if(Ct==="Object"&&Ve.constructor&&(Ct=Ve.constructor.name),Ct==="Map"||Ct==="Set")return Array.from(Ve);if(Ct==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ct))return H(Ve,ht)}}function F(Ve){if(typeof Symbol<"u"&&Symbol.iterator in Object(Ve))return Array.from(Ve)}function N(Ve){if(Array.isArray(Ve))return H(Ve)}function H(Ve,ht){(ht==null||ht>Ve.length)&&(ht=Ve.length);for(var Ct=0,wt=new Array(ht);Ct<ht;Ct++)wt[Ct]=Ve[Ct];return wt}var V=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z0-9-]{2,63}$/i,G={OPEN_MODAL_STACK:[]};function R(Ve){return G.OPEN_MODAL_STACK.indexOf(Ve)}function z(){var Ve=G.OPEN_MODAL_STACK;return Ve.length===0||Ve.every(function(ht){return!ht.state.isOpen})}function K(Ve){return Object.assign(G,{OPEN_MODAL_STACK:[Ve].concat(u(G.OPEN_MODAL_STACK))})}function Y(Ve){return Object.assign(G,{OPEN_MODAL_STACK:G.OPEN_MODAL_STACK.filter(function(ht){return ht!==Ve})})}function q(Ve){return w()(Ve).join(" ")}function Q(Ve,ht){var Ct=Ve.propTypes,wt=Ct===void 0?{}:Ct,zt=Object.keys(wt);return Object.entries(ht).reduce(function(Ut,Ot){var Lt=O(Ot,2),$t=Lt[0],Yt=Lt[1];return zt.includes($t)?Ut:Object.assign(Ut,S({},$t,Yt))},{})}function ee(Ve){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return ht.querySelector(Ve)}function oe(Ve){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return Array.from(ht.querySelectorAll(Ve))}function pe(Ve,ht){var Ct=Object.assign(document.createElement("div"),{className:ht});return Ve.appendChild(Ct),Ct}function ve(Ve){!Ve||!(Ve instanceof Element)||Ve.addEventListener("wheel",function(ht){var Ct=Ve.scrollTop,wt=Ve.scrollHeight,zt=Ve.getBoundingClientRect(),Ut=zt.height,Ot=ht.deltaY*-1,Lt=Ot>0,$t=function(){return ht.stopPropagation(),ht.preventDefault(),!1};if(!Lt&&-Ot>wt-Ut-Ct)return Ve.scrollTop=wt,$t();if(Lt&&Ot>Ct)return Ve.scrollTop=0,$t()})}function Pe(Ve){var ht=document.documentElement,Ct=document.body,wt=ee(".ContentRoot"),zt=window,Ut=zt.innerWidth,Ot=zt.scrollX,Lt=zt.scrollY,$t=d()(Ve)?Ve:Ct.classList.toggle("is-content-fixed");return d()(Ve)&&Ct.classList[Ve?"add":"remove"]("is-content-fixed"),wt&&($t?(wt.style.left="-".concat(Ot,"px"),wt.style.top="-".concat(Lt,"px"),window.scrollTo(Math.max((ht.scrollWidth-Ut)/2,0),0)):window.scrollTo(Math.abs(parseInt(wt.style.left,10)),Math.abs(parseInt(wt.style.top,10)))),$t}function He(Ve,ht){return E()(Ve)||h()(Ve)||(0,m.isValidElement)(Ve)?Ve:Ve[ht||"label"]?Ve[ht||"label"]:void 0}function Ne(Ve){return E()(Ve)||h()(Ve)?String(Ve):Ve.value||Ve.label?String(Ve.value||Ve.label):void 0}function Ze(Ve){return new Set(Array.from(Ve||[]).map(String))}function et(Ve,ht){return!!ht&&Ne(Ve)===String(ht)}function Je(Ve,ht){return Ze(ht).has(Ne(Ve))}function gt(Ve){return Ve!==""&&h()(Number(Ve))?Number(Ve):""}},87645:function(){(function(ce,k,c){var r=ce.requestAnimationFrame||ce.webkitRequestAnimationFrame||ce.mozRequestAnimationFrame||ce.oRequestAnimationFrame||ce.msRequestAnimationFrame||function(h){ce.setTimeout(h,16.666666666666668)},d=function(){var h={},x=k.createElement("div").style,E=function(){for(var y=["t","webkitT","MozT","msT","OT"],A,C=0,I=y.length;C<I;C++)if(A=y[C]+"ransform",A in x)return y[C].substr(0,y[C].length-1);return!1}();function m(y){return E===!1?!1:E===""?y:E+y.charAt(0).toUpperCase()+y.substr(1)}h.getTime=Date.now||function(){return new Date().getTime()},h.extend=function(y,A){for(var C in A)y[C]=A[C]},h.addEvent=function(y,A,C,I){y.addEventListener(A,C,!!I)},h.removeEvent=function(y,A,C,I){y.removeEventListener(A,C,!!I)},h.prefixPointerEvent=function(y){return ce.MSPointerEvent?"MSPointer"+y.charAt(7).toUpperCase()+y.substr(8):y},h.momentum=function(y,A,C,I,S,O){var T=y-A,f=c.abs(T)/C,B,u;return O=O===void 0?6e-4:O,B=y+f*f/(2*O)*(T<0?-1:1),u=f/O,B<I?(B=S?I-S/2.5*(f/8):I,T=c.abs(B-y),u=T/f):B>0&&(B=S?S/2.5*(f/8):0,T=c.abs(y)+B,u=T/f),{destination:c.round(B),duration:u}};var D=m("transform");return h.extend(h,{hasTransform:D!==!1,hasPerspective:m("perspective")in x,hasTouch:"ontouchstart"in ce,hasPointer:!!(ce.PointerEvent||ce.MSPointerEvent),hasTransition:m("transition")in x}),h.isBadAndroid=function(){var y=ce.navigator.appVersion;if(/Android/.test(y)&&!/Chrome\/\d/.test(y)){var A=y.match(/Safari\/(\d+.\d)/);return A&&typeof A=="object"&&A.length>=2?parseFloat(A[1])<535.19:!0}else return!1}(),h.extend(h.style={},{transform:D,transitionTimingFunction:m("transitionTimingFunction"),transitionDuration:m("transitionDuration"),transitionDelay:m("transitionDelay"),transformOrigin:m("transformOrigin"),touchAction:m("touchAction")}),h.hasClass=function(y,A){var C=new RegExp("(^|\\s)"+A+"(\\s|$)");return C.test(y.className)},h.addClass=function(y,A){if(!h.hasClass(y,A)){var C=y.className.split(" ");C.push(A),y.className=C.join(" ")}},h.removeClass=function(y,A){if(h.hasClass(y,A)){var C=new RegExp("(^|\\s)"+A+"(\\s|$)","g");y.className=y.className.replace(C," ")}},h.offset=function(y){for(var A=-y.offsetLeft,C=-y.offsetTop;y=y.offsetParent;)A-=y.offsetLeft,C-=y.offsetTop;return{left:A,top:C}},h.preventDefaultException=function(y,A){for(var C in A)if(A[C].test(y[C]))return!0;return!1},h.extend(h.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),h.extend(h.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(A){return A*(2-A)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(A){return c.sqrt(1- --A*A)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(A){var C=4;return(A=A-1)*A*((C+1)*A+C)+1}},bounce:{style:"",fn:function(A){return(A/=1)<1/2.75?7.5625*A*A:A<2/2.75?7.5625*(A-=1.5/2.75)*A+.75:A<2.5/2.75?7.5625*(A-=2.25/2.75)*A+.9375:7.5625*(A-=2.625/2.75)*A+.984375}},elastic:{style:"",fn:function(A){var C=.22,I=.4;return A===0?0:A==1?1:I*c.pow(2,-10*A)*c.sin((A-C/4)*(2*c.PI)/C)+1}}}),h.tap=function(y,A){var C=k.createEvent("Event");C.initEvent(A,!0,!0),C.pageX=y.pageX,C.pageY=y.pageY,y.target.dispatchEvent(C)},h.click=function(y){var A=y.target,C;/(SELECT|INPUT|TEXTAREA)/i.test(A.tagName)||(C=k.createEvent(ce.MouseEvent?"MouseEvents":"Event"),C.initEvent("click",!0,!0),C.view=y.view||ce,C.detail=1,C.screenX=A.screenX||0,C.screenY=A.screenY||0,C.clientX=A.clientX||0,C.clientY=A.clientY||0,C.ctrlKey=!!y.ctrlKey,C.altKey=!!y.altKey,C.shiftKey=!!y.shiftKey,C.metaKey=!!y.metaKey,C.button=0,C.relatedTarget=null,C._constructed=!0,A.dispatchEvent(C))},h.getTouchAction=function(y,A){var C="none";return y==="vertical"?C="pan-y":y==="horizontal"&&(C="pan-x"),A&&C!="none"&&(C+=" pinch-zoom"),C},h.getRect=function(y){if(y instanceof SVGElement){var A=y.getBoundingClientRect();return{top:A.top,left:A.left,width:A.width,height:A.height}}else return{top:y.offsetTop,left:y.offsetLeft,width:y.offsetWidth,height:y.offsetHeight}},h}();function b(h,x){this.wrapper=typeof h=="string"?k.querySelector(h):h,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!d.hasPointer,disableTouch:d.hasPointer||!d.hasTouch,disableMouse:d.hasPointer||d.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:typeof ce.onmousedown>"u"};for(var E in x)this.options[E]=x[E];this.translateZ=this.options.HWCompositing&&d.hasPerspective?" translateZ(0)":"",this.options.useTransition=d.hasTransition&&this.options.useTransition,this.options.useTransform=d.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY,this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing=typeof this.options.bounceEasing=="string"?d.ease[this.options.bounceEasing]||d.ease.circular:this.options.bounceEasing,this.options.resizePolling=this.options.resizePolling===void 0?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),!this.options.useTransition&&!this.options.useTransform&&(/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative")),this.options.shrinkScrollbars=="scale"&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.options.probeType==3&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}b.prototype={version:"5.2.0-snapshot",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(x){x.target!=this.scroller||!this.isInTransition||(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(x){if(d.eventType[x.type]!=1){var E;if(x.which?E=x.button:E=x.button<2?0:x.button==4?1:2,E!==0)return}if(!(!this.enabled||this.initiated&&d.eventType[x.type]!==this.initiated)&&!(this.options.ignoreEventException&&this.options.ignoreEventException(x))){this.options.preventDefault&&!d.isBadAndroid&&!d.preventDefaultException(x.target,this.options.preventDefaultException)&&x.preventDefault();var m=x.touches?x.touches[0]:x,D;this.initiated=d.eventType[x.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=d.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,D=this.getComputedPosition(),this._translate(c.round(D.x),c.round(D.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=m.pageX,this.pointY=m.pageY,this._execEvent("beforeScrollStart")}},_move:function(x){if(!(!this.enabled||d.eventType[x.type]!==this.initiated)&&!(this.options.ignoreEventException&&this.options.ignoreEventException(x))){this.options.preventDefault&&x.preventDefault();var E=x.touches?x.touches[0]:x,m=E.pageX-this.pointX,D=E.pageY-this.pointY,y=d.getTime(),A,C,I,S;if(this.pointX=E.pageX,this.pointY=E.pageY,this.distX+=m,this.distY+=D,I=c.abs(this.distX),S=c.abs(this.distY),!(y-this.endTime>300&&I<10&&S<10)){if(!this.directionLocked&&!this.options.freeScroll&&(I>S+this.options.directionLockThreshold?this.directionLocked="h":S>=I+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")x.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}D=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")x.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}m=0}m=this.hasHorizontalScroll?m:0,D=this.hasVerticalScroll?D:0,A=this.x+m,C=this.y+D,(A>0||A<this.maxScrollX)&&(A=this.options.bounce?this.x+m/3:A>0?0:this.maxScrollX),(C>0||C<this.maxScrollY)&&(C=this.options.bounce?this.y+D/3:C>0?0:this.maxScrollY),this.directionX=m>0?-1:m<0?1:0,this.directionY=D>0?-1:D<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(A,C),y-this.startTime>300&&(this.startTime=y,this.startX=this.x,this.startY=this.y,this.options.probeType==1&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(x){if(!(!this.enabled||d.eventType[x.type]!==this.initiated)){this.options.preventDefault&&!d.preventDefaultException(x.target,this.options.preventDefaultException)&&x.preventDefault();var E=x.changedTouches?x.changedTouches[0]:x,m,D,y=d.getTime()-this.startTime,A=c.round(this.x),C=c.round(this.y),I=c.abs(A-this.startX),S=c.abs(C-this.startY),O=0,T="";if(this.isInTransition=0,this.initiated=0,this.endTime=d.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(A,C),!this.moved){this.options.tap&&d.tap(x,this.options.tap),this.options.click&&d.click(x),this._execEvent("scrollCancel");return}if(this._events.flick&&y<200&&I<100&&S<100){this._execEvent("flick");return}if(this.options.momentum&&y<300&&(m=this.hasHorizontalScroll?d.momentum(this.x,this.startX,y,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:A,duration:0},D=this.hasVerticalScroll?d.momentum(this.y,this.startY,y,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:C,duration:0},A=m.destination,C=D.destination,O=c.max(m.duration,D.duration),this.isInTransition=1),this.options.snap){var f=this._nearestSnap(A,C);this.currentPage=f,O=this.options.snapSpeed||c.max(c.max(c.min(c.abs(A-f.x),1e3),c.min(c.abs(C-f.y),1e3)),300),A=f.x,C=f.y,this.directionX=0,this.directionY=0,T=this.options.bounceEasing}if(A!=this.x||C!=this.y){(A>0||A<this.maxScrollX||C>0||C<this.maxScrollY)&&(T=d.ease.quadratic),this.scrollTo(A,C,O,T);return}this._execEvent("scrollEnd")}}},_resize:function(){var x=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){x.refresh()},this.options.resizePolling)},resetPosition:function(x){var E=this.x,m=this.y;return x=x||0,!this.hasHorizontalScroll||this.x>0?E=0:this.x<this.maxScrollX&&(E=this.maxScrollX),!this.hasVerticalScroll||this.y>0?m=0:this.y<this.maxScrollY&&(m=this.maxScrollY),E==this.x&&m==this.y?!1:(this.scrollTo(E,m,x,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){d.getRect(this.wrapper),this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight;var x=d.getRect(this.scroller);this.scrollerWidth=x.width,this.scrollerHeight=x.height,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,d.hasPointer&&!this.options.disablePointer&&(this.wrapper.style[d.style.touchAction]=d.getTouchAction(this.options.eventPassthrough,!0),this.wrapper.style[d.style.touchAction]||(this.wrapper.style[d.style.touchAction]=d.getTouchAction(this.options.eventPassthrough,!1))),this.wrapperOffset=d.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(x,E){this._events[x]||(this._events[x]=[]),this._events[x].push(E)},off:function(x,E){if(this._events[x]){var m=this._events[x].indexOf(E);m>-1&&this._events[x].splice(m,1)}},_execEvent:function(x){if(this._events[x]){var E=0,m=this._events[x].length;if(m)for(;E<m;E++)this._events[x][E].apply(this,[].slice.call(arguments,1))}},scrollBy:function(x,E,m,D){x=this.x+x,E=this.y+E,m=m||0,this.scrollTo(x,E,m,D)},scrollTo:function(x,E,m,D){D=D||d.ease.circular,this.isInTransition=this.options.useTransition&&m>0;var y=this.options.useTransition&&D.style;!m||y?(y&&(this._transitionTimingFunction(D.style),this._transitionTime(m)),this._translate(x,E)):this._animate(x,E,m,D.fn)},scrollToElement:function(x,E,m,D,y){if(x=x.nodeType?x:this.scroller.querySelector(x),!!x){var A=d.offset(x);A.left-=this.wrapperOffset.left,A.top-=this.wrapperOffset.top;var C=d.getRect(x),I=d.getRect(this.wrapper);m===!0&&(m=c.round(C.width/2-I.width/2)),D===!0&&(D=c.round(C.height/2-I.height/2)),A.left-=m||0,A.top-=D||0,A.left=A.left>0?0:A.left<this.maxScrollX?this.maxScrollX:A.left,A.top=A.top>0?0:A.top<this.maxScrollY?this.maxScrollY:A.top,E=E==null||E==="auto"?c.max(c.abs(this.x-A.left),c.abs(this.y-A.top)):E,this.scrollTo(A.left,A.top,E,y)}},_transitionTime:function(x){if(this.options.useTransition){x=x||0;var E=d.style.transitionDuration;if(E){if(this.scrollerStyle[E]=x+"ms",!x&&d.isBadAndroid){this.scrollerStyle[E]="0.0001ms";var m=this;r(function(){m.scrollerStyle[E]==="0.0001ms"&&(m.scrollerStyle[E]="0s")})}if(this.indicators)for(var D=this.indicators.length;D--;)this.indicators[D].transitionTime(x)}}},_transitionTimingFunction:function(x){if(this.scrollerStyle[d.style.transitionTimingFunction]=x,this.indicators)for(var E=this.indicators.length;E--;)this.indicators[E].transitionTimingFunction(x)},_translate:function(x,E){if(this.options.useTransform?this.scrollerStyle[d.style.transform]="translate("+x+"px,"+E+"px)"+this.translateZ:(x=c.round(x),E=c.round(E),this.scrollerStyle.left=x+"px",this.scrollerStyle.top=E+"px"),this.x=x,this.y=E,this.indicators)for(var m=this.indicators.length;m--;)this.indicators[m].updatePosition()},_initEvents:function(x){var E=x?d.removeEvent:d.addEvent,m=this.options.bindToWrapper?this.wrapper:ce;E(ce,"orientationchange",this),E(ce,"resize",this),this.options.click&&E(this.wrapper,"click",this,!0),this.options.disableMouse||(E(this.wrapper,"mousedown",this),E(m,"mousemove",this),E(m,"mousecancel",this),E(m,"mouseup",this)),d.hasPointer&&!this.options.disablePointer&&(E(this.wrapper,d.prefixPointerEvent("pointerdown"),this),E(m,d.prefixPointerEvent("pointermove"),this),E(m,d.prefixPointerEvent("pointercancel"),this),E(m,d.prefixPointerEvent("pointerup"),this)),d.hasTouch&&!this.options.disableTouch&&(E(this.wrapper,"touchstart",this),E(m,"touchmove",this),E(m,"touchcancel",this),E(m,"touchend",this)),E(this.scroller,"transitionend",this),E(this.scroller,"webkitTransitionEnd",this),E(this.scroller,"oTransitionEnd",this),E(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var x=ce.getComputedStyle(this.scroller,null),E,m;return this.options.useTransform?(x=x[d.style.transform].split(")")[0].split(", "),E=+(x[12]||x[4]),m=+(x[13]||x[5])):(E=+x.left.replace(/[^-\d.]/g,""),m=+x.top.replace(/[^-\d.]/g,"")),{x:E,y:m}},_initIndicators:function(){var x=this.options.interactiveScrollbars,E=typeof this.options.scrollbars!="string",m=[],D,y=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(D={el:w("v",x,this.options.scrollbars),interactive:x,defaultScrollbars:!0,customStyle:E,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(D.el),m.push(D)),this.options.scrollX&&(D={el:w("h",x,this.options.scrollbars),interactive:x,defaultScrollbars:!0,customStyle:E,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(D.el),m.push(D))),this.options.indicators&&(m=m.concat(this.options.indicators));for(var A=m.length;A--;)this.indicators.push(new P(this,m[A]));function C(I){if(y.indicators)for(var S=y.indicators.length;S--;)I.call(y.indicators[S])}this.options.fadeScrollbars&&(this.on("scrollEnd",function(){C(function(){this.fade()})}),this.on("scrollCancel",function(){C(function(){this.fade()})}),this.on("scrollStart",function(){C(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){C(function(){this.fade(1,!0)})})),this.on("refresh",function(){C(function(){this.refresh()})}),this.on("destroy",function(){C(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){d.addEvent(this.wrapper,"wheel",this),d.addEvent(this.wrapper,"mousewheel",this),d.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,d.removeEvent(this.wrapper,"wheel",this),d.removeEvent(this.wrapper,"mousewheel",this),d.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(x){if(this.enabled){if(x.metaKey||x.ctrlKey||x.buttons===4)return!0;x.preventDefault();var E,m,D,y,A=this;if(this.wheelTimeout===void 0&&A._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){A.options.snap||A._execEvent("scrollEnd"),A.wheelTimeout=void 0},400),"deltaX"in x)x.deltaMode===1?(E=-x.deltaX*this.options.mouseWheelSpeed,m=-x.deltaY*this.options.mouseWheelSpeed):(E=-x.deltaX,m=-x.deltaY);else if("wheelDeltaX"in x)E=x.wheelDeltaX/120*this.options.mouseWheelSpeed,m=x.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in x)E=m=x.wheelDelta/120*this.options.mouseWheelSpeed;else if("detail"in x)E=m=-x.detail/3*this.options.mouseWheelSpeed;else return;if(E*=this.options.invertWheelDirection,m*=this.options.invertWheelDirection,this.options.snap){D=this.currentPage.pageX,y=this.currentPage.pageY,E>0?D--:E<0&&D++,m>0?y--:m<0&&y++,this.goToPage(D,y);return}D=this.x+c.round(this.hasHorizontalScroll?E:0),y=this.y+c.round(this.hasVerticalScroll?m:0),this.directionX=E>0?-1:E<0?1:0,this.directionY=m>0?-1:m<0?1:0,D>0?D=0:D<this.maxScrollX&&(D=this.maxScrollX),y>0?y=0:y<this.maxScrollY&&(y=this.maxScrollY),this.scrollTo(D,y,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},typeof this.options.snap=="string"&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var x=0,E,m=0,D,y,A,C=0,I,S=this.options.snapStepX||this.wrapperWidth,O=this.options.snapStepY||this.wrapperHeight,T,f;if(this.pages=[],!(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight)){if(this.options.snap===!0)for(y=c.round(S/2),A=c.round(O/2);C>-this.scrollerWidth;){for(this.pages[x]=[],E=0,I=0;I>-this.scrollerHeight;)this.pages[x][E]={x:c.max(C,this.maxScrollX),y:c.max(I,this.maxScrollY),width:S,height:O,cx:C-y,cy:I-A},I-=O,E++;C-=S,x++}else for(T=this.options.snap,E=T.length,D=-1;x<E;x++)f=d.getRect(T[x]),(x===0||f.left<=d.getRect(T[x-1]).left)&&(m=0,D++),this.pages[m]||(this.pages[m]=[]),C=c.max(-f.left,this.maxScrollX),I=c.max(-f.top,this.maxScrollY),y=C-c.round(f.width/2),A=I-c.round(f.height/2),this.pages[m][D]={x:C,y:I,width:f.width,height:f.height,cx:y,cy:A},C>this.maxScrollX&&m++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var x=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.x-this.startX),1e3),c.min(c.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,x)})},_nearestSnap:function(x,E){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var m=0,D=this.pages.length,y=0;if(c.abs(x-this.absStartX)<this.snapThresholdX&&c.abs(E-this.absStartY)<this.snapThresholdY)return this.currentPage;for(x>0?x=0:x<this.maxScrollX&&(x=this.maxScrollX),E>0?E=0:E<this.maxScrollY&&(E=this.maxScrollY);m<D;m++)if(x>=this.pages[m][0].cx){x=this.pages[m][0].x;break}for(D=this.pages[m].length;y<D;y++)if(E>=this.pages[0][y].cy){E=this.pages[0][y].y;break}return m==this.currentPage.pageX&&(m+=this.directionX,m<0?m=0:m>=this.pages.length&&(m=this.pages.length-1),x=this.pages[m][0].x),y==this.currentPage.pageY&&(y+=this.directionY,y<0?y=0:y>=this.pages[0].length&&(y=this.pages[0].length-1),E=this.pages[0][y].y),{x,y:E,pageX:m,pageY:y}},goToPage:function(x,E,m,D){D=D||this.options.bounceEasing,x>=this.pages.length?x=this.pages.length-1:x<0&&(x=0),E>=this.pages[x].length?E=this.pages[x].length-1:E<0&&(E=0);var y=this.pages[x][E].x,A=this.pages[x][E].y;m=m===void 0?this.options.snapSpeed||c.max(c.max(c.min(c.abs(y-this.x),1e3),c.min(c.abs(A-this.y),1e3)),300):m,this.currentPage={x:y,y:A,pageX:x,pageY:E},this.scrollTo(y,A,m,D)},next:function(x,E){var m=this.currentPage.pageX,D=this.currentPage.pageY;m++,m>=this.pages.length&&this.hasVerticalScroll&&(m=0,D++),this.goToPage(m,D,x,E)},prev:function(x,E){var m=this.currentPage.pageX,D=this.currentPage.pageY;m--,m<0&&this.hasVerticalScroll&&(m=0,D--),this.goToPage(m,D,x,E)},_initKeys:function(x){var E={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},m;if(typeof this.options.keyBindings=="object")for(m in this.options.keyBindings)typeof this.options.keyBindings[m]=="string"&&(this.options.keyBindings[m]=this.options.keyBindings[m].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(m in E)this.options.keyBindings[m]=this.options.keyBindings[m]||E[m];d.addEvent(ce,"keydown",this),this.on("destroy",function(){d.removeEvent(ce,"keydown",this)})},_key:function(x){if(this.enabled){var E=this.options.snap,m=E?this.currentPage.pageX:this.x,D=E?this.currentPage.pageY:this.y,y=d.getTime(),A=this.keyTime||0,C=.25,I;switch(this.options.useTransition&&this.isInTransition&&(I=this.getComputedPosition(),this._translate(c.round(I.x),c.round(I.y)),this.isInTransition=!1),this.keyAcceleration=y-A<200?c.min(this.keyAcceleration+C,50):0,x.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?m+=E?1:this.wrapperWidth:D+=E?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?m-=E?1:this.wrapperWidth:D-=E?1:this.wrapperHeight;break;case this.options.keyBindings.end:m=E?this.pages.length-1:this.maxScrollX,D=E?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:m=0,D=0;break;case this.options.keyBindings.left:m+=E?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:D+=E?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:m-=E?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:D-=E?1:5+this.keyAcceleration>>0;break;default:return}if(E){this.goToPage(m,D);return}m>0?(m=0,this.keyAcceleration=0):m<this.maxScrollX&&(m=this.maxScrollX,this.keyAcceleration=0),D>0?(D=0,this.keyAcceleration=0):D<this.maxScrollY&&(D=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(m,D,0),this.keyTime=y}},_animate:function(x,E,m,D){var y=this,A=this.x,C=this.y,I=d.getTime(),S=I+m;function O(){var T=d.getTime(),f,B,u;if(T>=S){y.isAnimating=!1,y._translate(x,E),y.resetPosition(y.options.bounceTime)||y._execEvent("scrollEnd");return}T=(T-I)/m,u=D(T),f=(x-A)*u+A,B=(E-C)*u+C,y._translate(f,B),y.isAnimating&&r(O),y.options.probeType==3&&y._execEvent("scroll")}this.isAnimating=!0,O()},handleEvent:function(x){switch(x.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(x);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(x);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(x);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(x);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(x);break;case"keydown":this._key(x);break;case"click":this.enabled&&!x._constructed&&(x.preventDefault(),x.stopPropagation());break}}};function w(h,x,E){var m=k.createElement("div"),D=k.createElement("div");return E===!0&&(m.style.cssText="position:absolute;z-index:9999",D.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),D.className="iScrollIndicator",h=="h"?(E===!0&&(m.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",D.style.height="100%"),m.className="iScrollHorizontalScrollbar"):(E===!0&&(m.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",D.style.width="100%"),m.className="iScrollVerticalScrollbar"),m.style.cssText+=";overflow:hidden",x||(m.style.pointerEvents="none"),m.appendChild(D),m}function P(h,x){this.wrapper=typeof x.el=="string"?k.querySelector(x.el):x.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=h,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var E in x)this.options[E]=x[E];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(d.addEvent(this.indicator,"touchstart",this),d.addEvent(ce,"touchend",this)),this.options.disablePointer||(d.addEvent(this.indicator,d.prefixPointerEvent("pointerdown"),this),d.addEvent(ce,d.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(d.addEvent(this.indicator,"mousedown",this),d.addEvent(ce,"mouseup",this))),this.options.fade){this.wrapperStyle[d.style.transform]=this.scroller.translateZ;var m=d.style.transitionDuration;if(!m)return;this.wrapperStyle[m]=d.isBadAndroid?"0.0001ms":"0ms";var D=this;d.isBadAndroid&&r(function(){D.wrapperStyle[m]==="0.0001ms"&&(D.wrapperStyle[m]="0s")}),this.wrapperStyle.opacity="0"}}P.prototype={handleEvent:function(x){switch(x.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(x);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(x);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(x);break}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(d.removeEvent(this.indicator,"touchstart",this),d.removeEvent(this.indicator,d.prefixPointerEvent("pointerdown"),this),d.removeEvent(this.indicator,"mousedown",this),d.removeEvent(ce,"touchmove",this),d.removeEvent(ce,d.prefixPointerEvent("pointermove"),this),d.removeEvent(ce,"mousemove",this),d.removeEvent(ce,"touchend",this),d.removeEvent(ce,d.prefixPointerEvent("pointerup"),this),d.removeEvent(ce,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(x){var E=x.touches?x.touches[0]:x;x.preventDefault(),x.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=E.pageX,this.lastPointY=E.pageY,this.startTime=d.getTime(),this.options.disableTouch||d.addEvent(ce,"touchmove",this),this.options.disablePointer||d.addEvent(ce,d.prefixPointerEvent("pointermove"),this),this.options.disableMouse||d.addEvent(ce,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(x){var E=x.touches?x.touches[0]:x,m,D,y,A,C=d.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,m=E.pageX-this.lastPointX,this.lastPointX=E.pageX,D=E.pageY-this.lastPointY,this.lastPointY=E.pageY,y=this.x+m,A=this.y+D,this._pos(y,A),this.scroller.options.probeType==1&&C-this.startTime>300?(this.startTime=C,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),x.preventDefault(),x.stopPropagation()},_end:function(x){if(this.initiated){if(this.initiated=!1,x.preventDefault(),x.stopPropagation(),d.removeEvent(ce,"touchmove",this),d.removeEvent(ce,d.prefixPointerEvent("pointermove"),this),d.removeEvent(ce,"mousemove",this),this.scroller.options.snap){var E=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),m=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.scroller.x-E.x),1e3),c.min(c.abs(this.scroller.y-E.y),1e3)),300);(this.scroller.x!=E.x||this.scroller.y!=E.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=E,this.scroller.scrollTo(E.x,E.y,m,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(x){x=x||0;var E=d.style.transitionDuration;if(E&&(this.indicatorStyle[E]=x+"ms",!x&&d.isBadAndroid)){this.indicatorStyle[E]="0.0001ms";var m=this;r(function(){m.indicatorStyle[E]==="0.0001ms"&&(m.indicatorStyle[E]="0s")})}},transitionTimingFunction:function(x){this.indicatorStyle[d.style.transitionTimingFunction]=x},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(d.addClass(this.wrapper,"iScrollBothScrollbars"),d.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(d.removeClass(this.wrapper,"iScrollBothScrollbars"),d.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),d.getRect(this.wrapper),this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=c.max(c.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.options.shrink=="clip"?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=c.max(c.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.options.shrink=="clip"?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var x=this.options.listenX&&c.round(this.sizeRatioX*this.scroller.x)||0,E=this.options.listenY&&c.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(x<this.minBoundaryX?(this.options.shrink=="scale"&&(this.width=c.max(this.indicatorWidth+x,8),this.indicatorStyle.width=this.width+"px"),x=this.minBoundaryX):x>this.maxBoundaryX?this.options.shrink=="scale"?(this.width=c.max(this.indicatorWidth-(x-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",x=this.maxPosX+this.indicatorWidth-this.width):x=this.maxBoundaryX:this.options.shrink=="scale"&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),E<this.minBoundaryY?(this.options.shrink=="scale"&&(this.height=c.max(this.indicatorHeight+E*3,8),this.indicatorStyle.height=this.height+"px"),E=this.minBoundaryY):E>this.maxBoundaryY?this.options.shrink=="scale"?(this.height=c.max(this.indicatorHeight-(E-this.maxPosY)*3,8),this.indicatorStyle.height=this.height+"px",E=this.maxPosY+this.indicatorHeight-this.height):E=this.maxBoundaryY:this.options.shrink=="scale"&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=x,this.y=E,this.scroller.options.useTransform?this.indicatorStyle[d.style.transform]="translate("+x+"px,"+E+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=x+"px",this.indicatorStyle.top=E+"px")},_pos:function(x,E){x<0?x=0:x>this.maxPosX&&(x=this.maxPosX),E<0?E=0:E>this.maxPosY&&(E=this.maxPosY),x=this.options.listenX?c.round(x/this.sizeRatioX):this.scroller.x,E=this.options.listenY?c.round(E/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(x,E)},fade:function(x,E){if(!(E&&!this.visible)){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var m=x?250:500,D=x?0:300;x=x?"1":"0",this.wrapperStyle[d.style.transitionDuration]=m+"ms",this.fadeTimeout=setTimeout(function(y){this.wrapperStyle.opacity=y,this.visible=+y}.bind(this,x),D)}}},b.utils=d,ce.IScroll=b})(window,document,Math)},82888:function(ce){(function(k){var c,r={},d={16:!1,18:!1,17:!1,91:!1},b="all",w={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},P={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220,numpad_subtract:109,numpad_add:107,numpad_0:96,numpad_1:97,numpad_2:98},h=function(K){return P[K]||K.toUpperCase().charCodeAt(0)},x=[];for(c=1;c<20;c++)P["f"+c]=111+c;function E(z,K){for(var Y=z.length;Y--;)if(z[Y]===K)return Y;return-1}function m(z,K){if(z.length!=K.length)return!1;for(var Y=0;Y<z.length;Y++)if(z[Y]!==K[Y])return!1;return!0}var D={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function y(z){for(c in d)d[c]=z[D[c]]}function A(z){var K,Y,q,Q,ee,oe;if(K=z.keyCode,E(x,K)==-1&&x.push(K),(K==93||K==224)&&(K=91),K in d){d[K]=!0;for(q in w)w[q]==K&&(S[q]=!0);return}if(y(z),!!S.filter.call(this,z)&&K in r){for(oe=L(),Q=0;Q<r[K].length;Q++)if(Y=r[K][Q],Y.scope==oe||Y.scope=="all"){ee=Y.mods.length>0;for(q in d)(!d[q]&&E(Y.mods,+q)>-1||d[q]&&E(Y.mods,+q)==-1)&&(ee=!1);(Y.mods.length==0&&!d[16]&&!d[18]&&!d[17]&&!d[91]||ee)&&(S.track.call(this,Y),Y.method(z,Y)===!1&&(z.preventDefault?z.preventDefault():z.returnValue=!1,z.stopPropagation&&z.stopPropagation(),z.cancelBubble&&(z.cancelBubble=!0)))}}}function C(z){var K=z.keyCode,Y,q=E(x,K);if(q>=0&&x.splice(q,1),(K==93||K==224)&&(K=91),K in d){d[K]=!1;for(Y in w)w[Y]==K&&(S[Y]=!1)}}function I(){for(c in d)d[c]=!1;for(c in w)S[c]=!1}function S(z,K,Y){var q,Q;q=N(z),Y===void 0&&(Y=K,K="all");for(var ee=0;ee<q.length;ee++)Q=[],z=q[ee].split("+"),z.length>1&&(Q=H(z),z=[z[z.length-1]]),z=z[0],z=h(z),z in r||(r[z]=[]),r[z].push({shortcut:q[ee],scope:K,method:Y,key:q[ee],mods:Q})}function O(z,K){var Y,q,Q=[],ee,oe,pe;for(Y=N(z),oe=0;oe<Y.length;oe++){if(q=Y[oe].split("+"),q.length>1&&(Q=H(q)),z=q[q.length-1],z=h(z),K===void 0&&(K=L()),!r[z])return;for(ee=0;ee<r[z].length;ee++)pe=r[z][ee],pe.scope===K&&m(pe.mods,Q)&&(r[z][ee]={})}}function T(z){return typeof z=="string"&&(z=h(z)),E(x,z)!=-1}function f(){return x.slice(0)}function B(z){var K=(z.target||z.srcElement).tagName;return!(K=="INPUT"||K=="SELECT"||K=="TEXTAREA")}function u(z){}for(c in w)S[c]=!1;function U(z){b=z||"all"}function L(){return b||"all"}function F(z){var K,Y,q;for(K in r)for(Y=r[K],q=0;q<Y.length;)Y[q].scope===z?Y.splice(q,1):q++}function N(z){var K;return z=z.replace(/\s/g,""),K=z.split(","),K[K.length-1]==""&&(K[K.length-2]+=","),K}function H(z){for(var K=z.slice(0,z.length-1),Y=0;Y<K.length;Y++)K[Y]=w[K[Y]];return K}function V(z,K,Y){z.addEventListener?z.addEventListener(K,Y,!1):z.attachEvent&&z.attachEvent("on"+K,function(){Y(window.event)})}V(document,"keydown",function(z){A(z)}),V(document,"keyup",C),V(window,"focus",I);var G=k.key;function R(){var z=k.key;return k.key=G,z}k.key=S,k.key.setScope=U,k.key.getScope=L,k.key.deleteScope=F,k.key.filter=B,k.key.isPressed=T,k.key.getPressedKeyCodes=f,k.key.noConflict=R,k.key.unbind=O,k.key.track=u,ce.exports=S})(window)},34268:function(){(function(ce,k){ce.Shake=k(ce,ce.document)})(typeof window<"u"?window:this,function(ce,k){"use strict";function c(r){if(this.hasDeviceMotion="ondevicemotion"in ce,this.options={threshold:15,timeout:1e3},typeof r=="object")for(var d in r)r.hasOwnProperty(d)&&(this.options[d]=r[d]);if(this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null,typeof k.CustomEvent=="function")this.event=new k.CustomEvent("shake",{bubbles:!0,cancelable:!0});else if(typeof k.createEvent=="function")this.event=k.createEvent("Event"),this.event.initEvent("shake",!0,!0);else return!1}return c.prototype.reset=function(){this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null},c.prototype.start=function(){this.reset(),this.hasDeviceMotion&&ce.addEventListener("devicemotion",this,!1)},c.prototype.stop=function(){this.hasDeviceMotion&&ce.removeEventListener("devicemotion",this,!1),this.reset()},c.prototype.devicemotion=function(r){var d=r.accelerationIncludingGravity;if(d){var b,w,P=0,h=0,x=0;if(this.lastX===null&&this.lastY===null&&this.lastZ===null){this.lastX=d.x,this.lastY=d.y,this.lastZ=d.z;return}P=Math.abs(this.lastX-d.x),h=Math.abs(this.lastY-d.y),x=Math.abs(this.lastZ-d.z),(P>this.options.threshold&&h>this.options.threshold||P>this.options.threshold&&x>this.options.threshold||h>this.options.threshold&&x>this.options.threshold)&&(b=new Date,w=b.getTime()-this.lastTime.getTime(),w>this.options.timeout&&(ce.dispatchEvent(this.event),this.lastTime=new Date)),this.lastX=d.x,this.lastY=d.y,this.lastZ=d.z}},c.prototype.handleEvent=function(r){if(typeof this[r.type]=="function")return this[r.type](r)},c})},68633:function(ce,k,c){"use strict";c.d(k,{$t:function(){return h},Js:function(){return y},OK:function(){return E},Py:function(){return r},Qd:function(){return m},Qg:function(){return D},TG:function(){return w},Uf:function(){return S},_G:function(){return L},aj:function(){return b},dM:function(){return O},jk:function(){return A},qb:function(){return P},v1:function(){return C},w_:function(){return d},y7:function(){return x}});var r="projectMetaCid",d="refProjectMetaCid",b="screenGlueCid",w="refScreenGlueCid",P="screenMetaCid",h="refScreenMetaCid",x="screenStateCid",E="refScreenStateCid",m="itemGroupCid",D="itemCid",y="refItemCid",A="refExternalUpperCid",C="refExternalArtboardCid",I="default",S={[r]:"p",[b]:"sg",[P]:"s",[x]:"ss",[m]:"ig",[D]:"i"},O=function(H){return""+(H||"")+Date.now().toString(36)+Math.random().toString(36).slice(2,8)},T=function(){return O(S[r])},f=function(){return O(S[P])},B=function(){return O(S[b])},u=function(){return O(S[x])},U=function(){return O(S[m])},L=function(){return O(S[D])},F=function(V,G){return V===void 0&&(V=new Map),G===void 0&&(G=new Set),{cidMap:V,dedupCidSet:G,onCid:function(z,K){if(!(K===d||K===w||K===h||K===E||K===y||K===A||K===C||V.has(z))){var Y;do Y=O(S[K]);while(G.has(Y));V.set(z,Y),G.add(Y)}},getCid:function(z,K){return K===A||K===C?z:V.get(z)||z}}},N=function(V,G){return V===void 0&&(V=new Map),G===void 0&&(G=new Set),{cidMap:V,dedupCidSet:G,onCid:function(z,K){if(!(K===d||K===w||K===h||K===E||K===y||K===A||K===C||K===P||K===x||z===I||V.has(z))){var Y;do Y=O(S[K]);while(G.has(Y));V.set(z,Y),G.add(Y)}},getCid:function(z,K){return K===A||K===C?z:V.get(z)||z}}}},97279:function(ce){var k={utf8:{stringToBytes:function(r){return k.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(k.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var d=[],b=0;b<r.length;b++)d.push(r.charCodeAt(b)&255);return d},bytesToString:function(r){for(var d=[],b=0;b<r.length;b++)d.push(String.fromCharCode(r[b]));return d.join("")}}};ce.exports=k},55983:function(ce){(function(){var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c={rotl:function(d,b){return d<<b|d>>>32-b},rotr:function(d,b){return d<<32-b|d>>>b},endian:function(d){if(d.constructor==Number)return c.rotl(d,8)&16711935|c.rotl(d,24)&4278255360;for(var b=0;b<d.length;b++)d[b]=c.endian(d[b]);return d},randomBytes:function(d){for(var b=[];d>0;d--)b.push(Math.floor(Math.random()*256));return b},bytesToWords:function(d){for(var b=[],w=0,P=0;w<d.length;w++,P+=8)b[P>>>5]|=d[w]<<24-P%32;return b},wordsToBytes:function(d){for(var b=[],w=0;w<d.length*32;w+=8)b.push(d[w>>>5]>>>24-w%32&255);return b},bytesToHex:function(d){for(var b=[],w=0;w<d.length;w++)b.push((d[w]>>>4).toString(16)),b.push((d[w]&15).toString(16));return b.join("")},hexToBytes:function(d){for(var b=[],w=0;w<d.length;w+=2)b.push(parseInt(d.substr(w,2),16));return b},bytesToBase64:function(d){for(var b=[],w=0;w<d.length;w+=3)for(var P=d[w]<<16|d[w+1]<<8|d[w+2],h=0;h<4;h++)w*8+h*6<=d.length*8?b.push(k.charAt(P>>>6*(3-h)&63)):b.push("=");return b.join("")},base64ToBytes:function(d){d=d.replace(/[^A-Z0-9+\/]/ig,"");for(var b=[],w=0,P=0;w<d.length;P=++w%4)P!=0&&b.push((k.indexOf(d.charAt(w-1))&Math.pow(2,-2*P+8)-1)<<P*2|k.indexOf(d.charAt(w))>>>6-P*2);return b}};ce.exports=c})()},58569:function(ce){function k(me,Ue){return d(me)||r(me,Ue)||P(me,Ue)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(me,Ue){var Re=me==null?null:typeof Symbol<"u"&&me[Symbol.iterator]||me["@@iterator"];if(Re!=null){var tt,yt,pt,nn,rn=[],St=!0,jt=!1;try{if(pt=(Re=Re.call(me)).next,Ue===0){if(Object(Re)!==Re)return;St=!1}else for(;!(St=(tt=pt.call(Re)).done)&&(rn.push(tt.value),rn.length!==Ue);St=!0);}catch(Gt){jt=!0,yt=Gt}finally{try{if(!St&&Re.return!=null&&(nn=Re.return(),Object(nn)!==nn))return}finally{if(jt)throw yt}}return rn}}function d(me){if(Array.isArray(me))return me}function b(me){return x(me)||h(me)||P(me)||w()}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(me,Ue){if(me){if(typeof me=="string")return E(me,Ue);var Re=Object.prototype.toString.call(me).slice(8,-1);if(Re==="Object"&&me.constructor&&(Re=me.constructor.name),Re==="Map"||Re==="Set")return Array.from(me);if(Re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Re))return E(me,Ue)}}function h(me){if(typeof Symbol<"u"&&me[Symbol.iterator]!=null||me["@@iterator"]!=null)return Array.from(me)}function x(me){if(Array.isArray(me))return E(me)}function E(me,Ue){(Ue==null||Ue>me.length)&&(Ue=me.length);for(var Re=0,tt=new Array(Ue);Re<Ue;Re++)tt[Re]=me[Re];return tt}function m(me,Ue){if(typeof Ue!="function"&&Ue!==null)throw new TypeError("Super expression must either be null or a function");me.prototype=Object.create(Ue&&Ue.prototype,{constructor:{value:me,writable:!0,configurable:!0}}),Object.defineProperty(me,"prototype",{writable:!1}),Ue&&D(me,Ue)}function D(me,Ue){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,yt){return tt.__proto__=yt,tt},D(me,Ue)}function y(me){var Ue=I();return function(){var tt=S(me),yt;if(Ue){var pt=S(this).constructor;yt=Reflect.construct(tt,arguments,pt)}else yt=tt.apply(this,arguments);return A(this,yt)}}function A(me,Ue){if(Ue&&(typeof Ue=="object"||typeof Ue=="function"))return Ue;if(Ue!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(me)}function C(me){if(me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(me){return!1}}function S(me){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Re){return Re.__proto__||Object.getPrototypeOf(Re)},S(me)}function O(me,Ue){if(!(me instanceof Ue))throw new TypeError("Cannot call a class as a function")}function T(me,Ue){for(var Re=0;Re<Ue.length;Re++){var tt=Ue[Re];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(me,B(tt.key),tt)}}function f(me,Ue,Re){return Ue&&T(me.prototype,Ue),Re&&T(me,Re),Object.defineProperty(me,"prototype",{writable:!1}),me}function B(me){var Ue=u(me,"string");return typeof Ue=="symbol"?Ue:String(Ue)}function u(me,Ue){if(typeof me!="object"||me===null)return me;var Re=me[Symbol.toPrimitive];if(Re!==void 0){var tt=Re.call(me,Ue||"default");if(typeof tt!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ue==="string"?String:Number)(me)}function U(me){return me instanceof Map?me.clear=me.delete=me.set=function(){throw new Error("map is read-only")}:me instanceof Set&&(me.add=me.clear=me.delete=function(){throw new Error("set is read-only")}),Object.freeze(me),Object.getOwnPropertyNames(me).forEach(function(Ue){var Re=me[Ue];typeof Re=="object"&&!Object.isFrozen(Re)&&U(Re)}),me}var L=U,F=U;L.default=F;var N=function(){function me(Ue){O(this,me),Ue.data===void 0&&(Ue.data={}),this.data=Ue.data,this.isMatchIgnored=!1}return f(me,[{key:"ignoreMatch",value:function(){this.isMatchIgnored=!0}}]),me}();function H(me){return me.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function V(me){var Ue=Object.create(null);for(var Re in me)Ue[Re]=me[Re];for(var tt=arguments.length,yt=new Array(tt>1?tt-1:0),pt=1;pt<tt;pt++)yt[pt-1]=arguments[pt];return yt.forEach(function(nn){for(var rn in nn)Ue[rn]=nn[rn]}),Ue}var G="</span>",R=function(Ue){return!!Ue.kind},z=function(){function me(Ue,Re){O(this,me),this.buffer="",this.classPrefix=Re.classPrefix,Ue.walk(this)}return f(me,[{key:"addText",value:function(Re){this.buffer+=H(Re)}},{key:"openNode",value:function(Re){if(R(Re)){var tt=Re.kind;Re.sublanguage||(tt=""+this.classPrefix+tt),this.span(tt)}}},{key:"closeNode",value:function(Re){R(Re)&&(this.buffer+=G)}},{key:"value",value:function(){return this.buffer}},{key:"span",value:function(Re){this.buffer+='<span class="'+Re+'">'}}]),me}(),K=function(){function me(){O(this,me),this.rootNode={children:[]},this.stack=[this.rootNode]}return f(me,[{key:"top",get:function(){return this.stack[this.stack.length-1]}},{key:"root",get:function(){return this.rootNode}},{key:"add",value:function(Re){this.top.children.push(Re)}},{key:"openNode",value:function(Re){var tt={kind:Re,children:[]};this.add(tt),this.stack.push(tt)}},{key:"closeNode",value:function(){if(this.stack.length>1)return this.stack.pop()}},{key:"closeAllNodes",value:function(){for(;this.closeNode(););}},{key:"toJSON",value:function(){return JSON.stringify(this.rootNode,null,4)}},{key:"walk",value:function(Re){return this.constructor._walk(Re,this.rootNode)}}],[{key:"_walk",value:function(Re,tt){var yt=this;return typeof tt=="string"?Re.addText(tt):tt.children&&(Re.openNode(tt),tt.children.forEach(function(pt){return yt._walk(Re,pt)}),Re.closeNode(tt)),Re}},{key:"_collapse",value:function(Re){typeof Re!="string"&&Re.children&&(Re.children.every(function(tt){return typeof tt=="string"})?Re.children=[Re.children.join("")]:Re.children.forEach(function(tt){me._collapse(tt)}))}}]),me}(),Y=function(me){m(Re,me);var Ue=y(Re);function Re(tt){var yt;return O(this,Re),yt=Ue.call(this),yt.options=tt,yt}return f(Re,[{key:"addKeyword",value:function(yt,pt){yt!==""&&(this.openNode(pt),this.addText(yt),this.closeNode())}},{key:"addText",value:function(yt){yt!==""&&this.add(yt)}},{key:"addSublanguage",value:function(yt,pt){var nn=yt.root;nn.kind=pt,nn.sublanguage=!0,this.add(nn)}},{key:"toHTML",value:function(){var yt=new z(this,this.options);return yt.value()}},{key:"finalize",value:function(){return!0}}]),Re}(K);function q(me){return new RegExp(me.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function Q(me){return me?typeof me=="string"?me:me.source:null}function ee(){for(var me=arguments.length,Ue=new Array(me),Re=0;Re<me;Re++)Ue[Re]=arguments[Re];var tt=Ue.map(function(yt){return Q(yt)}).join("");return tt}function oe(){for(var me=arguments.length,Ue=new Array(me),Re=0;Re<me;Re++)Ue[Re]=arguments[Re];var tt="("+Ue.map(function(yt){return Q(yt)}).join("|")+")";return tt}function pe(me){return new RegExp(me.toString()+"|").exec("").length-1}function ve(me,Ue){var Re=me&&me.exec(Ue);return Re&&Re.index===0}var Pe=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function He(me,Ue){Ue===void 0&&(Ue="|");var Re=0;return me.map(function(tt){Re+=1;for(var yt=Re,pt=Q(tt),nn="";pt.length>0;){var rn=Pe.exec(pt);if(!rn){nn+=pt;break}nn+=pt.substring(0,rn.index),pt=pt.substring(rn.index+rn[0].length),rn[0][0]==="\\"&&rn[1]?nn+="\\"+String(Number(rn[1])+yt):(nn+=rn[0],rn[0]==="("&&Re++)}return nn}).map(function(tt){return"("+tt+")"}).join(Ue)}var Ne=/\b\B/,Ze="[a-zA-Z]\\w*",et="[a-zA-Z_]\\w*",Je="\\b\\d+(\\.\\d+)?",gt="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Ve="\\b(0b[01]+)",ht="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Ct=function(Ue){Ue===void 0&&(Ue={});var Re=/^#![ ]*\//;return Ue.binary&&(Ue.begin=ee(Re,/.*\b/,Ue.binary,/\b.*/)),V({className:"meta",begin:Re,end:/$/,relevance:0,"on:begin":function(yt,pt){yt.index!==0&&pt.ignoreMatch()}},Ue)},wt={begin:"\\\\[\\s\\S]",relevance:0},zt={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[wt]},Ut={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[wt]},Ot={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Lt=function(Ue,Re,tt){tt===void 0&&(tt={});var yt=V({className:"comment",begin:Ue,end:Re,contains:[]},tt);return yt.contains.push(Ot),yt.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),yt},$t=Lt("//","$"),Yt=Lt("/\\*","\\*/"),xt=Lt("#","$"),we={className:"number",begin:Je,relevance:0},Ie={className:"number",begin:gt,relevance:0},Ge={className:"number",begin:Ve,relevance:0},De={className:"number",begin:Je+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},xe={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[wt,{begin:/\[/,end:/\]/,relevance:0,contains:[wt]}]}]},Ce={className:"title",begin:Ze,relevance:0},Me={className:"title",begin:et,relevance:0},Oe={begin:"\\.\\s*"+et,relevance:0},Be=function(Ue){return Object.assign(Ue,{"on:begin":function(tt,yt){yt.data._beginMatch=tt[1]},"on:end":function(tt,yt){yt.data._beginMatch!==tt[1]&&yt.ignoreMatch()}})},Ae=Object.freeze({__proto__:null,MATCH_NOTHING_RE:Ne,IDENT_RE:Ze,UNDERSCORE_IDENT_RE:et,NUMBER_RE:Je,C_NUMBER_RE:gt,BINARY_NUMBER_RE:Ve,RE_STARTERS_RE:ht,SHEBANG:Ct,BACKSLASH_ESCAPE:wt,APOS_STRING_MODE:zt,QUOTE_STRING_MODE:Ut,PHRASAL_WORDS_MODE:Ot,COMMENT:Lt,C_LINE_COMMENT_MODE:$t,C_BLOCK_COMMENT_MODE:Yt,HASH_COMMENT_MODE:xt,NUMBER_MODE:we,C_NUMBER_MODE:Ie,BINARY_NUMBER_MODE:Ge,CSS_NUMBER_MODE:De,REGEXP_MODE:xe,TITLE_MODE:Ce,UNDERSCORE_TITLE_MODE:Me,METHOD_GUARD:Oe,END_SAME_AS_BEGIN:Be});function ye(me,Ue){var Re=me.input[me.index-1];Re==="."&&Ue.ignoreMatch()}function be(me,Ue){Ue&&me.beginKeywords&&(me.begin="\\b("+me.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",me.__beforeBegin=ye,me.keywords=me.keywords||me.beginKeywords,delete me.beginKeywords,me.relevance===void 0&&(me.relevance=0))}function je(me,Ue){Array.isArray(me.illegal)&&(me.illegal=oe.apply(void 0,b(me.illegal)))}function le(me,Ue){if(me.match){if(me.begin||me.end)throw new Error("begin & end are not supported with match");me.begin=me.match,delete me.match}}function Ee(me,Ue){me.relevance===void 0&&(me.relevance=1)}var Fe=["of","and","for","in","not","or","if","then","parent","list","value"],We="keyword";function he(me,Ue,Re){Re===void 0&&(Re=We);var tt={};return typeof me=="string"?yt(Re,me.split(" ")):Array.isArray(me)?yt(Re,me):Object.keys(me).forEach(function(pt){Object.assign(tt,he(me[pt],Ue,pt))}),tt;function yt(pt,nn){Ue&&(nn=nn.map(function(rn){return rn.toLowerCase()})),nn.forEach(function(rn){var St=rn.split("|");tt[St[0]]=[pt,fe(St[0],St[1])]})}}function fe(me,Ue){return Ue?Number(Ue):Qe(me)?0:1}function Qe(me){return Fe.includes(me.toLowerCase())}function Ke(me,Ue){var Re=Ue.plugins;function tt(St,jt){return new RegExp(Q(St),"m"+(me.case_insensitive?"i":"")+(jt?"g":""))}var yt=function(){function St(){O(this,St),this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}return f(St,[{key:"addRule",value:function(Gt,Ht){Ht.position=this.position++,this.matchIndexes[this.matchAt]=Ht,this.regexes.push([Ht,Gt]),this.matchAt+=pe(Gt)+1}},{key:"compile",value:function(){this.regexes.length===0&&(this.exec=function(){return null});var Gt=this.regexes.map(function(Ht){return Ht[1]});this.matcherRe=tt(He(Gt),!0),this.lastIndex=0}},{key:"exec",value:function(Gt){this.matcherRe.lastIndex=this.lastIndex;var Ht=this.matcherRe.exec(Gt);if(!Ht)return null;var hn=Ht.findIndex(function(xr,Fr){return Fr>0&&xr!==void 0}),ln=this.matchIndexes[hn];return Ht.splice(0,hn),Object.assign(Ht,ln)}}]),St}(),pt=function(){function St(){O(this,St),this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}return f(St,[{key:"getMatcher",value:function(Gt){if(this.multiRegexes[Gt])return this.multiRegexes[Gt];var Ht=new yt;return this.rules.slice(Gt).forEach(function(hn){var ln=k(hn,2),xr=ln[0],Fr=ln[1];return Ht.addRule(xr,Fr)}),Ht.compile(),this.multiRegexes[Gt]=Ht,Ht}},{key:"resumingScanAtSamePosition",value:function(){return this.regexIndex!==0}},{key:"considerAll",value:function(){this.regexIndex=0}},{key:"addRule",value:function(Gt,Ht){this.rules.push([Gt,Ht]),Ht.type==="begin"&&this.count++}},{key:"exec",value:function(Gt){var Ht=this.getMatcher(this.regexIndex);Ht.lastIndex=this.lastIndex;var hn=Ht.exec(Gt);if(this.resumingScanAtSamePosition()&&!(hn&&hn.index===this.lastIndex)){var ln=this.getMatcher(0);ln.lastIndex=this.lastIndex+1,hn=ln.exec(Gt)}return hn&&(this.regexIndex+=hn.position+1,this.regexIndex===this.count&&this.considerAll()),hn}}]),St}();function nn(St){var jt=new pt;return St.contains.forEach(function(Gt){return jt.addRule(Gt.begin,{rule:Gt,type:"begin"})}),St.terminatorEnd&&jt.addRule(St.terminatorEnd,{type:"end"}),St.illegal&&jt.addRule(St.illegal,{type:"illegal"}),jt}function rn(St,jt){var Gt,Ht=St;if(St.isCompiled)return Ht;[le].forEach(function(ln){return ln(St,jt)}),me.compilerExtensions.forEach(function(ln){return ln(St,jt)}),St.__beforeBegin=null,[be,je,Ee].forEach(function(ln){return ln(St,jt)}),St.isCompiled=!0;var hn=null;if(typeof St.keywords=="object"&&(hn=St.keywords.$pattern,delete St.keywords.$pattern),St.keywords&&(St.keywords=he(St.keywords,me.case_insensitive)),St.lexemes&&hn)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return hn=hn||St.lexemes||/\w+/,Ht.keywordPatternRe=tt(hn,!0),jt&&(St.begin||(St.begin=/\B|\b/),Ht.beginRe=tt(St.begin),St.endSameAsBegin&&(St.end=St.begin),!St.end&&!St.endsWithParent&&(St.end=/\B|\b/),St.end&&(Ht.endRe=tt(St.end)),Ht.terminatorEnd=Q(St.end)||"",St.endsWithParent&&jt.terminatorEnd&&(Ht.terminatorEnd+=(St.end?"|":"")+jt.terminatorEnd)),St.illegal&&(Ht.illegalRe=tt(St.illegal)),St.contains||(St.contains=[]),St.contains=(Gt=[]).concat.apply(Gt,b(St.contains.map(function(ln){return rt(ln==="self"?St:ln)}))),St.contains.forEach(function(ln){rn(ln,Ht)}),St.starts&&rn(St.starts,jt),Ht.matcher=nn(Ht),Ht}if(me.compilerExtensions||(me.compilerExtensions=[]),me.contains&&me.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return me.classNameAliases=V(me.classNameAliases||{}),rn(me)}function _e(me){return me?me.endsWithParent||_e(me.starts):!1}function rt(me){return me.variants&&!me.cachedVariants&&(me.cachedVariants=me.variants.map(function(Ue){return V(me,{variants:null},Ue)})),me.cachedVariants?me.cachedVariants:_e(me)?V(me,{starts:me.starts?V(me.starts):null}):Object.isFrozen(me)?V(me):me}var st="10.7.3";function qe(me){return!!(me||me==="")}function at(me){var Ue={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!me.getLanguage(this.language))return console.warn('The language "'+this.language+'" you specified could not be found.'),this.unknownLanguage=!0,H(this.code);var tt={};return this.autoDetect?(tt=me.highlightAuto(this.code),this.detectedLanguage=tt.language):(tt=me.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),tt.value},autoDetect(){return!this.language||qe(this.autodetect)},ignoreIllegals(){return!0}},render(tt){return tt("pre",{},[tt("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}},Re={install(tt){tt.component("highlightjs",Ue)}};return{Component:Ue,VuePlugin:Re}}var Mt={"after:highlightElement":function(Ue){var Re=Ue.el,tt=Ue.result,yt=Ue.text,pt=vt(Re);if(pt.length){var nn=document.createElement("div");nn.innerHTML=tt.value,tt.value=Zt(pt,vt(nn),yt)}}};function ft(me){return me.nodeName.toLowerCase()}function vt(me){var Ue=[];return function Re(tt,yt){for(var pt=tt.firstChild;pt;pt=pt.nextSibling)pt.nodeType===3?yt+=pt.nodeValue.length:pt.nodeType===1&&(Ue.push({event:"start",offset:yt,node:pt}),yt=Re(pt,yt),ft(pt).match(/br|hr|img|input/)||Ue.push({event:"stop",offset:yt,node:pt}));return yt}(me,0),Ue}function Zt(me,Ue,Re){var tt=0,yt="",pt=[];function nn(){return!me.length||!Ue.length?me.length?me:Ue:me[0].offset!==Ue[0].offset?me[0].offset<Ue[0].offset?me:Ue:Ue[0].event==="start"?me:Ue}function rn(Ht){function hn(ln){return" "+ln.nodeName+'="'+H(ln.value)+'"'}yt+="<"+ft(Ht)+[].map.call(Ht.attributes,hn).join("")+">"}function St(Ht){yt+="</"+ft(Ht)+">"}function jt(Ht){(Ht.event==="start"?rn:St)(Ht.node)}for(;me.length||Ue.length;){var Gt=nn();if(yt+=H(Re.substring(tt,Gt[0].offset)),tt=Gt[0].offset,Gt===me){pt.reverse().forEach(St);do jt(Gt.splice(0,1)[0]),Gt=nn();while(Gt===me&&Gt.length&&Gt[0].offset===tt);pt.reverse().forEach(rn)}else Gt[0].event==="start"?pt.push(Gt[0].node):pt.pop(),jt(Gt.splice(0,1)[0])}return yt+H(Re.substr(tt))}var dn={},on=function(Ue){console.error(Ue)},Tn=function(Ue){for(var Re,tt=arguments.length,yt=new Array(tt>1?tt-1:0),pt=1;pt<tt;pt++)yt[pt-1]=arguments[pt];(Re=console).log.apply(Re,["WARN: "+Ue].concat(yt))},qt=function(Ue,Re){dn[Ue+"/"+Re]||(console.log("Deprecated as of "+Ue+". "+Re),dn[Ue+"/"+Re]=!0)},fn=H,yn=V,pn=Symbol("nomatch"),ur=function(Ue){var Re=Object.create(null),tt=Object.create(null),yt=[],pt=!0,nn=/(^(<[^>]+>|\t|)+|\n)/gm,rn="Could not find the language '{}', did you forget to load/include a language module?",St={disableAutodetect:!0,name:"Plain text",contains:[]},jt={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:Y};function Gt(lt){return jt.noHighlightRe.test(lt)}function Ht(lt){var bt=lt.className+" ";bt+=lt.parentNode?lt.parentNode.className:"";var Rt=jt.languageDetectRe.exec(bt);if(Rt){var en=gr(Rt[1]);return en||(Tn(rn.replace("{}",Rt[1])),Tn("Falling back to no-highlight mode for this block.",lt)),en?Rt[1]:"no-highlight"}return bt.split(/\s+/).find(function(mn){return Gt(mn)||gr(mn)})}function hn(lt,bt,Rt,en){var mn="",Or="";typeof bt=="object"?(mn=lt,Rt=bt.ignoreIllegals,Or=bt.language,en=void 0):(qt("10.7.0","highlight(lang, code, ...args) has been deprecated."),qt("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),Or=lt,mn=bt);var ar={code:mn,language:Or};dr("before:highlight",ar);var _n=ar.result?ar.result:ln(ar.language,ar.code,Rt,en);return _n.code=ar.code,dr("after:highlight",_n),_n}function ln(lt,bt,Rt,en){function mn(Dt,kt){var Kt=Wr.case_insensitive?kt[0].toLowerCase():kt[0];return Object.prototype.hasOwnProperty.call(Dt.keywords,Kt)&&Dt.keywords[Kt]}function Or(){if(!Vt.keywords){Fn.addText(Cn);return}var Dt=0;Vt.keywordPatternRe.lastIndex=0;for(var kt=Vt.keywordPatternRe.exec(Cn),Kt="";kt;){Kt+=Cn.substring(Dt,kt.index);var wn=mn(Vt,kt);if(wn){var Un=k(wn,2),Kn=Un[0],Yn=Un[1];if(Fn.addText(Kt),Kt="",Pa+=Yn,Kn.startsWith("_"))Kt+=kt[0];else{var Ia=Wr.classNameAliases[Kn]||Kn;Fn.addKeyword(kt[0],Ia)}}else Kt+=kt[0];Dt=Vt.keywordPatternRe.lastIndex,kt=Vt.keywordPatternRe.exec(Cn)}Kt+=Cn.substr(Dt),Fn.addText(Kt)}function ar(){if(Cn!==""){var Dt=null;if(typeof Vt.subLanguage=="string"){if(!Re[Vt.subLanguage]){Fn.addText(Cn);return}Dt=ln(Vt.subLanguage,Cn,!0,Si[Vt.subLanguage]),Si[Vt.subLanguage]=Dt.top}else Dt=Fr(Cn,Vt.subLanguage.length?Vt.subLanguage:null);Vt.relevance>0&&(Pa+=Dt.relevance),Fn.addSublanguage(Dt.emitter,Dt.language)}}function _n(){Vt.subLanguage!=null?ar():Or(),Cn=""}function aa(Dt){return Dt.className&&Fn.openNode(Wr.classNameAliases[Dt.className]||Dt.className),Vt=Object.create(Dt,{parent:{value:Vt}}),Vt}function pr(Dt,kt,Kt){var wn=ve(Dt.endRe,Kt);if(wn){if(Dt["on:end"]){var Un=new N(Dt);Dt["on:end"](kt,Un),Un.isMatchIgnored&&(wn=!1)}if(wn){for(;Dt.endsParent&&Dt.parent;)Dt=Dt.parent;return Dt}}if(Dt.endsWithParent)return pr(Dt.parent,kt,Kt)}function Hr(Dt){return Vt.matcher.regexIndex===0?(Cn+=Dt[0],1):(_a=!0,0)}function Lo(Dt){for(var kt=Dt[0],Kt=Dt.rule,wn=new N(Kt),Un=[Kt.__beforeBegin,Kt["on:begin"]],Kn=0,Yn=Un;Kn<Yn.length;Kn++){var Ia=Yn[Kn];if(Ia&&(Ia(Dt,wn),wn.isMatchIgnored))return Hr(kt)}return Kt&&Kt.endSameAsBegin&&(Kt.endRe=q(kt)),Kt.skip?Cn+=kt:(Kt.excludeBegin&&(Cn+=kt),_n(),!Kt.returnBegin&&!Kt.excludeBegin&&(Cn=kt)),aa(Kt),Kt.returnBegin?0:kt.length}function Ma(Dt){var kt=Dt[0],Kt=bt.substr(Dt.index),wn=pr(Vt,Dt,Kt);if(!wn)return pn;var Un=Vt;Un.skip?Cn+=kt:(Un.returnEnd||Un.excludeEnd||(Cn+=kt),_n(),Un.excludeEnd&&(Cn=kt));do Vt.className&&Fn.closeNode(),!Vt.skip&&!Vt.subLanguage&&(Pa+=Vt.relevance),Vt=Vt.parent;while(Vt!==wn.parent);return wn.starts&&(wn.endSameAsBegin&&(wn.starts.endRe=wn.endRe),aa(wn.starts)),Un.returnEnd?0:kt.length}function No(){for(var Dt=[],kt=Vt;kt!==Wr;kt=kt.parent)kt.className&&Dt.unshift(kt.className);Dt.forEach(function(Kt){return Fn.openNode(Kt)})}var ia={};function yi(Dt,kt){var Kt=kt&&kt[0];if(Cn+=Dt,Kt==null)return _n(),0;if(ia.type==="begin"&&kt.type==="end"&&ia.index===kt.index&&Kt===""){if(Cn+=bt.slice(kt.index,kt.index+1),!pt){var wn=new Error("0 width match regex");throw wn.languageName=lt,wn.badRule=ia.rule,wn}return 1}if(ia=kt,kt.type==="begin")return Lo(kt);if(kt.type==="illegal"&&!Rt){var Un=new Error('Illegal lexeme "'+Kt+'" for mode "'+(Vt.className||"<unnamed>")+'"');throw Un.mode=Vt,Un}else if(kt.type==="end"){var Kn=Ma(kt);if(Kn!==pn)return Kn}if(kt.type==="illegal"&&Kt==="")return 1;if(yr>1e5&&yr>kt.index*3){var Yn=new Error("potential infinite loop, way more iterations than matches");throw Yn}return Cn+=Kt,Kt.length}var Wr=gr(lt);if(!Wr)throw on(rn.replace("{}",lt)),new Error('Unknown language: "'+lt+'"');var Ro=Ke(Wr,{plugins:yt}),Ja="",Vt=en||Ro,Si={},Fn=new jt.__emitter(jt);No();var Cn="",Pa=0,oa=0,yr=0,_a=!1;try{for(Vt.matcher.considerAll();;){yr++,_a?_a=!1:Vt.matcher.considerAll(),Vt.matcher.lastIndex=oa;var Ta=Vt.matcher.exec(bt);if(!Ta)break;var jo=bt.substring(oa,Ta.index),bi=yi(jo,Ta);oa=Ta.index+bi}return yi(bt.substr(oa)),Fn.closeAllNodes(),Fn.finalize(),Ja=Fn.toHTML(),{relevance:Math.floor(Pa),value:Ja,language:lt,illegal:!1,emitter:Fn,top:Vt}}catch(Dt){if(Dt.message&&Dt.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:Dt.message,context:bt.slice(oa-100,oa+100),mode:Dt.mode},sofar:Ja,relevance:0,value:fn(bt),emitter:Fn};if(pt)return{illegal:!1,relevance:0,value:fn(bt),emitter:Fn,language:lt,top:Vt,errorRaised:Dt};throw Dt}}function xr(lt){var bt={relevance:0,emitter:new jt.__emitter(jt),value:fn(lt),illegal:!1,top:St};return bt.emitter.addText(lt),bt}function Fr(lt,bt){bt=bt||jt.languages||Object.keys(Re);var Rt=xr(lt),en=bt.filter(gr).filter(Qa).map(function(pr){return ln(pr,lt,!1)});en.unshift(Rt);var mn=en.sort(function(pr,Hr){if(pr.relevance!==Hr.relevance)return Hr.relevance-pr.relevance;if(pr.language&&Hr.language){if(gr(pr.language).supersetOf===Hr.language)return 1;if(gr(Hr.language).supersetOf===pr.language)return-1}return 0}),Or=k(mn,2),ar=Or[0],_n=Or[1],aa=ar;return aa.second_best=_n,aa}function vi(lt){return jt.tabReplace||jt.useBR?lt.replace(nn,function(bt){return bt==="\n"?jt.useBR?"<br>":bt:jt.tabReplace?bt.replace(/\t/g,jt.tabReplace):bt}):lt}function Ya(lt,bt,Rt){var en=bt?tt[bt]:Rt;lt.classList.add("hljs"),en&&lt.classList.add(en)}var Ll={"before:highlightElement":function(bt){var Rt=bt.el;jt.useBR&&(Rt.innerHTML=Rt.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"))},"after:highlightElement":function(bt){var Rt=bt.result;jt.useBR&&(Rt.value=Rt.value.replace(/\n/g,"<br>"))}},Nl=/^(<[^>]+>|\t)+/gm,Rl={"after:highlightElement":function(bt){var Rt=bt.result;jt.tabReplace&&(Rt.value=Rt.value.replace(Nl,function(en){return en.replace(/\t/g,jt.tabReplace)}))}};function Xa(lt){var bt=null,Rt=Ht(lt);if(!Gt(Rt)){dr("before:highlightElement",{el:lt,language:Rt}),bt=lt;var en=bt.textContent,mn=Rt?hn(en,{language:Rt,ignoreIllegals:!0}):Fr(en);dr("after:highlightElement",{el:lt,result:mn,text:en}),lt.innerHTML=mn.value,Ya(lt,Rt,mn.language),lt.result={language:mn.language,re:mn.relevance,relavance:mn.relevance},mn.second_best&&(lt.second_best={language:mn.second_best.language,re:mn.second_best.relevance,relavance:mn.second_best.relevance})}}function jl(lt){lt.useBR&&(qt("10.3.0","'useBR' will be removed entirely in v11.0"),qt("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),jt=yn(jt,lt)}var kl=function lt(){if(!lt.called){lt.called=!0,qt("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead.");var bt=document.querySelectorAll("pre code");bt.forEach(Xa)}};function Bl(){qt("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),mi=!0}var mi=!1;function Jt(){if(document.readyState==="loading"){mi=!0;return}var lt=document.querySelectorAll("pre code");lt.forEach(Xa)}function an(){mi&&Jt()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",an,!1);function re(lt,bt){var Rt=null;try{Rt=bt(Ue)}catch(en){if(on("Language definition for '{}' could not be registered.".replace("{}",lt)),pt)on(en);else throw en;Rt=St}Rt.name||(Rt.name=lt),Re[lt]=Rt,Rt.rawDefinition=bt.bind(null,Ue),Rt.aliases&&gi(Rt.aliases,{languageName:lt})}function Ea(lt){delete Re[lt];for(var bt=0,Rt=Object.keys(tt);bt<Rt.length;bt++){var en=Rt[bt];tt[en]===lt&&delete tt[en]}}function To(){return Object.keys(Re)}function ra(lt){qt("10.4.0","requireLanguage will be removed entirely in v11."),qt("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");var bt=gr(lt);if(bt)return bt;var Rt=new Error("The '{}' language is required, but not loaded.".replace("{}",lt));throw Rt}function gr(lt){return lt=(lt||"").toLowerCase(),Re[lt]||Re[tt[lt]]}function gi(lt,bt){var Rt=bt.languageName;typeof lt=="string"&&(lt=[lt]),lt.forEach(function(en){tt[en.toLowerCase()]=Rt})}function Qa(lt){var bt=gr(lt);return bt&&!bt.disableAutodetect}function Io(lt){lt["before:highlightBlock"]&&!lt["before:highlightElement"]&&(lt["before:highlightElement"]=function(bt){lt["before:highlightBlock"](Object.assign({block:bt.el},bt))}),lt["after:highlightBlock"]&&!lt["after:highlightElement"]&&(lt["after:highlightElement"]=function(bt){lt["after:highlightBlock"](Object.assign({block:bt.el},bt))})}function Ur(lt){Io(lt),yt.push(lt)}function dr(lt,bt){var Rt=lt;yt.forEach(function(en){en[Rt]&&en[Rt](bt)})}function Oo(lt){return qt("10.2.0","fixMarkup will be removed entirely in v11.0"),qt("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),vi(lt)}function Do(lt){return qt("10.7.0","highlightBlock will be removed entirely in v12.0"),qt("10.7.0","Please use highlightElement now."),Xa(lt)}Object.assign(Ue,{highlight:hn,highlightAuto:Fr,highlightAll:Jt,fixMarkup:Oo,highlightElement:Xa,highlightBlock:Do,configure:jl,initHighlighting:kl,initHighlightingOnLoad:Bl,registerLanguage:re,unregisterLanguage:Ea,listLanguages:To,getLanguage:gr,registerAliases:gi,requireLanguage:ra,autoDetection:Qa,inherit:yn,addPlugin:Ur,vuePlugin:at(Ue).VuePlugin}),Ue.debugMode=function(){pt=!1},Ue.safeMode=function(){pt=!0},Ue.versionString=st;for(var Aa in Ae)typeof Ae[Aa]=="object"&&L(Ae[Aa]);return Object.assign(Ue,Ae),Ue.addPlugin(Ll),Ue.addPlugin(Mt),Ue.addPlugin(Rl),Ue},Ft=ur({});ce.exports=Ft},21546:function(ce){var k=function(D){return{IMPORTANT:{className:"meta",begin:"!important"},HEXCOLOR:{className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"},ATTRIBUTE_SELECTOR_MODE:{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[D.APOS_STRING_MODE,D.QUOTE_STRING_MODE]}}},c=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],r=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],d=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],b=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],w=["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-variant","font-variant-ligatures","font-variation-settings","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","src","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"].reverse();function P(m){return m?typeof m=="string"?m:m.source:null}function h(m){return x("(?=",m,")")}function x(){for(var m=arguments.length,D=new Array(m),y=0;y<m;y++)D[y]=arguments[y];var A=D.map(function(C){return P(C)}).join("");return A}function E(m){var D=k(m),y={className:"built_in",begin:/[\w-]+(?=\()/},A={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},C="and or not only",I=/@-?\w[\w]*(-\w+)*/,S="[a-zA-Z-][a-zA-Z0-9_-]*",O=[m.APOS_STRING_MODE,m.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[m.C_BLOCK_COMMENT_MODE,A,m.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+S,relevance:0},D.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+d.join("|")+")"},{begin:"::("+b.join("|")+")"}]},{className:"attribute",begin:"\\b("+w.join("|")+")\\b"},{begin:":",end:"[;}]",contains:[D.HEXCOLOR,D.IMPORTANT,m.CSS_NUMBER_MODE].concat(O,[{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},y])},{begin:h(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:I},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:C,attribute:r.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"}].concat(O,[m.CSS_NUMBER_MODE])}]},{className:"selector-tag",begin:"\\b("+c.join("|")+")\\b"}]}}ce.exports=E},4826:function(ce){var k=function(E){return{IMPORTANT:{className:"meta",begin:"!important"},HEXCOLOR:{className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"},ATTRIBUTE_SELECTOR_MODE:{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[E.APOS_STRING_MODE,E.QUOTE_STRING_MODE]}}},c=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],r=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],d=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],b=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],w=["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-variant","font-variant-ligatures","font-variation-settings","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","src","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"].reverse(),P=d.concat(b);function h(x){var E=k(x),m=P,D="and or not only",y="[\\w-]+",A="("+y+"|@\\{"+y+"\\})",C=[],I=[],S=function(G){return{className:"string",begin:"~?"+G+".*?"+G}},O=function(G,R,z){return{className:G,begin:R,relevance:z}},T={$pattern:/[a-z-]+/,keyword:D,attribute:r.join(" ")},f={begin:"\\(",end:"\\)",contains:I,keywords:T,relevance:0};I.push(x.C_LINE_COMMENT_MODE,x.C_BLOCK_COMMENT_MODE,S("'"),S('"'),x.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},E.HEXCOLOR,f,O("variable","@@?"+y,10),O("variable","@\\{"+y+"\\}"),O("built_in","~?`[^`]*?`"),{className:"attribute",begin:y+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},E.IMPORTANT);var B=I.concat({begin:/\{/,end:/\}/,contains:C}),u={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(I)},U={begin:A+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},{className:"attribute",begin:"\\b("+w.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:I}}]},L={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:T,returnEnd:!0,contains:I,relevance:0}},F={className:"variable",variants:[{begin:"@"+y+"\\s*:",relevance:15},{begin:"@"+y}],starts:{end:"[;}]",returnEnd:!0,contains:B}},N={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:A,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:"[<='$\"]",relevance:0,contains:[x.C_LINE_COMMENT_MODE,x.C_BLOCK_COMMENT_MODE,u,O("keyword","all\\b"),O("variable","@\\{"+y+"\\}"),{begin:"\\b("+c.join("|")+")\\b",className:"selector-tag"},O("selector-tag",A+"%?",0),O("selector-id","#"+A),O("selector-class","\\."+A,0),O("selector-tag","&",0),E.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+d.join("|")+")"},{className:"selector-pseudo",begin:"::("+b.join("|")+")"},{begin:"\\(",end:"\\)",contains:B},{begin:"!important"}]},H={begin:y+":(:)?"+("("+m.join("|")+")"),returnBegin:!0,contains:[N]};return C.push(x.C_LINE_COMMENT_MODE,x.C_BLOCK_COMMENT_MODE,L,F,H,U,N),{name:"Less",case_insensitive:!0,illegal:"[=>'/<($\"]",contains:C}}ce.exports=h},81582:function(ce){var k=function(x){return{IMPORTANT:{className:"meta",begin:"!important"},HEXCOLOR:{className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"},ATTRIBUTE_SELECTOR_MODE:{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[x.APOS_STRING_MODE,x.QUOTE_STRING_MODE]}}},c=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],r=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],d=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],b=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],w=["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-variant","font-variant-ligatures","font-variation-settings","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","src","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"].reverse();function P(h){var x=k(h),E=b,m=d,D="@[a-z-]+",y="and or not only",A="[a-zA-Z-][a-zA-Z0-9_-]*",C={className:"variable",begin:"(\\$"+A+")\\b"};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[h.C_LINE_COMMENT_MODE,h.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},x.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+c.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+m.join("|")+")"},{className:"selector-pseudo",begin:"::("+E.join("|")+")"},C,{begin:/\(/,end:/\)/,contains:[h.CSS_NUMBER_MODE]},{className:"attribute",begin:"\\b("+w.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:":",end:";",contains:[C,x.HEXCOLOR,h.CSS_NUMBER_MODE,h.QUOTE_STRING_MODE,h.APOS_STRING_MODE,x.IMPORTANT]},{begin:"@(page|font-face)",lexemes:D,keywords:"@page @font-face"},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:y,attribute:r.join(" ")},contains:[{begin:D,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},C,h.QUOTE_STRING_MODE,h.APOS_STRING_MODE,x.HEXCOLOR,h.CSS_NUMBER_MODE]}]}}ce.exports=P},6216:function(ce){var k=function(x){return{IMPORTANT:{className:"meta",begin:"!important"},HEXCOLOR:{className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"},ATTRIBUTE_SELECTOR_MODE:{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[x.APOS_STRING_MODE,x.QUOTE_STRING_MODE]}}},c=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],r=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],d=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],b=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],w=["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-variant","font-variant-ligatures","font-variation-settings","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","src","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"].reverse();function P(h){var x=k(h),E="and or not only",m={className:"variable",begin:"\\$"+h.IDENT_RE},D=["charset","css","debug","extend","font-face","for","import","include","keyframes","media","mixin","page","warn","while"],y="(?=[.\\s\\n[:,(])",A=["\\?","(\\bReturn\\b)","(\\bEnd\\b)","(\\bend\\b)","(\\bdef\\b)",";","#\\s","\\*\\s","===\\s","\\|","%"];return{name:"Stylus",aliases:["styl"],case_insensitive:!1,keywords:"if else for in",illegal:"("+A.join("|")+")",contains:[h.QUOTE_STRING_MODE,h.APOS_STRING_MODE,h.C_LINE_COMMENT_MODE,h.C_BLOCK_COMMENT_MODE,x.HEXCOLOR,{begin:"\\.[a-zA-Z][a-zA-Z0-9_-]*"+y,className:"selector-class"},{begin:"#[a-zA-Z][a-zA-Z0-9_-]*"+y,className:"selector-id"},{begin:"\\b("+c.join("|")+")"+y,className:"selector-tag"},{className:"selector-pseudo",begin:"&?:("+d.join("|")+")"+y},{className:"selector-pseudo",begin:"&?::("+b.join("|")+")"+y},x.ATTRIBUTE_SELECTOR_MODE,{className:"keyword",begin:/@media/,starts:{end:/[{;}]/,keywords:{$pattern:/[a-z-]+/,keyword:E,attribute:r.join(" ")},contains:[h.CSS_NUMBER_MODE]}},{className:"keyword",begin:"@((-(o|moz|ms|webkit)-)?("+D.join("|")+"))\\b"},m,h.CSS_NUMBER_MODE,{className:"function",begin:"^[a-zA-Z][a-zA-Z0-9_-]*\\(.*\\)",illegal:"[\\n]",returnBegin:!0,contains:[{className:"title",begin:"\\b[a-zA-Z][a-zA-Z0-9_-]*"},{className:"params",begin:/\(/,end:/\)/,contains:[x.HEXCOLOR,m,h.APOS_STRING_MODE,h.CSS_NUMBER_MODE,h.QUOTE_STRING_MODE]}]},{className:"attribute",begin:"\\b("+w.join("|")+")\\b",starts:{end:/;|$/,contains:[x.HEXCOLOR,m,h.APOS_STRING_MODE,h.QUOTE_STRING_MODE,h.CSS_NUMBER_MODE,h.C_BLOCK_COMMENT_MODE,x.IMPORTANT],illegal:/\./,relevance:0}}]}}ce.exports=P},85766:function(ce){function k(z,K){var Y=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!Y){if(Array.isArray(z)||(Y=d(z))||K&&z&&typeof z.length=="number"){Y&&(z=Y);var q=0,Q=function(){};return{s:Q,n:function(){return q>=z.length?{done:!0}:{done:!1,value:z[q++]}},e:function(Pe){throw Pe},f:Q}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ee=!0,oe=!1,pe;return{s:function(){Y=Y.call(z)},n:function(){var Pe=Y.next();return ee=Pe.done,Pe},e:function(Pe){oe=!0,pe=Pe},f:function(){try{!ee&&Y.return!=null&&Y.return()}finally{if(oe)throw pe}}}}function c(z){return w(z)||b(z)||d(z)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(z,K){if(z){if(typeof z=="string")return P(z,K);var Y=Object.prototype.toString.call(z).slice(8,-1);if(Y==="Object"&&z.constructor&&(Y=z.constructor.name),Y==="Map"||Y==="Set")return Array.from(z);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return P(z,K)}}function b(z){if(typeof Symbol<"u"&&z[Symbol.iterator]!=null||z["@@iterator"]!=null)return Array.from(z)}function w(z){if(Array.isArray(z))return P(z)}function P(z,K){(K==null||K>z.length)&&(K=z.length);for(var Y=0,q=new Array(K);Y<K;Y++)q[Y]=z[Y];return q}function h(z){return z?typeof z=="string"?z:z.source:null}function x(z){return E("(?=",z,")")}function E(){for(var z=arguments.length,K=new Array(z),Y=0;Y<z;Y++)K[Y]=arguments[Y];var q=K.map(function(Q){return h(Q)}).join("");return q}function m(){for(var z=arguments.length,K=new Array(z),Y=0;Y<z;Y++)K[Y]=arguments[Y];var q="("+K.map(function(Q){return h(Q)}).join("|")+")";return q}var D=function(K){return E(/\b/,K,/\w$/.test(K)?/\b/:/\B/)},y=["Protocol","Type"].map(D),A=["init","self"].map(D),C=["Any","Self"],I=["associatedtype","async","await",/as\?/,/as!/,"as","break","case","catch","class","continue","convenience","default","defer","deinit","didSet","do","dynamic","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","lazy","let","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],S=["false","nil","true"],O=["assignment","associativity","higherThan","left","lowerThan","none","right"],T=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warn_unqualified_access","#warning"],f=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],B=m(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),u=m(B,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),U=E(B,u,"*"),L=m(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),F=m(L,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),N=E(L,F,"*"),H=E(/[A-Z]/,F,"*"),V=["autoclosure",E(/convention\(/,m("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",E(/objc\(/,N,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","testable","UIApplicationMain","unknown","usableFromInline"],G=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function R(z){var K={match:/\s+/,relevance:0},Y=z.COMMENT("/\\*","\\*/",{contains:["self"]}),q=[z.C_LINE_COMMENT_MODE,Y],Q={className:"keyword",begin:E(/\./,x(m.apply(void 0,c(y).concat(c(A))))),end:m.apply(void 0,c(y).concat(c(A))),excludeBegin:!0},ee={match:E(/\./,m.apply(void 0,I)),relevance:0},oe=I.filter(function(qe){return typeof qe=="string"}).concat(["_|0"]),pe=I.filter(function(qe){return typeof qe!="string"}).concat(C).map(D),ve={variants:[{className:"keyword",match:m.apply(void 0,c(pe).concat(c(A)))}]},Pe={$pattern:m(/\b\w+/,/#\w+/),keyword:oe.concat(T),literal:S},He=[Q,ee,ve],Ne={match:E(/\./,m.apply(void 0,f)),relevance:0},Ze={className:"built_in",match:E(/\b/,m.apply(void 0,f),/(?=\()/)},et=[Ne,Ze],Je={match:/->/,relevance:0},gt={className:"operator",relevance:0,variants:[{match:U},{match:"\\.(\\.|"+u+")+"}]},Ve=[Je,gt],ht="([0-9]_*)+",Ct="([0-9a-fA-F]_*)+",wt={className:"number",relevance:0,variants:[{match:"\\b("+ht+")(\\.("+ht+"))?"+("([eE][+-]?("+ht+"))?\\b")},{match:"\\b0x("+Ct+")(\\.("+Ct+"))?"+("([pP][+-]?("+ht+"))?\\b")},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},zt=function(at){return at===void 0&&(at=""),{className:"subst",variants:[{match:E(/\\/,at,/[0\\tnr"']/)},{match:E(/\\/,at,/u\{[0-9a-fA-F]{1,8}\}/)}]}},Ut=function(at){return at===void 0&&(at=""),{className:"subst",match:E(/\\/,at,/[\t ]*(?:[\r\n]|\r\n)/)}},Ot=function(at){return at===void 0&&(at=""),{className:"subst",label:"interpol",begin:E(/\\/,at,/\(/),end:/\)/}},Lt=function(at){return at===void 0&&(at=""),{begin:E(at,/"""/),end:E(/"""/,at),contains:[zt(at),Ut(at),Ot(at)]}},$t=function(at){return at===void 0&&(at=""),{begin:E(at,/"/),end:E(/"/,at),contains:[zt(at),Ot(at)]}},Yt={className:"string",variants:[Lt(),Lt("#"),Lt("##"),Lt("###"),$t(),$t("#"),$t("##"),$t("###")]},xt={match:E(/`/,N,/`/)},we={className:"variable",match:/\$\d+/},Ie={className:"variable",match:"\\$"+F+"+"},Ge=[xt,we,Ie],De={match:/(@|#)available/,className:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:G,contains:[].concat(Ve,[wt,Yt])}]}},xe={className:"keyword",match:E(/@/,m.apply(void 0,V))},Ce={className:"meta",match:E(/@/,N)},Me=[De,xe,Ce],Oe={match:x(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:E(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,F,"+")},{className:"type",match:H,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:E(/\s+&\s+/,x(H)),relevance:0}]},Be={begin:/</,end:/>/,keywords:Pe,contains:[].concat(q,He,Me,[Je,Oe])};Oe.contains.push(Be);var Ae={match:E(N,/\s*:/),keywords:"_|0",relevance:0},ye={begin:/\(/,end:/\)/,relevance:0,keywords:Pe,contains:["self",Ae].concat(q,He,et,Ve,[wt,Yt],Ge,Me,[Oe])},be={beginKeywords:"func",contains:[{className:"title",match:m(xt.match,N,U),endsParent:!0,relevance:0},K]},je={begin:/</,end:/>/,contains:[].concat(q,[Oe])},le={begin:m(x(E(N,/\s*:/)),x(E(N,/\s+/,N,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:N}]},Ee={begin:/\(/,end:/\)/,keywords:Pe,contains:[le].concat(q,He,Ve,[wt,Yt],Me,[Oe,ye]),endsParent:!0,illegal:/["']/},Fe={className:"function",match:x(/\bfunc\b/),contains:[be,je,Ee,K],illegal:[/\[/,/%/]},We={className:"function",match:/\b(subscript|init[?!]?)\s*(?=[<(])/,keywords:{keyword:"subscript init init? init!",$pattern:/\w+[?!]?/},contains:[je,Ee,K],illegal:/\[|%/},he={beginKeywords:"operator",end:z.MATCH_NOTHING_RE,contains:[{className:"title",match:U,endsParent:!0,relevance:0}]},fe={beginKeywords:"precedencegroup",end:z.MATCH_NOTHING_RE,contains:[{className:"title",match:H,relevance:0},{begin:/{/,end:/}/,relevance:0,endsParent:!0,keywords:[].concat(O,S),contains:[Oe]}]},Qe=k(Yt.variants),Ke;try{for(Qe.s();!(Ke=Qe.n()).done;){var _e=Ke.value,rt=_e.contains.find(function(qe){return qe.label==="interpol"});rt.keywords=Pe;var st=[].concat(He,et,Ve,[wt,Yt],Ge);rt.contains=[].concat(c(st),[{begin:/\(/,end:/\)/,contains:["self"].concat(c(st))}])}}catch(qe){Qe.e(qe)}finally{Qe.f()}return{name:"Swift",keywords:Pe,contains:[].concat(q,[Fe,We,{className:"class",beginKeywords:"struct protocol class extension enum",end:"\\{",excludeEnd:!0,keywords:Pe,contains:[z.inherit(z.TITLE_MODE,{begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/})].concat(He)},he,fe,{beginKeywords:"import",end:/$/,contains:[].concat(q),relevance:0}],He,et,Ve,[wt,Yt],Ge,Me,[Oe,ye])}}ce.exports=R},52606:function(ce){function k(P){return P?typeof P=="string"?P:P.source:null}function c(P){return d("(?=",P,")")}function r(P){return d("(",P,")?")}function d(){for(var P=arguments.length,h=new Array(P),x=0;x<P;x++)h[x]=arguments[x];var E=h.map(function(m){return k(m)}).join("");return E}function b(){for(var P=arguments.length,h=new Array(P),x=0;x<P;x++)h[x]=arguments[x];var E="("+h.map(function(m){return k(m)}).join("|")+")";return E}function w(P){var h=d(/[A-Z_]/,r(/[A-Z0-9_.-]*:/),/[A-Z0-9_.-]*/),x=/[A-Za-z0-9._:-]+/,E={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},m={begin:/\s/,contains:[{className:"meta-keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},D=P.inherit(m,{begin:/\(/,end:/\)/}),y=P.inherit(P.APOS_STRING_MODE,{className:"meta-string"}),A=P.inherit(P.QUOTE_STRING_MODE,{className:"meta-string"}),C={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:x,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[E]},{begin:/'/,end:/'/,contains:[E]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[m,A,y,D,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[m,D,A,y]}]}]},P.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},E,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[C],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[C],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:d(/</,c(d(h,b(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:h,relevance:0,starts:C}]},{className:"tag",begin:d(/<\//,c(d(h,/>/))),contains:[{className:"name",begin:h,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}ce.exports=w},85884:function(ce){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */ce.exports=function(r){return r!=null&&(k(r)||c(r)||!!r._isBuffer)};function k(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function c(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&k(r.slice(0,0))}},92850:function(ce,k,c){var r=c(30536),d=c(88625);function b(w,P,h){(h!==void 0&&!d(w[P],h)||h===void 0&&!(P in w))&&r(w,P,h)}ce.exports=b},94541:function(ce,k,c){var r=c(63757),d=c(92850),b=c(5027),w=c(61317),P=c(14193),h=c(87102),x=c(27032);function E(m,D,y,A,C){m!==D&&b(D,function(I,S){if(C||(C=new r),P(I))w(m,D,S,y,E,A,C);else{var O=A?A(x(m,S),I,S+"",m,D,C):void 0;O===void 0&&(O=I),d(m,S,O)}},h)}ce.exports=E},61317:function(ce,k,c){var r=c(92850),d=c(29687),b=c(61329),w=c(7058),P=c(26163),h=c(26242),x=c(62360),E=c(55928),m=c(50728),D=c(10265),y=c(14193),A=c(1656),C=c(56678),I=c(27032),S=c(90469);function O(T,f,B,u,U,L,F){var N=I(T,B),H=I(f,B),V=F.get(H);if(V){r(T,B,V);return}var G=L?L(N,H,B+"",T,f,F):void 0,R=G===void 0;if(R){var z=x(H),K=!z&&m(H),Y=!z&&!K&&C(H);G=H,z||K||Y?x(N)?G=N:E(N)?G=w(N):K?(R=!1,G=d(H,!0)):Y?(R=!1,G=b(H,!0)):G=[]:A(H)||h(H)?(G=N,h(N)?G=S(N):(!y(N)||D(N))&&(G=P(H))):R=!1}R&&(F.set(H,G),U(G,H,u,L,F),F.delete(H)),r(T,B,G)}ce.exports=O},40498:function(ce,k,c){var r=c(31143),d=c(61517),b=c(90446),w=c(49251),P=c(63874),h=c(67103),x=200;function E(m,D,y){var A=-1,C=d,I=m.length,S=!0,O=[],T=O;if(y)S=!1,C=b;else if(I>=x){var f=D?null:P(m);if(f)return h(f);S=!1,C=w,T=new r}else T=D?[]:O;e:for(;++A<I;){var B=m[A],u=D?D(B):B;if(B=y||B!==0?B:0,S&&u===u){for(var U=T.length;U--;)if(T[U]===u)continue e;D&&T.push(u),O.push(B)}else C(T,u,y)||(T!==O&&T.push(u),O.push(B))}return O}ce.exports=E},6714:function(ce,k,c){var r=c(79570),d=c(98223);function b(w){return r(function(P,h){var x=-1,E=h.length,m=E>1?h[E-1]:void 0,D=E>2?h[2]:void 0;for(m=w.length>3&&typeof m=="function"?(E--,m):void 0,D&&d(h[0],h[1],D)&&(m=E<3?void 0:m,E=1),P=Object(P);++x<E;){var y=h[x];y&&w(P,y,x,m)}return P})}ce.exports=b},7571:function(ce,k,c){var r=c(59691),d=c(72588),b=c(20766);function w(P){return function(h,x,E){var m=Object(h);if(!d(h)){var D=r(x,3);h=b(h),x=function(C){return D(m[C],C,m)}}var y=P(h,x,E);return y>-1?m[D?h[y]:y]:void 0}}ce.exports=w},49913:function(ce,k,c){var r=c(4437),d=c(48026),b=c(926),w=c(90384),P=r.isFinite,h=Math.min;function x(E){var m=Math[E];return function(D,y){if(D=b(D),y=y==null?0:h(d(y),292),y&&P(D)){var A=(w(D)+"e").split("e"),C=m(A[0]+"e"+(+A[1]+y));return A=(w(C)+"e").split("e"),+(A[0]+"e"+(+A[1]-y))}return m(D)}}ce.exports=x},63874:function(ce,k,c){var r=c(52766),d=c(62002),b=c(67103),w=1/0,P=r&&1/b(new r([,-0]))[1]==w?function(h){return new r(h)}:d;ce.exports=P},98223:function(ce,k,c){var r=c(88625),d=c(72588),b=c(17440),w=c(14193);function P(h,x,E){if(!w(E))return!1;var m=typeof x;return(m=="number"?d(E)&&b(x,E.length):m=="string"&&x in E)?r(E[x],h):!1}ce.exports=P},27032:function(ce){function k(c,r){if(!(r==="constructor"&&typeof c[r]=="function")&&r!="__proto__")return c[r]}ce.exports=k},51514:function(ce,k,c){var r=c(7571),d=c(5189),b=r(d);ce.exports=b},5189:function(ce,k,c){var r=c(25452),d=c(59691),b=c(48026),w=Math.max;function P(h,x,E){var m=h==null?0:h.length;if(!m)return-1;var D=E==null?0:b(E);return D<0&&(D=w(m+D,0)),r(h,d(x,3),D)}ce.exports=P},6926:function(ce,k,c){var r=c(94541),d=c(6714),b=d(function(w,P,h){r(w,P,h)});ce.exports=b},62002:function(ce){function k(){}ce.exports=k},37700:function(ce,k,c){var r=c(49913),d=r("round");ce.exports=d},64728:function(ce,k,c){var r=c(926),d=1/0,b=17976931348623157e292;function w(P){if(!P)return P===0?P:0;if(P=r(P),P===d||P===-d){var h=P<0?-1:1;return h*b}return P===P?P:0}ce.exports=w},48026:function(ce,k,c){var r=c(64728);function d(b){var w=r(b),P=w%1;return w===w?P?w-P:w:0}ce.exports=d},90469:function(ce,k,c){var r=c(32667),d=c(87102);function b(w){return r(w,d(w))}ce.exports=b},47049:function(ce,k,c){var r=c(40498);function d(b){return b&&b.length?r(b):[]}ce.exports=d},75985:function(ce,k,c){(function(){var r=c(55983),d=c(97279).utf8,b=c(85884),w=c(97279).bin,P=function h(x,E){x.constructor==String?E&&E.encoding==="binary"?x=w.stringToBytes(x):x=d.stringToBytes(x):b(x)?x=Array.prototype.slice.call(x,0):!Array.isArray(x)&&x.constructor!==Uint8Array&&(x=x.toString());for(var m=r.bytesToWords(x),D=x.length*8,y=1732584193,A=-271733879,C=-1732584194,I=271733878,S=0;S<m.length;S++)m[S]=(m[S]<<8|m[S]>>>24)&16711935|(m[S]<<24|m[S]>>>8)&4278255360;m[D>>>5]|=128<<D%32,m[(D+64>>>9<<4)+14]=D;for(var O=h._ff,T=h._gg,f=h._hh,B=h._ii,S=0;S<m.length;S+=16){var u=y,U=A,L=C,F=I;y=O(y,A,C,I,m[S+0],7,-680876936),I=O(I,y,A,C,m[S+1],12,-389564586),C=O(C,I,y,A,m[S+2],17,606105819),A=O(A,C,I,y,m[S+3],22,-1044525330),y=O(y,A,C,I,m[S+4],7,-176418897),I=O(I,y,A,C,m[S+5],12,1200080426),C=O(C,I,y,A,m[S+6],17,-1473231341),A=O(A,C,I,y,m[S+7],22,-45705983),y=O(y,A,C,I,m[S+8],7,1770035416),I=O(I,y,A,C,m[S+9],12,-1958414417),C=O(C,I,y,A,m[S+10],17,-42063),A=O(A,C,I,y,m[S+11],22,-1990404162),y=O(y,A,C,I,m[S+12],7,1804603682),I=O(I,y,A,C,m[S+13],12,-40341101),C=O(C,I,y,A,m[S+14],17,-1502002290),A=O(A,C,I,y,m[S+15],22,1236535329),y=T(y,A,C,I,m[S+1],5,-165796510),I=T(I,y,A,C,m[S+6],9,-1069501632),C=T(C,I,y,A,m[S+11],14,643717713),A=T(A,C,I,y,m[S+0],20,-373897302),y=T(y,A,C,I,m[S+5],5,-701558691),I=T(I,y,A,C,m[S+10],9,38016083),C=T(C,I,y,A,m[S+15],14,-660478335),A=T(A,C,I,y,m[S+4],20,-405537848),y=T(y,A,C,I,m[S+9],5,568446438),I=T(I,y,A,C,m[S+14],9,-1019803690),C=T(C,I,y,A,m[S+3],14,-187363961),A=T(A,C,I,y,m[S+8],20,1163531501),y=T(y,A,C,I,m[S+13],5,-1444681467),I=T(I,y,A,C,m[S+2],9,-51403784),C=T(C,I,y,A,m[S+7],14,1735328473),A=T(A,C,I,y,m[S+12],20,-1926607734),y=f(y,A,C,I,m[S+5],4,-378558),I=f(I,y,A,C,m[S+8],11,-2022574463),C=f(C,I,y,A,m[S+11],16,1839030562),A=f(A,C,I,y,m[S+14],23,-35309556),y=f(y,A,C,I,m[S+1],4,-1530992060),I=f(I,y,A,C,m[S+4],11,1272893353),C=f(C,I,y,A,m[S+7],16,-155497632),A=f(A,C,I,y,m[S+10],23,-1094730640),y=f(y,A,C,I,m[S+13],4,681279174),I=f(I,y,A,C,m[S+0],11,-358537222),C=f(C,I,y,A,m[S+3],16,-722521979),A=f(A,C,I,y,m[S+6],23,76029189),y=f(y,A,C,I,m[S+9],4,-640364487),I=f(I,y,A,C,m[S+12],11,-421815835),C=f(C,I,y,A,m[S+15],16,530742520),A=f(A,C,I,y,m[S+2],23,-995338651),y=B(y,A,C,I,m[S+0],6,-198630844),I=B(I,y,A,C,m[S+7],10,1126891415),C=B(C,I,y,A,m[S+14],15,-1416354905),A=B(A,C,I,y,m[S+5],21,-57434055),y=B(y,A,C,I,m[S+12],6,1700485571),I=B(I,y,A,C,m[S+3],10,-1894986606),C=B(C,I,y,A,m[S+10],15,-1051523),A=B(A,C,I,y,m[S+1],21,-2054922799),y=B(y,A,C,I,m[S+8],6,1873313359),I=B(I,y,A,C,m[S+15],10,-30611744),C=B(C,I,y,A,m[S+6],15,-1560198380),A=B(A,C,I,y,m[S+13],21,1309151649),y=B(y,A,C,I,m[S+4],6,-145523070),I=B(I,y,A,C,m[S+11],10,-1120210379),C=B(C,I,y,A,m[S+2],15,718787259),A=B(A,C,I,y,m[S+9],21,-343485551),y=y+u>>>0,A=A+U>>>0,C=C+L>>>0,I=I+F>>>0}return r.endian([y,A,C,I])};P._ff=function(h,x,E,m,D,y,A){var C=h+(x&E|~x&m)+(D>>>0)+A;return(C<<y|C>>>32-y)+x},P._gg=function(h,x,E,m,D,y,A){var C=h+(x&m|E&~m)+(D>>>0)+A;return(C<<y|C>>>32-y)+x},P._hh=function(h,x,E,m,D,y,A){var C=h+(x^E^m)+(D>>>0)+A;return(C<<y|C>>>32-y)+x},P._ii=function(h,x,E,m,D,y,A){var C=h+(E^(x|~m))+(D>>>0)+A;return(C<<y|C>>>32-y)+x},P._blocksize=16,P._digestsize=16,ce.exports=function(h,x){if(h==null)throw new Error("Illegal argument "+h);var E=r.wordsToBytes(P(h,x));return x&&x.asBytes?E:x&&x.asString?w.bytesToString(E):r.bytesToHex(E)}})()},46198:function(ce,k,c){"use strict";function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(d){console.error(d)}}r(),ce.exports=c(23801)},73117:function(ce,k,c){"use strict";ce.exports=c(24014)},89870:function(ce,k,c){"use strict";c.d(k,{Provider:function(){return r.zt},connect:function(){return r.$j},shallowEqual:function(){return r.wU},useDispatch:function(){return r.I0},useSelector:function(){return r.v9}});var r=c(79973),d=c(86312),b=c(26521);(0,b.F)(d.m)},7485:function(ce,k,c){"use strict";ce.exports=c(67887)},16193:function(ce,k,c){"use strict";var r,d=c(70103).compose;r=!0,k.Uo=function(){if(arguments.length!==0)return typeof arguments[0]=="object"?d:d.apply(null,arguments)},r=function(){return function(b){return b}}},24978:function(ce,k){"use strict";var c;c={value:!0};var r=Object.assign||function(h){for(var x=1;x<arguments.length;x++){var E=arguments[x];for(var m in E)Object.prototype.hasOwnProperty.call(E,m)&&(h[m]=E[m])}return h},d=function(){var x=null,E={},m=function(I){var S=E[I.type];return S&&S(x,I)},D=function(I){if(typeof I.getState!="function"||typeof I.dispatch!="function")throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore");if(x!==null)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore");return x=I,function(S){return function(O){return m(O)===!0||S(O)}}},y=function(I,S){if(typeof I!="string")throw new Error("[ReduxEntry][setEntry] non-string actionType: "+I);if(typeof S!="function")throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+I+", "+S);E[I]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+I),E[I]=S},A=function(I){return Object.keys(I).forEach(function(S){return y(S,I[S])})};return{middleware:D,setEntry:y,setEntryMap:A}},b=function(x){if(x===void 0)throw new Error("[ReduxEntry][createStateStore] initialState expected");return{getState:function(){return x},setState:function(m){return x=m},wrapEntry:function(m){return function(D,y){return m(x,D,y)}}}},w=function(x,E){var m=E.getState,D=E.setState;return function(y,A){var C=A.type,I=A.payload;return C===x&&D(I),m()}},P=function(x,E){var m=E.getState,D=E.setState;return function(y,A){var C=A.type,I=A.payload;return C===x&&D(r({},m(),I)),m()}};k.gk=d,k.Z7=b,k.jA=w,c=P},70103:function(ce,k,c){"use strict";c.d(k,{applyMiddleware:function(){return U},combineReducers:function(){return T},compose:function(){return u},createStore:function(){return A}});var r=c(91520);function d(L){return"Minified Redux error #"+L+"; visit https://redux.js.org/Errors?code="+L+" for the full message or use the non-minified dev environment for full errors. "}var b=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),w=function(){return Math.random().toString(36).substring(7).split("").join(".")},P={INIT:"@@redux/INIT"+w(),REPLACE:"@@redux/REPLACE"+w(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+w()}};function h(L){if(typeof L!="object"||L===null)return!1;for(var F=L;Object.getPrototypeOf(F)!==null;)F=Object.getPrototypeOf(F);return Object.getPrototypeOf(L)===F}function x(L){if(L===void 0)return"undefined";if(L===null)return"null";var F=typeof L;switch(F){case"boolean":case"string":case"number":case"symbol":case"function":return F}if(Array.isArray(L))return"array";if(D(L))return"date";if(m(L))return"error";var N=E(L);switch(N){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return N}return F.slice(8,-1).toLowerCase().replace(/\s/g,"")}function E(L){return typeof L.constructor=="function"?L.constructor.name:null}function m(L){return L instanceof Error||typeof L.message=="string"&&L.constructor&&typeof L.constructor.stackTraceLimit=="number"}function D(L){return L instanceof Date?!0:typeof L.toDateString=="function"&&typeof L.getDate=="function"&&typeof L.setDate=="function"}function y(L){var F=typeof L;return F}function A(L,F,N){var H;if(typeof F=="function"&&typeof N=="function"||typeof N=="function"&&typeof arguments[3]=="function")throw new Error(d(0));if(typeof F=="function"&&typeof N>"u"&&(N=F,F=void 0),typeof N<"u"){if(typeof N!="function")throw new Error(d(1));return N(A)(L,F)}if(typeof L!="function")throw new Error(d(2));var V=L,G=F,R=[],z=R,K=!1;function Y(){z===R&&(z=R.slice())}function q(){if(K)throw new Error(d(3));return G}function Q(ve){if(typeof ve!="function")throw new Error(d(4));if(K)throw new Error(d(5));var Pe=!0;return Y(),z.push(ve),function(){if(Pe){if(K)throw new Error(d(6));Pe=!1,Y();var Ne=z.indexOf(ve);z.splice(Ne,1),R=null}}}function ee(ve){if(!h(ve))throw new Error(d(7));if(typeof ve.type>"u")throw new Error(d(8));if(K)throw new Error(d(9));try{K=!0,G=V(G,ve)}finally{K=!1}for(var Pe=R=z,He=0;He<Pe.length;He++){var Ne=Pe[He];Ne()}return ve}function oe(ve){if(typeof ve!="function")throw new Error(d(10));V=ve,ee({type:P.REPLACE})}function pe(){var ve,Pe=Q;return ve={subscribe:function(Ne){if(typeof Ne!="object"||Ne===null)throw new Error(d(11));function Ze(){Ne.next&&Ne.next(q())}Ze();var et=Pe(Ze);return{unsubscribe:et}}},ve[b]=function(){return this},ve}return ee({type:P.INIT}),H={dispatch:ee,subscribe:Q,getState:q,replaceReducer:oe},H[b]=pe,H}var C=null;function I(L){typeof console<"u"&&typeof console.error=="function"&&console.error(L);try{throw new Error(L)}catch(F){}}function S(L,F,N,H){var V=Object.keys(F),G=N&&N.type===P.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(V.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!h(L))return"The "+G+' has unexpected type of "'+y(L)+'". Expected argument to be an object with the following '+('keys: "'+V.join('", "')+'"');var R=Object.keys(L).filter(function(z){return!F.hasOwnProperty(z)&&!H[z]});if(R.forEach(function(z){H[z]=!0}),!(N&&N.type===P.REPLACE)&&R.length>0)return"Unexpected "+(R.length>1?"keys":"key")+" "+('"'+R.join('", "')+'" found in '+G+". ")+"Expected to find one of the known reducer keys instead: "+('"'+V.join('", "')+'". Unexpected keys will be ignored.')}function O(L){Object.keys(L).forEach(function(F){var N=L[F],H=N(void 0,{type:P.INIT});if(typeof H>"u")throw new Error(d(12));if(typeof N(void 0,{type:P.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(d(13))})}function T(L){for(var F=Object.keys(L),N={},H=0;H<F.length;H++){var V=F[H];typeof L[V]=="function"&&(N[V]=L[V])}var G=Object.keys(N),R,z;try{O(N)}catch(K){z=K}return function(Y,q){if(Y===void 0&&(Y={}),z)throw z;if(!1)var Q;for(var ee=!1,oe={},pe=0;pe<G.length;pe++){var ve=G[pe],Pe=N[ve],He=Y[ve],Ne=Pe(He,q);if(typeof Ne>"u"){var Ze=q&&q.type;throw new Error(d(14))}oe[ve]=Ne,ee=ee||Ne!==He}return ee=ee||G.length!==Object.keys(Y).length,ee?oe:Y}}function f(L,F){return function(){return F(L.apply(this,arguments))}}function B(L,F){if(typeof L=="function")return f(L,F);if(typeof L!="object"||L===null)throw new Error(d(16));var N={};for(var H in L){var V=L[H];typeof V=="function"&&(N[H]=f(V,F))}return N}function u(){for(var L=arguments.length,F=new Array(L),N=0;N<L;N++)F[N]=arguments[N];return F.length===0?function(H){return H}:F.length===1?F[0]:F.reduce(function(H,V){return function(){return H(V.apply(void 0,arguments))}})}function U(){for(var L=arguments.length,F=new Array(L),N=0;N<L;N++)F[N]=arguments[N];return function(H){return function(){var V=H.apply(void 0,arguments),G=function(){throw new Error(d(15))},R={getState:V.getState,dispatch:function(){return G.apply(void 0,arguments)}},z=F.map(function(K){return K(R)});return G=u.apply(void 0,z)(V.dispatch),(0,r.Z)((0,r.Z)({},V),{},{dispatch:G})}}}},91045:function(ce){(function(){"use strict";var k=typeof window<"u"&&typeof window.document<"u"?window.document:{},c=ce.exports,r=function(){for(var w,P=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],h=0,x=P.length,E={};h<x;h++)if(w=P[h],w&&w[1]in k){for(h=0;h<w.length;h++)E[P[0][h]]=w[h];return E}return!1}(),d={change:r.fullscreenchange,error:r.fullscreenerror},b={request:function(P,h){return new Promise(function(x,E){var m=function(){this.off("change",m),x()}.bind(this);this.on("change",m),P=P||k.documentElement;var D=P[r.requestFullscreen](h);D instanceof Promise&&D.then(m).catch(E)}.bind(this))},exit:function(){return new Promise(function(P,h){if(!this.isFullscreen){P();return}var x=function(){this.off("change",x),P()}.bind(this);this.on("change",x);var E=k[r.exitFullscreen]();E instanceof Promise&&E.then(x).catch(h)}.bind(this))},toggle:function(P,h){return this.isFullscreen?this.exit():this.request(P,h)},onchange:function(P){this.on("change",P)},onerror:function(P){this.on("error",P)},on:function(P,h){var x=d[P];x&&k.addEventListener(x,h,!1)},off:function(P,h){var x=d[P];x&&k.removeEventListener(x,h,!1)},raw:r};if(!r){c?ce.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(b,{isFullscreen:{get:function(){return!!k[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return k[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!k[r.fullscreenEnabled]}}}),c?ce.exports=b:window.screenfull=b})()},10846:function(ce){(function(c,r){ce.exports=r()})(window,function(){return function(k){var c={};function r(d){if(c[d])return c[d].exports;var b=c[d]={i:d,l:!1,exports:{}};return k[d].call(b.exports,b,b.exports,r),b.l=!0,b.exports}return r.m=k,r.c=c,r.d=function(d,b,w){r.o(d,b)||Object.defineProperty(d,b,{enumerable:!0,get:w})},r.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},r.t=function(d,b){if(b&1&&(d=r(d)),b&8||b&4&&typeof d=="object"&&d&&d.__esModule)return d;var w=Object.create(null);if(r.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:d}),b&2&&typeof d!="string")for(var P in d)r.d(w,P,function(h){return d[h]}.bind(null,P));return w},r.n=function(d){var b=d&&d.__esModule?function(){return d.default}:function(){return d};return r.d(b,"a",b),b},r.o=function(d,b){return Object.prototype.hasOwnProperty.call(d,b)},r.p="",r(r.s=141)}([function(k,c){function r(d){return d&&d.__esModule?d:{default:d}}k.exports=r},function(k,c,r){k.exports=r(142)},function(k,c,r){"use strict";r.r(c),r.d(c,"__extends",function(){return b}),r.d(c,"__assign",function(){return w}),r.d(c,"__rest",function(){return P}),r.d(c,"__decorate",function(){return h}),r.d(c,"__param",function(){return x}),r.d(c,"__metadata",function(){return E}),r.d(c,"__awaiter",function(){return m}),r.d(c,"__generator",function(){return D}),r.d(c,"__createBinding",function(){return y}),r.d(c,"__exportStar",function(){return A}),r.d(c,"__values",function(){return C}),r.d(c,"__read",function(){return I}),r.d(c,"__spread",function(){return S}),r.d(c,"__spreadArrays",function(){return O}),r.d(c,"__spreadArray",function(){return T}),r.d(c,"__await",function(){return f}),r.d(c,"__asyncGenerator",function(){return B}),r.d(c,"__asyncDelegator",function(){return u}),r.d(c,"__asyncValues",function(){return U}),r.d(c,"__makeTemplateObject",function(){return L}),r.d(c,"__importStar",function(){return N}),r.d(c,"__importDefault",function(){return H}),r.d(c,"__classPrivateFieldGet",function(){return V}),r.d(c,"__classPrivateFieldSet",function(){return G});var d=function(z,K){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,q){Y.__proto__=q}||function(Y,q){for(var Q in q)Object.prototype.hasOwnProperty.call(q,Q)&&(Y[Q]=q[Q])},d(z,K)};function b(R,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");d(R,z);function K(){this.constructor=R}R.prototype=z===null?Object.create(z):(K.prototype=z.prototype,new K)}var w=function(){return w=Object.assign||function(K){for(var Y,q=1,Q=arguments.length;q<Q;q++){Y=arguments[q];for(var ee in Y)Object.prototype.hasOwnProperty.call(Y,ee)&&(K[ee]=Y[ee])}return K},w.apply(this,arguments)};function P(R,z){var K={};for(var Y in R)Object.prototype.hasOwnProperty.call(R,Y)&&z.indexOf(Y)<0&&(K[Y]=R[Y]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,Y=Object.getOwnPropertySymbols(R);q<Y.length;q++)z.indexOf(Y[q])<0&&Object.prototype.propertyIsEnumerable.call(R,Y[q])&&(K[Y[q]]=R[Y[q]]);return K}function h(R,z,K,Y){var q=arguments.length,Q=q<3?z:Y===null?Y=Object.getOwnPropertyDescriptor(z,K):Y,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(R,z,K,Y);else for(var oe=R.length-1;oe>=0;oe--)(ee=R[oe])&&(Q=(q<3?ee(Q):q>3?ee(z,K,Q):ee(z,K))||Q);return q>3&&Q&&Object.defineProperty(z,K,Q),Q}function x(R,z){return function(K,Y){z(K,Y,R)}}function E(R,z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(R,z)}function m(R,z,K,Y){function q(Q){return Q instanceof K?Q:new K(function(ee){ee(Q)})}return new(K||(K=Promise))(function(Q,ee){function oe(Pe){try{ve(Y.next(Pe))}catch(He){ee(He)}}function pe(Pe){try{ve(Y.throw(Pe))}catch(He){ee(He)}}function ve(Pe){Pe.done?Q(Pe.value):q(Pe.value).then(oe,pe)}ve((Y=Y.apply(R,z||[])).next())})}function D(R,z){var K={label:0,sent:function(){if(Q[0]&1)throw Q[1];return Q[1]},trys:[],ops:[]},Y,q,Q,ee;return ee={next:oe(0),throw:oe(1),return:oe(2)},typeof Symbol=="function"&&(ee[Symbol.iterator]=function(){return this}),ee;function oe(ve){return function(Pe){return pe([ve,Pe])}}function pe(ve){if(Y)throw new TypeError("Generator is already executing.");for(;K;)try{if(Y=1,q&&(Q=ve[0]&2?q.return:ve[0]?q.throw||((Q=q.return)&&Q.call(q),0):q.next)&&!(Q=Q.call(q,ve[1])).done)return Q;switch(q=0,Q&&(ve=[ve[0]&2,Q.value]),ve[0]){case 0:case 1:Q=ve;break;case 4:return K.label++,{value:ve[1],done:!1};case 5:K.label++,q=ve[1],ve=[0];continue;case 7:ve=K.ops.pop(),K.trys.pop();continue;default:if(Q=K.trys,!(Q=Q.length>0&&Q[Q.length-1])&&(ve[0]===6||ve[0]===2)){K=0;continue}if(ve[0]===3&&(!Q||ve[1]>Q[0]&&ve[1]<Q[3])){K.label=ve[1];break}if(ve[0]===6&&K.label<Q[1]){K.label=Q[1],Q=ve;break}if(Q&&K.label<Q[2]){K.label=Q[2],K.ops.push(ve);break}Q[2]&&K.ops.pop(),K.trys.pop();continue}ve=z.call(R,K)}catch(Pe){ve=[6,Pe],q=0}finally{Y=Q=0}if(ve[0]&5)throw ve[1];return{value:ve[0]?ve[1]:void 0,done:!0}}}var y=Object.create?function(R,z,K,Y){Y===void 0&&(Y=K),Object.defineProperty(R,Y,{enumerable:!0,get:function(){return z[K]}})}:function(R,z,K,Y){Y===void 0&&(Y=K),R[Y]=z[K]};function A(R,z){for(var K in R)K!=="default"&&!Object.prototype.hasOwnProperty.call(z,K)&&y(z,R,K)}function C(R){var z=typeof Symbol=="function"&&Symbol.iterator,K=z&&R[z],Y=0;if(K)return K.call(R);if(R&&typeof R.length=="number")return{next:function(){return R&&Y>=R.length&&(R=void 0),{value:R&&R[Y++],done:!R}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}function I(R,z){var K=typeof Symbol=="function"&&R[Symbol.iterator];if(!K)return R;var Y=K.call(R),q,Q=[],ee;try{for(;(z===void 0||z-- >0)&&!(q=Y.next()).done;)Q.push(q.value)}catch(oe){ee={error:oe}}finally{try{q&&!q.done&&(K=Y.return)&&K.call(Y)}finally{if(ee)throw ee.error}}return Q}function S(){for(var R=[],z=0;z<arguments.length;z++)R=R.concat(I(arguments[z]));return R}function O(){for(var R=0,z=0,K=arguments.length;z<K;z++)R+=arguments[z].length;for(var Y=Array(R),q=0,z=0;z<K;z++)for(var Q=arguments[z],ee=0,oe=Q.length;ee<oe;ee++,q++)Y[q]=Q[ee];return Y}function T(R,z){for(var K=0,Y=z.length,q=R.length;K<Y;K++,q++)R[q]=z[K];return R}function f(R){return this instanceof f?(this.v=R,this):new f(R)}function B(R,z,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=K.apply(R,z||[]),q,Q=[];return q={},ee("next"),ee("throw"),ee("return"),q[Symbol.asyncIterator]=function(){return this},q;function ee(Ne){Y[Ne]&&(q[Ne]=function(Ze){return new Promise(function(et,Je){Q.push([Ne,Ze,et,Je])>1||oe(Ne,Ze)})})}function oe(Ne,Ze){try{pe(Y[Ne](Ze))}catch(et){He(Q[0][3],et)}}function pe(Ne){Ne.value instanceof f?Promise.resolve(Ne.value.v).then(ve,Pe):He(Q[0][2],Ne)}function ve(Ne){oe("next",Ne)}function Pe(Ne){oe("throw",Ne)}function He(Ne,Ze){Ne(Ze),Q.shift(),Q.length&&oe(Q[0][0],Q[0][1])}}function u(R){var z,K;return z={},Y("next"),Y("throw",function(q){throw q}),Y("return"),z[Symbol.iterator]=function(){return this},z;function Y(q,Q){z[q]=R[q]?function(ee){return(K=!K)?{value:f(R[q](ee)),done:q==="return"}:Q?Q(ee):ee}:Q}}function U(R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z=R[Symbol.asyncIterator],K;return z?z.call(R):(R=typeof C=="function"?C(R):R[Symbol.iterator](),K={},Y("next"),Y("throw"),Y("return"),K[Symbol.asyncIterator]=function(){return this},K);function Y(Q){K[Q]=R[Q]&&function(ee){return new Promise(function(oe,pe){ee=R[Q](ee),q(oe,pe,ee.done,ee.value)})}}function q(Q,ee,oe,pe){Promise.resolve(pe).then(function(ve){Q({value:ve,done:oe})},ee)}}function L(R,z){return Object.defineProperty?Object.defineProperty(R,"raw",{value:z}):R.raw=z,R}var F=Object.create?function(R,z){Object.defineProperty(R,"default",{enumerable:!0,value:z})}:function(R,z){R.default=z};function N(R){if(R&&R.__esModule)return R;var z={};if(R!=null)for(var K in R)K!=="default"&&Object.prototype.hasOwnProperty.call(R,K)&&y(z,R,K);return F(z,R),z}function H(R){return R&&R.__esModule?R:{default:R}}function V(R,z){if(!z.has(R))throw new TypeError("attempted to get private field on non-instance");return z.get(R)}function G(R,z,K){if(!z.has(R))throw new TypeError("attempted to set private field on non-instance");return z.set(R,K),K}},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(89)),P=d(r(4)),h=d(r(26)),x=d(r(17)),E=d(r(120)),m=d(r(27)),D=d(r(91)),y=d(r(70)),A=d(r(44)),C=d(r(57));(0,b.default)(c,"__esModule",{value:!0}),c.DomElement=void 0;var I=r(2),S=r(6),O=[];function T(F){var N=document.createElement("div");N.innerHTML=F;var H=N.children;return S.toArray(H)}function f(F){return F?F instanceof HTMLCollection||F instanceof NodeList:!1}function B(F){var N=document.querySelectorAll(F);return S.toArray(N)}function u(F){var N=[],H=[];return(0,w.default)(F)?N=F:N=F.split(";"),(0,P.default)(N).call(N,function(V){var G,R=(0,h.default)(G=V.split(":")).call(G,function(z){return(0,x.default)(z).call(z)});R.length===2&&H.push(R[0]+":"+R[1])}),H}var U=function(){function F(N){if(this.elems=[],this.length=this.elems.length,this.dataSource=new E.default,!!N){if(N instanceof F)return N;var H=[],V=N instanceof Node?N.nodeType:-1;if(this.selector=N,V===1||V===9)H=[N];else if(f(N))H=S.toArray(N);else if(N instanceof Array)H=N;else if(typeof N=="string"){var G,R=(0,x.default)(G=N.replace("/\n/mg","")).call(G);(0,m.default)(R).call(R,"<")===0?H=T(R):H=B(R)}var z=H.length;if(!z)return this;for(var K=0;K<z;K++)this.elems.push(H[K]);this.length=z}}return(0,b.default)(F.prototype,"id",{get:function(){return this.elems[0].id},enumerable:!1,configurable:!0}),F.prototype.forEach=function(N){for(var H=0;H<this.length;H++){var V=this.elems[H],G=N.call(V,V,H);if(G===!1)break}return this},F.prototype.clone=function(N){var H;N===void 0&&(N=!1);var V=[];return(0,P.default)(H=this.elems).call(H,function(G){V.push(G.cloneNode(!!N))}),L(V)},F.prototype.get=function(N){N===void 0&&(N=0);var H=this.length;return N>=H&&(N=N%H),L(this.elems[N])},F.prototype.first=function(){return this.get(0)},F.prototype.last=function(){var N=this.length;return this.get(N-1)},F.prototype.on=function(N,H,V){var G;return N?(typeof H=="function"&&(V=H,H=""),(0,P.default)(G=this).call(G,function(R){if(!H){R.addEventListener(N,V);return}var z=function(Y){var q=Y.target;q.matches(H)&&V.call(q,Y)};R.addEventListener(N,z),O.push({elem:R,selector:H,fn:V,agentFn:z})})):this},F.prototype.off=function(N,H,V){var G;return N?(typeof H=="function"&&(V=H,H=""),(0,P.default)(G=this).call(G,function(R){if(H){for(var z=-1,K=0;K<O.length;K++){var Y=O[K];if(Y.selector===H&&Y.fn===V&&Y.elem===R){z=K;break}}if(z!==-1){var q=(0,D.default)(O).call(O,z,1)[0].agentFn;R.removeEventListener(N,q)}}else R.removeEventListener(N,V)})):this},F.prototype.attr=function(N,H){var V;return H==null?this.elems[0].getAttribute(N)||"":(0,P.default)(V=this).call(V,function(G){G.setAttribute(N,H)})},F.prototype.removeAttr=function(N){var H;(0,P.default)(H=this).call(H,function(V){V.removeAttribute(N)})},F.prototype.addClass=function(N){var H;return N?(0,P.default)(H=this).call(H,function(V){if(V.className){var G=V.className.split(/\s/);G=(0,y.default)(G).call(G,function(R){return!!(0,x.default)(R).call(R)}),(0,m.default)(G).call(G,N)<0&&G.push(N),V.className=G.join(" ")}else V.className=N}):this},F.prototype.removeClass=function(N){var H;return N?(0,P.default)(H=this).call(H,function(V){if(V.className){var G=V.className.split(/\s/);G=(0,y.default)(G).call(G,function(R){return R=(0,x.default)(R).call(R),!(!R||R===N)}),V.className=G.join(" ")}}):this},F.prototype.hasClass=function(N){if(!N)return!1;var H=this.elems[0];if(!H.className)return!1;var V=H.className.split(/\s/);return(0,A.default)(V).call(V,N)},F.prototype.css=function(N,H){var V,G;return H==""?G="":G=N+":"+H+";",(0,P.default)(V=this).call(V,function(R){var z,K=(0,x.default)(z=R.getAttribute("style")||"").call(z);if(K){var Y=u(K);Y=(0,h.default)(Y).call(Y,function(q){return(0,m.default)(q).call(q,N)===0?G:q}),G!=""&&(0,m.default)(Y).call(Y,G)<0&&Y.push(G),G==""&&(Y=u(Y)),R.setAttribute("style",Y.join("; "))}else R.setAttribute("style",G)})},F.prototype.getBoundingClientRect=function(){var N=this.elems[0];return N.getBoundingClientRect()},F.prototype.show=function(){return this.css("display","block")},F.prototype.hide=function(){return this.css("display","none")},F.prototype.children=function(){var N=this.elems[0];return N?L(N.children):null},F.prototype.childNodes=function(){var N=this.elems[0];return N?L(N.childNodes):null},F.prototype.replaceChildAll=function(N){for(var H=this.getNode(),V=this.elems[0];V.hasChildNodes();)H.firstChild&&V.removeChild(H.firstChild);this.append(N)},F.prototype.append=function(N){var H;return(0,P.default)(H=this).call(H,function(V){(0,P.default)(N).call(N,function(G){V.appendChild(G)})})},F.prototype.remove=function(){var N;return(0,P.default)(N=this).call(N,function(H){if(H.remove)H.remove();else{var V=H.parentElement;V&&V.removeChild(H)}})},F.prototype.isContain=function(N){var H=this.elems[0],V=N.elems[0];return H.contains(V)},F.prototype.getNodeName=function(){var N=this.elems[0];return N.nodeName},F.prototype.getNode=function(N){N===void 0&&(N=0);var H;return H=this.elems[N],H},F.prototype.find=function(N){var H=this.elems[0];return L(H.querySelectorAll(N))},F.prototype.text=function(N){if(N){var V;return(0,P.default)(V=this).call(V,function(G){G.innerHTML=N})}else{var H=this.elems[0];return H.innerHTML.replace(/<[^>]+>/g,function(){return""})}},F.prototype.html=function(N){var H=this.elems[0];return N?(H.innerHTML=N,this):H.innerHTML},F.prototype.val=function(){var N,H=this.elems[0];return(0,x.default)(N=H.value).call(N)},F.prototype.focus=function(){var N;return(0,P.default)(N=this).call(N,function(H){H.focus()})},F.prototype.prev=function(){var N=this.elems[0];return L(N.previousElementSibling)},F.prototype.next=function(){var N=this.elems[0];return L(N.nextElementSibling)},F.prototype.getNextSibling=function(){var N=this.elems[0];return L(N.nextSibling)},F.prototype.parent=function(){var N=this.elems[0];return L(N.parentElement)},F.prototype.parentUntil=function(N,H){var V=H||this.elems[0];if(V.nodeName==="BODY")return null;var G=V.parentElement;return G===null?null:G.matches(N)?L(G):this.parentUntil(N,G)},F.prototype.parentUntilEditor=function(N,H,V){var G=V||this.elems[0];if(L(G).equal(H.$textContainerElem)||L(G).equal(H.$toolbarElem))return null;var R=G.parentElement;return R===null?null:R.matches(N)?L(R):this.parentUntilEditor(N,H,R)},F.prototype.equal=function(N){return N instanceof F?this.elems[0]===N.elems[0]:N instanceof HTMLElement?this.elems[0]===N:!1},F.prototype.insertBefore=function(N){var H,V=L(N),G=V.elems[0];return G?(0,P.default)(H=this).call(H,function(R){var z=G.parentNode;z==null||z.insertBefore(R,G)}):this},F.prototype.insertAfter=function(N){var H,V=L(N),G=V.elems[0],R=G&&G.nextSibling;return G?(0,P.default)(H=this).call(H,function(z){var K=G.parentNode;R?K.insertBefore(z,R):K.appendChild(z)}):this},F.prototype.data=function(N,H){if(H!=null)this.dataSource.set(N,H);else return this.dataSource.get(N)},F.prototype.getNodeTop=function(N){if(this.length<1)return this;var H=this.parent();return N.$textElem.equal(this)||N.$textElem.equal(H)?this:(H.prior=this,H.getNodeTop(N))},F.prototype.getOffsetData=function(){var N=this.elems[0];return{top:N.offsetTop,left:N.offsetLeft,width:N.offsetWidth,height:N.offsetHeight,parent:N.offsetParent}},F.prototype.scrollTop=function(N){var H=this.elems[0];H.scrollTo({top:N})},F}();c.DomElement=U;function L(){for(var F=[],N=0;N<arguments.length;N++)F[N]=arguments[N];return new((0,C.default)(U).apply(U,I.__spreadArrays([void 0],F)))}c.default=L},function(k,c,r){k.exports=r(180)},function(k,c,r){"use strict";var d=r(8),b=r(71).f,w=r(100),P=r(9),h=r(39),x=r(19),E=r(16),m=function(y){var A=function(I,S,O){if(this instanceof y){switch(arguments.length){case 0:return new y;case 1:return new y(I);case 2:return new y(I,S)}return new y(I,S,O)}return y.apply(this,arguments)};return A.prototype=y.prototype,A};k.exports=function(D,y){var A=D.target,C=D.global,I=D.stat,S=D.proto,O=C?d:I?d[A]:(d[A]||{}).prototype,T=C?P:P[A]||(P[A]={}),f=T.prototype,B,u,U,L,F,N,H,V,G;for(L in y)B=w(C?L:A+(I?".":"#")+L,D.forced),u=!B&&O&&E(O,L),N=T[L],u&&(D.noTargetGet?(G=b(O,L),H=G&&G.value):H=O[L]),F=u&&H?H:y[L],!(u&&typeof N==typeof F)&&(D.bind&&u?V=h(F,d):D.wrap&&u?V=m(F):S&&typeof F=="function"?V=h(Function.call,F):V=F,(D.sham||F&&F.sham||N&&N.sham)&&x(V,"sham",!0),T[L]=V,S&&(U=A+"Prototype",E(P,U)||x(P,U,{}),P[U][L]=F,D.real&&f&&!f[L]&&x(f,L,F)))}},function(k,c,r){"use strict";var d=r(0),b=d(r(92)),w=d(r(1)),P=d(r(256)),h=d(r(45)),x=d(r(46)),E=d(r(89)),m=d(r(26));(0,w.default)(c,"__esModule",{value:!0}),c.hexToRgb=c.getRandomCode=c.toArray=c.deepClone=c.isFunction=c.debounce=c.throttle=c.arrForEach=c.forEach=c.replaceSpecialSymbol=c.replaceHtmlSymbol=c.getRandom=c.UA=void 0;var D=r(2),y=function(){function N(){this._ua=navigator.userAgent;var H=this._ua.match(/(Edge?)\/(\d+)/);this.isOldEdge=!!(H&&H[1]=="Edge"&&(0,P.default)(H[2])<19),this.isFirefox=!!(/Firefox\/\d+/.test(this._ua)&&!/Seamonkey\/\d+/.test(this._ua))}return N.prototype.isIE=function(){return"ActiveXObject"in window},N.prototype.isWebkit=function(){return/webkit/i.test(this._ua)},N}();c.UA=new y;function A(N){var H;return N===void 0&&(N=""),N+(0,h.default)(H=Math.random().toString()).call(H,2)}c.getRandom=A;function C(N){return N.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/(\r\n|\r|\n)/g,"<br/>")}c.replaceHtmlSymbol=C;function I(N){return N.replace(/&lt;/gm,"<").replace(/&gt;/gm,">").replace(/&quot;/gm,'"')}c.replaceSpecialSymbol=I;function S(N,H){for(var V in N)if(Object.prototype.hasOwnProperty.call(N,V)){var G=H(V,N[V]);if(G===!1)break}}c.forEach=S;function O(N,H){var V,G,R,z=N.length||0;for(V=0;V<z&&(G=N[V],R=H.call(N,G,V),R!==!1);V++);}c.arrForEach=O;function T(N,H){H===void 0&&(H=200);var V=!1;return function(){for(var G=this,R=[],z=0;z<arguments.length;z++)R[z]=arguments[z];V||(V=!0,(0,x.default)(function(){V=!1,N.call.apply(N,D.__spreadArrays([G],R))},H))}}c.throttle=T;function f(N,H){H===void 0&&(H=200);var V=0;return function(){for(var G=this,R=[],z=0;z<arguments.length;z++)R[z]=arguments[z];V&&window.clearTimeout(V),V=(0,x.default)(function(){V=0,N.call.apply(N,D.__spreadArrays([G],R))},H)}}c.debounce=f;function B(N){return typeof N=="function"}c.isFunction=B;function u(N){if((0,b.default)(N)!=="object"||typeof N=="function"||N===null)return N;var H;(0,E.default)(N)&&(H=[]),(0,E.default)(N)||(H={});for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&(H[V]=u(N[V]));return H}c.deepClone=u;function U(N){return(0,h.default)(Array.prototype).call(N)}c.toArray=U;function L(){var N;return(0,h.default)(N=Math.random().toString(36)).call(N,-5)}c.getRandomCode=L;function F(N){var H=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(N);if(H==null)return null;var V=(0,m.default)(H).call(H,function(K){return(0,P.default)(K,16)}),G=V[1],R=V[2],z=V[3];return"rgb("+G+", "+R+", "+z+")"}c.hexToRgb=F},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.EMPTY_P_REGEX=c.EMPTY_P_LAST_REGEX=c.EMPTY_P=c.urlRegex=c.EMPTY_FN=void 0;function w(){}c.EMPTY_FN=w,c.urlRegex=/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-.,@?^=%&amp;:/~+#]*[\w\-@?^=%&amp;/~+#])?/,c.EMPTY_P='<p data-we-empty-p=""><br></p>',c.EMPTY_P_LAST_REGEX=/<p data-we-empty-p=""><br\/?><\/p>$/gim,c.EMPTY_P_REGEX=/<p data-we-empty-p="">/gim},function(k,c,r){(function(d){var b=function(P){return P&&P.Math==Math&&P};k.exports=b(typeof globalThis=="object"&&globalThis)||b(typeof window=="object"&&window)||b(typeof self=="object"&&self)||b(typeof d=="object"&&d)||Function("return this")()}).call(this,r(145))},function(k,c){k.exports={}},function(k,c,r){var d=r(8),b=r(74),w=r(16),P=r(64),h=r(76),x=r(105),E=b("wks"),m=d.Symbol,D=x?m:m&&m.withoutSetter||P;k.exports=function(y){return w(E,y)||(h&&w(m,y)?E[y]=m[y]:E[y]=D("Symbol."+y)),E[y]}},function(k,c){k.exports=function(r){try{return!!r()}catch(d){return!0}}},function(k,c,r){var d=r(9),b=r(16),w=r(93),P=r(18).f;k.exports=function(h){var x=d.Symbol||(d.Symbol={});b(x,h)||P(x,h,{value:w.f(h)})}},function(k,c){k.exports=function(r){return typeof r=="object"?r!==null:typeof r=="function"}},function(k,c,r){var d=r(11);k.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(k,c,r){var d=r(9);k.exports=function(b){return d[b+"Prototype"]}},function(k,c){var r={}.hasOwnProperty;k.exports=function(d,b){return r.call(d,b)}},function(k,c,r){k.exports=r(192)},function(k,c,r){var d=r(14),b=r(99),w=r(25),P=r(60),h=Object.defineProperty;c.f=d?h:function(E,m,D){if(w(E),m=P(m,!0),w(D),b)try{return h(E,m,D)}catch(y){}if("get"in D||"set"in D)throw TypeError("Accessors not supported");return"value"in D&&(E[m]=D.value),E}},function(k,c,r){var d=r(14),b=r(18),w=r(48);k.exports=d?function(P,h,x){return b.f(P,h,w(1,x))}:function(P,h,x){return P[h]=x,P}},function(k,c,r){"use strict";var d=function(){var O;return function(){return typeof O>"u"&&(O=!!(window&&document&&document.all&&!window.atob)),O}}(),b=function(){var O={};return function(f){if(typeof O[f]>"u"){var B=document.querySelector(f);if(window.HTMLIFrameElement&&B instanceof window.HTMLIFrameElement)try{B=B.contentDocument.head}catch(u){B=null}O[f]=B}return O[f]}}(),w=[];function P(S){for(var O=-1,T=0;T<w.length;T++)if(w[T].identifier===S){O=T;break}return O}function h(S,O){for(var T={},f=[],B=0;B<S.length;B++){var u=S[B],U=O.base?u[0]+O.base:u[0],L=T[U]||0,F="".concat(U," ").concat(L);T[U]=L+1;var N=P(F),H={css:u[1],media:u[2],sourceMap:u[3]};N!==-1?(w[N].references++,w[N].updater(H)):w.push({identifier:F,updater:I(H,O),references:1}),f.push(F)}return f}function x(S){var O=document.createElement("style"),T=S.attributes||{};if(typeof T.nonce>"u"){var f=r.nc;f&&(T.nonce=f)}if(Object.keys(T).forEach(function(u){O.setAttribute(u,T[u])}),typeof S.insert=="function")S.insert(O);else{var B=b(S.insert||"head");if(!B)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");B.appendChild(O)}return O}function E(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S)}var m=function(){var O=[];return function(f,B){return O[f]=B,O.filter(Boolean).join("\n")}}();function D(S,O,T,f){var B=T?"":f.media?"@media ".concat(f.media," {").concat(f.css,"}"):f.css;if(S.styleSheet)S.styleSheet.cssText=m(O,B);else{var u=document.createTextNode(B),U=S.childNodes;U[O]&&S.removeChild(U[O]),U.length?S.insertBefore(u,U[O]):S.appendChild(u)}}function y(S,O,T){var f=T.css,B=T.media,u=T.sourceMap;if(B?S.setAttribute("media",B):S.removeAttribute("media"),u&&typeof btoa<"u"&&(f+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(u))))," */")),S.styleSheet)S.styleSheet.cssText=f;else{for(;S.firstChild;)S.removeChild(S.firstChild);S.appendChild(document.createTextNode(f))}}var A=null,C=0;function I(S,O){var T,f,B;if(O.singleton){var u=C++;T=A||(A=x(O)),f=D.bind(null,T,u,!1),B=D.bind(null,T,u,!0)}else T=x(O),f=y.bind(null,T,O),B=function(){E(T)};return f(S),function(L){if(L){if(L.css===S.css&&L.media===S.media&&L.sourceMap===S.sourceMap)return;f(S=L)}else B()}}k.exports=function(S,O){O=O||{},!O.singleton&&typeof O.singleton!="boolean"&&(O.singleton=d()),S=S||[];var T=h(S,O);return function(B){if(B=B||[],Object.prototype.toString.call(B)==="[object Array]"){for(var u=0;u<T.length;u++){var U=T[u],L=P(U);w[L].references--}for(var F=h(B,O),N=0;N<T.length;N++){var H=T[N],V=P(H);w[V].references===0&&(w[V].updater(),w.splice(V,1))}T=F}}}},function(k,c,r){"use strict";k.exports=function(w){var P=[];return P.toString=function(){return this.map(function(x){var E=d(x,w);return x[2]?"@media ".concat(x[2]," {").concat(E,"}"):E}).join("")},P.i=function(h,x,E){typeof h=="string"&&(h=[[null,h,""]]);var m={};if(E)for(var D=0;D<this.length;D++){var y=this[D][0];y!=null&&(m[y]=!0)}for(var A=0;A<h.length;A++){var C=[].concat(h[A]);E&&m[C[0]]||(x&&(C[2]?C[2]="".concat(x," and ").concat(C[2]):C[2]=x),P.push(C))}},P};function d(w,P){var h=w[1]||"",x=w[3];if(!x)return h;if(P&&typeof btoa=="function"){var E=b(x),m=x.sources.map(function(D){return"/*# sourceURL=".concat(x.sourceRoot||"").concat(D," */")});return[h].concat(m).concat([E]).join("\n")}return[h].join("\n")}function b(w){var P=btoa(unescape(encodeURIComponent(JSON.stringify(w)))),h="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(P);return"/*# ".concat(h," */")}},function(k,c,r){var d=r(14),b=r(11),w=r(16),P=Object.defineProperty,h={},x=function(m){throw m};k.exports=function(E,m){if(w(h,E))return h[E];m||(m={});var D=[][E],y=w(m,"ACCESSORS")?m.ACCESSORS:!1,A=w(m,0)?m[0]:x,C=w(m,1)?m[1]:void 0;return h[E]=!!D&&!b(function(){if(y&&!d)return!0;var I={length:-1};y?P(I,1,{enumerable:!0,get:x}):I[1]=1,D.call(I,A,C)})}},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(95)),h=function(x){w.__extends(E,x);function E(m,D){return x.call(this,m,D)||this}return E}(P.default);c.default=h},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4)),P=d(r(46));(0,b.default)(c,"__esModule",{value:!0});var h=r(2),x=h.__importDefault(r(3)),E=h.__importDefault(r(95)),m=h.__importDefault(r(133)),D=function(y){h.__extends(A,y);function A(C,I,S){var O=y.call(this,C,I)||this;S.title=I.i18next.t("menus.dropListMenu."+S.title);var T=I.config.lang==="zh-CN"?"":"w-e-drop-list-tl";if(T!==""&&S.type==="list"){var f;(0,w.default)(f=S.list).call(f,function(u){var U=u.$elem,L=x.default(U.children());if(L.length>0){var F=L==null?void 0:L.getNodeName();F&&F==="I"&&U.addClass(T)}})}var B=new m.default(O,S);return O.dropList=B,C.on("click",function(){var u;I.selection.getRange()!=null&&(C.css("z-index",I.zIndex.get("menu")),(0,w.default)(u=I.txt.eventHooks.dropListMenuHoverEvents).call(u,function(U){return U()}),B.show())}).on("mouseleave",function(){C.css("z-index","auto"),B.hideTimeoutId=(0,P.default)(function(){B.hide()})}),O}return A}(E.default);c.default=D},function(k,c,r){var d=r(13);k.exports=function(b){if(!d(b))throw TypeError(String(b)+" is not an object");return b}},function(k,c,r){k.exports=r(188)},function(k,c,r){k.exports=r(201)},function(k,c,r){var d=r(72),b=r(49);k.exports=function(w){return d(b(w))}},function(k,c,r){var d=r(49);k.exports=function(b){return Object(d(b))}},function(k,c,r){var d=r(39),b=r(72),w=r(29),P=r(34),h=r(88),x=[].push,E=function(D){var y=D==1,A=D==2,C=D==3,I=D==4,S=D==6,O=D==5||S;return function(T,f,B,u){for(var U=w(T),L=b(U),F=d(f,B,3),N=P(L.length),H=0,V=u||h,G=y?V(T,N):A?V(T,0):void 0,R,z;N>H;H++)if((O||H in L)&&(R=L[H],z=F(R,H,U),D)){if(y)G[H]=z;else if(z)switch(D){case 3:return!0;case 5:return R;case 6:return H;case 2:x.call(G,R)}else if(I)return!1}return S?-1:C||I?I:G}};k.exports={forEach:E(0),map:E(1),filter:E(2),some:E(3),every:E(4),find:E(5),findIndex:E(6)}},function(k,c,r){k.exports=r(283)},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4)),P=d(r(31)),h=d(r(131));(0,b.default)(c,"__esModule",{value:!0});var x=r(2),E=x.__importDefault(r(3)),m=r(7),D=function(){function y(A,C){this.menu=A,this.conf=C,this.$container=E.default('<div class="w-e-panel-container"></div>');var I=A.editor;I.txt.eventHooks.clickEvents.push(y.hideCurAllPanels),I.txt.eventHooks.toolbarClickEvents.push(y.hideCurAllPanels),I.txt.eventHooks.dropListMenuHoverEvents.push(y.hideCurAllPanels)}return y.prototype.create=function(){var A=this,C=this.menu;if(!y.createdMenus.has(C)){var I=this.conf,S=this.$container,O=I.width||300,T=C.editor.$toolbarElem.getBoundingClientRect(),f=C.$elem.getBoundingClientRect(),B=T.height+T.top-f.top,u=(T.width-O)/2+T.left-f.left,U=300;Math.abs(u)>U&&(f.left<document.documentElement.clientWidth/2?u=-f.width/2:u=-O+f.width/2),S.css("width",O+"px").css("margin-top",B+"px").css("margin-left",u+"px").css("z-index",C.editor.zIndex.get("panel"));var L=E.default('<i class="w-e-icon-close w-e-panel-close"></i>');S.append(L),L.on("click",function(){A.remove()});var F=E.default('<ul class="w-e-panel-tab-title"></ul>'),N=E.default('<div class="w-e-panel-tab-content"></div>');S.append(F).append(N);var H=I.height;H&&N.css("height",H+"px").css("overflow-y","auto");var V=I.tabs||[],G=[],R=[];(0,w.default)(V).call(V,function(K,Y){if(K){var q=K.title||"",Q=K.tpl||"",ee=E.default('<li class="w-e-item">'+q+"</li>");F.append(ee);var oe=E.default(Q);N.append(oe),G.push(ee),R.push(oe),Y===0?(ee.data("active",!0),ee.addClass("w-e-active")):oe.hide(),ee.on("click",function(){ee.data("active")||((0,w.default)(G).call(G,function(pe){pe.data("active",!1),pe.removeClass("w-e-active")}),(0,w.default)(R).call(R,function(pe){pe.hide()}),ee.data("active",!0),ee.addClass("w-e-active"),oe.show())})}}),S.on("click",function(K){K.stopPropagation()}),C.$elem.append(S),(0,w.default)(V).call(V,function(K,Y){if(K){var q=K.events||[];(0,w.default)(q).call(q,function(Q){var ee,oe=Q.selector,pe=Q.type,ve=Q.fn||m.EMPTY_FN,Pe=R[Y],He=(ee=Q.bindEnter)!==null&&ee!==void 0?ee:!1,Ne=function(et){return x.__awaiter(A,void 0,void 0,function(){var Je;return x.__generator(this,function(gt){switch(gt.label){case 0:return et.stopPropagation(),[4,ve(et)];case 1:return Je=gt.sent(),Je&&this.remove(),[2]}})})};(0,P.default)(Pe).call(Pe,oe).on(pe,Ne),He&&pe==="click"&&Pe.on("keyup",function(Ze){Ze.keyCode==13&&Ne(Ze)})})}});var z=(0,P.default)(S).call(S,"input[type=text],textarea");z.length&&z.get(0).focus(),y.hideCurAllPanels(),C.setPanel(this),y.createdMenus.add(C)}},y.prototype.remove=function(){var A=this.menu,C=this.$container;C&&C.remove(),y.createdMenus.delete(A)},y.hideCurAllPanels=function(){var A;y.createdMenus.size!==0&&(0,w.default)(A=y.createdMenus).call(A,function(C){var I=C.panel;I&&I.remove()})},y.createdMenus=new h.default,y}();c.default=D},function(k,c){var r={}.toString;k.exports=function(d){return r.call(d).slice(8,-1)}},function(k,c,r){var d=r(62),b=Math.min;k.exports=function(w){return w>0?b(d(w),9007199254740991):0}},function(k,c,r){var d=r(9),b=r(8),w=function(h){return typeof h=="function"?h:void 0};k.exports=function(P,h){return arguments.length<2?w(d[P])||w(b[P]):d[P]&&d[P][h]||b[P]&&b[P][h]}},function(k,c,r){var d=r(81),b=r(18).f,w=r(19),P=r(16),h=r(170),x=r(10),E=x("toStringTag");k.exports=function(m,D,y,A){if(m){var C=y?m:m.prototype;P(C,E)||b(C,E,{configurable:!0,value:D}),A&&!d&&w(C,"toString",h)}}},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(95)),h=function(x){w.__extends(E,x);function E(m,D){return x.call(this,m,D)||this}return E.prototype.setPanel=function(m){this.panel=m},E}(P.default);c.default=h},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4)),P=d(r(57));(0,b.default)(c,"__esModule",{value:!0});var h=r(2),x=h.__importDefault(r(3)),E=function(){function m(D,y,A){this.editor=D,this.$targetElem=y,this.conf=A,this._show=!1,this._isInsertTextContainer=!1;var C=x.default("<div></div>");C.addClass("w-e-tooltip"),this.$container=C}return m.prototype.getPositionData=function(){var D=this.$container,y=0,A=0,C=20,I=document.documentElement.scrollTop,S=this.$targetElem.getBoundingClientRect(),O=this.editor.$textElem.getBoundingClientRect(),T=this.$targetElem.getOffsetData(),f=x.default(T.parent),B=this.editor.$textElem.elems[0].scrollTop;if(this._isInsertTextContainer=f.equal(this.editor.$textContainerElem),this._isInsertTextContainer){var u=f.getBoundingClientRect().height,U=T.top,L=T.left,F=T.height,N=U-B;N>C+5?(y=N-C-15,D.addClass("w-e-tooltip-up")):N+F+C<u?(y=N+F+10,D.addClass("w-e-tooltip-down")):(y=(N>0?N:0)+C+10,D.addClass("w-e-tooltip-down")),L<0?A=0:A=L}else S.top<C||S.top-O.top<C?(y=S.bottom+I+5,D.addClass("w-e-tooltip-down")):(y=S.top+I-C-15,D.addClass("w-e-tooltip-up")),S.left<0?A=0:A=S.left;return{top:y,left:A}},m.prototype.appendMenus=function(){var D=this,y=this.conf,A=this.editor,C=this.$targetElem,I=this.$container;(0,w.default)(y).call(y,function(S,O){var T=S.$elem,f=x.default("<div></div>");f.addClass("w-e-tooltip-item-wrapper "),f.append(T),I.append(f),T.on("click",function(B){B.preventDefault();var u=S.onClick(A,C);u&&D.remove()})})},m.prototype.create=function(){var D,y,A=this.editor,C=this.$container;this.appendMenus();var I=this.getPositionData(),S=I.top,O=I.left;C.css("top",S+"px"),C.css("left",O+"px"),C.css("z-index",A.zIndex.get("tooltip")),this._isInsertTextContainer?this.editor.$textContainerElem.append(C):x.default("body").append(C),this._show=!0,A.beforeDestroy((0,P.default)(D=this.remove).call(D,this)),A.txt.eventHooks.onBlurEvents.push((0,P.default)(y=this.remove).call(y,this))},m.prototype.remove=function(){this.$container.remove(),this._show=!1},(0,b.default)(m.prototype,"isShow",{get:function(){return this._show},enumerable:!1,configurable:!0}),m}();c.default=E},function(k,c,r){var d=r(40);k.exports=function(b,w,P){if(d(b),w===void 0)return b;switch(P){case 0:return function(){return b.call(w)};case 1:return function(h){return b.call(w,h)};case 2:return function(h,x){return b.call(w,h,x)};case 3:return function(h,x,E){return b.call(w,h,x,E)}}return function(){return b.apply(w,arguments)}}},function(k,c){k.exports=function(r){if(typeof r!="function")throw TypeError(String(r)+" is not a function");return r}},function(k,c,r){var d=r(165),b=r(8),w=r(13),P=r(19),h=r(16),x=r(63),E=r(51),m=b.WeakMap,D,y,A,C=function(U){return A(U)?y(U):D(U,{})},I=function(U){return function(L){var F;if(!w(L)||(F=y(L)).type!==U)throw TypeError("Incompatible receiver, "+U+" required");return F}};if(d){var S=new m,O=S.get,T=S.has,f=S.set;D=function(U,L){return f.call(S,U,L),L},y=function(U){return O.call(S,U)||{}},A=function(U){return T.call(S,U)}}else{var B=x("state");E[B]=!0,D=function(U,L){return P(U,B,L),L},y=function(U){return h(U,B)?U[B]:{}},A=function(U){return h(U,B)}}k.exports={set:D,get:y,has:A,enforce:C,getterFor:I}},function(k,c){k.exports=!0},function(k,c){k.exports={}},function(k,c,r){k.exports=r(213)},function(k,c,r){k.exports=r(261)},function(k,c,r){k.exports=r(265)},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0}),c.createElementFragment=c.createDocumentFragment=c.createElement=c.insertBefore=c.getEndPoint=c.getStartPoint=c.updateRange=c.filterSelectionNodes=void 0;var P=r(2),h=r(137),x=P.__importDefault(r(3));function E(O){var T=[];return(0,w.default)(O).call(O,function(f){var B=f.getNodeName();if(B!==h.ListType.OrderedList&&B!==h.ListType.UnorderedList)T.push(f);else if(f.prior)T.push(f.prior);else{var u=f.children();u==null||(0,w.default)(u).call(u,function(U){T.push(x.default(U))})}}),T}c.filterSelectionNodes=E;function m(O,T,f){var B=O.selection,u=document.createRange();T.length>1?(u.setStart(T.elems[0],0),u.setEnd(T.elems[T.length-1],T.elems[T.length-1].childNodes.length)):u.selectNodeContents(T.elems[0]),f&&u.collapse(!1),B.saveRange(u),B.restoreSelection()}c.updateRange=m;function D(O){var T;return O.prior?O.prior:x.default((T=O.children())===null||T===void 0?void 0:T.elems[0])}c.getStartPoint=D;function y(O){var T;return O.prior?O.prior:x.default((T=O.children())===null||T===void 0?void 0:T.last().elems[0])}c.getEndPoint=y;function A(O,T,f){f===void 0&&(f=null),O.parent().elems[0].insertBefore(T,f)}c.insertBefore=A;function C(O){return document.createElement(O)}c.createElement=C;function I(){return document.createDocumentFragment()}c.createDocumentFragment=I;function S(O,T,f){return f===void 0&&(f="li"),(0,w.default)(O).call(O,function(B){var u=C(f);u.innerHTML=B.html(),T.appendChild(u),B.remove()}),T}c.createElementFragment=S},function(k,c){k.exports=function(r,d){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:d}}},function(k,c){k.exports=function(r){if(r==null)throw TypeError("Can't call method on "+r);return r}},function(k,c,r){"use strict";var d=r(164).charAt,b=r(41),w=r(75),P="String Iterator",h=b.set,x=b.getterFor(P);w(String,"String",function(E){h(this,{type:P,string:String(E),index:0})},function(){var m=x(this),D=m.string,y=m.index,A;return y>=D.length?{value:void 0,done:!0}:(A=d(D,y),m.index+=A.length,{value:A,done:!1})})},function(k,c){k.exports={}},function(k,c,r){var d=r(106),b=r(80);k.exports=Object.keys||function(P){return d(P,b)}},function(k,c,r){var d=r(19);k.exports=function(b,w,P,h){h&&h.enumerable?b[w]=P:d(b,w,P)}},function(k,c,r){r(173);var d=r(174),b=r(8),w=r(65),P=r(19),h=r(43),x=r(10),E=x("toStringTag");for(var m in d){var D=b[m],y=D&&D.prototype;y&&w(y)!==E&&P(y,E,m),h[m]=h.Array}},function(k,c,r){var d=r(33);k.exports=Array.isArray||function(w){return d(w)=="Array"}},function(k,c,r){var d=r(11),b=r(10),w=r(86),P=b("species");k.exports=function(h){return w>=51||!d(function(){var x=[],E=x.constructor={};return E[P]=function(){return{foo:1}},x[h](Boolean).foo!==1})}},function(k,c,r){k.exports=r(222)},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.ListHandle=void 0;var w=r(2),P=w.__importDefault(r(373)),h=function(){function x(E){this.options=E,this.selectionRangeElem=new P.default}return x}();c.ListHandle=h},function(k,c,r){"use strict";var d={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,w=b&&!d.call({1:2},1);c.f=w?function(h){var x=b(this,h);return!!x&&x.enumerable}:d},function(k,c,r){var d=r(13);k.exports=function(b,w){if(!d(b))return b;var P,h;if(w&&typeof(P=b.toString)=="function"&&!d(h=P.call(b))||typeof(P=b.valueOf)=="function"&&!d(h=P.call(b))||!w&&typeof(P=b.toString)=="function"&&!d(h=P.call(b)))return h;throw TypeError("Can't convert object to primitive value")}},function(k,c){},function(k,c){var r=Math.ceil,d=Math.floor;k.exports=function(b){return isNaN(b=+b)?0:(b>0?d:r)(b)}},function(k,c,r){var d=r(74),b=r(64),w=d("keys");k.exports=function(P){return w[P]||(w[P]=b(P))}},function(k,c){var r=0,d=Math.random();k.exports=function(b){return"Symbol("+String(b===void 0?"":b)+")_"+(++r+d).toString(36)}},function(k,c,r){var d=r(81),b=r(33),w=r(10),P=w("toStringTag"),h=b(function(){return arguments}())=="Arguments",x=function(m,D){try{return m[D]}catch(y){}};k.exports=d?b:function(E){var m,D,y;return E===void 0?"Undefined":E===null?"Null":typeof(D=x(m=Object(E),P))=="string"?D:h?b(m):(y=b(m))=="Object"&&typeof m.callee=="function"?"Arguments":y}},function(k,c,r){var d=r(25),b=r(111),w=r(34),P=r(39),h=r(112),x=r(113),E=function(y,A){this.stopped=y,this.result=A},m=k.exports=function(D,y,A,C,I){var S=P(y,A,C?2:1),O,T,f,B,u,U,L;if(I)O=D;else{if(T=h(D),typeof T!="function")throw TypeError("Target is not iterable");if(b(T)){for(f=0,B=w(D.length);B>f;f++)if(u=C?S(d(L=D[f])[0],L[1]):S(D[f]),u&&u instanceof E)return u;return new E(!1)}O=T.call(D)}for(U=O.next;!(L=U.call(O)).done;)if(u=x(O,S,L.value,C),typeof u=="object"&&u&&u instanceof E)return u;return new E(!1)};m.stop=function(D){return new E(!0,D)}},function(k,c,r){"use strict";var d=r(11);k.exports=function(b,w){var P=[][b];return!!P&&d(function(){P.call(null,w||function(){throw 1},1)})}},function(k,c){k.exports="	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"},function(k,c,r){"use strict";var d=r(60),b=r(18),w=r(48);k.exports=function(P,h,x){var E=d(h);E in P?b.f(P,E,w(0,x)):P[E]=x}},function(k,c,r){k.exports=r(209)},function(k,c,r){var d=r(14),b=r(59),w=r(48),P=r(28),h=r(60),x=r(16),E=r(99),m=Object.getOwnPropertyDescriptor;c.f=d?m:function(y,A){if(y=P(y),A=h(A,!0),E)try{return m(y,A)}catch(C){}if(x(y,A))return w(!b.f.call(y,A),y[A])}},function(k,c,r){var d=r(11),b=r(33),w="".split;k.exports=d(function(){return!Object("z").propertyIsEnumerable(0)})?function(P){return b(P)=="String"?w.call(P,""):Object(P)}:Object},function(k,c,r){var d=r(8),b=r(13),w=d.document,P=b(w)&&b(w.createElement);k.exports=function(h){return P?w.createElement(h):{}}},function(k,c,r){var d=r(42),b=r(102);(k.exports=function(w,P){return b[w]||(b[w]=P!==void 0?P:{})})("versions",[]).push({version:"3.6.4",mode:d?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},function(k,c,r){"use strict";var d=r(5),b=r(167),w=r(104),P=r(171),h=r(36),x=r(19),E=r(53),m=r(10),D=r(42),y=r(43),A=r(103),C=A.IteratorPrototype,I=A.BUGGY_SAFARI_ITERATORS,S=m("iterator"),O="keys",T="values",f="entries",B=function(){return this};k.exports=function(u,U,L,F,N,H,V){b(L,U,F);var G=function(Pe){if(Pe===N&&q)return q;if(!I&&Pe in K)return K[Pe];switch(Pe){case O:return function(){return new L(this,Pe)};case T:return function(){return new L(this,Pe)};case f:return function(){return new L(this,Pe)}}return function(){return new L(this)}},R=U+" Iterator",z=!1,K=u.prototype,Y=K[S]||K["@@iterator"]||N&&K[N],q=!I&&Y||G(N),Q=U=="Array"&&K.entries||Y,ee,oe,pe;if(Q&&(ee=w(Q.call(new u)),C!==Object.prototype&&ee.next&&(!D&&w(ee)!==C&&(P?P(ee,C):typeof ee[S]!="function"&&x(ee,S,B)),h(ee,R,!0,!0),D&&(y[R]=B))),N==T&&Y&&Y.name!==T&&(z=!0,q=function(){return Y.call(this)}),(!D||V)&&K[S]!==q&&x(K,S,q),y[U]=q,N)if(oe={values:G(T),keys:H?q:G(O),entries:G(f)},V)for(pe in oe)(I||z||!(pe in K))&&E(K,pe,oe[pe]);else d({target:U,proto:!0,forced:I||z},oe);return oe}},function(k,c,r){var d=r(11);k.exports=!!Object.getOwnPropertySymbols&&!d(function(){return!String(Symbol())})},function(k,c,r){var d=r(25),b=r(169),w=r(80),P=r(51),h=r(107),x=r(73),E=r(63),m=">",D="<",y="prototype",A="script",C=E("IE_PROTO"),I=function(){},S=function(U){return D+A+m+U+D+"/"+A+m},O=function(U){U.write(S("")),U.close();var L=U.parentWindow.Object;return U=null,L},T=function(){var U=x("iframe"),L="java"+A+":",F;return U.style.display="none",h.appendChild(U),U.src=String(L),F=U.contentWindow.document,F.open(),F.write(S("document.F=Object")),F.close(),F.F},f,B=function(){try{f=document.domain&&new ActiveXObject("htmlfile")}catch(L){}B=f?O(f):T();for(var U=w.length;U--;)delete B[y][w[U]];return B()};P[C]=!0,k.exports=Object.create||function(U,L){var F;return U!==null?(I[y]=d(U),F=new I,I[y]=null,F[C]=U):F=B(),L===void 0?F:b(F,L)}},function(k,c,r){var d=r(28),b=r(34),w=r(79),P=function(x){return function(E,m,D){var y=d(E),A=b(y.length),C=w(D,A),I;if(x&&m!=m){for(;A>C;)if(I=y[C++],I!=I)return!0}else for(;A>C;C++)if((x||C in y)&&y[C]===m)return x||C||0;return!x&&-1}};k.exports={includes:P(!0),indexOf:P(!1)}},function(k,c,r){var d=r(62),b=Math.max,w=Math.min;k.exports=function(P,h){var x=d(P);return x<0?b(x+h,0):w(x,h)}},function(k,c){k.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(k,c,r){var d=r(10),b=d("toStringTag"),w={};w[b]="z",k.exports=String(w)==="[object z]"},function(k,c){k.exports=function(){}},function(k,c){k.exports=function(r,d,b){if(!(r instanceof d))throw TypeError("Incorrect "+(b?b+" ":"")+"invocation");return r}},function(k,c,r){var d=r(35);k.exports=d("navigator","userAgent")||""},function(k,c,r){"use strict";var d=r(40),b=function(P){var h,x;this.promise=new P(function(E,m){if(h!==void 0||x!==void 0)throw TypeError("Bad Promise constructor");h=E,x=m}),this.resolve=d(h),this.reject=d(x)};k.exports.f=function(w){return new b(w)}},function(k,c,r){var d=r(8),b=r(84),w=d.process,P=w&&w.versions,h=P&&P.v8,x,E;h?(x=h.split("."),E=x[0]+x[1]):b&&(x=b.match(/Edge\/(\d+)/),(!x||x[1]>=74)&&(x=b.match(/Chrome\/(\d+)/),x&&(E=x[1]))),k.exports=E&&+E},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3)),x=r(6),E=P.__importDefault(r(267)),m=P.__importDefault(r(280)),D=P.__importDefault(r(281)),y=P.__importDefault(r(282)),A=P.__importDefault(r(301)),C=P.__importStar(r(416)),I=P.__importDefault(r(417)),S=P.__importDefault(r(418)),O=P.__importDefault(r(419)),T=P.__importStar(r(420)),f=P.__importDefault(r(423)),B=P.__importDefault(r(424)),u=P.__importDefault(r(425)),U=P.__importDefault(r(427)),L=P.__importDefault(r(437)),F=P.__importDefault(r(440)),N=P.__importStar(r(441)),H=P.__importDefault(r(23)),V=P.__importDefault(r(133)),G=P.__importDefault(r(24)),R=P.__importDefault(r(32)),z=P.__importDefault(r(37)),K=P.__importDefault(r(38)),Y=1,q=function(){function Q(ee,oe){this.pluginsFunctionList={},this.beforeDestroyHooks=[],this.id="wangEditor-"+Y++,this.toolbarSelector=ee,this.textSelector=oe,C.selectorValidator(this),this.config=x.deepClone(E.default),this.$toolbarElem=h.default("<div></div>"),this.$textContainerElem=h.default("<div></div>"),this.$textElem=h.default("<div></div>"),this.toolbarElemId="",this.textElemId="",this.isFocus=!1,this.isComposing=!1,this.isCompatibleMode=!1,this.selection=new m.default(this),this.cmd=new D.default(this),this.txt=new y.default(this),this.menus=new A.default(this),this.zIndex=new B.default,this.change=new u.default(this),this.history=new U.default(this),this.onSelectionChange=new F.default(this);var pe=L.default(this),ve=pe.disable,Pe=pe.enable;this.disable=ve,this.enable=Pe,this.isEnable=!0}return Q.prototype.initSelection=function(ee){I.default(this,ee)},Q.prototype.create=function(){this.zIndex.init(this),this.isCompatibleMode=this.config.compatibleMode(),this.isCompatibleMode||(this.config.onchangeTimeout=30),O.default(this),C.default(this),this.txt.init(),this.menus.init(),T.default(this),this.initSelection(!0),S.default(this),this.change.observe(),this.history.observe(),N.default(this)},Q.prototype.beforeDestroy=function(ee){return this.beforeDestroyHooks.push(ee),this},Q.prototype.destroy=function(){var ee,oe=this;(0,w.default)(ee=this.beforeDestroyHooks).call(ee,function(pe){return pe.call(oe)}),this.$toolbarElem.remove(),this.$textContainerElem.remove()},Q.prototype.fullScreen=function(){T.setFullScreen(this)},Q.prototype.unFullScreen=function(){T.setUnFullScreen(this)},Q.prototype.scrollToHead=function(ee){f.default(this,ee)},Q.registerMenu=function(ee,oe){!oe||typeof oe!="function"||(Q.globalCustomMenuConstructorList[ee]=oe)},Q.prototype.registerPlugin=function(ee,oe){N.registerPlugin(ee,oe,this.pluginsFunctionList)},Q.registerPlugin=function(ee,oe){N.registerPlugin(ee,oe,Q.globalPluginsFunctionList)},Q.$=h.default,Q.BtnMenu=H.default,Q.DropList=V.default,Q.DropListMenu=G.default,Q.Panel=R.default,Q.PanelMenu=z.default,Q.Tooltip=K.default,Q.globalCustomMenuConstructorList={},Q.globalPluginsFunctionList={},Q}();c.default=q},function(k,c,r){var d=r(13),b=r(55),w=r(10),P=w("species");k.exports=function(h,x){var E;return b(h)&&(E=h.constructor,typeof E=="function"&&(E===Array||b(E.prototype))?E=void 0:d(E)&&(E=E[P],E===null&&(E=void 0))),new(E===void 0?Array:E)(x===0?0:x)}},function(k,c,r){k.exports=r(185)},function(k,c,r){var d=r(49),b=r(68),w="["+b+"]",P=RegExp("^"+w+w+"*"),h=RegExp(w+w+"*$"),x=function(m){return function(D){var y=String(d(D));return m&1&&(y=y.replace(P,"")),m&2&&(y=y.replace(h,"")),y}};k.exports={start:x(1),end:x(2),trim:x(3)}},function(k,c,r){k.exports=r(205)},function(k,c,r){var d=r(227),b=r(230);function w(P){return typeof b=="function"&&typeof d=="symbol"?k.exports=w=function(x){return typeof x}:k.exports=w=function(x){return x&&typeof b=="function"&&x.constructor===b&&x!==b.prototype?"symbol":typeof x},w(P)}k.exports=w},function(k,c,r){var d=r(10);c.f=d},function(k,c,r){k.exports=r(306)},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(32)),x=function(){function E(m,D){var y=this;this.$elem=m,this.editor=D,this._active=!1,m.on("click",function(A){var C;h.default.hideCurAllPanels(),(0,w.default)(C=D.txt.eventHooks.menuClickEvents).call(C,function(I){return I()}),A.stopPropagation(),D.selection.getRange()!=null&&y.clickHandler(A)})}return E.prototype.clickHandler=function(m){},E.prototype.active=function(){this._active=!0,this.$elem.addClass("w-e-active")},E.prototype.unActive=function(){this._active=!1,this.$elem.removeClass("w-e-active")},(0,b.default)(E.prototype,"isActive",{get:function(){return this._active},enumerable:!1,configurable:!0}),E}();c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(57)),P=d(r(4)),h=d(r(27));(0,b.default)(c,"__esModule",{value:!0});var x=r(2),E=r(6),m=x.__importDefault(r(135)),D=x.__importDefault(r(136)),y=function(){function A(C){this.editor=C}return A.prototype.insertImg=function(C,I,S){var O=this.editor,T=O.config,f="validate.",B=function(N,H){return H===void 0&&(H=f),O.i18next.t(H+N)},u=I?'alt="'+I+'" ':"",U=S?'data-href="'+encodeURIComponent(S)+'" ':"";O.cmd.do("insertHTML",'<img src="'+C+'" '+u+U+'style="max-width:100%;" contenteditable="false"/>'),T.linkImgCallback(C,I,S);var L=document.createElement("img");L.onload=function(){L=null},L.onerror=function(){T.customAlert(B("\u63D2\u5165\u56FE\u7247\u9519\u8BEF"),"error","wangEditor: "+B("\u63D2\u5165\u56FE\u7247\u9519\u8BEF")+"\uFF0C"+B("\u56FE\u7247\u94FE\u63A5")+' "'+C+'"\uFF0C'+B("\u4E0B\u8F7D\u94FE\u63A5\u5931\u8D25")),L=null},L.onabort=function(){return L=null},L.src=C},A.prototype.uploadImg=function(C){var I=this;if(C.length){var S=this.editor,O=S.config,T="validate.",f=function(Ne){return S.i18next.t(T+Ne)},B=O.uploadImgServer,u=O.uploadImgShowBase64,U=O.uploadImgMaxSize,L=U/1024/1024,F=O.uploadImgMaxLength,N=O.uploadFileName,H=O.uploadImgParams,V=O.uploadImgParamsWithUrl,G=O.uploadImgHeaders,R=O.uploadImgHooks,z=O.uploadImgTimeout,K=O.withCredentials,Y=O.customUploadImg;if(!(!Y&&!B&&!u)){var q=[],Q=[];if(E.arrForEach(C,function(He){if(He){var Ne=He.name||He.type.replace("/","."),Ze=He.size;if(!(!Ne||!Ze)){var et=S.config.uploadImgAccept.join("|"),Je=".("+et+")$",gt=new RegExp(Je,"i");if(gt.test(Ne)===!1){Q.push("\u3010"+Ne+"\u3011"+f("\u4E0D\u662F\u56FE\u7247"));return}if(U<Ze){Q.push("\u3010"+Ne+"\u3011"+f("\u5927\u4E8E")+" "+L+"M");return}q.push(He)}}}),Q.length){O.customAlert(f("\u56FE\u7247\u9A8C\u8BC1\u672A\u901A\u8FC7")+": \n"+Q.join("\n"),"warning");return}if(q.length===0){O.customAlert(f("\u4F20\u5165\u7684\u6587\u4EF6\u4E0D\u5408\u6CD5"),"warning");return}if(q.length>F){O.customAlert(f("\u4E00\u6B21\u6700\u591A\u4E0A\u4F20")+F+f("\u5F20\u56FE\u7247"),"warning");return}if(Y&&typeof Y=="function"){var ee;Y(q,(0,w.default)(ee=this.insertImg).call(ee,this));return}var oe=new FormData;if((0,P.default)(q).call(q,function(He,Ne){var Ze=N||He.name;q.length>1&&(Ze=Ze+(Ne+1)),oe.append(Ze,He)}),B){var pe=B.split("#");B=pe[0];var ve=pe[1]||"";(0,P.default)(E).call(E,H,function(He,Ne){V&&((0,h.default)(B).call(B,"?")>0?B+="&":B+="?",B=B+He+"="+Ne),oe.append(He,Ne)}),ve&&(B+="#"+ve);var Pe=m.default(B,{timeout:z,formData:oe,headers:G,withCredentials:!!K,beforeSend:function(Ne){if(R.before)return R.before(Ne,S,q)},onTimeout:function(Ne){O.customAlert(f("\u4E0A\u4F20\u56FE\u7247\u8D85\u65F6"),"error"),R.timeout&&R.timeout(Ne,S)},onProgress:function(Ne,Ze){var et=new D.default(S);Ze.lengthComputable&&(Ne=Ze.loaded/Ze.total,et.show(Ne))},onError:function(Ne){O.customAlert(f("\u4E0A\u4F20\u56FE\u7247\u9519\u8BEF"),"error",f("\u4E0A\u4F20\u56FE\u7247\u9519\u8BEF")+"\uFF0C"+f("\u670D\u52A1\u5668\u8FD4\u56DE\u72B6\u6001")+": "+Ne.status),R.error&&R.error(Ne,S)},onFail:function(Ne,Ze){O.customAlert(f("\u4E0A\u4F20\u56FE\u7247\u5931\u8D25"),"error",f("\u4E0A\u4F20\u56FE\u7247\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF")+("\uFF0C"+f("\u8FD4\u56DE\u7ED3\u679C")+": ")+Ze),R.fail&&R.fail(Ne,S,Ze)},onSuccess:function(Ne,Ze){if(R.customInsert){var et;R.customInsert((0,w.default)(et=I.insertImg).call(et,I),Ze,S);return}if(Ze.errno!="0"){O.customAlert(f("\u4E0A\u4F20\u56FE\u7247\u5931\u8D25"),"error",f("\u4E0A\u4F20\u56FE\u7247\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF")+"\uFF0C"+f("\u8FD4\u56DE\u7ED3\u679C")+" errno="+Ze.errno),R.fail&&R.fail(Ne,S,Ze);return}var Je=Ze.data;(0,P.default)(Je).call(Je,function(gt){typeof gt=="string"?I.insertImg(gt):I.insertImg(gt.url,gt.alt,gt.href)}),R.success&&R.success(Ne,S,Ze)}});typeof Pe=="string"&&O.customAlert(Pe,"error");return}u&&E.arrForEach(C,function(He){var Ne=I,Ze=new FileReader;Ze.readAsDataURL(He),Ze.onload=function(){if(this.result){var et=this.result.toString();Ne.insertImg(et,et)}}})}}},A}();c.default=y},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(410)),P=d(r(4)),h=d(r(45));(0,b.default)(c,"__esModule",{value:!0}),c.dealTextNode=c.isAllTodo=c.isTodo=c.getCursorNextNode=void 0;function x(A){return A.length?A.attr("class")==="w-e-todo":!1}c.isTodo=x;function E(A){var C=A.selection.getSelectionRangeTopNodes();if(C.length!==0)return(0,w.default)(C).call(C,function(I){return x(I)})}c.isAllTodo=E;function m(A,C,I){var S;if(A.hasChildNodes()){var O=A.cloneNode(),T=!1;C.nodeValue===""&&(T=!0);var f=[];return(0,P.default)(S=A.childNodes).call(S,function(B){if(!D(B,C)&&T&&(O.appendChild(B.cloneNode(!0)),B.nodeName!=="BR"&&f.push(B)),D(B,C)){if(B.nodeType===1){var u=m(B,C,I);u&&u.textContent!==""&&(O==null||O.appendChild(u))}if(B.nodeType===3&&C.isEqualNode(B)){var U=y(B,I);O.textContent=U}T=!0}}),(0,P.default)(f).call(f,function(B){var u=B;u.remove()}),O}}c.getCursorNextNode=m;function D(A,C){return A.nodeType===3?A.nodeValue===C.nodeValue:A.contains(C)}function y(A,C,I){I===void 0&&(I=!0);var S=A.nodeValue,O=S==null?void 0:(0,h.default)(S).call(S,0,C);if(S=S==null?void 0:(0,h.default)(S).call(S,C),!I){var T=S;S=O,O=T}return A.nodeValue=O,S}c.dealTextNode=y},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(430),P=function(){function h(x){this.maxSize=x,this.isRe=!1,this.data=new w.CeilStack(x),this.revokeData=new w.CeilStack(x)}return(0,b.default)(h.prototype,"size",{get:function(){return[this.data.size,this.revokeData.size]},enumerable:!1,configurable:!0}),h.prototype.resetMaxSize=function(x){this.data.resetMax(x),this.revokeData.resetMax(x)},h.prototype.save=function(x){return this.isRe&&(this.revokeData.clear(),this.isRe=!1),this.data.instack(x),this},h.prototype.revoke=function(x){!this.isRe&&(this.isRe=!0);var E=this.data.outstack();return E?(this.revokeData.instack(E),x(E),!0):!1},h.prototype.restore=function(x){!this.isRe&&(this.isRe=!0);var E=this.revokeData.outstack();return E?(this.data.instack(E),x(E),!0):!1},h}();c.default=P},function(k,c,r){var d=r(14),b=r(11),w=r(73);k.exports=!d&&!b(function(){return Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a!=7})},function(k,c,r){var d=r(11),b=/#|\.prototype\./,w=function(D,y){var A=h[P(D)];return A==E?!0:A==x?!1:typeof y=="function"?d(y):!!y},P=w.normalize=function(m){return String(m).replace(b,".").toLowerCase()},h=w.data={},x=w.NATIVE="N",E=w.POLYFILL="P";k.exports=w},function(k,c,r){var d=r(102),b=Function.toString;typeof d.inspectSource!="function"&&(d.inspectSource=function(w){return b.call(w)}),k.exports=d.inspectSource},function(k,c,r){var d=r(8),b=r(166),w="__core-js_shared__",P=d[w]||b(w,{});k.exports=P},function(k,c,r){"use strict";var d=r(104),b=r(19),w=r(16),P=r(10),h=r(42),x=P("iterator"),E=!1,m=function(){return this},D,y,A;[].keys&&(A=[].keys(),"next"in A?(y=d(d(A)),y!==Object.prototype&&(D=y)):E=!0),D==null&&(D={}),!h&&!w(D,x)&&b(D,x,m),k.exports={IteratorPrototype:D,BUGGY_SAFARI_ITERATORS:E}},function(k,c,r){var d=r(16),b=r(29),w=r(63),P=r(168),h=w("IE_PROTO"),x=Object.prototype;k.exports=P?Object.getPrototypeOf:function(E){return E=b(E),d(E,h)?E[h]:typeof E.constructor=="function"&&E instanceof E.constructor?E.constructor.prototype:E instanceof Object?x:null}},function(k,c,r){var d=r(76);k.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(k,c,r){var d=r(16),b=r(28),w=r(78).indexOf,P=r(51);k.exports=function(h,x){var E=b(h),m=0,D=[],y;for(y in E)!d(P,y)&&d(E,y)&&D.push(y);for(;x.length>m;)d(E,y=x[m++])&&(~w(D,y)||D.push(y));return D}},function(k,c,r){var d=r(35);k.exports=d("document","documentElement")},function(k,c,r){var d=r(8);k.exports=d.Promise},function(k,c,r){var d=r(53);k.exports=function(b,w,P){for(var h in w)P&&P.unsafe&&b[h]?b[h]=w[h]:d(b,h,w[h],P);return b}},function(k,c,r){"use strict";var d=r(35),b=r(18),w=r(10),P=r(14),h=w("species");k.exports=function(x){var E=d(x),m=b.f;P&&E&&!E[h]&&m(E,h,{configurable:!0,get:function(){return this}})}},function(k,c,r){var d=r(10),b=r(43),w=d("iterator"),P=Array.prototype;k.exports=function(h){return h!==void 0&&(b.Array===h||P[w]===h)}},function(k,c,r){var d=r(65),b=r(43),w=r(10),P=w("iterator");k.exports=function(h){if(h!=null)return h[P]||h["@@iterator"]||b[d(h)]}},function(k,c,r){var d=r(25);k.exports=function(b,w,P,h){try{return h?w(d(P)[0],P[1]):w(P)}catch(E){var x=b.return;throw x!==void 0&&d(x.call(b)),E}}},function(k,c,r){var d=r(10),b=d("iterator"),w=!1;try{var P=0,h={next:function(){return{done:!!P++}},return:function(){w=!0}};h[b]=function(){return this},Array.from(h,function(){throw 2})}catch(x){}k.exports=function(x,E){if(!E&&!w)return!1;var m=!1;try{var D={};D[b]=function(){return{next:function(){return{done:m=!0}}}},x(D)}catch(y){}return m}},function(k,c,r){var d=r(25),b=r(40),w=r(10),P=w("species");k.exports=function(h,x){var E=d(h).constructor,m;return E===void 0||(m=d(E)[P])==null?x:b(m)}},function(k,c,r){var d=r(8),b=r(11),w=r(33),P=r(39),h=r(107),x=r(73),E=r(117),m=d.location,D=d.setImmediate,y=d.clearImmediate,A=d.process,C=d.MessageChannel,I=d.Dispatch,S=0,O={},T="onreadystatechange",f,B,u,U=function(V){if(O.hasOwnProperty(V)){var G=O[V];delete O[V],G()}},L=function(V){return function(){U(V)}},F=function(V){U(V.data)},N=function(V){d.postMessage(V+"",m.protocol+"//"+m.host)};(!D||!y)&&(D=function(V){for(var G=[],R=1;arguments.length>R;)G.push(arguments[R++]);return O[++S]=function(){(typeof V=="function"?V:Function(V)).apply(void 0,G)},f(S),S},y=function(V){delete O[V]},w(A)=="process"?f=function(V){A.nextTick(L(V))}:I&&I.now?f=function(V){I.now(L(V))}:C&&!E?(B=new C,u=B.port2,B.port1.onmessage=F,f=P(u.postMessage,u,1)):d.addEventListener&&typeof postMessage=="function"&&!d.importScripts&&!b(N)&&m.protocol!=="file:"?(f=N,d.addEventListener("message",F,!1)):T in x("script")?f=function(V){h.appendChild(x("script"))[T]=function(){h.removeChild(this),U(V)}}:f=function(V){setTimeout(L(V),0)}),k.exports={set:D,clear:y}},function(k,c,r){var d=r(84);k.exports=/(iphone|ipod|ipad).*applewebkit/i.test(d)},function(k,c,r){var d=r(25),b=r(13),w=r(85);k.exports=function(P,h){if(d(P),b(h)&&h.constructor===P)return h;var x=w.f(P),E=x.resolve;return E(h),x.promise}},function(k,c){k.exports=function(r){try{return{error:!1,value:r()}}catch(d){return{error:!0,value:d}}}},function(k,c,r){k.exports=r(197)},function(k,c,r){"use strict";var d=r(5),b=r(8),w=r(122),P=r(11),h=r(19),x=r(66),E=r(83),m=r(13),D=r(36),y=r(18).f,A=r(30).forEach,C=r(14),I=r(41),S=I.set,O=I.getterFor;k.exports=function(T,f,B){var u=T.indexOf("Map")!==-1,U=T.indexOf("Weak")!==-1,L=u?"set":"add",F=b[T],N=F&&F.prototype,H={},V;if(!C||typeof F!="function"||!(U||N.forEach&&!P(function(){new F().entries().next()})))V=B.getConstructor(f,T,u,L),w.REQUIRED=!0;else{V=f(function(R,z){S(E(R,V,T),{type:T,collection:new F}),z!=null&&x(z,R[L],R,u)});var G=O(T);A(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var z=R=="add"||R=="set";R in N&&!(U&&R=="clear")&&h(V.prototype,R,function(K,Y){var q=G(this).collection;if(!z&&U&&!m(K))return R=="get"?void 0:!1;var Q=q[R](K===0?0:K,Y);return z?this:Q})}),U||y(V.prototype,"size",{configurable:!0,get:function(){return G(this).collection.size}})}return D(V,T,!1,!0),H[T]=V,d({global:!0,forced:!0},H),U||B.setStrong(V,T,u),V}},function(k,c,r){var d=r(51),b=r(13),w=r(16),P=r(18).f,h=r(64),x=r(200),E=h("meta"),m=0,D=Object.isExtensible||function(){return!0},y=function(T){P(T,E,{value:{objectID:"O"+ ++m,weakData:{}}})},A=function(T,f){if(!b(T))return typeof T=="symbol"?T:(typeof T=="string"?"S":"P")+T;if(!w(T,E)){if(!D(T))return"F";if(!f)return"E";y(T)}return T[E].objectID},C=function(T,f){if(!w(T,E)){if(!D(T))return!0;if(!f)return!1;y(T)}return T[E].weakData},I=function(T){return x&&S.REQUIRED&&D(T)&&!w(T,E)&&y(T),T},S=k.exports={REQUIRED:!1,fastKey:A,getWeakData:C,onFreeze:I};d[E]=!0},function(k,c,r){"use strict";var d=r(18).f,b=r(77),w=r(109),P=r(39),h=r(83),x=r(66),E=r(75),m=r(110),D=r(14),y=r(122).fastKey,A=r(41),C=A.set,I=A.getterFor;k.exports={getConstructor:function(O,T,f,B){var u=O(function(N,H){h(N,u,T),C(N,{type:T,index:b(null),first:void 0,last:void 0,size:0}),D||(N.size=0),H!=null&&x(H,N[B],N,f)}),U=I(T),L=function(H,V,G){var R=U(H),z=F(H,V),K,Y;return z?z.value=G:(R.last=z={index:Y=y(V,!0),key:V,value:G,previous:K=R.last,next:void 0,removed:!1},R.first||(R.first=z),K&&(K.next=z),D?R.size++:H.size++,Y!=="F"&&(R.index[Y]=z)),H},F=function(H,V){var G=U(H),R=y(V),z;if(R!=="F")return G.index[R];for(z=G.first;z;z=z.next)if(z.key==V)return z};return w(u.prototype,{clear:function(){for(var H=this,V=U(H),G=V.index,R=V.first;R;)R.removed=!0,R.previous&&(R.previous=R.previous.next=void 0),delete G[R.index],R=R.next;V.first=V.last=void 0,D?V.size=0:H.size=0},delete:function(H){var V=this,G=U(V),R=F(V,H);if(R){var z=R.next,K=R.previous;delete G.index[R.index],R.removed=!0,K&&(K.next=z),z&&(z.previous=K),G.first==R&&(G.first=z),G.last==R&&(G.last=K),D?G.size--:V.size--}return!!R},forEach:function(H){for(var V=U(this),G=P(H,arguments.length>1?arguments[1]:void 0,3),R;R=R?R.next:V.first;)for(G(R.value,R.key,this);R&&R.removed;)R=R.previous},has:function(H){return!!F(this,H)}}),w(u.prototype,f?{get:function(H){var V=F(this,H);return V&&V.value},set:function(H,V){return L(this,H===0?0:H,V)}}:{add:function(H){return L(this,H=H===0?0:H,H)}}),D&&d(u.prototype,"size",{get:function(){return U(this).size}}),u},setStrong:function(O,T,f){var B=T+" Iterator",u=I(T),U=I(B);E(O,T,function(L,F){C(this,{type:B,target:L,state:u(L),kind:F,last:void 0})},function(){for(var L=U(this),F=L.kind,N=L.last;N&&N.removed;)N=N.previous;return!L.target||!(L.last=N=N?N.next:L.state.first)?(L.target=void 0,{value:void 0,done:!0}):F=="keys"?{value:N.key,done:!1}:F=="values"?{value:N.value,done:!1}:{value:[N.key,N.value],done:!1}},f?"entries":"values",!f,!0),m(T)}}},function(k,c,r){var d=r(12);d("iterator")},function(k,c,r){var d=r(106),b=r(80),w=b.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(h){return d(h,w)}},function(k,c){c.f=Object.getOwnPropertySymbols},function(k,c,r){k.exports=r(268)},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.default={zIndex:1e4}},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.default={focus:!0,height:300,placeholder:"\u8BF7\u8F93\u5165\u6B63\u6587",zIndexFullScreen:10002,showFullScreen:!0}},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0}),c.getPasteImgs=c.getPasteHtml=c.getPasteText=void 0;var P=r(2),h=r(6),x=P.__importDefault(r(292));function E(y){var A=y.clipboardData,C="";return A==null?C=window.clipboardData&&window.clipboardData.getData("text"):C=A.getData("text/plain"),h.replaceHtmlSymbol(C)}c.getPasteText=E;function m(y,A,C){A===void 0&&(A=!0),C===void 0&&(C=!1);var I=y.clipboardData,S="";if(I&&(S=I.getData("text/html")),!S){var O=E(y);if(!O)return"";S="<p>"+O+"</p>"}return S=S.replace(/<(\d)/gm,function(T,f){return"&lt;"+f}),S=S.replace(/<(\/?meta.*?)>/gim,""),S=x.default(S,A,C),S}c.getPasteHtml=m;function D(y){var A,C=[],I=E(y);if(I)return C;var S=(A=y.clipboardData)===null||A===void 0?void 0:A.items;return S&&(0,w.default)(h).call(h,S,function(O,T){var f=T.type;/image/i.test(f)&&C.push(T.getAsFile())}),C}c.getPasteImgs=D},function(k,c,r){k.exports=r(294)},function(k,c,r){k.exports=r(310)},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4)),P=d(r(46));(0,b.default)(c,"__esModule",{value:!0});var h=r(2),x=h.__importDefault(r(3)),E=r(7),m=function(){function D(y,A){var C=this;this.hideTimeoutId=0,this.menu=y,this.conf=A;var I=x.default('<div class="w-e-droplist"></div>'),S=x.default("<p>"+A.title+"</p>");S.addClass("w-e-dp-title"),I.append(S);var O=A.list||[],T=A.type||"list",f=A.clickHandler||E.EMPTY_FN,B=x.default('<ul class="'+(T==="list"?"w-e-list":"w-e-block")+'"></ul>');(0,w.default)(O).call(O,function(u){var U=u.$elem,L=u.value,F=x.default('<li class="w-e-item"></li>');U&&(F.append(U),B.append(F),F.on("click",function(N){f(L),N.stopPropagation(),C.hideTimeoutId=(0,P.default)(function(){C.hide()})}))}),I.append(B),I.on("mouseleave",function(){C.hideTimeoutId=(0,P.default)(function(){C.hide()})}),this.$container=I,this.rendered=!1,this._show=!1}return D.prototype.show=function(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);var y=this.menu,A=y.$elem,C=this.$container;if(!this._show){if(this.rendered)C.show();else{var I=A.getBoundingClientRect().height||0,S=this.conf.width||100;C.css("margin-top",I+"px").css("width",S+"px"),A.append(C),this.rendered=!0}this._show=!0}},D.prototype.hide=function(){var y=this.$container;this._show&&(y.hide(),this._show=!1)},(0,b.default)(D.prototype,"isShow",{get:function(){return this._show},enumerable:!1,configurable:!0}),D}();c.default=m},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});function w(P){var h=P.selection.getSelectionContainerElem();return h!=null&&h.length?h.getNodeName()==="A":!1}c.default=w},function(k,c,r){"use strict";var d=r(0),b=d(r(92)),w=d(r(1)),P=d(r(4));(0,w.default)(c,"__esModule",{value:!0});var h=r(6);function x(E,m){var D=new XMLHttpRequest;if(D.open("POST",E),D.timeout=m.timeout||1e4,D.ontimeout=function(){console.error("wangEditor - \u8BF7\u6C42\u8D85\u65F6"),m.onTimeout&&m.onTimeout(D)},D.upload&&(D.upload.onprogress=function(A){var C=A.loaded/A.total;m.onProgress&&m.onProgress(C,A)}),m.headers&&(0,P.default)(h).call(h,m.headers,function(A,C){D.setRequestHeader(A,C)}),D.withCredentials=!!m.withCredentials,m.beforeSend){var y=m.beforeSend(D);if(y&&(0,b.default)(y)==="object"&&y.prevent)return y.msg}return D.onreadystatechange=function(){if(D.readyState===4){var A=D.status;if(!(A<200)&&!(A>=300&&A<400)){if(A>=400){console.error("wangEditor - XHR \u62A5\u9519\uFF0C\u72B6\u6001\u7801 "+A),m.onError&&m.onError(D);return}var C=D.responseText,I;if((0,b.default)(C)!=="object")try{I=JSON.parse(C)}catch(S){console.error("wangEditor - \u8FD4\u56DE\u7ED3\u679C\u4E0D\u662F JSON \u683C\u5F0F",C),m.onFail&&m.onFail(D,C);return}else I=C;m.onSuccess(D,I)}}},D.send(m.formData||null),D}c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(342)),P=d(r(46));(0,b.default)(c,"__esModule",{value:!0});var h=r(2),x=h.__importDefault(r(3)),E=function(){function m(D){this.editor=D,this.$textContainer=D.$textContainerElem,this.$bar=x.default('<div class="w-e-progress"></div>'),this.isShow=!1,this.time=0,this.timeoutId=0}return m.prototype.show=function(D){var y=this;if(!this.isShow){this.isShow=!0;var A=this.$bar,C=this.$textContainer;C.append(A),(0,w.default)()-this.time>100&&D<=1&&(A.css("width",D*100+"%"),this.time=(0,w.default)());var I=this.timeoutId;I&&clearTimeout(I),this.timeoutId=(0,P.default)(function(){y.hide()},500)}},m.prototype.hide=function(){var D=this.$bar;D.remove(),this.isShow=!1,this.time=0,this.timeoutId=0},m}();c.default=E},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.ListType=void 0;var w=r(2),P=w.__importDefault(r(3)),h=w.__importDefault(r(24)),x=r(47),E=w.__importStar(r(371)),m;(function(y){y.OrderedList="OL",y.UnorderedList="UL"})(m=c.ListType||(c.ListType={}));var D=function(y){w.__extends(A,y);function A(C){var I=this,S=P.default('<div class="w-e-menu" data-title="\u5E8F\u5217">\n                <i class="w-e-icon-list2"></i>\n            </div>'),O={width:130,title:"\u5E8F\u5217",type:"list",list:[{$elem:P.default('\n                        <p>\n                            <i class="w-e-icon-list2 w-e-drop-list-item"></i>\n                            '+C.i18next.t("menus.dropListMenu.list.\u65E0\u5E8F\u5217\u8868")+"\n                        <p>"),value:m.UnorderedList},{$elem:P.default('<p>\n                            <i class="w-e-icon-list-numbered w-e-drop-list-item"></i>\n                            '+C.i18next.t("menus.dropListMenu.list.\u6709\u5E8F\u5217\u8868")+"\n                        <p>"),value:m.OrderedList}],clickHandler:function(f){I.command(f)}};return I=y.call(this,S,C,O)||this,I}return A.prototype.command=function(C){var I=this.editor,S=I.selection.getSelectionContainerElem();S!==void 0&&(this.handleSelectionRangeNodes(C),this.tryChangeActive())},A.prototype.validator=function(C,I,S){return!(!C.length||!I.length||S.equal(C)||S.equal(I))},A.prototype.handleSelectionRangeNodes=function(C){var I=this.editor,S=I.selection,O=C.toLowerCase(),T=S.getSelectionContainerElem(),f=S.getSelectionStartElem().getNodeTop(I),B=S.getSelectionEndElem().getNodeTop(I);if(this.validator(f,B,I.$textElem)){var u=S.getRange(),U=u==null?void 0:u.collapsed;I.$textElem.equal(T)||(T=T.getNodeTop(I));var L={editor:I,listType:C,listTarget:O,$selectionElem:T,$startElem:f,$endElem:B},F;this.isOrderElem(T)?F=E.ClassType.Wrap:this.isOrderElem(f)&&this.isOrderElem(B)?F=E.ClassType.Join:this.isOrderElem(f)?F=E.ClassType.StartJoin:this.isOrderElem(B)?F=E.ClassType.EndJoin:F=E.ClassType.Other;var N=new E.default(E.createListHandle(F,L,u));x.updateRange(I,N.getSelectionRangeElem(),!!U)}},A.prototype.isOrderElem=function(C){var I=C.getNodeName();return I===m.OrderedList||I===m.UnorderedList},A.prototype.tryChangeActive=function(){},A}(h.default);c.default=D},function(k,c,r){k.exports=r(395)},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});function w(P){var h=P.selection.getSelectionContainerElem();return h!=null&&h.length?!!(h.getNodeName()=="CODE"||h.getNodeName()=="PRE"||h.parent().getNodeName()=="CODE"||h.parent().getNodeName()=="PRE"||/hljs/.test(h.parent().attr("class"))):!1}c.default=w},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(31));(0,b.default)(c,"__esModule",{value:!0}),c.todo=void 0;var P=r(2),h=P.__importDefault(r(3)),x=function(){function m(D){var y;this.template='<ul class="w-e-todo"><li><span contenteditable="false"><input type="checkbox"></span></li></ul>',this.checked=!1,this.$todo=h.default(this.template),this.$child=(y=D==null?void 0:D.childNodes())===null||y===void 0?void 0:y.clone(!0)}return m.prototype.init=function(){var D=this.$child,y=this.getInputContainer();D&&D.insertAfter(y)},m.prototype.getInput=function(){var D=this.$todo,y=(0,w.default)(D).call(D,"input");return y},m.prototype.getInputContainer=function(){var D=this.getInput().parent();return D},m.prototype.getTodo=function(){return this.$todo},m}();c.todo=x;function E(m){var D=new x(m);return D.init(),D}c.default=E},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2);r(146),r(148),r(152),r(154),r(156),r(158),r(160);var P=w.__importDefault(r(87));w.__exportStar(r(442),c);try{}catch(h){throw new Error("\u8BF7\u5728\u6D4F\u89C8\u5668\u73AF\u5883\u4E0B\u8FD0\u884C")}c.default=P.default},function(k,c,r){var d=r(143);k.exports=d},function(k,c,r){r(144);var d=r(9),b=d.Object,w=k.exports=function(h,x,E){return b.defineProperty(h,x,E)};b.defineProperty.sham&&(w.sham=!0)},function(k,c,r){var d=r(5),b=r(14),w=r(18);d({target:"Object",stat:!0,forced:!b,sham:!b},{defineProperty:w.f})},function(k,c){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(d){typeof window=="object"&&(r=window)}k.exports=r},function(k,c,r){var d=r(20),b=r(147);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[k.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var P=d(b,w);k.exports=b.locals||{}},function(k,c,r){var d=r(21);c=d(!1),c.push([k.i,'.w-e-toolbar,\n.w-e-text-container,\n.w-e-menu-panel {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n  background-color: #fff;\n  /*\u8868\u60C5\u83DC\u5355\u6837\u5F0F*/\n  /*\u5206\u5272\u7EBF\u6837\u5F0F*/\n}\n.w-e-toolbar h1,\n.w-e-text-container h1,\n.w-e-menu-panel h1 {\n  font-size: 32px !important;\n}\n.w-e-toolbar h2,\n.w-e-text-container h2,\n.w-e-menu-panel h2 {\n  font-size: 24px !important;\n}\n.w-e-toolbar h3,\n.w-e-text-container h3,\n.w-e-menu-panel h3 {\n  font-size: 18.72px !important;\n}\n.w-e-toolbar h4,\n.w-e-text-container h4,\n.w-e-menu-panel h4 {\n  font-size: 16px !important;\n}\n.w-e-toolbar h5,\n.w-e-text-container h5,\n.w-e-menu-panel h5 {\n  font-size: 13.28px !important;\n}\n.w-e-toolbar p,\n.w-e-text-container p,\n.w-e-menu-panel p {\n  font-size: 16px !important;\n}\n.w-e-toolbar .eleImg,\n.w-e-text-container .eleImg,\n.w-e-menu-panel .eleImg {\n  cursor: pointer;\n  display: inline-block;\n  font-size: 18px;\n  padding: 0 3px;\n}\n.w-e-toolbar *,\n.w-e-text-container *,\n.w-e-menu-panel * {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n.w-e-toolbar hr,\n.w-e-text-container hr,\n.w-e-menu-panel hr {\n  cursor: pointer;\n  display: block;\n  height: 0px;\n  border: 0;\n  border-top: 3px solid #ccc;\n  margin: 20px 0;\n}\n.w-e-clear-fix:after {\n  content: "";\n  display: table;\n  clear: both;\n}\n.w-e-drop-list-item {\n  position: relative;\n  top: 1px;\n  padding-right: 7px;\n  color: #333 !important;\n}\n.w-e-drop-list-tl {\n  padding-left: 10px;\n  text-align: left;\n}\n',""]),k.exports=c},function(k,c,r){var d=r(20),b=r(149);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[k.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var P=d(b,w);k.exports=b.locals||{}},function(k,c,r){var d=r(21),b=r(150),w=r(151);c=d(!1);var P=b(w);c.push([k.i,"@font-face {\n  font-family: 'w-e-icon';\n  src: url("+P+') format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n[class^="w-e-icon-"],\n[class*=" w-e-icon-"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'w-e-icon\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.w-e-icon-close:before {\n  content: "\\f00d";\n}\n.w-e-icon-upload2:before {\n  content: "\\e9c6";\n}\n.w-e-icon-trash-o:before {\n  content: "\\f014";\n}\n.w-e-icon-header:before {\n  content: "\\f1dc";\n}\n.w-e-icon-pencil2:before {\n  content: "\\e906";\n}\n.w-e-icon-paint-brush:before {\n  content: "\\f1fc";\n}\n.w-e-icon-image:before {\n  content: "\\e90d";\n}\n.w-e-icon-play:before {\n  content: "\\e912";\n}\n.w-e-icon-location:before {\n  content: "\\e947";\n}\n.w-e-icon-undo:before {\n  content: "\\e965";\n}\n.w-e-icon-redo:before {\n  content: "\\e966";\n}\n.w-e-icon-quotes-left:before {\n  content: "\\e977";\n}\n.w-e-icon-list-numbered:before {\n  content: "\\e9b9";\n}\n.w-e-icon-list2:before {\n  content: "\\e9bb";\n}\n.w-e-icon-link:before {\n  content: "\\e9cb";\n}\n.w-e-icon-happy:before {\n  content: "\\e9df";\n}\n.w-e-icon-bold:before {\n  content: "\\ea62";\n}\n.w-e-icon-underline:before {\n  content: "\\ea63";\n}\n.w-e-icon-italic:before {\n  content: "\\ea64";\n}\n.w-e-icon-strikethrough:before {\n  content: "\\ea65";\n}\n.w-e-icon-table2:before {\n  content: "\\ea71";\n}\n.w-e-icon-paragraph-left:before {\n  content: "\\ea77";\n}\n.w-e-icon-paragraph-center:before {\n  content: "\\ea78";\n}\n.w-e-icon-paragraph-right:before {\n  content: "\\ea79";\n}\n.w-e-icon-paragraph-justify:before {\n  content: "\\ea7a";\n}\n.w-e-icon-terminal:before {\n  content: "\\f120";\n}\n.w-e-icon-page-break:before {\n  content: "\\ea68";\n}\n.w-e-icon-cancel-circle:before {\n  content: "\\ea0d";\n}\n.w-e-icon-font:before {\n  content: "\\ea5c";\n}\n.w-e-icon-text-heigh:before {\n  content: "\\ea5f";\n}\n.w-e-icon-paint-format:before {\n  content: "\\e90c";\n}\n.w-e-icon-indent-increase:before {\n  content: "\\ea7b";\n}\n.w-e-icon-indent-decrease:before {\n  content: "\\ea7c";\n}\n.w-e-icon-row-height:before {\n  content: "\\e9be";\n}\n.w-e-icon-fullscreen_exit:before {\n  content: "\\e900";\n}\n.w-e-icon-fullscreen:before {\n  content: "\\e901";\n}\n.w-e-icon-split-line:before {\n  content: "\\ea0b";\n}\n.w-e-icon-checkbox-checked:before {\n  content: "\\ea52";\n}\n',""]),k.exports=c},function(k,c,r){"use strict";k.exports=function(d,b){return b||(b={}),d=d&&d.__esModule?d.default:d,typeof d!="string"?d:(/^['"].*['"]$/.test(d)&&(d=d.slice(1,-1)),b.hash&&(d+=b.hash),/["'() \t\n]/.test(d)||b.needQuotes?'"'.concat(d.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):d)}},function(k,c,r){"use strict";r.r(c),c.default="data:font/woff;base64,d09GRgABAAAAABskAAsAAAAAGtgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIPFWNtYXAAAAFoAAABHAAAARz2mfAgZ2FzcAAAAoQAAAAIAAAACAAAABBnbHlmAAACjAAAFXwAABV8IH7+mGhlYWQAABgIAAAANgAAADYb6gumaGhlYQAAGEAAAAAkAAAAJAkjBWlobXR4AAAYZAAAAKQAAACkmYcEbmxvY2EAABkIAAAAVAAAAFReAmKYbWF4cAAAGVwAAAAgAAAAIAA0ALZuYW1lAAAZfAAAAYYAAAGGmUoJ+3Bvc3QAABsEAAAAIAAAACAAAwAAAAMD7wGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA8fwDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAQAAAAA8ACAABAAcAAEAIOkB6QbpDekS6UfpZul36bnpu+m+6cbpy+nf6gvqDepS6lzqX+pl6nHqfPAN8BTxIPHc8fz//f//AAAAAAAg6QDpBukM6RLpR+ll6Xfpuem76b7pxunL6d/qC+oN6lLqXOpf6mLqcep38A3wFPEg8dzx/P/9//8AAf/jFwQXABb7FvcWwxamFpYWVRZUFlIWSxZHFjQWCRYIFcQVuxW5FbcVrBWnEBcQEQ8GDksOLAADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAEAEEAAQO/A38ABQALABEAFwAAATMVIREzAxEhFSMVATUzESE1ETUhESM1Av/A/sJ+fgE+wP4Cfv7CAT5+Ar9+AT78ggE+fsACvsD+wn7+An7+wsAAAAAABABBAAEDvwN/AAUACwARABcAAAEhESM1IxM1MxEhNQERIRUjFREVMxUhEQKBAT5+wMB+/sL9wAE+wMD+wgN//sLA/X7A/sJ+AcIBPn7A/v7AfgE+AAAAAAIAAP/ABAADwAAEABMAAAE3AScBAy4BJxM3ASMBAyUBNQEHAYCAAcBA/kCfFzsyY4ABgMD+gMACgAGA/oBOAUBAAcBA/kD+nTI7FwERTgGA/oD9gMABgMD+gIAAAgAA/8AEAAOAACkALQAAAREjNTQmIyEiBh0BFBYzITI2PQEzESEVIyIGFREUFjsBMjY1ETQmKwE1ASE1IQQAwCYa/UAaJiYaAsAaJoD9wCANExMNgA0TEw0gAUD9QALAAYABgEAaJiYawBomJhpA/wCAEw3+wA0TEw0BQA0TQAGAQAAABAAAAAAEAAOAABAAIQAtADQAAAE4ATEROAExITgBMRE4ATEhNSEiBhURFBYzITI2NRE0JiMHFAYjIiY1NDYzMhYTITUTATM3A8D8gAOA/IAaJiYaA4AaJiYagDgoKDg4KCg4QP0A4AEAQOADQP0AAwBAJhr9ABomJhoDABom4Cg4OCgoODj9uIABgP7AwAAAAgAAAEAEAANAADgAPAAAASYnLgEnJiMiBw4BBwYHBgcOAQcGFRQXHgEXFhcWFx4BFxYzMjc+ATc2NzY3PgE3NjU0Jy4BJyYnARENAQPVNjg5djw9Pz89PHY5ODYLBwgLAwMDAwsIBws2ODl2PD0/Pz08djk4NgsHCAsDAwMDCwgHC/2rAUD+wAMgCAYGCAICAgIIBgYIKSoqWS0uLy8uLVkqKikIBgYIAgICAggGBggpKipZLS4vLy4tWSoqKf3gAYDAwAAAAAACAMD/wANAA8AAGwAnAAABIgcOAQcGFRQXHgEXFjEwNz4BNzY1NCcuAScmAyImNTQ2MzIWFRQGAgBCOzpXGRkyMngyMjIyeDIyGRlXOjtCUHBwUFBwcAPAGRlXOjtCeH19zEFBQUHMfX14Qjs6VxkZ/gBwUFBwcFBQcAAAAQAAAAAEAAOAACsAAAEiBw4BBwYHJxEhJz4BMzIXHgEXFhUUBw4BBwYHFzY3PgE3NjU0Jy4BJyYjAgA1MjJcKSkjlgGAkDWLUFBFRmkeHgkJIhgYHlUoICAtDAwoKIteXWoDgAoLJxscI5b+gJA0PB4eaUZFUCsoKUkgIRpgIysrYjY2OWpdXosoKAABAAAAAAQAA4AAKgAAExQXHgEXFhc3JicuAScmNTQ3PgE3NjMyFhcHIREHJicuAScmIyIHDgEHBgAMDC0gIChVHhgYIgkJHh5pRkVQUIs1kAGAliMpKVwyMjVqXV6LKCgBgDk2NmIrKyNgGiEgSSkoK1BFRmkeHjw0kAGAliMcGycLCigoi15dAAAAAAIAAABABAEDAAAmAE0AABMyFx4BFxYVFAcOAQcGIyInLgEnJjUnNDc+ATc2MxUiBgcOAQc+ASEyFx4BFxYVFAcOAQcGIyInLgEnJjUnNDc+ATc2MxUiBgcOAQc+AeEuKSk9ERISET0pKS4uKSk9ERIBIyN6UlFdQHUtCRAHCBICSS4pKT0REhIRPSkpLi4pKT0REgEjI3pSUV1AdS0JEAcIEgIAEhE9KSkuLikpPRESEhE9KSkuIF1RUnojI4AwLggTCgIBEhE9KSkuLikpPRESEhE9KSkuIF1RUnojI4AwLggTCgIBAAAGAED/wAQAA8AAAwAHAAsAEQAdACkAACUhFSERIRUhESEVIScRIzUjNRMVMxUjNTc1IzUzFRURIzUzNSM1MzUjNQGAAoD9gAKA/YACgP2AwEBAQIDAgIDAwICAgICAgAIAgAIAgMD/AMBA/fIyQJI8MkCS7v7AQEBAQEAABgAA/8AEAAPAAAMABwALABcAIwAvAAABIRUhESEVIREhFSEBNDYzMhYVFAYjIiYRNDYzMhYVFAYjIiYRNDYzMhYVFAYjIiYBgAKA/YACgP2AAoD9gP6ASzU1S0s1NUtLNTVLSzU1S0s1NUtLNTVLA4CA/wCA/wCAA0A1S0s1NUtL/rU1S0s1NUtL/rU1S0s1NUtLAAUAAABABWADAAADAAcACwAOABEAABMhFSEVIRUhFSEVIQEXNzUnBwADgPyAA4D8gAOA/IAD4MDAwMADAMBAwEDAAUDAwEDAwAAAAAADAAAAAAQAA6AAAwANABQAADchFSElFSE1EyEVITUhJQkBIxEjEQAEAPwABAD8AIABAAEAAQD9YAEgASDggEBAwEBAAQCAgMABIP7g/wABAAAAAAACAB7/zAPiA7QAMwBkAAABIiYnJicmNDc2PwE+ATMyFhcWFxYUBwYPAQYiJyY0PwE2NCcuASMiBg8BBhQXFhQHDgEjAyImJyYnJjQ3Nj8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFxYUBwYPAQ4BIwG4ChMIIxISEhIjwCNZMTFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PCBMKuDFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PDysQIxISEhIjwCNZMQFECAckLS1eLS0kwCIlJSIkLS1eLS0kVxAQDysPWCl0KRQVFRTAKXQpDysQBwj+iCUiJC0tXi0tJFcQEA8rD1gpdCkUFRUUwCl0KQ8rEA8PJC0tXi0tJMAiJQAAAAAFAAD/wAQAA8AAGwA3AFMAXwBrAAAFMjc+ATc2NTQnLgEnJiMiBw4BBwYVFBceARcWEzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NhMyNz4BNzY3BgcOAQcGIyInLgEnJicWFx4BFxYnNDYzMhYVFAYjIiYlNDYzMhYVFAYjIiYCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMVisrKlEmJiMFHBtWODc/Pzc4VhscBSMmJlEqK9UlGxslJRsbJQGAJRsbJSUbGyVAKCiLXl1qal1eiygoKCiLXl1qal1eiygoA6AhIHFMTFZWTExxICEhIHFMTFZWTExxICH+CQYGFRAQFEM6OlYYGRkYVjo6QxQQEBUGBvcoODgoKDg4KCg4OCgoODgAAAEAAAFABAACQAAPAAATFRQWMyEyNj0BNCYjISIGABMNA8ANExMN/EANEwIgwA0TEw3ADRMTAAAAAwAA/8AEAAPAABsANwBDAAABIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmAyInLgEnJjU0Nz4BNzYzMhceARcWFRQHDgEHBhMHJwcXBxc3FzcnNwIAal1eiygoKCiLXl1qal1eiygoKCiLXl1qVkxMcSAhISBxTExWVkxMcSAhISBxTExKoKBgoKBgoKBgoKADwCgoi15dampdXosoKCgoi15dampdXosoKPxgISBxTExWVkxMcSAhISBxTExWVkxMcSAhAqCgoGCgoGCgoGCgoAACAAD/wAQAA8AADwAVAAABISIGFREUFjMhMjY1ETQmASc3FwEXA4D9ADVLSzUDADVLS/4L7VqTATNaA8BLNf0ANUtLNQMANUv85e5akgEyWgAAAAABAGX/wAObA8AAKQAAASImIyIHDgEHBhUUFjMuATU0NjcwBwYCBwYHFSETMzcjNx4BMzI2Nw4BAyBEaEZxU1RtGhtJSAYNZUoQEEs8PFkBPWzGLNc0LVUmLlAYHT0DsBAeHWE+P0FNOwsmN5lvA31+/sWPkCMZAgCA9gkPN2sJBwAAAAACAAAAAAQAA4AACQAXAAAlMwcnMxEjNxcjJREnIxEzFSE1MxEjBxEDgICgoICAoKCA/wBAwID+gIDAQMDAwAIAwMDA/wCA/UBAQALAgAEAAAMAwAAAA0ADgAAWAB8AKAAAAT4BNTQnLgEnJiMhESEyNz4BNzY1NCYBMzIWFRQGKwETIxEzMhYVFAYCxBwgFBRGLi81/sABgDUvLkYUFET+hGUqPDwpZp+fnyw+PgHbIlQvNS8uRhQU/IAUFEYuLzVGdAFGSzU1S/6AAQBLNTVLAAAAAAIAwAAAA0ADgAAfACMAAAEzERQHDgEHBiMiJy4BJyY1ETMRFBYXHgEzMjY3PgE1ASEVIQLAgBkZVzo7QkI7OlcZGYAbGBxJKChJHBgb/gACgP2AA4D+YDw0NU4WFxcWTjU0PAGg/mAeOBcYGxsYFzge/qCAAAAAAAEAgAAAA4ADgAALAAABFSMBMxUhNTMBIzUDgID+wID+QIABQIADgED9AEBAAwBAAAEAAAAABAADgAA9AAABFSMeARUUBgcOASMiJicuATUzFBYzMjY1NCYjITUhLgEnLgE1NDY3PgEzMhYXHgEVIzQmIyIGFRQWMzIWFwQA6xUWNTAscT4+cSwwNYByTk5yck7+AAEsAgQBMDU1MCxxPj5xLDA1gHJOTnJyTjtuKwHAQB1BIjViJCEkJCEkYjU0TEw0NExAAQMBJGI1NWIkISQkISRiNTRMTDQ0TCEfAAAACgAAAAAEAAOAAAMABwALAA8AEwAXABsAHwAjACcAABMRIREBNSEVHQEhNQEVITUjFSE1ESEVISUhFSERNSEVASEVISE1IRUABAD9gAEA/wABAP8AQP8AAQD/AAKAAQD/AAEA/IABAP8AAoABAAOA/IADgP3AwMBAwMACAMDAwMD/AMDAwAEAwMD+wMDAwAAABQAAAAAEAAOAAAMABwALAA8AEwAAEyEVIRUhFSERIRUhESEVIREhFSEABAD8AAKA/YACgP2ABAD8AAQA/AADgIBAgP8AgAFAgP8AgAAAAAAFAAAAAAQAA4AAAwAHAAsADwATAAATIRUhFyEVIREhFSEDIRUhESEVIQAEAPwAwAKA/YACgP2AwAQA/AAEAPwAA4CAQID/AIABQID/AIAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEFIRUhESEVIQEhFSERIRUhAAQA/AABgAKA/YACgP2A/oAEAPwABAD8AAOAgECA/wCAAUCA/wCAAAAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEVIRUhFSEVIRUhFSEVIRUhAAQA/AAEAPwABAD8AAQA/AAEAPwAA4CAQIBAgECAQIAAAAAGAAAAAAQAA4AAAwAHAAsADwATABYAABMhFSEFIRUhFSEVIRUhFSEFIRUhGQEFAAQA/AABgAKA/YACgP2AAoD9gP6ABAD8AAEAA4CAQIBAgECAQIABAAGAwAAAAAYAAAAABAADgAADAAcACwAPABMAFgAAEyEVIQUhFSEVIRUhFSEVIQUhFSEBESUABAD8AAGAAoD9gAKA/YACgP2A/oAEAPwAAQD/AAOAgECAQIBAgECAAoD+gMAAAQA/AD8C5gLmACwAACUUDwEGIyIvAQcGIyIvASY1ND8BJyY1ND8BNjMyHwE3NjMyHwEWFRQPARcWFQLmEE4QFxcQqKgQFxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQwxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQEE4QFxcQqKgQFwAAAAYAAAAAAyUDbgAUACgAPABNAFUAggAAAREUBwYrASInJjURNDc2OwEyFxYVMxEUBwYrASInJjURNDc2OwEyFxYXERQHBisBIicmNRE0NzY7ATIXFhMRIREUFxYXFjMhMjc2NzY1ASEnJicjBgcFFRQHBisBERQHBiMhIicmNREjIicmPQE0NzY7ATc2NzY7ATIXFh8BMzIXFhUBJQYFCCQIBQYGBQgkCAUGkgUFCCUIBQUFBQglCAUFkgUFCCUIBQUFBQglCAUFSf4ABAQFBAIB2wIEBAQE/oABABsEBrUGBAH3BgUINxobJv4lJhsbNwgFBQUFCLEoCBcWF7cXFhYJKLAIBQYCEv63CAUFBQUIAUkIBQYGBQj+twgFBQUFCAFJCAUGBgUI/rcIBQUFBQgBSQgFBgYF/lsCHf3jDQsKBQUFBQoLDQJmQwUCAgVVJAgGBf3jMCIjISIvAiAFBggkCAUFYBUPDw8PFWAFBQgAAgAHAEkDtwKvABoALgAACQEGIyIvASY1ND8BJyY1ND8BNjMyFwEWFRQHARUUBwYjISInJj0BNDc2MyEyFxYBTv72BgcIBR0GBuHhBgYdBQgHBgEKBgYCaQUFCP3bCAUFBQUIAiUIBQUBhf72BgYcBggHBuDhBgcHBh0FBf71BQgHBv77JQgFBQUFCCUIBQUFBQAAAAEAIwAAA90DbgCzAAAlIicmIyIHBiMiJyY1NDc2NzY3Njc2PQE0JyYjISIHBh0BFBcWFxYzFhcWFRQHBiMiJyYjIgcGIyInJjU0NzY3Njc2NzY9ARE0NTQ1NCc0JyYnJicmJyYnJiMiJyY1NDc2MzIXFjMyNzYzMhcWFRQHBiMGBwYHBh0BFBcWMyEyNzY9ATQnJicmJyY1NDc2MzIXFjMyNzYzMhcWFRQHBgciBwYHBhURFBcWFxYXMhcWFRQHBiMDwRkzMhoZMjMZDQgHCQoNDBEQChIBBxX+fhYHARUJEhMODgwLBwcOGzU1GhgxMRgNBwcJCQsMEA8JEgECAQIDBAQFCBIRDQ0KCwcHDho1NRoYMDEYDgcHCQoMDRAQCBQBBw8BkA4HARQKFxcPDgcHDhkzMhkZMTEZDgcHCgoNDRARCBQUCRERDg0KCwcHDgACAgICDAsPEQkJAQEDAwUMROAMBQMDBQzUUQ0GAQIBCAgSDwwNAgICAgwMDhEICQECAwMFDUUhAdACDQ0ICA4OCgoLCwcHAwYBAQgIEg8MDQICAgINDA8RCAgBAgEGDFC2DAcBAQcMtlAMBgEBBgcWDwwNAgICAg0MDxEICAEBAgYNT/3mRAwGAgIBCQgRDwwNAAACAAD/twP/A7cAEwA5AAABMhcWFRQHAgcGIyInJjU0NwE2MwEWFxYfARYHBiMiJyYnJicmNRYXFhcWFxYzMjc2NzY3Njc2NzY3A5soHh4avkw3RUg0NDUBbSEp/fgXJicvAQJMTHtHNjYhIRARBBMUEBASEQkXCA8SExUVHR0eHikDtxsaKCQz/plGNDU0SUkwAUsf/bErHx8NKHpNTBobLi86OkQDDw4LCwoKFiUbGhERCgsEBAIAAQAAAAAAAIWwaoFfDzz1AAsEAAAAAADbteOZAAAAANu145kAAP+3BWADwAAAAAgAAgAAAAAAAAABAAADwP/AAAAFgAAA//8FYAABAAAAAAAAAAAAAAAAAAAAKQQAAAAAAAAAAAAAAAIAAAAEAABBBAAAQQQAAAAEAAAABAAAAAQAAAAEAADABAAAAAQAAAAEAAAABAAAQAQAAAAFgAAABAAAAAQAAB4EAAAABAAAAAQAAAAEAAAABAAAZQQAAAAEAADABAAAwAQAAIAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAMlAD8DJQAAA74ABwQAACMD/wAAAAAAAAAKABQAHgBKAHYApADmAS4BkgHQAhYCXALQAw4DWAN+A6gEPgTeBPoFZAWOBdAF+AY6BnYGjgbmBy4HVgd+B6gHzgf8CCoIbgkmCXAKYgq+AAEAAAApALQACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},function(k,c,r){var d=r(20),b=r(153);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[k.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var P=d(b,w);k.exports=b.locals||{}},function(k,c,r){var d=r(21);c=d(!1),c.push([k.i,'.w-e-toolbar {\n  display: flex;\n  padding: 0 6px;\n  flex-wrap: wrap;\n  position: relative;\n  /* \u5355\u4E2A\u83DC\u5355 */\n}\n.w-e-toolbar .w-e-menu {\n  position: relative;\n  display: flex;\n  width: 40px;\n  height: 40px;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  cursor: pointer;\n}\n.w-e-toolbar .w-e-menu i {\n  color: #999;\n}\n.w-e-toolbar .w-e-menu:hover {\n  background-color: #F6F6F6;\n}\n.w-e-toolbar .w-e-menu:hover i {\n  color: #333;\n}\n.w-e-toolbar .w-e-active i {\n  color: #1e88e5;\n}\n.w-e-toolbar .w-e-active:hover i {\n  color: #1e88e5;\n}\n.w-e-menu-tooltip {\n  position: absolute;\n  display: flex;\n  color: #f1f1f1;\n  background-color: rgba(0, 0, 0, 0.75);\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);\n  border-radius: 4px;\n  padding: 4px 5px 6px;\n  justify-content: center;\n  align-items: center;\n}\n.w-e-menu-tooltip-up::after {\n  content: "";\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border: 5px solid rgba(0, 0, 0, 0);\n  border-top-color: rgba(0, 0, 0, 0.73);\n}\n.w-e-menu-tooltip-down::after {\n  content: "";\n  position: absolute;\n  bottom: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border: 5px solid rgba(0, 0, 0, 0);\n  border-bottom-color: rgba(0, 0, 0, 0.73);\n}\n.w-e-menu-tooltip-item-wrapper {\n  font-size: 14px;\n  margin: 0 5px;\n}\n',""]),k.exports=c},function(k,c,r){var d=r(20),b=r(155);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[k.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var P=d(b,w);k.exports=b.locals||{}},function(k,c,r){var d=r(21);c=d(!1),c.push([k.i,'.w-e-text-container {\n  position: relative;\n  height: 100%;\n}\n.w-e-text-container .w-e-progress {\n  position: absolute;\n  background-color: #1e88e5;\n  top: 0;\n  left: 0;\n  height: 1px;\n}\n.w-e-text-container .placeholder {\n  color: #D4D4D4;\n  position: absolute;\n  font-size: 11pt;\n  line-height: 22px;\n  left: 10px;\n  top: 10px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  z-index: -1;\n}\n.w-e-text {\n  padding: 0 10px;\n  overflow-y: auto;\n}\n.w-e-text p,\n.w-e-text h1,\n.w-e-text h2,\n.w-e-text h3,\n.w-e-text h4,\n.w-e-text h5,\n.w-e-text table,\n.w-e-text pre {\n  margin: 10px 0;\n  line-height: 1.5;\n}\n.w-e-text ul,\n.w-e-text ol {\n  margin: 10px 0 10px 20px;\n}\n.w-e-text blockquote {\n  display: block;\n  border-left: 8px solid #d0e5f2;\n  padding: 5px 10px;\n  margin: 10px 0;\n  line-height: 1.4;\n  font-size: 100%;\n  background-color: #f1f1f1;\n}\n.w-e-text code {\n  display: inline-block;\n  background-color: #f1f1f1;\n  border-radius: 3px;\n  padding: 3px 5px;\n  margin: 0 3px;\n}\n.w-e-text pre code {\n  display: block;\n}\n.w-e-text table {\n  border-top: 1px solid #ccc;\n  border-left: 1px solid #ccc;\n}\n.w-e-text table td,\n.w-e-text table th {\n  border-bottom: 1px solid #ccc;\n  border-right: 1px solid #ccc;\n  padding: 3px 5px;\n  min-height: 30px;\n  height: 30px;\n}\n.w-e-text table th {\n  border-bottom: 2px solid #ccc;\n  text-align: center;\n  background-color: #f1f1f1;\n}\n.w-e-text:focus {\n  outline: none;\n}\n.w-e-text img {\n  cursor: pointer;\n}\n.w-e-text img:hover {\n  box-shadow: 0 0 5px #333;\n}\n.w-e-text .w-e-todo {\n  margin: 0 0 0 20px;\n}\n.w-e-text .w-e-todo li {\n  list-style: none;\n  font-size: 1em;\n}\n.w-e-text .w-e-todo li span:nth-child(1) {\n  position: relative;\n  left: -18px;\n}\n.w-e-text .w-e-todo li span:nth-child(1) input {\n  position: absolute;\n  margin-right: 3px;\n}\n.w-e-text .w-e-todo li span:nth-child(1) input[type=checkbox] {\n  top: 50%;\n  margin-top: -6px;\n}\n.w-e-tooltip {\n  position: absolute;\n  display: flex;\n  color: #f1f1f1;\n  background-color: rgba(0, 0, 0, 0.75);\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);\n  border-radius: 4px;\n  padding: 4px 5px 6px;\n  justify-content: center;\n  align-items: center;\n}\n.w-e-tooltip-up::after {\n  content: "";\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border: 5px solid rgba(0, 0, 0, 0);\n  border-top-color: rgba(0, 0, 0, 0.73);\n}\n.w-e-tooltip-down::after {\n  content: "";\n  position: absolute;\n  bottom: 100%;\n  left: 50%;\n  margin-left: -5px;\n  border: 5px solid rgba(0, 0, 0, 0);\n  border-bottom-color: rgba(0, 0, 0, 0.73);\n}\n.w-e-tooltip-item-wrapper {\n  cursor: pointer;\n  font-size: 14px;\n  margin: 0 5px;\n}\n.w-e-tooltip-item-wrapper:hover {\n  color: #ccc;\n  text-decoration: underline;\n}\n',""]),k.exports=c},function(k,c,r){var d=r(20),b=r(157);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[k.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var P=d(b,w);k.exports=b.locals||{}},function(k,c,r){var d=r(21);c=d(!1),c.push([k.i,'.w-e-menu .w-e-panel-container {\n  position: absolute;\n  top: 0;\n  left: 50%;\n  border: 1px solid #ccc;\n  border-top: 0;\n  box-shadow: 1px 1px 2px #ccc;\n  color: #333;\n  background-color: #fff;\n  text-align: left;\n  /* \u4E3A emotion panel \u5B9A\u5236\u7684\u6837\u5F0F */\n  /* \u4E0A\u4F20\u56FE\u7247\u3001\u4E0A\u4F20\u89C6\u9891\u7684 panel \u5B9A\u5236\u6837\u5F0F */\n}\n.w-e-menu .w-e-panel-container .w-e-panel-close {\n  position: absolute;\n  right: 0;\n  top: 0;\n  padding: 5px;\n  margin: 2px 5px 0 0;\n  cursor: pointer;\n  color: #999;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-close:hover {\n  color: #333;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title {\n  list-style: none;\n  display: flex;\n  font-size: 14px;\n  margin: 2px 10px 0 10px;\n  border-bottom: 1px solid #f1f1f1;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-item {\n  padding: 3px 5px;\n  color: #999;\n  cursor: pointer;\n  margin: 0 3px;\n  position: relative;\n  top: 1px;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-active {\n  color: #333;\n  border-bottom: 1px solid #333;\n  cursor: default;\n  font-weight: 700;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content {\n  padding: 10px 15px 10px 15px;\n  font-size: 16px;\n  /* \u8F93\u5165\u6846\u7684\u6837\u5F0F */\n  /* \u6309\u94AE\u7684\u6837\u5F0F */\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input:focus,\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus,\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content button:focus {\n  outline: none;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea {\n  width: 100%;\n  border: 1px solid #ccc;\n  padding: 5px;\n  margin-top: 10px;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus {\n  border-color: #1e88e5;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text] {\n  border: none;\n  border-bottom: 1px solid #ccc;\n  font-size: 14px;\n  height: 20px;\n  color: #333;\n  text-align: left;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].small {\n  width: 30px;\n  text-align: center;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].block {\n  display: block;\n  width: 100%;\n  margin: 10px 0;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {\n  border-bottom: 2px solid #1e88e5;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {\n  font-size: 14px;\n  color: #1e88e5;\n  border: none;\n  padding: 5px 10px;\n  background-color: #fff;\n  cursor: pointer;\n  border-radius: 3px;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {\n  float: left;\n  margin-right: 10px;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {\n  float: right;\n  margin-left: 10px;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {\n  color: #999;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {\n  color: #c24f4a;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {\n  background-color: #f1f1f1;\n}\n.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {\n  content: "";\n  display: table;\n  clear: both;\n}\n.w-e-menu .w-e-panel-container .w-e-emoticon-container .w-e-item {\n  cursor: pointer;\n  font-size: 18px;\n  padding: 0 3px;\n  display: inline-block;\n}\n.w-e-menu .w-e-panel-container .w-e-up-img-container,\n.w-e-menu .w-e-panel-container .w-e-up-video-container {\n  text-align: center;\n}\n.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn,\n.w-e-menu .w-e-panel-container .w-e-up-video-container .w-e-up-btn {\n  display: inline-block;\n  color: #999;\n  cursor: pointer;\n  font-size: 60px;\n  line-height: 1;\n}\n.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover,\n.w-e-menu .w-e-panel-container .w-e-up-video-container .w-e-up-btn:hover {\n  color: #333;\n}\n',""]),k.exports=c},function(k,c,r){var d=r(20),b=r(159);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[k.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var P=d(b,w);k.exports=b.locals||{}},function(k,c,r){var d=r(21);c=d(!1),c.push([k.i,".w-e-toolbar .w-e-droplist {\n  position: absolute;\n  left: 0;\n  top: 0;\n  background-color: #fff;\n  border: 1px solid #f1f1f1;\n  border-right-color: #ccc;\n  border-bottom-color: #ccc;\n}\n.w-e-toolbar .w-e-droplist .w-e-dp-title {\n  text-align: center;\n  color: #999;\n  line-height: 2;\n  border-bottom: 1px solid #f1f1f1;\n  font-size: 13px;\n}\n.w-e-toolbar .w-e-droplist ul.w-e-list {\n  list-style: none;\n  line-height: 1;\n}\n.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {\n  color: #333;\n  padding: 5px 0;\n}\n.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {\n  background-color: #f1f1f1;\n}\n.w-e-toolbar .w-e-droplist ul.w-e-block {\n  list-style: none;\n  text-align: left;\n  padding: 5px;\n}\n.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {\n  display: inline-block;\n  padding: 3px 5px;\n}\n.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {\n  background-color: #f1f1f1;\n}\n",""]),k.exports=c},function(k,c,r){"use strict";var d=r(0),b=d(r(161));Element.prototype.matches||(Element.prototype.matches=function(w){var P=this.ownerDocument.querySelectorAll(w),h=P.length;for(h;h>=0&&P.item(h)!==this;h--);return h>-1}),b.default||(window.Promise=b.default)},function(k,c,r){k.exports=r(162)},function(k,c,r){var d=r(163);k.exports=d},function(k,c,r){r(61),r(50),r(54),r(175),r(178),r(179);var d=r(9);k.exports=d.Promise},function(k,c,r){var d=r(62),b=r(49),w=function(h){return function(x,E){var m=String(b(x)),D=d(E),y=m.length,A,C;return D<0||D>=y?h?"":void 0:(A=m.charCodeAt(D),A<55296||A>56319||D+1===y||(C=m.charCodeAt(D+1))<56320||C>57343?h?m.charAt(D):A:h?m.slice(D,D+2):(A-55296<<10)+(C-56320)+65536)}};k.exports={codeAt:w(!1),charAt:w(!0)}},function(k,c,r){var d=r(8),b=r(101),w=d.WeakMap;k.exports=typeof w=="function"&&/native code/.test(b(w))},function(k,c,r){var d=r(8),b=r(19);k.exports=function(w,P){try{b(d,w,P)}catch(h){d[w]=P}return P}},function(k,c,r){"use strict";var d=r(103).IteratorPrototype,b=r(77),w=r(48),P=r(36),h=r(43),x=function(){return this};k.exports=function(E,m,D){var y=m+" Iterator";return E.prototype=b(d,{next:w(1,D)}),P(E,y,!1,!0),h[y]=x,E}},function(k,c,r){var d=r(11);k.exports=!d(function(){function b(){}return b.prototype.constructor=null,Object.getPrototypeOf(new b)!==b.prototype})},function(k,c,r){var d=r(14),b=r(18),w=r(25),P=r(52);k.exports=d?Object.defineProperties:function(x,E){w(x);for(var m=P(E),D=m.length,y=0,A;D>y;)b.f(x,A=m[y++],E[A]);return x}},function(k,c,r){"use strict";var d=r(81),b=r(65);k.exports=d?{}.toString:function(){return"[object "+b(this)+"]"}},function(k,c,r){var d=r(25),b=r(172);k.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var w=!1,P={},h;try{h=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,h.call(P,[]),w=P instanceof Array}catch(x){}return function(E,m){return d(E),b(m),w?h.call(E,m):E.__proto__=m,E}}():void 0)},function(k,c,r){var d=r(13);k.exports=function(b){if(!d(b)&&b!==null)throw TypeError("Can't set "+String(b)+" as a prototype");return b}},function(k,c,r){"use strict";var d=r(28),b=r(82),w=r(43),P=r(41),h=r(75),x="Array Iterator",E=P.set,m=P.getterFor(x);k.exports=h(Array,"Array",function(D,y){E(this,{type:x,target:d(D),index:0,kind:y})},function(){var D=m(this),y=D.target,A=D.kind,C=D.index++;return!y||C>=y.length?(D.target=void 0,{value:void 0,done:!0}):A=="keys"?{value:C,done:!1}:A=="values"?{value:y[C],done:!1}:{value:[C,y[C]],done:!1}},"values"),w.Arguments=w.Array,b("keys"),b("values"),b("entries")},function(k,c){k.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(k,c,r){"use strict";var d=r(5),b=r(42),w=r(8),P=r(35),h=r(108),x=r(53),E=r(109),m=r(36),D=r(110),y=r(13),A=r(40),C=r(83),I=r(33),S=r(101),O=r(66),T=r(114),f=r(115),B=r(116).set,u=r(176),U=r(118),L=r(177),F=r(85),N=r(119),H=r(41),V=r(100),G=r(10),R=r(86),z=G("species"),K="Promise",Y=H.get,q=H.set,Q=H.getterFor(K),ee=h,oe=w.TypeError,pe=w.document,ve=w.process,Pe=P("fetch"),He=F.f,Ne=He,Ze=I(ve)=="process",et=!!(pe&&pe.createEvent&&w.dispatchEvent),Je="unhandledrejection",gt="rejectionhandled",Ve=0,ht=1,Ct=2,wt=1,zt=2,Ut,Ot,Lt,$t,Yt=V(K,function(){var Ae=S(ee)!==String(ee);if(!Ae&&(R===66||!Ze&&typeof PromiseRejectionEvent!="function")||b&&!ee.prototype.finally)return!0;if(R>=51&&/native code/.test(ee))return!1;var ye=ee.resolve(1),be=function(Ee){Ee(function(){},function(){})},je=ye.constructor={};return je[z]=be,!(ye.then(function(){})instanceof be)}),xt=Yt||!T(function(Ae){ee.all(Ae).catch(function(){})}),we=function(ye){var be;return y(ye)&&typeof(be=ye.then)=="function"?be:!1},Ie=function(ye,be,je){if(!be.notified){be.notified=!0;var le=be.reactions;u(function(){for(var Ee=be.value,Fe=be.state==ht,We=0;le.length>We;){var he=le[We++],fe=Fe?he.ok:he.fail,Qe=he.resolve,Ke=he.reject,_e=he.domain,rt,st,qe;try{fe?(Fe||(be.rejection===zt&&Ce(ye,be),be.rejection=wt),fe===!0?rt=Ee:(_e&&_e.enter(),rt=fe(Ee),_e&&(_e.exit(),qe=!0)),rt===he.promise?Ke(oe("Promise-chain cycle")):(st=we(rt))?st.call(rt,Qe,Ke):Qe(rt)):Ke(Ee)}catch(at){_e&&!qe&&_e.exit(),Ke(at)}}be.reactions=[],be.notified=!1,je&&!be.rejection&&De(ye,be)})}},Ge=function(ye,be,je){var le,Ee;et?(le=pe.createEvent("Event"),le.promise=be,le.reason=je,le.initEvent(ye,!1,!0),w.dispatchEvent(le)):le={promise:be,reason:je},(Ee=w["on"+ye])?Ee(le):ye===Je&&L("Unhandled promise rejection",je)},De=function(ye,be){B.call(w,function(){var je=be.value,le=xe(be),Ee;if(le&&(Ee=N(function(){Ze?ve.emit("unhandledRejection",je,ye):Ge(Je,ye,je)}),be.rejection=Ze||xe(be)?zt:wt,Ee.error))throw Ee.value})},xe=function(ye){return ye.rejection!==wt&&!ye.parent},Ce=function(ye,be){B.call(w,function(){Ze?ve.emit("rejectionHandled",ye):Ge(gt,ye,be.value)})},Me=function(ye,be,je,le){return function(Ee){ye(be,je,Ee,le)}},Oe=function(ye,be,je,le){be.done||(be.done=!0,le&&(be=le),be.value=je,be.state=Ct,Ie(ye,be,!0))},Be=function Ae(ye,be,je,le){if(!be.done){be.done=!0,le&&(be=le);try{if(ye===je)throw oe("Promise can't be resolved itself");var Ee=we(je);Ee?u(function(){var Fe={done:!1};try{Ee.call(je,Me(Ae,ye,Fe,be),Me(Oe,ye,Fe,be))}catch(We){Oe(ye,Fe,We,be)}}):(be.value=je,be.state=ht,Ie(ye,be,!1))}catch(Fe){Oe(ye,{done:!1},Fe,be)}}};Yt&&(ee=function(ye){C(this,ee,K),A(ye),Ut.call(this);var be=Y(this);try{ye(Me(Be,this,be),Me(Oe,this,be))}catch(je){Oe(this,be,je)}},Ut=function(ye){q(this,{type:K,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Ve,value:void 0})},Ut.prototype=E(ee.prototype,{then:function(ye,be){var je=Q(this),le=He(f(this,ee));return le.ok=typeof ye=="function"?ye:!0,le.fail=typeof be=="function"&&be,le.domain=Ze?ve.domain:void 0,je.parent=!0,je.reactions.push(le),je.state!=Ve&&Ie(this,je,!1),le.promise},catch:function(ye){return this.then(void 0,ye)}}),Ot=function(){var ye=new Ut,be=Y(ye);this.promise=ye,this.resolve=Me(Be,ye,be),this.reject=Me(Oe,ye,be)},F.f=He=function(ye){return ye===ee||ye===Lt?new Ot(ye):Ne(ye)},!b&&typeof h=="function"&&($t=h.prototype.then,x(h.prototype,"then",function(ye,be){var je=this;return new ee(function(le,Ee){$t.call(je,le,Ee)}).then(ye,be)},{unsafe:!0}),typeof Pe=="function"&&d({global:!0,enumerable:!0,forced:!0},{fetch:function(ye){return U(ee,Pe.apply(w,arguments))}}))),d({global:!0,wrap:!0,forced:Yt},{Promise:ee}),m(ee,K,!1,!0),D(K),Lt=P(K),d({target:K,stat:!0,forced:Yt},{reject:function(ye){var be=He(this);return be.reject.call(void 0,ye),be.promise}}),d({target:K,stat:!0,forced:b||Yt},{resolve:function(ye){return U(b&&this===Lt?ee:this,ye)}}),d({target:K,stat:!0,forced:xt},{all:function(ye){var be=this,je=He(be),le=je.resolve,Ee=je.reject,Fe=N(function(){var We=A(be.resolve),he=[],fe=0,Qe=1;O(ye,function(Ke){var _e=fe++,rt=!1;he.push(void 0),Qe++,We.call(be,Ke).then(function(st){rt||(rt=!0,he[_e]=st,--Qe||le(he))},Ee)}),--Qe||le(he)});return Fe.error&&Ee(Fe.value),je.promise},race:function(ye){var be=this,je=He(be),le=je.reject,Ee=N(function(){var Fe=A(be.resolve);O(ye,function(We){Fe.call(be,We).then(je.resolve,le)})});return Ee.error&&le(Ee.value),je.promise}})},function(k,c,r){var d=r(8),b=r(71).f,w=r(33),P=r(116).set,h=r(117),x=d.MutationObserver||d.WebKitMutationObserver,E=d.process,m=d.Promise,D=w(E)=="process",y=b(d,"queueMicrotask"),A=y&&y.value,C,I,S,O,T,f,B,u;A||(C=function(){var L,F;for(D&&(L=E.domain)&&L.exit();I;){F=I.fn,I=I.next;try{F()}catch(N){throw I?O():S=void 0,N}}S=void 0,L&&L.enter()},D?O=function(){E.nextTick(C)}:x&&!h?(T=!0,f=document.createTextNode(""),new x(C).observe(f,{characterData:!0}),O=function(){f.data=T=!T}):m&&m.resolve?(B=m.resolve(void 0),u=B.then,O=function(){u.call(B,C)}):O=function(){P.call(d,C)}),k.exports=A||function(U){var L={fn:U,next:void 0};S&&(S.next=L),I||(I=L,O()),S=L}},function(k,c,r){var d=r(8);k.exports=function(b,w){var P=d.console;P&&P.error&&(arguments.length===1?P.error(b):P.error(b,w))}},function(k,c,r){"use strict";var d=r(5),b=r(40),w=r(85),P=r(119),h=r(66);d({target:"Promise",stat:!0},{allSettled:function(E){var m=this,D=w.f(m),y=D.resolve,A=D.reject,C=P(function(){var I=b(m.resolve),S=[],O=0,T=1;h(E,function(f){var B=O++,u=!1;S.push(void 0),T++,I.call(m,f).then(function(U){u||(u=!0,S[B]={status:"fulfilled",value:U},--T||y(S))},function(U){u||(u=!0,S[B]={status:"rejected",reason:U},--T||y(S))})}),--T||y(S)});return C.error&&A(C.value),D.promise}})},function(k,c,r){"use strict";var d=r(5),b=r(42),w=r(108),P=r(11),h=r(35),x=r(115),E=r(118),m=r(53),D=!!w&&P(function(){w.prototype.finally.call({then:function(){}},function(){})});d({target:"Promise",proto:!0,real:!0,forced:D},{finally:function(A){var C=x(this,h("Promise")),I=typeof A=="function";return this.then(I?function(S){return E(C,A()).then(function(){return S})}:A,I?function(S){return E(C,A()).then(function(){throw S})}:A)}}),!b&&typeof w=="function"&&!w.prototype.finally&&m(w.prototype,"finally",h("Promise").prototype.finally)},function(k,c,r){r(54);var d=r(181),b=r(65),w=Array.prototype,P={DOMTokenList:!0,NodeList:!0};k.exports=function(h){var x=h.forEach;return h===w||h instanceof Array&&x===w.forEach||P.hasOwnProperty(b(h))?d:x}},function(k,c,r){var d=r(182);k.exports=d},function(k,c,r){r(183);var d=r(15);k.exports=d("Array").forEach},function(k,c,r){"use strict";var d=r(5),b=r(184);d({target:"Array",proto:!0,forced:[].forEach!=b},{forEach:b})},function(k,c,r){"use strict";var d=r(30).forEach,b=r(67),w=r(22),P=b("forEach"),h=w("forEach");k.exports=!P||!h?function(E){return d(this,E,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(k,c,r){var d=r(186);k.exports=d},function(k,c,r){r(187);var d=r(9);k.exports=d.Array.isArray},function(k,c,r){var d=r(5),b=r(55);d({target:"Array",stat:!0},{isArray:b})},function(k,c,r){var d=r(189);k.exports=d},function(k,c,r){var d=r(190),b=Array.prototype;k.exports=function(w){var P=w.map;return w===b||w instanceof Array&&P===b.map?d:P}},function(k,c,r){r(191);var d=r(15);k.exports=d("Array").map},function(k,c,r){"use strict";var d=r(5),b=r(30).map,w=r(56),P=r(22),h=w("map"),x=P("map");d({target:"Array",proto:!0,forced:!h||!x},{map:function(m){return b(this,m,arguments.length>1?arguments[1]:void 0)}})},function(k,c,r){var d=r(193);k.exports=d},function(k,c,r){var d=r(194),b=String.prototype;k.exports=function(w){var P=w.trim;return typeof w=="string"||w===b||w instanceof String&&P===b.trim?d:P}},function(k,c,r){r(195);var d=r(15);k.exports=d("String").trim},function(k,c,r){"use strict";var d=r(5),b=r(90).trim,w=r(196);d({target:"String",proto:!0,forced:w("trim")},{trim:function(){return b(this)}})},function(k,c,r){var d=r(11),b=r(68),w="\u200B\x85\u180E";k.exports=function(P){return d(function(){return!!b[P]()||w[P]()!=w||b[P].name!==P})}},function(k,c,r){var d=r(198);k.exports=d},function(k,c,r){r(199),r(61),r(50),r(54);var d=r(9);k.exports=d.Map},function(k,c,r){"use strict";var d=r(121),b=r(123);k.exports=d("Map",function(w){return function(){return w(this,arguments.length?arguments[0]:void 0)}},b)},function(k,c,r){var d=r(11);k.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(k,c,r){var d=r(202);k.exports=d},function(k,c,r){var d=r(203),b=Array.prototype;k.exports=function(w){var P=w.indexOf;return w===b||w instanceof Array&&P===b.indexOf?d:P}},function(k,c,r){r(204);var d=r(15);k.exports=d("Array").indexOf},function(k,c,r){"use strict";var d=r(5),b=r(78).indexOf,w=r(67),P=r(22),h=[].indexOf,x=!!h&&1/[1].indexOf(1,-0)<0,E=w("indexOf"),m=P("indexOf",{ACCESSORS:!0,1:0});d({target:"Array",proto:!0,forced:x||!E||!m},{indexOf:function(y){return x?h.apply(this,arguments)||0:b(this,y,arguments.length>1?arguments[1]:void 0)}})},function(k,c,r){var d=r(206);k.exports=d},function(k,c,r){var d=r(207),b=Array.prototype;k.exports=function(w){var P=w.splice;return w===b||w instanceof Array&&P===b.splice?d:P}},function(k,c,r){r(208);var d=r(15);k.exports=d("Array").splice},function(k,c,r){"use strict";var d=r(5),b=r(79),w=r(62),P=r(34),h=r(29),x=r(88),E=r(69),m=r(56),D=r(22),y=m("splice"),A=D("splice",{ACCESSORS:!0,0:0,1:2}),C=Math.max,I=Math.min,S=9007199254740991,O="Maximum allowed length exceeded";d({target:"Array",proto:!0,forced:!y||!A},{splice:function(f,B){var u=h(this),U=P(u.length),L=b(f,U),F=arguments.length,N,H,V,G,R,z;if(F===0?N=H=0:F===1?(N=0,H=U-L):(N=F-2,H=I(C(w(B),0),U-L)),U+N-H>S)throw TypeError(O);for(V=x(u,H),G=0;G<H;G++)R=L+G,R in u&&E(V,G,u[R]);if(V.length=H,N<H){for(G=L;G<U-H;G++)R=G+H,z=G+N,R in u?u[z]=u[R]:delete u[z];for(G=U;G>U-H+N;G--)delete u[G-1]}else if(N>H)for(G=U-H;G>L;G--)R=G+H-1,z=G+N-1,R in u?u[z]=u[R]:delete u[z];for(G=0;G<N;G++)u[G+L]=arguments[G+2];return u.length=U-H+N,V}})},function(k,c,r){var d=r(210);k.exports=d},function(k,c,r){var d=r(211),b=Array.prototype;k.exports=function(w){var P=w.filter;return w===b||w instanceof Array&&P===b.filter?d:P}},function(k,c,r){r(212);var d=r(15);k.exports=d("Array").filter},function(k,c,r){"use strict";var d=r(5),b=r(30).filter,w=r(56),P=r(22),h=w("filter"),x=P("filter");d({target:"Array",proto:!0,forced:!h||!x},{filter:function(m){return b(this,m,arguments.length>1?arguments[1]:void 0)}})},function(k,c,r){var d=r(214);k.exports=d},function(k,c,r){var d=r(215),b=r(217),w=Array.prototype,P=String.prototype;k.exports=function(h){var x=h.includes;return h===w||h instanceof Array&&x===w.includes?d:typeof h=="string"||h===P||h instanceof String&&x===P.includes?b:x}},function(k,c,r){r(216);var d=r(15);k.exports=d("Array").includes},function(k,c,r){"use strict";var d=r(5),b=r(78).includes,w=r(82),P=r(22),h=P("indexOf",{ACCESSORS:!0,1:0});d({target:"Array",proto:!0,forced:!h},{includes:function(E){return b(this,E,arguments.length>1?arguments[1]:void 0)}}),w("includes")},function(k,c,r){r(218);var d=r(15);k.exports=d("String").includes},function(k,c,r){"use strict";var d=r(5),b=r(219),w=r(49),P=r(221);d({target:"String",proto:!0,forced:!P("includes")},{includes:function(x){return!!~String(w(this)).indexOf(b(x),arguments.length>1?arguments[1]:void 0)}})},function(k,c,r){var d=r(220);k.exports=function(b){if(d(b))throw TypeError("The method doesn't accept regular expressions");return b}},function(k,c,r){var d=r(13),b=r(33),w=r(10),P=w("match");k.exports=function(h){var x;return d(h)&&((x=h[P])!==void 0?!!x:b(h)=="RegExp")}},function(k,c,r){var d=r(10),b=d("match");k.exports=function(w){var P=/./;try{"/./"[w](P)}catch(h){try{return P[b]=!1,"/./"[w](P)}catch(x){}}return!1}},function(k,c,r){var d=r(223);k.exports=d},function(k,c,r){var d=r(224),b=Function.prototype;k.exports=function(w){var P=w.bind;return w===b||w instanceof Function&&P===b.bind?d:P}},function(k,c,r){r(225);var d=r(15);k.exports=d("Function").bind},function(k,c,r){var d=r(5),b=r(226);d({target:"Function",proto:!0},{bind:b})},function(k,c,r){"use strict";var d=r(40),b=r(13),w=[].slice,P={},h=function(E,m,D){if(!(m in P)){for(var y=[],A=0;A<m;A++)y[A]="a["+A+"]";P[m]=Function("C,a","return new C("+y.join(",")+")")}return P[m](E,D)};k.exports=Function.bind||function(E){var m=d(this),D=w.call(arguments,1),y=function(){var C=D.concat(w.call(arguments));return this instanceof y?h(m,C.length,C):m.apply(E,C)};return b(m.prototype)&&(y.prototype=m.prototype),y}},function(k,c,r){k.exports=r(228)},function(k,c,r){var d=r(229);k.exports=d},function(k,c,r){r(124),r(50),r(54);var d=r(93);k.exports=d.f("iterator")},function(k,c,r){k.exports=r(231)},function(k,c,r){var d=r(232);r(251),r(252),r(253),r(254),r(255),k.exports=d},function(k,c,r){r(233),r(61),r(234),r(236),r(237),r(238),r(239),r(124),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250);var d=r(9);k.exports=d.Symbol},function(k,c,r){"use strict";var d=r(5),b=r(11),w=r(55),P=r(13),h=r(29),x=r(34),E=r(69),m=r(88),D=r(56),y=r(10),A=r(86),C=y("isConcatSpreadable"),I=9007199254740991,S="Maximum allowed index exceeded",O=A>=51||!b(function(){var u=[];return u[C]=!1,u.concat()[0]!==u}),T=D("concat"),f=function(U){if(!P(U))return!1;var L=U[C];return L!==void 0?!!L:w(U)},B=!O||!T;d({target:"Array",proto:!0,forced:B},{concat:function(U){var L=h(this),F=m(L,0),N=0,H,V,G,R,z;for(H=-1,G=arguments.length;H<G;H++)if(z=H===-1?L:arguments[H],f(z)){if(R=x(z.length),N+R>I)throw TypeError(S);for(V=0;V<R;V++,N++)V in z&&E(F,N,z[V])}else{if(N>=I)throw TypeError(S);E(F,N++,z)}return F.length=N,F}})},function(k,c,r){"use strict";var d=r(5),b=r(8),w=r(35),P=r(42),h=r(14),x=r(76),E=r(105),m=r(11),D=r(16),y=r(55),A=r(13),C=r(25),I=r(29),S=r(28),O=r(60),T=r(48),f=r(77),B=r(52),u=r(125),U=r(235),L=r(126),F=r(71),N=r(18),H=r(59),V=r(19),G=r(53),R=r(74),z=r(63),K=r(51),Y=r(64),q=r(10),Q=r(93),ee=r(12),oe=r(36),pe=r(41),ve=r(30).forEach,Pe=z("hidden"),He="Symbol",Ne="prototype",Ze=q("toPrimitive"),et=pe.set,Je=pe.getterFor(He),gt=Object[Ne],Ve=b.Symbol,ht=w("JSON","stringify"),Ct=F.f,wt=N.f,zt=U.f,Ut=H.f,Ot=R("symbols"),Lt=R("op-symbols"),$t=R("string-to-symbol-registry"),Yt=R("symbol-to-string-registry"),xt=R("wks"),we=b.QObject,Ie=!we||!we[Ne]||!we[Ne].findChild,Ge=h&&m(function(){return f(wt({},"a",{get:function(){return wt(this,"a",{value:7}).a}})).a!=7})?function(le,Ee,Fe){var We=Ct(gt,Ee);We&&delete gt[Ee],wt(le,Ee,Fe),We&&le!==gt&&wt(gt,Ee,We)}:wt,De=function(Ee,Fe){var We=Ot[Ee]=f(Ve[Ne]);return et(We,{type:He,tag:Ee,description:Fe}),h||(We.description=Fe),We},xe=E?function(le){return typeof le=="symbol"}:function(le){return Object(le)instanceof Ve},Ce=function(Ee,Fe,We){Ee===gt&&Ce(Lt,Fe,We),C(Ee);var he=O(Fe,!0);return C(We),D(Ot,he)?(We.enumerable?(D(Ee,Pe)&&Ee[Pe][he]&&(Ee[Pe][he]=!1),We=f(We,{enumerable:T(0,!1)})):(D(Ee,Pe)||wt(Ee,Pe,T(1,{})),Ee[Pe][he]=!0),Ge(Ee,he,We)):wt(Ee,he,We)},Me=function(Ee,Fe){C(Ee);var We=S(Fe),he=B(We).concat(be(We));return ve(he,function(fe){(!h||Be.call(We,fe))&&Ce(Ee,fe,We[fe])}),Ee},Oe=function(Ee,Fe){return Fe===void 0?f(Ee):Me(f(Ee),Fe)},Be=function(Ee){var Fe=O(Ee,!0),We=Ut.call(this,Fe);return this===gt&&D(Ot,Fe)&&!D(Lt,Fe)?!1:We||!D(this,Fe)||!D(Ot,Fe)||D(this,Pe)&&this[Pe][Fe]?We:!0},Ae=function(Ee,Fe){var We=S(Ee),he=O(Fe,!0);if(!(We===gt&&D(Ot,he)&&!D(Lt,he))){var fe=Ct(We,he);return fe&&D(Ot,he)&&!(D(We,Pe)&&We[Pe][he])&&(fe.enumerable=!0),fe}},ye=function(Ee){var Fe=zt(S(Ee)),We=[];return ve(Fe,function(he){!D(Ot,he)&&!D(K,he)&&We.push(he)}),We},be=function(Ee){var Fe=Ee===gt,We=zt(Fe?Lt:S(Ee)),he=[];return ve(We,function(fe){D(Ot,fe)&&(!Fe||D(gt,fe))&&he.push(Ot[fe])}),he};if(x||(Ve=function(){if(this instanceof Ve)throw TypeError("Symbol is not a constructor");var Ee=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Fe=Y(Ee),We=function he(fe){this===gt&&he.call(Lt,fe),D(this,Pe)&&D(this[Pe],Fe)&&(this[Pe][Fe]=!1),Ge(this,Fe,T(1,fe))};return h&&Ie&&Ge(gt,Fe,{configurable:!0,set:We}),De(Fe,Ee)},G(Ve[Ne],"toString",function(){return Je(this).tag}),G(Ve,"withoutSetter",function(le){return De(Y(le),le)}),H.f=Be,N.f=Ce,F.f=Ae,u.f=U.f=ye,L.f=be,Q.f=function(le){return De(q(le),le)},h&&(wt(Ve[Ne],"description",{configurable:!0,get:function(){return Je(this).description}}),P||G(gt,"propertyIsEnumerable",Be,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!x,sham:!x},{Symbol:Ve}),ve(B(xt),function(le){ee(le)}),d({target:He,stat:!0,forced:!x},{for:function(Ee){var Fe=String(Ee);if(D($t,Fe))return $t[Fe];var We=Ve(Fe);return $t[Fe]=We,Yt[We]=Fe,We},keyFor:function(Ee){if(!xe(Ee))throw TypeError(Ee+" is not a symbol");if(D(Yt,Ee))return Yt[Ee]},useSetter:function(){Ie=!0},useSimple:function(){Ie=!1}}),d({target:"Object",stat:!0,forced:!x,sham:!h},{create:Oe,defineProperty:Ce,defineProperties:Me,getOwnPropertyDescriptor:Ae}),d({target:"Object",stat:!0,forced:!x},{getOwnPropertyNames:ye,getOwnPropertySymbols:be}),d({target:"Object",stat:!0,forced:m(function(){L.f(1)})},{getOwnPropertySymbols:function(Ee){return L.f(I(Ee))}}),ht){var je=!x||m(function(){var le=Ve();return ht([le])!="[null]"||ht({a:le})!="{}"||ht(Object(le))!="{}"});d({target:"JSON",stat:!0,forced:je},{stringify:function(Ee,Fe,We){for(var he=[Ee],fe=1,Qe;arguments.length>fe;)he.push(arguments[fe++]);if(Qe=Fe,!(!A(Fe)&&Ee===void 0||xe(Ee)))return y(Fe)||(Fe=function(_e,rt){if(typeof Qe=="function"&&(rt=Qe.call(this,_e,rt)),!xe(rt))return rt}),he[1]=Fe,ht.apply(null,he)}})}Ve[Ne][Ze]||V(Ve[Ne],Ze,Ve[Ne].valueOf),oe(Ve,He),K[Pe]=!0},function(k,c,r){var d=r(28),b=r(125).f,w={}.toString,P=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(E){try{return b(E)}catch(m){return P.slice()}};k.exports.f=function(E){return P&&w.call(E)=="[object Window]"?h(E):b(d(E))}},function(k,c,r){var d=r(12);d("asyncIterator")},function(k,c){},function(k,c,r){var d=r(12);d("hasInstance")},function(k,c,r){var d=r(12);d("isConcatSpreadable")},function(k,c,r){var d=r(12);d("match")},function(k,c,r){var d=r(12);d("matchAll")},function(k,c,r){var d=r(12);d("replace")},function(k,c,r){var d=r(12);d("search")},function(k,c,r){var d=r(12);d("species")},function(k,c,r){var d=r(12);d("split")},function(k,c,r){var d=r(12);d("toPrimitive")},function(k,c,r){var d=r(12);d("toStringTag")},function(k,c,r){var d=r(12);d("unscopables")},function(k,c,r){var d=r(36);d(Math,"Math",!0)},function(k,c,r){var d=r(8),b=r(36);b(d.JSON,"JSON",!0)},function(k,c,r){var d=r(12);d("asyncDispose")},function(k,c,r){var d=r(12);d("dispose")},function(k,c,r){var d=r(12);d("observable")},function(k,c,r){var d=r(12);d("patternMatch")},function(k,c,r){var d=r(12);d("replaceAll")},function(k,c,r){k.exports=r(257)},function(k,c,r){var d=r(258);k.exports=d},function(k,c,r){r(259);var d=r(9);k.exports=d.parseInt},function(k,c,r){var d=r(5),b=r(260);d({global:!0,forced:parseInt!=b},{parseInt:b})},function(k,c,r){var d=r(8),b=r(90).trim,w=r(68),P=d.parseInt,h=/^[+-]?0[Xx]/,x=P(w+"08")!==8||P(w+"0x16")!==22;k.exports=x?function(m,D){var y=b(String(m));return P(y,D>>>0||(h.test(y)?16:10))}:P},function(k,c,r){var d=r(262);k.exports=d},function(k,c,r){var d=r(263),b=Array.prototype;k.exports=function(w){var P=w.slice;return w===b||w instanceof Array&&P===b.slice?d:P}},function(k,c,r){r(264);var d=r(15);k.exports=d("Array").slice},function(k,c,r){"use strict";var d=r(5),b=r(13),w=r(55),P=r(79),h=r(34),x=r(28),E=r(69),m=r(10),D=r(56),y=r(22),A=D("slice"),C=y("slice",{ACCESSORS:!0,0:0,1:2}),I=m("species"),S=[].slice,O=Math.max;d({target:"Array",proto:!0,forced:!A||!C},{slice:function(f,B){var u=x(this),U=h(u.length),L=P(f,U),F=P(B===void 0?U:B,U),N,H,V;if(w(u)&&(N=u.constructor,typeof N=="function"&&(N===Array||w(N.prototype))?N=void 0:b(N)&&(N=N[I],N===null&&(N=void 0)),N===Array||N===void 0))return S.call(u,L,F);for(H=new(N===void 0?Array:N)(O(F-L,0)),V=0;L<F;L++,V++)L in u&&E(H,V,u[L]);return H.length=V,H}})},function(k,c,r){r(266);var d=r(9);k.exports=d.setTimeout},function(k,c,r){var d=r(5),b=r(8),w=r(84),P=[].slice,h=/MSIE .\./.test(w),x=function(m){return function(D,y){var A=arguments.length>2,C=A?P.call(arguments,2):void 0;return m(A?function(){(typeof D=="function"?D:Function(D)).apply(this,C)}:D,y)}};d({global:!0,bind:!0,forced:h},{setTimeout:x(b.setTimeout),setInterval:x(b.setInterval)})},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(127));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(272)),x=P.__importDefault(r(273)),E=P.__importDefault(r(128)),m=P.__importDefault(r(274)),D=P.__importDefault(r(275)),y=P.__importDefault(r(276)),A=P.__importDefault(r(129)),C=P.__importDefault(r(277)),I=P.__importDefault(r(278)),S=P.__importDefault(r(279)),O=(0,w.default)({},h.default,x.default,E.default,D.default,m.default,y.default,A.default,C.default,I.default,S.default,{linkCheck:function(f,B){return!0}});c.default=O},function(k,c,r){var d=r(269);k.exports=d},function(k,c,r){r(270);var d=r(9);k.exports=d.Object.assign},function(k,c,r){var d=r(5),b=r(271);d({target:"Object",stat:!0,forced:Object.assign!==b},{assign:b})},function(k,c,r){"use strict";var d=r(14),b=r(11),w=r(52),P=r(126),h=r(59),x=r(29),E=r(72),m=Object.assign,D=Object.defineProperty;k.exports=!m||b(function(){if(d&&m({b:1},m(D({},"a",{enumerable:!0,get:function(){D(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},A={},C=Symbol(),I="abcdefghijklmnopqrst";return y[C]=7,I.split("").forEach(function(S){A[S]=S}),m({},y)[C]!=7||w(m({},A)).join("")!=I})?function(A,C){for(var I=x(A),S=arguments.length,O=1,T=P.f,f=h.f;S>O;)for(var B=E(arguments[O++]),u=T?w(B).concat(T(B)):w(B),U=u.length,L=0,F;U>L;)F=u[L++],(!d||f.call(B,F))&&(I[F]=B[F]);return I}:m},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.default={menus:["head","bold","fontSize","fontName","italic","underline","strikeThrough","indent","lineHeight","foreColor","backColor","link","list","todo","justify","quote","emoticon","image","video","table","code","splitLine","undo","redo"],fontNames:["\u9ED1\u4F53","\u4EFF\u5B8B","\u6977\u4F53","\u6807\u6977\u4F53","\u534E\u6587\u4EFF\u5B8B","\u534E\u6587\u6977\u4F53","\u5B8B\u4F53","\u5FAE\u8F6F\u96C5\u9ED1","Arial","Tahoma","Verdana","Times New Roman","Courier New"],fontSizes:{"x-small":{name:"10px",value:"1"},small:{name:"13px",value:"2"},normal:{name:"16px",value:"3"},large:{name:"18px",value:"4"},"x-large":{name:"24px",value:"5"},"xx-large":{name:"32px",value:"6"},"xxx-large":{name:"48px",value:"7"}},colors:["#000000","#ffffff","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b"],languageType:["Bash","C","C#","C++","CSS","Java","JavaScript","JSON","TypeScript","Plain text","Html","XML","SQL","Go","Kotlin","Lua","Markdown","PHP","Python","Shell Session","Ruby"],languageTab:"\u3000\u3000\u3000\u3000",emotions:[{title:"\u8868\u60C5",type:"emoji",content:"\uD83D\uDE00 \uD83D\uDE03 \uD83D\uDE04 \uD83D\uDE01 \uD83D\uDE06 \uD83D\uDE05 \uD83D\uDE02 \uD83E\uDD23 \uD83D\uDE0A \uD83D\uDE07 \uD83D\uDE42 \uD83D\uDE43 \uD83D\uDE09 \uD83D\uDE0C \uD83D\uDE0D \uD83D\uDE18 \uD83D\uDE17 \uD83D\uDE19 \uD83D\uDE1A \uD83D\uDE0B \uD83D\uDE1B \uD83D\uDE1D \uD83D\uDE1C \uD83E\uDD13 \uD83D\uDE0E \uD83D\uDE0F \uD83D\uDE12 \uD83D\uDE1E \uD83D\uDE14 \uD83D\uDE1F \uD83D\uDE15 \uD83D\uDE41 \uD83D\uDE23 \uD83D\uDE16 \uD83D\uDE2B \uD83D\uDE29 \uD83D\uDE22 \uD83D\uDE2D \uD83D\uDE24 \uD83D\uDE20 \uD83D\uDE21 \uD83D\uDE33 \uD83D\uDE31 \uD83D\uDE28 \uD83E\uDD17 \uD83E\uDD14 \uD83D\uDE36 \uD83D\uDE11 \uD83D\uDE2C \uD83D\uDE44 \uD83D\uDE2F \uD83D\uDE34 \uD83D\uDE37 \uD83E\uDD11 \uD83D\uDE08 \uD83E\uDD21 \uD83D\uDCA9 \uD83D\uDC7B \uD83D\uDC80 \uD83D\uDC40 \uD83D\uDC63".split(/\s/)},{title:"\u624B\u52BF",type:"emoji",content:"\uD83D\uDC50 \uD83D\uDE4C \uD83D\uDC4F \uD83E\uDD1D \uD83D\uDC4D \uD83D\uDC4E \uD83D\uDC4A \u270A \uD83E\uDD1B \uD83E\uDD1C \uD83E\uDD1E \u270C\uFE0F \uD83E\uDD18 \uD83D\uDC4C \uD83D\uDC48 \uD83D\uDC49 \uD83D\uDC46 \uD83D\uDC47 \u261D\uFE0F \u270B \uD83E\uDD1A \uD83D\uDD90 \uD83D\uDD96 \uD83D\uDC4B \uD83E\uDD19 \uD83D\uDCAA \uD83D\uDD95 \u270D\uFE0F \uD83D\uDE4F".split(/\s/)}],lineHeights:["1","1.15","1.6","2","2.5","3"],undoLimit:20,indentation:"2em",showMenuTooltips:!0,menuTooltipPosition:"up"}},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(7);function P(h,x,E){window.alert(h),E&&console.error("wangEditor: "+E)}c.default={onchangeTimeout:200,onchange:null,onfocus:w.EMPTY_FN,onblur:w.EMPTY_FN,onCatalogChange:null,customAlert:P}},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.default={pasteFilterStyle:!0,pasteIgnoreImg:!1,pasteTextHandle:function(P){return P}}},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.default={styleWithCSS:!1}},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(7);c.default={linkImgCheck:function(h,x,E){return!0},showLinkImg:!0,showLinkImgAlt:!0,showLinkImgHref:!0,linkImgCallback:w.EMPTY_FN,uploadImgAccept:["jpg","jpeg","png","gif","bmp"],uploadImgServer:"",uploadImgShowBase64:!1,uploadImgMaxSize:5242880,uploadImgMaxLength:100,uploadFileName:"",uploadImgParams:{},uploadImgParamsWithUrl:!1,uploadImgHeaders:{},uploadImgHooks:{},uploadImgTimeout:1e4,withCredentials:!1,customUploadImg:null,uploadImgFromMedia:null}},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.default={lang:"zh-CN",languages:{"zh-CN":{wangEditor:{\u91CD\u7F6E:"\u91CD\u7F6E",\u63D2\u5165:"\u63D2\u5165",\u9ED8\u8BA4:"\u9ED8\u8BA4",\u521B\u5EFA:"\u521B\u5EFA",\u4FEE\u6539:"\u4FEE\u6539",\u5982:"\u5982",\u8BF7\u8F93\u5165\u6B63\u6587:"\u8BF7\u8F93\u5165\u6B63\u6587",menus:{title:{\u6807\u9898:"\u6807\u9898",\u52A0\u7C97:"\u52A0\u7C97",\u5B57\u53F7:"\u5B57\u53F7",\u5B57\u4F53:"\u5B57\u4F53",\u659C\u4F53:"\u659C\u4F53",\u4E0B\u5212\u7EBF:"\u4E0B\u5212\u7EBF",\u5220\u9664\u7EBF:"\u5220\u9664\u7EBF",\u7F29\u8FDB:"\u7F29\u8FDB",\u884C\u9AD8:"\u884C\u9AD8",\u6587\u5B57\u989C\u8272:"\u6587\u5B57\u989C\u8272",\u80CC\u666F\u8272:"\u80CC\u666F\u8272",\u94FE\u63A5:"\u94FE\u63A5",\u5E8F\u5217:"\u5E8F\u5217",\u5BF9\u9F50:"\u5BF9\u9F50",\u5F15\u7528:"\u5F15\u7528",\u8868\u60C5:"\u8868\u60C5",\u56FE\u7247:"\u56FE\u7247",\u89C6\u9891:"\u89C6\u9891",\u8868\u683C:"\u8868\u683C",\u4EE3\u7801:"\u4EE3\u7801",\u5206\u5272\u7EBF:"\u5206\u5272\u7EBF",\u6062\u590D:"\u6062\u590D",\u64A4\u9500:"\u64A4\u9500",\u5168\u5C4F:"\u5168\u5C4F",\u53D6\u6D88\u5168\u5C4F:"\u53D6\u6D88\u5168\u5C4F",\u5F85\u529E\u4E8B\u9879:"\u5F85\u529E\u4E8B\u9879"},dropListMenu:{\u8BBE\u7F6E\u6807\u9898:"\u8BBE\u7F6E\u6807\u9898",\u80CC\u666F\u989C\u8272:"\u80CC\u666F\u989C\u8272",\u6587\u5B57\u989C\u8272:"\u6587\u5B57\u989C\u8272",\u8BBE\u7F6E\u5B57\u53F7:"\u8BBE\u7F6E\u5B57\u53F7",\u8BBE\u7F6E\u5B57\u4F53:"\u8BBE\u7F6E\u5B57\u4F53",\u8BBE\u7F6E\u7F29\u8FDB:"\u8BBE\u7F6E\u7F29\u8FDB",\u5BF9\u9F50\u65B9\u5F0F:"\u5BF9\u9F50\u65B9\u5F0F",\u8BBE\u7F6E\u884C\u9AD8:"\u8BBE\u7F6E\u884C\u9AD8",\u5E8F\u5217:"\u5E8F\u5217",head:{\u6B63\u6587:"\u6B63\u6587"},indent:{\u589E\u52A0\u7F29\u8FDB:"\u589E\u52A0\u7F29\u8FDB",\u51CF\u5C11\u7F29\u8FDB:"\u51CF\u5C11\u7F29\u8FDB"},justify:{\u9760\u5DE6:"\u9760\u5DE6",\u5C45\u4E2D:"\u5C45\u4E2D",\u9760\u53F3:"\u9760\u53F3",\u4E24\u7AEF:"\u4E24\u7AEF"},list:{\u65E0\u5E8F\u5217\u8868:"\u65E0\u5E8F\u5217\u8868",\u6709\u5E8F\u5217\u8868:"\u6709\u5E8F\u5217\u8868"}},panelMenus:{emoticon:{\u9ED8\u8BA4:"\u9ED8\u8BA4",\u65B0\u6D6A:"\u65B0\u6D6A",emoji:"emoji",\u624B\u52BF:"\u624B\u52BF"},image:{\u4E0A\u4F20\u56FE\u7247:"\u4E0A\u4F20\u56FE\u7247",\u7F51\u7EDC\u56FE\u7247:"\u7F51\u7EDC\u56FE\u7247",\u56FE\u7247\u5730\u5740:"\u56FE\u7247\u5730\u5740",\u56FE\u7247\u6587\u5B57\u8BF4\u660E:"\u56FE\u7247\u6587\u5B57\u8BF4\u660E",\u8DF3\u8F6C\u94FE\u63A5:"\u8DF3\u8F6C\u94FE\u63A5"},link:{\u94FE\u63A5:"\u94FE\u63A5",\u94FE\u63A5\u6587\u5B57:"\u94FE\u63A5\u6587\u5B57",\u53D6\u6D88\u94FE\u63A5:"\u53D6\u6D88\u94FE\u63A5",\u67E5\u770B\u94FE\u63A5:"\u67E5\u770B\u94FE\u63A5"},video:{\u63D2\u5165\u89C6\u9891:"\u63D2\u5165\u89C6\u9891",\u4E0A\u4F20\u89C6\u9891:"\u4E0A\u4F20\u89C6\u9891"},table:{\u884C:"\u884C",\u5217:"\u5217",\u7684:"\u7684",\u8868\u683C:"\u8868\u683C",\u6DFB\u52A0\u884C:"\u6DFB\u52A0\u884C",\u5220\u9664\u884C:"\u5220\u9664\u884C",\u6DFB\u52A0\u5217:"\u6DFB\u52A0\u5217",\u5220\u9664\u5217:"\u5220\u9664\u5217",\u8BBE\u7F6E\u8868\u5934:"\u8BBE\u7F6E\u8868\u5934",\u53D6\u6D88\u8868\u5934:"\u53D6\u6D88\u8868\u5934",\u63D2\u5165\u8868\u683C:"\u63D2\u5165\u8868\u683C",\u5220\u9664\u8868\u683C:"\u5220\u9664\u8868\u683C"},code:{\u5220\u9664\u4EE3\u7801:"\u5220\u9664\u4EE3\u7801",\u4FEE\u6539\u4EE3\u7801:"\u4FEE\u6539\u4EE3\u7801",\u63D2\u5165\u4EE3\u7801:"\u63D2\u5165\u4EE3\u7801"}}},validate:{\u5F20\u56FE\u7247:"\u5F20\u56FE\u7247",\u5927\u4E8E:"\u5927\u4E8E",\u56FE\u7247\u94FE\u63A5:"\u56FE\u7247\u94FE\u63A5",\u4E0D\u662F\u56FE\u7247:"\u4E0D\u662F\u56FE\u7247",\u8FD4\u56DE\u7ED3\u679C:"\u8FD4\u56DE\u7ED3\u679C",\u4E0A\u4F20\u56FE\u7247\u8D85\u65F6:"\u4E0A\u4F20\u56FE\u7247\u8D85\u65F6",\u4E0A\u4F20\u56FE\u7247\u9519\u8BEF:"\u4E0A\u4F20\u56FE\u7247\u9519\u8BEF",\u4E0A\u4F20\u56FE\u7247\u5931\u8D25:"\u4E0A\u4F20\u56FE\u7247\u5931\u8D25",\u63D2\u5165\u56FE\u7247\u9519\u8BEF:"\u63D2\u5165\u56FE\u7247\u9519\u8BEF",\u4E00\u6B21\u6700\u591A\u4E0A\u4F20:"\u4E00\u6B21\u6700\u591A\u4E0A\u4F20",\u4E0B\u8F7D\u94FE\u63A5\u5931\u8D25:"\u4E0B\u8F7D\u94FE\u63A5\u5931\u8D25",\u56FE\u7247\u9A8C\u8BC1\u672A\u901A\u8FC7:"\u56FE\u7247\u9A8C\u8BC1\u672A\u901A\u8FC7",\u670D\u52A1\u5668\u8FD4\u56DE\u72B6\u6001:"\u670D\u52A1\u5668\u8FD4\u56DE\u72B6\u6001",\u4E0A\u4F20\u56FE\u7247\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF:"\u4E0A\u4F20\u56FE\u7247\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF",\u8BF7\u66FF\u6362\u4E3A\u652F\u6301\u7684\u56FE\u7247\u7C7B\u578B:"\u8BF7\u66FF\u6362\u4E3A\u652F\u6301\u7684\u56FE\u7247\u7C7B\u578B",\u60A8\u63D2\u5165\u7684\u7F51\u7EDC\u56FE\u7247\u65E0\u6CD5\u8BC6\u522B:"\u60A8\u63D2\u5165\u7684\u7F51\u7EDC\u56FE\u7247\u65E0\u6CD5\u8BC6\u522B",\u60A8\u521A\u624D\u63D2\u5165\u7684\u56FE\u7247\u94FE\u63A5\u672A\u901A\u8FC7\u7F16\u8F91\u5668\u6821\u9A8C:"\u60A8\u521A\u624D\u63D2\u5165\u7684\u56FE\u7247\u94FE\u63A5\u672A\u901A\u8FC7\u7F16\u8F91\u5668\u6821\u9A8C",\u63D2\u5165\u89C6\u9891\u9519\u8BEF:"\u63D2\u5165\u89C6\u9891\u9519\u8BEF",\u89C6\u9891\u94FE\u63A5:"\u89C6\u9891\u94FE\u63A5",\u4E0D\u662F\u89C6\u9891:"\u4E0D\u662F\u89C6\u9891",\u89C6\u9891\u9A8C\u8BC1\u672A\u901A\u8FC7:"\u89C6\u9891\u9A8C\u8BC1\u672A\u901A\u8FC7",\u4E2A\u89C6\u9891:"\u4E2A\u89C6\u9891",\u4E0A\u4F20\u89C6\u9891\u8D85\u65F6:"\u4E0A\u4F20\u89C6\u9891\u8D85\u65F6",\u4E0A\u4F20\u89C6\u9891\u9519\u8BEF:"\u4E0A\u4F20\u89C6\u9891\u9519\u8BEF",\u4E0A\u4F20\u89C6\u9891\u5931\u8D25:"\u4E0A\u4F20\u89C6\u9891\u5931\u8D25",\u4E0A\u4F20\u89C6\u9891\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF:"\u4E0A\u4F20\u89C6\u9891\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF"}}},en:{wangEditor:{\u91CD\u7F6E:"reset",\u63D2\u5165:"insert",\u9ED8\u8BA4:"default",\u521B\u5EFA:"create",\u4FEE\u6539:"edit",\u5982:"like",\u8BF7\u8F93\u5165\u6B63\u6587:"please enter the text",menus:{title:{\u6807\u9898:"head",\u52A0\u7C97:"bold",\u5B57\u53F7:"font size",\u5B57\u4F53:"font family",\u659C\u4F53:"italic",\u4E0B\u5212\u7EBF:"underline",\u5220\u9664\u7EBF:"strikethrough",\u7F29\u8FDB:"indent",\u884C\u9AD8:"line heihgt",\u6587\u5B57\u989C\u8272:"font color",\u80CC\u666F\u8272:"background",\u94FE\u63A5:"link",\u5E8F\u5217:"numbered list",\u5BF9\u9F50:"align",\u5F15\u7528:"quote",\u8868\u60C5:"emoticons",\u56FE\u7247:"image",\u89C6\u9891:"media",\u8868\u683C:"table",\u4EE3\u7801:"code",\u5206\u5272\u7EBF:"split line",\u6062\u590D:"undo",\u64A4\u9500:"redo",\u5168\u5C4F:"fullscreen",\u53D6\u6D88\u5168\u5C4F:"cancel fullscreen",\u5F85\u529E\u4E8B\u9879:"todo"},dropListMenu:{\u8BBE\u7F6E\u6807\u9898:"title",\u80CC\u666F\u989C\u8272:"background",\u6587\u5B57\u989C\u8272:"font color",\u8BBE\u7F6E\u5B57\u53F7:"font size",\u8BBE\u7F6E\u5B57\u4F53:"font family",\u8BBE\u7F6E\u7F29\u8FDB:"indent",\u5BF9\u9F50\u65B9\u5F0F:"align",\u8BBE\u7F6E\u884C\u9AD8:"line heihgt",\u5E8F\u5217:"list",head:{\u6B63\u6587:"text"},indent:{\u589E\u52A0\u7F29\u8FDB:"indent",\u51CF\u5C11\u7F29\u8FDB:"outdent"},justify:{\u9760\u5DE6:"left",\u5C45\u4E2D:"center",\u9760\u53F3:"right",\u4E24\u7AEF:"justify"},list:{\u65E0\u5E8F\u5217\u8868:"unordered",\u6709\u5E8F\u5217\u8868:"ordered"}},panelMenus:{emoticon:{\u8868\u60C5:"emoji",\u624B\u52BF:"gesture"},image:{\u4E0A\u4F20\u56FE\u7247:"upload image",\u7F51\u7EDC\u56FE\u7247:"network image",\u56FE\u7247\u5730\u5740:"image link",\u56FE\u7247\u6587\u5B57\u8BF4\u660E:"image alt",\u8DF3\u8F6C\u94FE\u63A5:"hyperlink"},link:{\u94FE\u63A5:"link",\u94FE\u63A5\u6587\u5B57:"link text",\u53D6\u6D88\u94FE\u63A5:"unlink",\u67E5\u770B\u94FE\u63A5:"view links"},video:{\u63D2\u5165\u89C6\u9891:"insert video",\u4E0A\u4F20\u89C6\u9891:"upload local video"},table:{\u884C:"rows",\u5217:"columns",\u7684:" ",\u8868\u683C:"table",\u6DFB\u52A0\u884C:"insert row",\u5220\u9664\u884C:"delete row",\u6DFB\u52A0\u5217:"insert column",\u5220\u9664\u5217:"delete column",\u8BBE\u7F6E\u8868\u5934:"set header",\u53D6\u6D88\u8868\u5934:"cancel header",\u63D2\u5165\u8868\u683C:"insert table",\u5220\u9664\u8868\u683C:"delete table"},code:{\u5220\u9664\u4EE3\u7801:"delete code",\u4FEE\u6539\u4EE3\u7801:"edit code",\u63D2\u5165\u4EE3\u7801:"insert code"}}},validate:{\u5F20\u56FE\u7247:"images",\u5927\u4E8E:"greater than",\u56FE\u7247\u94FE\u63A5:"image link",\u4E0D\u662F\u56FE\u7247:"is not image",\u8FD4\u56DE\u7ED3\u679C:"return results",\u4E0A\u4F20\u56FE\u7247\u8D85\u65F6:"upload image timeout",\u4E0A\u4F20\u56FE\u7247\u9519\u8BEF:"upload image error",\u4E0A\u4F20\u56FE\u7247\u5931\u8D25:"upload image failed",\u63D2\u5165\u56FE\u7247\u9519\u8BEF:"insert image error",\u4E00\u6B21\u6700\u591A\u4E0A\u4F20:"once most at upload",\u4E0B\u8F7D\u94FE\u63A5\u5931\u8D25:"download link failed",\u56FE\u7247\u9A8C\u8BC1\u672A\u901A\u8FC7:"image validate failed",\u670D\u52A1\u5668\u8FD4\u56DE\u72B6\u6001:"server return status",\u4E0A\u4F20\u56FE\u7247\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF:"upload image return results error",\u8BF7\u66FF\u6362\u4E3A\u652F\u6301\u7684\u56FE\u7247\u7C7B\u578B:"please replace with a supported image type",\u60A8\u63D2\u5165\u7684\u7F51\u7EDC\u56FE\u7247\u65E0\u6CD5\u8BC6\u522B:"the network picture you inserted is not recognized",\u60A8\u521A\u624D\u63D2\u5165\u7684\u56FE\u7247\u94FE\u63A5\u672A\u901A\u8FC7\u7F16\u8F91\u5668\u6821\u9A8C:"the image link you just inserted did not pass the editor verification",\u63D2\u5165\u89C6\u9891\u9519\u8BEF:"insert video error",\u89C6\u9891\u94FE\u63A5:"video link",\u4E0D\u662F\u89C6\u9891:"is not video",\u89C6\u9891\u9A8C\u8BC1\u672A\u901A\u8FC7:"video validate failed",\u4E2A\u89C6\u9891:"videos",\u4E0A\u4F20\u89C6\u9891\u8D85\u65F6:"upload video timeout",\u4E0A\u4F20\u89C6\u9891\u9519\u8BEF:"upload video error",\u4E0A\u4F20\u89C6\u9891\u5931\u8D25:"upload video failed",\u4E0A\u4F20\u89C6\u9891\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF:"upload video return results error"}}}}}},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(6);function P(){return!!(w.UA.isIE()||w.UA.isOldEdge)}c.default={compatibleMode:P,historyMaxSize:30}},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(7);c.default={onlineVideoCheck:function(h){return!0},onlineVideoCallback:w.EMPTY_FN,showLinkVideo:!0,uploadVideoAccept:["mp4"],uploadVideoServer:"",uploadVideoMaxSize:1073741824,uploadVideoName:"",uploadVideoParams:{},uploadVideoParamsWithUrl:!1,uploadVideoHeaders:{},uploadVideoHooks:{},uploadVideoTimeout:72e5,withVideoCredentials:!1,customUploadVideo:null,customInsertVideo:null}},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(17));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3)),x=r(6),E=r(7),m=function(){function D(y){this._currentRange=null,this.editor=y}return D.prototype.getRange=function(){return this._currentRange},D.prototype.saveRange=function(y){if(y){this._currentRange=y;return}var A=window.getSelection();if(A.rangeCount!==0){var C=A.getRangeAt(0),I=this.getSelectionContainerElem(C);if(I!=null&&I.length&&!(I.attr("contenteditable")==="false"||I.parentUntil("[contenteditable=false]"))){var S=this.editor,O=S.$textElem;if(O.isContain(I)){if(O.elems[0]===I.elems[0]){var T;if((0,w.default)(T=O.html()).call(T)===E.EMPTY_P){var f=O.children(),B=f==null?void 0:f.last();S.selection.createRangeByElem(B,!0,!0),S.selection.restoreSelection()}}this._currentRange=C}}}},D.prototype.collapseRange=function(y){y===void 0&&(y=!1);var A=this._currentRange;A&&A.collapse(y)},D.prototype.getSelectionText=function(){var y=this._currentRange;return y?y.toString():""},D.prototype.getSelectionContainerElem=function(y){var A;A=y||this._currentRange;var C;if(A)return C=A.commonAncestorContainer,h.default(C.nodeType===1?C:C.parentNode)},D.prototype.getSelectionStartElem=function(y){var A;A=y||this._currentRange;var C;if(A)return C=A.startContainer,h.default(C.nodeType===1?C:C.parentNode)},D.prototype.getSelectionEndElem=function(y){var A;A=y||this._currentRange;var C;if(A)return C=A.endContainer,h.default(C.nodeType===1?C:C.parentNode)},D.prototype.isSelectionEmpty=function(){var y=this._currentRange;return!!(y&&y.startContainer&&y.startContainer===y.endContainer&&y.startOffset===y.endOffset)},D.prototype.restoreSelection=function(){var y=window.getSelection(),A=this._currentRange;y&&A&&(y.removeAllRanges(),y.addRange(A))},D.prototype.createEmptyRange=function(){var y=this.editor,A=this.getRange(),C;if(A&&this.isSelectionEmpty())try{x.UA.isWebkit()?(y.cmd.do("insertHTML","&#8203;"),A.setEnd(A.endContainer,A.endOffset+1),this.saveRange(A)):(C=h.default("<strong>&#8203;</strong>"),y.cmd.do("insertElem",C),this.createRangeByElem(C,!0))}catch(I){}},D.prototype.createRangeByElems=function(y,A){var C=window.getSelection?window.getSelection():document.getSelection();C==null||C.removeAllRanges();var I=document.createRange();I.setStart(y,0),I.setEnd(A,A.childNodes.length||1),this.saveRange(I),this.restoreSelection()},D.prototype.createRangeByElem=function(y,A,C){if(y.length){var I=y.elems[0],S=document.createRange();C?S.selectNodeContents(I):S.selectNode(I),A!=null&&(S.collapse(A),A||(this.saveRange(S),this.editor.selection.moveCursor(I))),this.saveRange(S)}},D.prototype.getSelectionRangeTopNodes=function(){var y,A,C,I=(y=this.getSelectionStartElem())===null||y===void 0?void 0:y.getNodeTop(this.editor),S=(A=this.getSelectionEndElem())===null||A===void 0?void 0:A.getNodeTop(this.editor);return C=this.recordSelectionNodes(h.default(I),h.default(S)),C},D.prototype.moveCursor=function(y,A){var C,I=this.getRange(),S=y.nodeType===3?(C=y.nodeValue)===null||C===void 0?void 0:C.length:y.childNodes.length;(x.UA.isFirefox||x.UA.isIE())&&S!==0&&(y.nodeType===3||y.childNodes[S-1].nodeName==="BR")&&(S=S-1);var O=A!=null?A:S;I&&y&&(I.setStart(y,O),I.setEnd(y,O),this.restoreSelection())},D.prototype.getCursorPos=function(){var y=window.getSelection();return y==null?void 0:y.anchorOffset},D.prototype.clearWindowSelectionRange=function(){var y=window.getSelection();y&&y.removeAllRanges()},D.prototype.recordSelectionNodes=function(y,A){var C=[],I=!0;try{for(var S=y,O=this.editor.$textElem;I;){var T=S==null?void 0:S.getNodeTop(this.editor);T.getNodeName()==="BODY"&&(I=!1),T.length>0&&(C.push(h.default(S)),A!=null&&A.equal(T)||O.equal(T)?I=!1:S=T.getNextSibling())}}catch(f){I=!1}return C},D.prototype.setRangeToElem=function(y){var A=this.getRange();A==null||A.setStart(y,0),A==null||A.setEnd(y,0)},D}();c.default=m},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(3)),h=function(){function x(E){this.editor=E}return x.prototype.do=function(E,m){var D=this.editor;D.config.styleWithCSS&&document.execCommand("styleWithCSS",!1,"true");var y=D.selection;if(y.getRange()){switch(y.restoreSelection(),E){case"insertHTML":this.insertHTML(m);break;case"insertElem":this.insertElem(m);break;default:this.execCommand(E,m);break}D.menus.changeActive(),y.saveRange(),y.restoreSelection()}},x.prototype.insertHTML=function(E){var m=this.editor,D=m.selection.getRange();if(D!=null){if(this.queryCommandSupported("insertHTML"))this.execCommand("insertHTML",E);else if(D.insertNode){if(D.deleteContents(),P.default(E).elems.length>0)D.insertNode(P.default(E).elems[0]);else{var y=document.createElement("p");y.appendChild(document.createTextNode(E)),D.insertNode(y)}m.selection.collapseRange()}}},x.prototype.insertElem=function(E){var m=this.editor,D=m.selection.getRange();D!=null&&D.insertNode&&(D.deleteContents(),D.insertNode(E.elems[0]))},x.prototype.execCommand=function(E,m){document.execCommand(E,!1,m)},x.prototype.queryCommandValue=function(E){return document.queryCommandValue(E)},x.prototype.queryCommandState=function(E){return document.queryCommandState(E)},x.prototype.queryCommandSupported=function(E){return document.queryCommandSupported(E)},x}();c.default=h},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(31)),P=d(r(4)),h=d(r(17)),x=d(r(27)),E=d(r(46));(0,b.default)(c,"__esModule",{value:!0});var m=r(2),D=m.__importDefault(r(3)),y=m.__importDefault(r(287)),A=r(6),C=m.__importDefault(r(299)),I=m.__importDefault(r(300)),S=r(7),O=function(){function T(f){this.editor=f,this.eventHooks={onBlurEvents:[],changeEvents:[],dropEvents:[],clickEvents:[],keydownEvents:[],keyupEvents:[],tabUpEvents:[],tabDownEvents:[],enterUpEvents:[],enterDownEvents:[],deleteUpEvents:[],deleteDownEvents:[],pasteEvents:[],linkClickEvents:[],codeClickEvents:[],textScrollEvents:[],toolbarClickEvents:[],imgClickEvents:[],imgDragBarMouseDownEvents:[],tableClickEvents:[],menuClickEvents:[],dropListMenuHoverEvents:[],splitLineEvents:[],videoClickEvents:[]}}return T.prototype.init=function(){this._saveRange(),this._bindEventHooks(),y.default(this)},T.prototype.togglePlaceholder=function(){var f,B=this.html(),u=(0,w.default)(f=this.editor.$textContainerElem).call(f,".placeholder");u.hide(),!this.editor.isComposing&&(!B||B===" ")&&u.show()},T.prototype.clear=function(){this.html(S.EMPTY_P)},T.prototype.html=function(f){var B=this.editor,u=B.$textElem;if(f==null){var U=u.html();U=U.replace(/\u200b/gm,""),U=U.replace(/<p><\/p>/gim,""),U=U.replace(S.EMPTY_P_LAST_REGEX,""),U=U.replace(S.EMPTY_P_REGEX,"<p>");var L=U.match(/<(img|br|hr|input)[^>]*>/gi);return L!==null&&(0,P.default)(L).call(L,function(F){F.match(/\/>/)||(U=U.replace(F,F.substring(0,F.length-1)+"/>"))}),U}f=(0,h.default)(f).call(f),f===""&&(f=S.EMPTY_P),(0,x.default)(f).call(f,"<")!==0&&(f="<p>"+f+"</p>"),u.html(f),B.initSelection()},T.prototype.setJSON=function(f){var B=I.default(f).children(),u=this.editor,U=u.$textElem;B&&U.replaceChildAll(B)},T.prototype.getJSON=function(){var f=this.editor,B=f.$textElem;return C.default(B)},T.prototype.text=function(f){var B=this.editor,u=B.$textElem;if(f==null){var U=u.text();return U=U.replace(/\u200b/gm,""),U}u.text("<p>"+f+"</p>"),B.initSelection()},T.prototype.append=function(f){var B=this.editor;(0,x.default)(f).call(f,"<")!==0&&(f="<p>"+f+"</p>"),this.html(this.html()+f),B.initSelection()},T.prototype._saveRange=function(){var f=this.editor,B=f.$textElem,u=D.default(document);function U(){f.selection.saveRange(),f.menus.changeActive()}B.on("keyup",U);function L(){U(),B.off("click",L)}B.on("click",L);function F(){U(),u.off("mouseup",F)}function N(){u.on("mouseup",F),B.off("mouseleave",N)}B.on("mousedown",function(){B.on("mouseleave",N)}),B.on("mouseup",function(H){B.off("mouseleave",N),(0,E.default)(function(){var V=f.selection,G=V.getRange();G!==null&&U()},0)})},T.prototype._bindEventHooks=function(){var f=this.editor,B=f.$textElem,u=this.eventHooks;B.on("click",function(L){var F=u.clickEvents;(0,P.default)(F).call(F,function(N){return N(L)})}),B.on("keyup",function(L){if(L.keyCode===13){var F=u.enterUpEvents;(0,P.default)(F).call(F,function(N){return N(L)})}}),B.on("keyup",function(L){var F=u.keyupEvents;(0,P.default)(F).call(F,function(N){return N(L)})}),B.on("keydown",function(L){var F=u.keydownEvents;(0,E.default)(function(){(0,P.default)(F).call(F,function(N){return N(L)})})}),B.on("keyup",function(L){if(!(L.keyCode!==8&&L.keyCode!==46)){var F=u.deleteUpEvents;(0,P.default)(F).call(F,function(N){return N(L)})}}),B.on("keydown",function(L){if(!(L.keyCode!==8&&L.keyCode!==46)){var F=u.deleteDownEvents;(0,P.default)(F).call(F,function(N){return N(L)})}}),B.on("paste",function(L){if(!A.UA.isIE()){L.preventDefault();var F=u.pasteEvents;(0,P.default)(F).call(F,function(N){return N(L)})}}),B.on("keydown",function(L){(f.isFocus||f.isCompatibleMode)&&(L.ctrlKey||L.metaKey)&&L.keyCode===90&&(L.preventDefault(),L.shiftKey?f.history.restore():f.history.revoke())}),B.on("keyup",function(L){if(L.keyCode===9){L.preventDefault();var F=u.tabUpEvents;(0,P.default)(F).call(F,function(N){return N(L)})}}),B.on("keydown",function(L){if(L.keyCode===9){L.preventDefault();var F=u.tabDownEvents;(0,P.default)(F).call(F,function(N){return N(L)})}}),B.on("scroll",A.throttle(function(L){var F=u.textScrollEvents;(0,P.default)(F).call(F,function(N){return N(L)})},100));function U(L){L.preventDefault()}D.default(document).on("dragleave",U).on("drop",U).on("dragenter",U).on("dragover",U),f.beforeDestroy(function(){D.default(document).off("dragleave",U).off("drop",U).off("dragenter",U).off("dragover",U)}),B.on("drop",function(L){L.preventDefault();var F=u.dropEvents;(0,P.default)(F).call(F,function(N){return N(L)})}),B.on("click",function(L){var F=null,N=L.target,H=D.default(N);if(H.getNodeName()==="A")F=H;else{var V=H.parentUntil("a");V!=null&&(F=V)}if(F){var G=u.linkClickEvents;(0,P.default)(G).call(G,function(R){return R(F)})}}),B.on("click",function(L){var F=null,N=L.target,H=D.default(N);if(H.getNodeName()==="IMG"&&!H.elems[0].getAttribute("data-emoji")&&(L.stopPropagation(),F=H),!!F){var V=u.imgClickEvents;(0,P.default)(V).call(V,function(G){return G(F)})}}),B.on("click",function(L){var F=null,N=L.target,H=D.default(N);if(H.getNodeName()==="PRE")F=H;else{var V=H.parentUntil("pre");V!==null&&(F=V)}if(F){var G=u.codeClickEvents;(0,P.default)(G).call(G,function(R){return R(F)})}}),B.on("click",function(L){var F=null,N=L.target,H=D.default(N);if(H.getNodeName()==="HR"?F=H:H==null,!!F){f.selection.createRangeByElem(F),f.selection.restoreSelection();var V=u.splitLineEvents;(0,P.default)(V).call(V,function(G){return G(F)})}}),f.$toolbarElem.on("click",function(L){var F=u.toolbarClickEvents;(0,P.default)(F).call(F,function(N){return N(L)})}),f.$textContainerElem.on("mousedown",function(L){var F=L.target,N=D.default(F);if(N.hasClass("w-e-img-drag-rb")){var H=u.imgDragBarMouseDownEvents;(0,P.default)(H).call(H,function(V){return V()})}}),B.on("click",function(L){var F=null,N=L.target;if(F=D.default(N).parentUntilEditor("TABLE",f,N),!!F){var H=u.tableClickEvents;(0,P.default)(H).call(H,function(V){return V(F,L)})}}),B.on("keydown",function(L){if(L.keyCode===13){var F=u.enterDownEvents;(0,P.default)(F).call(F,function(N){return N(L)})}}),B.on("click",function(L){var F=null,N=L.target,H=D.default(N);if(H.getNodeName()==="VIDEO"&&(L.stopPropagation(),F=H),!!F){var V=u.videoClickEvents;(0,P.default)(V).call(V,function(G){return G(F)})}})},T}();c.default=O},function(k,c,r){var d=r(284);k.exports=d},function(k,c,r){var d=r(285),b=Array.prototype;k.exports=function(w){var P=w.find;return w===b||w instanceof Array&&P===b.find?d:P}},function(k,c,r){r(286);var d=r(15);k.exports=d("Array").find},function(k,c,r){"use strict";var d=r(5),b=r(30).find,w=r(82),P=r(22),h="find",x=!0,E=P(h);h in[]&&Array(1)[h](function(){x=!1}),d({target:"Array",proto:!0,forced:x||!E},{find:function(D){return b(this,D,arguments.length>1?arguments[1]:void 0)}}),w(h)},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(288)),h=w.__importStar(r(289)),x=w.__importDefault(r(290)),E=w.__importDefault(r(291)),m=w.__importDefault(r(298));function D(y){var A=y.editor,C=y.eventHooks;P.default(A,C.enterUpEvents,C.enterDownEvents),h.default(A,C.deleteUpEvents,C.deleteDownEvents),h.cutToKeepP(A,C.keyupEvents),x.default(A,C.tabDownEvents),E.default(A,C.pasteEvents),m.default(A,C.imgClickEvents)}c.default=D},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(27));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=r(7),x=P.__importDefault(r(3));function E(m,D,y){function A(S){var O,T=x.default(h.EMPTY_P);if(T.insertBefore(S),(0,w.default)(O=S.html()).call(O,"<img")>=0){T.remove();return}m.selection.createRangeByElem(T,!0,!0),m.selection.restoreSelection(),S.remove()}function C(){var S=m.$textElem,O=m.selection.getSelectionContainerElem(),T=O.parent();if(T.html()==="<code><br></code>"){A(T);return}if(O.getNodeName()==="FONT"&&O.text()===""&&O.attr("face")==="monospace"){A(T);return}if(T.equal(S)){var f=O.getNodeName();f==="P"&&O.attr("data-we-empty-p")===null||O.text()||A(O)}}D.push(C);function I(S){var O;m.selection.saveRange((O=getSelection())===null||O===void 0?void 0:O.getRangeAt(0));var T=m.selection.getSelectionContainerElem();T.id===m.textElemId&&(S.preventDefault(),m.cmd.do("insertHTML","<p><br></p>"))}y.push(I)}c.default=E},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(17)),P=d(r(44));(0,b.default)(c,"__esModule",{value:!0}),c.cutToKeepP=void 0;var h=r(2),x=r(7),E=h.__importDefault(r(3));function m(y,A,C){function I(){var O=y.$textElem,T=y.$textElem.html(),f=y.$textElem.text(),B=(0,w.default)(T).call(T),u=["<p><br></p>","<br>",'<p data-we-empty-p=""></p>',x.EMPTY_P];if(/^\s*$/.test(f)&&(!B||(0,P.default)(u).call(u,B))){O.html(x.EMPTY_P);var U=O.getNode();y.selection.createRangeByElems(U.childNodes[0],U.childNodes[0]);var L=y.selection.getSelectionContainerElem();y.selection.restoreSelection(),y.selection.moveCursor(L.getNode(),0)}}A.push(I);function S(O){var T,f=y.$textElem,B=(0,w.default)(T=f.html().toLowerCase()).call(T);if(B===x.EMPTY_P){O.preventDefault();return}}C.push(S)}function D(y,A){function C(I){var S;if(I.keyCode===88){var O=y.$textElem,T=(0,w.default)(S=O.html().toLowerCase()).call(S);if(!T||T==="<br>"){var f=E.default(x.EMPTY_P);O.html(" "),O.append(f),y.selection.createRangeByElem(f,!1,!0),y.selection.restoreSelection(),y.selection.moveCursor(f.getNode(),0)}}}A.push(C)}c.cutToKeepP=D,c.default=m},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});function w(P,h){function x(){if(P.cmd.queryCommandSupported("insertHTML")){var E=P.selection.getSelectionContainerElem();if(E){var m=E.parent(),D=E.getNodeName(),y=m.getNodeName();D=="CODE"||y==="CODE"||y==="PRE"||/hljs/.test(y)?P.cmd.do("insertHTML",P.config.languageTab):P.cmd.do("insertHTML","&nbsp;&nbsp;&nbsp;&nbsp;")}}}h.push(x)}c.default=w},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(17));(0,b.default)(c,"__esModule",{value:!0});var P=r(130),h=r(6),x=r(7);function E(C){var I,S=(0,w.default)(I=C.replace(/<div>/gim,"<p>").replace(/<\/div>/gim,"</p>")).call(I),O=document.createElement("div");return O.innerHTML=S,O.innerHTML.replace(/<p><\/p>/gim,"")}function m(C){var I=C.replace(/<br>|<br\/>/gm,"\n").replace(/<[^>]+>/gm,"");return I}function D(C){var I;if(C==="")return!1;var S=document.createElement("div");return S.innerHTML=C,((I=S.firstChild)===null||I===void 0?void 0:I.nodeName)==="P"}function y(C){if(!(C!=null&&C.length))return!1;var I=C.elems[0];return I.nodeName==="P"&&I.innerHTML==="<br>"}function A(C,I){function S(O){var T=C.config,f=T.pasteFilterStyle,B=T.pasteIgnoreImg,u=T.pasteTextHandle,U=P.getPasteHtml(O,f,B),L=P.getPasteText(O);L=L.replace(/\n/gm,"<br>");var F=C.selection.getSelectionContainerElem();if(F){var N=F==null?void 0:F.getNodeName(),H=F==null?void 0:F.getNodeTop(C),V="";if(H.elems[0]&&(V=H==null?void 0:H.getNodeName()),N==="CODE"||V==="PRE"){u&&h.isFunction(u)&&(L=""+(u(L)||"")),C.cmd.do("insertHTML",m(L));return}if(x.urlRegex.test(L)&&f){u&&h.isFunction(u)&&(L=""+(u(L)||""));var G=x.urlRegex.exec(L)[0],R=L.replace(x.urlRegex,"");return C.cmd.do("insertHTML",'<a href="'+G+'" target="_blank">'+G+"</a>"+R)}if(U)try{u&&h.isFunction(u)&&(U=""+(u(U)||""));var z=/[\.\#\@]?\w+[ ]+\{[^}]*\}/.test(U);if(z&&f)C.cmd.do("insertHTML",""+E(L));else{var K=E(U);if(D(K)){var Y=C.$textElem;if(C.cmd.do("insertHTML",K),Y.equal(F)){C.selection.createEmptyRange();return}y(H)&&H.remove()}else{var q=/^<img [^>]*src=['"]([^'"]+)[^>]*>$/g;q.test(K)||C.cmd.do("insertHTML",K)}}}catch(Q){u&&h.isFunction(u)&&(L=""+(u(L)||"")),C.cmd.do("insertHTML",""+E(L))}}}I.push(S)}c.default=A},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(17)),P=d(r(4)),h=d(r(44));(0,b.default)(c,"__esModule",{value:!0});var x=r(2),E=r(293),m=x.__importDefault(r(297));function D(S){var O=/<span>.*?<\/span>/gi,T=/<span>(.*?)<\/span>/;return S.replace(O,function(f){var B=f.match(T);return B==null?"":B[1]})}function y(S,O){var T;return S=(0,w.default)(T=S.toLowerCase()).call(T),!!(E.IGNORE_TAGS.has(S)||O&&S==="img")}function A(S,O){var T="";T="<"+S;var f=[];(0,P.default)(O).call(O,function(u){f.push(u.name+'="'+u.value+'"')}),f.length>0&&(T=T+" "+f.join(" "));var B=E.EMPTY_TAGS.has(S);return T=T+(B?"/":"")+">",T}function C(S){return"</"+S+">"}function I(S,O,T){O===void 0&&(O=!0),T===void 0&&(T=!1);var f=[],B="";function u(N){N=(0,w.default)(N).call(N),N&&(E.EMPTY_TAGS.has(N)||(B=N))}function U(){B=""}var L=new m.default;L.parse(S,{startElement:function(H,V){if(u(H),!y(H,T)){var G=E.NECESSARY_ATTRS.get(H)||[],R=[];(0,P.default)(V).call(V,function(K){var Y=K.name;if(Y==="style"){O||R.push(K);return}(0,h.default)(G).call(G,Y)!==!1&&R.push(K)});var z=A(H,R);f.push(z)}},characters:function(H){H&&(y(B,T)||f.push(H))},endElement:function(H){if(!y(H,T)){var V=C(H);f.push(V),U()}},comment:function(H){u(H)}});var F=f.join("");return F=D(F),F}c.default=I},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(131)),P=d(r(120));(0,b.default)(c,"__esModule",{value:!0}),c.TOP_LEVEL_TAGS=c.EMPTY_TAGS=c.NECESSARY_ATTRS=c.IGNORE_TAGS=void 0,c.IGNORE_TAGS=new w.default(["doctype","!doctype","html","head","meta","body","script","style","link","frame","iframe","title","svg","center","o:p"]),c.NECESSARY_ATTRS=new P.default([["img",["src","alt"]],["a",["href","target"]],["td",["colspan","rowspan"]],["th",["colspan","rowspan"]]]),c.EMPTY_TAGS=new w.default(["area","base","basefont","br","col","hr","img","input","isindex","embed"]),c.TOP_LEVEL_TAGS=new w.default(["h1","h2","h3","h4","h5","p","ul","ol","table","blockquote","pre","hr","form"])},function(k,c,r){var d=r(295);k.exports=d},function(k,c,r){r(296),r(61),r(50),r(54);var d=r(9);k.exports=d.Set},function(k,c,r){"use strict";var d=r(121),b=r(123);k.exports=d("Set",function(w){return function(){return w(this,arguments.length?arguments[0]:void 0)}},b)},function(k,c){function r(){}r.prototype={handler:null,startTagRe:/^<([^>\s\/]+)((\s+[^=>\s]+(\s*=\s*((\"[^"]*\")|(\'[^']*\')|[^>\s]+))?)*)\s*\/?\s*>/m,endTagRe:/^<\/([^>\s]+)[^>]*>/m,attrRe:/([^=\s]+)(\s*=\s*((\"([^"]*)\")|(\'([^']*)\')|[^>\s]+))?/gm,parse:function(b,w){w&&(this.contentHandler=w);for(var P=0,h,x,E,m,D,y=!1,A=this;b.length>0;)b.substring(0,4)=="<!--"?(D=b.indexOf("-->"),D!=-1?(this.contentHandler.comment(b.substring(4,D)),b=b.substring(D+3),y=!1):y=!0):b.substring(0,2)=="</"?this.endTagRe.test(b)?(x=RegExp.leftContext,E=RegExp.lastMatch,m=RegExp.rightContext,E.replace(this.endTagRe,function(){return A.parseEndTag.apply(A,arguments)}),b=m,y=!1):y=!0:b.charAt(0)=="<"&&(this.startTagRe.test(b)?(x=RegExp.leftContext,E=RegExp.lastMatch,m=RegExp.rightContext,E.replace(this.startTagRe,function(){return A.parseStartTag.apply(A,arguments)}),b=m,y=!1):y=!0),y&&(D=b.indexOf("<"),D==-1?(this.contentHandler.characters(b),b=""):(this.contentHandler.characters(b.substring(0,D)),b=b.substring(D))),y=!0},parseStartTag:function(b,w,P){var h=this.parseAttributes(w,P);this.contentHandler.startElement(w,h)},parseEndTag:function(b,w){this.contentHandler.endElement(w)},parseAttributes:function(b,w){var P=this,h=[];return w.replace(this.attrRe,function(x,E,m,D,y,A,C,I){h.push(P.parseAttribute(b,x,E,m,D,y,A,C,I))}),h},parseAttribute:function(b,w,P){var h="";arguments[7]?h=arguments[8]:arguments[5]?h=arguments[6]:arguments[3]&&(h=arguments[4]);var x=!h&&!arguments[3];return{name:P,value:x?null:h}}},k.exports=r},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});function w(P,h){function x(E){P.selection.createRangeByElem(E),P.selection.restoreSelection()}h.push(x)}c.default=w},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=r(6),x=P.__importDefault(r(3));function E(m){var D=[],y=m.childNodes()||[];return(0,w.default)(y).call(y,function(A){var C,I=A.nodeType;if(I===3&&(C=A.textContent||"",C=h.replaceHtmlSymbol(C)),I===1){C={},C=C,C.tag=A.nodeName.toLowerCase();for(var S=[],O=A.attributes,T=O.length||0,f=0;f<T;f++){var B=O[f];S.push({name:B.name,value:B.value})}C.attrs=S,C.children=E(x.default(A))}C&&D.push(C)}),D}c.default=E},function(k,c,r){"use strict";var d=r(0),b=d(r(92)),w=d(r(1)),P=d(r(4));(0,w.default)(c,"__esModule",{value:!0});var h=r(2),x=h.__importDefault(r(3));function E(m,D){D===void 0&&(D=document.createElement("div"));var y=D;return(0,P.default)(m).call(m,function(A){var C;if(typeof A=="string"&&(C=document.createTextNode(A)),(0,b.default)(A)==="object"){var I;C=document.createElement(A.tag),(0,P.default)(I=A.attrs).call(I,function(S){x.default(C).attr(S.name,S.value)}),A.children&&A.children.length>0&&E(A.children,C.getRootNode())}C&&y.appendChild(C)}),x.default(y)}c.default=E},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(89)),P=d(r(70)),h=d(r(44)),x=d(r(302)),E=d(r(4)),m=d(r(94)),D=d(r(132)),y=d(r(46)),A=d(r(57));(0,b.default)(c,"__esModule",{value:!0});var C=r(2),I=C.__importDefault(r(87)),S=C.__importDefault(r(314)),O=C.__importDefault(r(3)),T=function(){function f(B){this.editor=B,this.menuList=[],this.constructorList=S.default}return f.prototype.extend=function(B,u){!u||typeof u!="function"||(this.constructorList[B]=u)},f.prototype.init=function(){var B,u,U=this,L=this.editor.config,F=L.excludeMenus;(0,w.default)(F)===!1&&(F=[]),L.menus=(0,P.default)(B=L.menus).call(B,function(Y){return(0,h.default)(F).call(F,Y)===!1});var N=(0,x.default)(I.default.globalCustomMenuConstructorList);N=(0,P.default)(N).call(N,function(Y){return(0,h.default)(F).call(F,Y)}),(0,E.default)(N).call(N,function(Y){delete I.default.globalCustomMenuConstructorList[Y]}),(0,E.default)(u=L.menus).call(u,function(Y){var q=U.constructorList[Y];U._initMenuList(Y,q)});for(var H=0,V=(0,m.default)(I.default.globalCustomMenuConstructorList);H<V.length;H++){var G=V[H],R=G[0],z=G[1],K=z;this._initMenuList(R,K)}this._addToToolbar(),L.showMenuTooltips&&this._bindMenuTooltips()},f.prototype._initMenuList=function(B,u){var U;if(!(u==null||typeof u!="function"))if((0,D.default)(U=this.menuList).call(U,function(F){return F.key===B}))console.warn("\u83DC\u5355\u540D\u79F0\u91CD\u590D:"+B);else{var L=new u(this.editor);L.key=B,this.menuList.push(L)}},f.prototype._bindMenuTooltips=function(){var B=this.editor,u=B.$toolbarElem,U=B.config,L=U.menuTooltipPosition,F=O.default('<div class="w-e-menu-tooltip w-e-menu-tooltip-'+L+'">\n            <div class="w-e-menu-tooltip-item-wrapper">\n              <div></div>\n            </div>\n          </div>');F.css("visibility","hidden"),u.append(F),F.css("z-index",B.zIndex.get("tooltip"));var N=0;function H(){N&&clearTimeout(N)}function V(){H(),F.css("visibility","hidden")}u.on("mouseover",function(G){var R=G.target,z=O.default(R),K,Y;if(z.isContain(u)){V();return}if(z.parentUntil(".w-e-droplist")!=null)V();else if(z.attr("data-title"))K=z.attr("data-title"),Y=z;else{var q=z.parentUntil(".w-e-menu");q!=null&&(K=q.attr("data-title"),Y=q)}if(K&&Y){H();var Q=Y.getOffsetData();F.text(B.i18next.t("menus.title."+K));var ee=F.getOffsetData(),oe=Q.left+Q.width/2-ee.width/2;F.css("left",oe+"px"),L==="up"?F.css("top",Q.top-ee.height-8+"px"):L==="down"&&F.css("top",Q.top+Q.height+8+"px"),N=(0,y.default)(function(){F.css("visibility","visible")},200)}else V()}).on("mouseleave",function(){V()})},f.prototype._addToToolbar=function(){var B,u=this.editor,U=u.$toolbarElem;(0,E.default)(B=this.menuList).call(B,function(L){var F=L.$elem;F&&U.append(F)})},f.prototype.menuFind=function(B){for(var u=this.menuList,U=0,L=u.length;U<L;U++)if(u[U].key===B)return u[U];return u[0]},f.prototype.changeActive=function(){var B;(0,E.default)(B=this.menuList).call(B,function(u){var U;(0,y.default)((0,A.default)(U=u.tryChangeActive).call(U,u),100)})},f}();c.default=T},function(k,c,r){k.exports=r(303)},function(k,c,r){var d=r(304);k.exports=d},function(k,c,r){r(305);var d=r(9);k.exports=d.Object.keys},function(k,c,r){var d=r(5),b=r(29),w=r(52),P=r(11),h=P(function(){w(1)});d({target:"Object",stat:!0,forced:h},{keys:function(E){return w(b(E))}})},function(k,c,r){var d=r(307);k.exports=d},function(k,c,r){r(308);var d=r(9);k.exports=d.Object.entries},function(k,c,r){var d=r(5),b=r(309).entries;d({target:"Object",stat:!0},{entries:function(P){return b(P)}})},function(k,c,r){var d=r(14),b=r(52),w=r(28),P=r(59).f,h=function(E){return function(m){for(var D=w(m),y=b(D),A=y.length,C=0,I=[],S;A>C;)S=y[C++],(!d||P.call(D,S))&&I.push(E?[S,D[S]]:D[S]);return I}};k.exports={entries:h(!0),values:h(!1)}},function(k,c,r){var d=r(311);k.exports=d},function(k,c,r){var d=r(312),b=Array.prototype;k.exports=function(w){var P=w.some;return w===b||w instanceof Array&&P===b.some?d:P}},function(k,c,r){r(313);var d=r(15);k.exports=d("Array").some},function(k,c,r){"use strict";var d=r(5),b=r(30).some,w=r(67),P=r(22),h=w("some"),x=P("some");d({target:"Array",proto:!0,forced:!h||!x},{some:function(m){return b(this,m,arguments.length>1?arguments[1]:void 0)}})},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(315)),h=w.__importDefault(r(316)),x=w.__importDefault(r(321)),E=w.__importDefault(r(326)),m=w.__importDefault(r(327)),D=w.__importDefault(r(328)),y=w.__importDefault(r(329)),A=w.__importDefault(r(331)),C=w.__importDefault(r(333)),I=w.__importDefault(r(334)),S=w.__importDefault(r(337)),O=w.__importDefault(r(338)),T=w.__importDefault(r(339)),f=w.__importDefault(r(350)),B=w.__importDefault(r(365)),u=w.__importDefault(r(369)),U=w.__importDefault(r(137)),L=w.__importDefault(r(378)),F=w.__importDefault(r(380)),N=w.__importDefault(r(381)),H=w.__importDefault(r(382)),V=w.__importDefault(r(401)),G=w.__importDefault(r(406)),R=w.__importDefault(r(409));c.default={bold:P.default,head:h.default,italic:E.default,link:x.default,underline:m.default,strikeThrough:D.default,fontName:y.default,fontSize:A.default,justify:C.default,quote:I.default,backColor:S.default,foreColor:O.default,video:T.default,image:f.default,indent:B.default,emoticon:u.default,list:U.default,lineHeight:L.default,undo:F.default,redo:N.default,table:H.default,code:V.default,splitLine:G.default,todo:R.default}},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(23)),h=w.__importDefault(r(3)),x=function(E){w.__extends(m,E);function m(D){var y=this,A=h.default('<div class="w-e-menu" data-title="\u52A0\u7C97">\n                <i class="w-e-icon-bold"></i>\n            </div>');return y=E.call(this,A,D)||this,y}return m.prototype.clickHandler=function(){var D=this.editor,y=D.selection.isSelectionEmpty();y&&D.selection.createEmptyRange(),D.cmd.do("bold"),y&&(D.selection.collapseRange(),D.selection.restoreSelection())},m.prototype.tryChangeActive=function(){var D=this.editor;D.cmd.queryCommandState("bold")?this.active():this.unActive()},m}(P.default);c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(27)),P=d(r(31)),h=d(r(4)),x=d(r(317)),E=d(r(44));(0,b.default)(c,"__esModule",{value:!0});var m=r(2),D=m.__importDefault(r(24)),y=m.__importDefault(r(3)),A=r(6),C=r(7),I=function(S){m.__extends(O,S);function O(T){var f=this,B=y.default('<div class="w-e-menu" data-title="\u6807\u9898"><i class="w-e-icon-header"></i></div>'),u={width:100,title:"\u8BBE\u7F6E\u6807\u9898",type:"list",list:[{$elem:y.default("<h1>H1</h1>"),value:"<h1>"},{$elem:y.default("<h2>H2</h2>"),value:"<h2>"},{$elem:y.default("<h3>H3</h3>"),value:"<h3>"},{$elem:y.default("<h4>H4</h4>"),value:"<h4>"},{$elem:y.default("<h5>H5</h5>"),value:"<h5>"},{$elem:y.default("<p>"+T.i18next.t("menus.dropListMenu.head.\u6B63\u6587")+"</p>"),value:"<p>"}],clickHandler:function(F){f.command(F)}};f=S.call(this,B,T,u)||this;var U=T.config.onCatalogChange;return U&&(f.oldCatalogs=[],f.addListenerCatalog(),f.getCatalogs()),f}return O.prototype.command=function(T){var f=this.editor,B=f.selection.getSelectionContainerElem();if(B&&f.$textElem.equal(B))this.setMultilineHead(T);else{var u;if((0,w.default)(u=["OL","UL","LI","TABLE","TH","TR","CODE","HR"]).call(u,y.default(B).getNodeName())>-1)return;f.cmd.do("formatBlock",T)}T!=="<p>"&&this.addUidForSelectionElem()},O.prototype.addUidForSelectionElem=function(){var T=this.editor,f=T.selection.getSelectionContainerElem(),B=A.getRandomCode();y.default(f).attr("id",B)},O.prototype.addListenerCatalog=function(){var T=this,f=this.editor;f.txt.eventHooks.changeEvents.push(function(){T.getCatalogs()})},O.prototype.getCatalogs=function(){var T=this.editor,f=this.editor.$textElem,B=T.config.onCatalogChange,u=(0,P.default)(f).call(f,"h1,h2,h3,h4,h5"),U=[];(0,h.default)(u).call(u,function(L,F){var N=y.default(L),H=N.attr("id"),V=N.getNodeName(),G=N.text();H||(H=A.getRandomCode(),N.attr("id",H)),G&&U.push({tag:V,id:H,text:G})}),(0,x.default)(this.oldCatalogs)!==(0,x.default)(U)&&(this.oldCatalogs=U,B&&B(U))},O.prototype.setMultilineHead=function(T){var f=this,B,u,U=this.editor,L=U.selection,F=(B=L.getSelectionContainerElem())===null||B===void 0?void 0:B.elems[0],N=["IMG","VIDEO","TABLE","TH","TR","UL","OL","PRE","HR","BLOCKQUOTE"],H=y.default(L.getSelectionStartElem()),V=y.default(L.getSelectionEndElem());V.elems[0].outerHTML===y.default(C.EMPTY_P).elems[0].outerHTML&&!V.elems[0].nextSibling&&(V=V.prev());var G=[];G.push(H.getNodeTop(U));var R=[],z=(u=L.getRange())===null||u===void 0?void 0:u.commonAncestorContainer.childNodes;z==null||(0,h.default)(z).call(z,function(q,Q){q===G[0].getNode()&&R.push(Q),q===V.getNodeTop(U).getNode()&&R.push(Q)});for(var K=0;G[K].getNode()!==V.getNodeTop(U).getNode();){if(!G[K].elems[0])return;var Y=y.default(G[K].next().getNode());G.push(Y),K++}G==null||(0,h.default)(G).call(G,function(q,Q){if(!f.hasTag(q,N)){var ee=y.default(T),oe=q.parent().getNode();ee.html(""+q.html()),oe.insertBefore(ee.getNode(),q.getNode()),q.remove()}}),L.createRangeByElems(F.children[R[0]],F.children[R[1]])},O.prototype.hasTag=function(T,f){var B=this,u;if(!T)return!1;if((0,E.default)(f).call(f,T==null?void 0:T.getNodeName()))return!0;var U=!1;return(u=T.children())===null||u===void 0||(0,h.default)(u).call(u,function(L){U=B.hasTag(y.default(L),f)}),U},O.prototype.tryChangeActive=function(){var T=this.editor,f=/^h/i,B=T.cmd.queryCommandValue("formatBlock");f.test(B)?this.active():this.unActive()},O}(D.default);c.default=I},function(k,c,r){k.exports=r(318)},function(k,c,r){var d=r(319);k.exports=d},function(k,c,r){r(320);var d=r(9);d.JSON||(d.JSON={stringify:JSON.stringify}),k.exports=function(w,P,h){return d.JSON.stringify.apply(null,arguments)}},function(k,c,r){var d=r(5),b=r(35),w=r(11),P=b("JSON","stringify"),h=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,m=function(A,C,I){var S=I.charAt(C-1),O=I.charAt(C+1);return x.test(A)&&!E.test(O)||E.test(A)&&!x.test(S)?"\\u"+A.charCodeAt(0).toString(16):A},D=w(function(){return P("\uDF06\uD834")!=='"\\udf06\\ud834"'||P("\uDEAD")!=='"\\udead"'});P&&d({target:"JSON",stat:!0,forced:D},{stringify:function(A,C,I){var S=P.apply(null,arguments);return typeof S=="string"?S.replace(h,m):S}})},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(17));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(37)),x=P.__importDefault(r(3)),E=P.__importDefault(r(322)),m=P.__importDefault(r(134)),D=P.__importDefault(r(32)),y=P.__importDefault(r(324)),A=r(7),C=function(I){P.__extends(S,I);function S(O){var T=this,f=x.default('<div class="w-e-menu" data-title="\u94FE\u63A5"><i class="w-e-icon-link"></i></div>');return T=I.call(this,f,O)||this,y.default(O),T}return S.prototype.clickHandler=function(){var O=this.editor,T,f=O.selection.getSelectionContainerElem(),B=O.$textElem,u=B.html(),U=(0,w.default)(u).call(u);if(U===A.EMPTY_P){var L=B.children();O.selection.createRangeByElem(L,!0,!0),f=O.selection.getSelectionContainerElem()}if(!(f&&O.$textElem.equal(f)))if(this.isActive){if(T=O.selection.getSelectionContainerElem(),!T)return;this.createPanel(T.text(),T.attr("href"))}else O.selection.isSelectionEmpty()?this.createPanel("",""):this.createPanel(O.selection.getSelectionText(),"")},S.prototype.createPanel=function(O,T){var f=E.default(this.editor,O,T),B=new D.default(this,f);B.create()},S.prototype.tryChangeActive=function(){var O=this.editor;m.default(O)?this.active():this.unActive()},S}(h.default);c.default=C},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(17));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=r(6),x=P.__importDefault(r(3)),E=P.__importDefault(r(134)),m=r(323);function D(y,A,C){var I=h.getRandom("input-link"),S=h.getRandom("input-text"),O=h.getRandom("btn-ok"),T=h.getRandom("btn-del"),f=E.default(y)?"inline-block":"none",B;function u(){if(E.default(y)){var H=y.selection.getSelectionContainerElem();H&&(y.selection.createRangeByElem(H),y.selection.restoreSelection(),B=H)}}function U(H,V){var G=new RegExp(/(<\/*ul>)|(<\/*li>)|(<\/*ol>)/g);H=H.replace(G,""),E.default(y)&&u(),y.cmd.do("insertHTML",'<a href="'+V+'" target="_blank">'+H+"</a>")}function L(){if(E.default(y)){u();var H=B.text();y.cmd.do("insertHTML","<span>"+H+"</span>")}}function F(H,V){var G=y.config.linkCheck(H,V);if(G!==void 0){if(G===!0)return!0;y.config.customAlert(G,"warning")}return!1}var N={width:300,height:0,tabs:[{title:y.i18next.t("menus.panelMenus.link.\u94FE\u63A5"),tpl:'<div>\n                        <input\n                            id="'+S+'"\n                            type="text"\n                            class="block"\n                            value="'+A+'"\n                            placeholder="'+y.i18next.t("menus.panelMenus.link.\u94FE\u63A5\u6587\u5B57")+'"/>\n                        </td>\n                        <input\n                            id="'+I+'"\n                            type="text"\n                            class="block"\n                            value="'+C+'"\n                            placeholder="'+y.i18next.t("\u5982")+' https://..."/>\n                        </td>\n                        <div class="w-e-button-container">\n                            <button type="button" id="'+O+'" class="right">\n                                '+y.i18next.t("\u63D2\u5165")+'\n                            </button>\n                            <button type="button" id="'+T+'" class="gray right" style="display:'+f+'">\n                                '+y.i18next.t("menus.panelMenus.link.\u53D6\u6D88\u94FE\u63A5")+"\n                            </button>\n                        </div>\n                    </div>",events:[{selector:"#"+O,type:"click",fn:function(){var V,G,R,z;y.selection.restoreSelection();var K=y.selection.getSelectionRangeTopNodes()[0].getNode(),Y=window.getSelection(),q=x.default("#"+I),Q=x.default("#"+S),ee=(0,w.default)(V=q.val()).call(V),oe=(0,w.default)(G=Q.val()).call(G),pe="";Y&&!(Y!=null&&Y.isCollapsed)&&(pe=(R=m.insertHtml(Y,K))===null||R===void 0?void 0:(0,w.default)(R).call(R));var ve=pe==null?void 0:pe.replace(/<.*?>/g,""),Pe=(z=ve==null?void 0:ve.length)!==null&&z!==void 0?z:0;if(Pe<=oe.length){var He=oe.substring(0,Pe),Ne=oe.substring(Pe);ve===He&&(oe=pe+Ne)}if(ee&&(oe||(oe=ee),!!F(oe,ee)))return U(oe,ee),!0},bindEnter:!0},{selector:"#"+T,type:"click",fn:function(){return L(),!0}}]}]};return N}c.default=D},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0}),c.insertHtml=c.createPartHtml=c.makeHtmlString=c.getTopNode=void 0;function P(y,A){var C=y,I=y;do{if(C.textContent===A)break;I=C,C.parentNode&&(C=C==null?void 0:C.parentNode)}while((C==null?void 0:C.nodeName)!=="P");return I}c.getTopNode=P;function h(y,A){var C=y.nodeName,I="";if(y.nodeType===3||/^(h|H)[1-6]$/.test(C))return A;if(y.nodeType===1){var S=y.getAttribute("style"),O=y.getAttribute("face"),T=y.getAttribute("color");S&&(I=I+(' style="'+S+'"')),O&&(I=I+(' face="'+O+'"')),T&&(I=I+(' color="'+T+'"'))}return C=C.toLowerCase(),"<"+C+I+">"+A+"</"+C+">"}c.makeHtmlString=h;function x(y,A,C,I){var S,O=(S=A.textContent)===null||S===void 0?void 0:S.substring(C,I),T=A,f="";do f=h(T,O!=null?O:""),O=f,T=T==null?void 0:T.parentElement;while(T&&T.textContent!==y);return f}c.createPartHtml=x;function E(y,A){var C,I,S,O,T,f=y.anchorNode,B=y.focusNode,u=y.anchorOffset,U=y.focusOffset,L=(C=A.textContent)!==null&&C!==void 0?C:"",F=m(A),N="",H="",V="",G="",R=f,z=B,K=f;if(f!=null&&f.isEqualNode(B!=null?B:null)){var Y=x(L,f,u,U);return Y=D(F,Y),Y}for(f&&(H=x(L,f,u!=null?u:0)),B&&(G=x(L,B,0,U)),f&&(R=P(f,L)),B&&(z=P(B,L)),K=(I=R==null?void 0:R.nextSibling)!==null&&I!==void 0?I:f;!(K!=null&&K.isEqualNode(z!=null?z:null));){var q=K==null?void 0:K.nodeName;if(q==="#text")V=V+(K==null?void 0:K.textContent);else{var Q=(O=(S=K==null?void 0:K.firstChild)===null||S===void 0?void 0:S.parentElement)===null||O===void 0?void 0:O.innerHTML;K&&(V=V+h(K,Q!=null?Q:""))}var ee=(T=K==null?void 0:K.nextSibling)!==null&&T!==void 0?T:K;if(ee===K)break;K=ee}return N=""+H+V+G,N=D(F,N),N}c.insertHtml=E;function m(y){for(var A,C=(A=y.textContent)!==null&&A!==void 0?A:"",I=[];(y==null?void 0:y.textContent)===C;)y.nodeName!=="P"&&y.nodeName!=="TABLE"&&I.push(y),y=y.childNodes[0];return I}function D(y,A){return(0,w.default)(y).call(y,function(C){A=h(C,A)}),A}},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(325));function h(x){P.default(x)}c.default=h},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(3)),h=w.__importDefault(r(38));function x(m){var D;function y(C){var I=[{$elem:P.default("<span>"+m.i18next.t("menus.panelMenus.link.\u67E5\u770B\u94FE\u63A5")+"</span>"),onClick:function(O,T){var f=T.attr("href");return window.open(f,"_target"),!0}},{$elem:P.default("<span>"+m.i18next.t("menus.panelMenus.link.\u53D6\u6D88\u94FE\u63A5")+"</span>"),onClick:function(O,T){var f,B;O.selection.createRangeByElem(T),O.selection.restoreSelection();var u=T.childNodes();if((u==null?void 0:u.getNodeName())==="IMG"){var U=(B=(f=O.selection.getSelectionContainerElem())===null||f===void 0?void 0:f.children())===null||B===void 0?void 0:B.elems[0].children[0];O.cmd.do("insertHTML","<img \n                                src="+(U==null?void 0:U.getAttribute("src"))+" \n                                style="+(U==null?void 0:U.getAttribute("style"))+">")}else{var L=T.text();O.cmd.do("insertHTML","<span>"+L+"</span>")}return!0}}];D=new h.default(m,C,I),D.create()}function A(){D&&(D.remove(),D=null)}return{showLinkTooltip:y,hideLinkTooltip:A}}function E(m){var D=x(m),y=D.showLinkTooltip,A=D.hideLinkTooltip;m.txt.eventHooks.linkClickEvents.push(y),m.txt.eventHooks.clickEvents.push(A),m.txt.eventHooks.keyupEvents.push(A),m.txt.eventHooks.toolbarClickEvents.push(A),m.txt.eventHooks.menuClickEvents.push(A),m.txt.eventHooks.textScrollEvents.push(A)}c.default=E},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(23)),h=w.__importDefault(r(3)),x=function(E){w.__extends(m,E);function m(D){var y=this,A=h.default('<div class="w-e-menu" data-title="\u659C\u4F53">\n                <i class="w-e-icon-italic"></i>\n            </div>');return y=E.call(this,A,D)||this,y}return m.prototype.clickHandler=function(){var D=this.editor,y=D.selection.isSelectionEmpty();y&&D.selection.createEmptyRange(),D.cmd.do("italic"),y&&(D.selection.collapseRange(),D.selection.restoreSelection())},m.prototype.tryChangeActive=function(){var D=this.editor;D.cmd.queryCommandState("italic")?this.active():this.unActive()},m}(P.default);c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(23)),h=w.__importDefault(r(3)),x=function(E){w.__extends(m,E);function m(D){var y=this,A=h.default('<div class="w-e-menu" data-title="\u4E0B\u5212\u7EBF">\n                <i class="w-e-icon-underline"></i>\n            </div>');return y=E.call(this,A,D)||this,y}return m.prototype.clickHandler=function(){var D=this.editor,y=D.selection.isSelectionEmpty();y&&D.selection.createEmptyRange(),D.cmd.do("underline"),y&&(D.selection.collapseRange(),D.selection.restoreSelection())},m.prototype.tryChangeActive=function(){var D=this.editor;D.cmd.queryCommandState("underline")?this.active():this.unActive()},m}(P.default);c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(23)),h=w.__importDefault(r(3)),x=function(E){w.__extends(m,E);function m(D){var y=this,A=h.default('<div class="w-e-menu" data-title="\u5220\u9664\u7EBF">\n                <i class="w-e-icon-strikethrough"></i>\n            </div>');return y=E.call(this,A,D)||this,y}return m.prototype.clickHandler=function(){var D=this.editor,y=D.selection.isSelectionEmpty();y&&D.selection.createEmptyRange(),D.cmd.do("strikeThrough"),y&&(D.selection.collapseRange(),D.selection.restoreSelection())},m.prototype.tryChangeActive=function(){var D=this.editor;D.cmd.queryCommandState("strikeThrough")?this.active():this.unActive()},m}(P.default);c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(24)),h=w.__importDefault(r(3)),x=w.__importDefault(r(330)),E=function(m){w.__extends(D,m);function D(y){var A=this,C=h.default('<div class="w-e-menu" data-title="\u5B57\u4F53">\n                <i class="w-e-icon-font"></i>\n            </div>'),I=new x.default(y.config.fontNames),S={width:100,title:"\u8BBE\u7F6E\u5B57\u4F53",type:"list",list:I.getItemList(),clickHandler:function(T){A.command(T)}};return A=m.call(this,C,y,S)||this,A}return D.prototype.command=function(y){var A,C=this.editor,I=C.selection.isSelectionEmpty(),S=(A=C.selection.getSelectionContainerElem())===null||A===void 0?void 0:A.elems[0];if(S!=null){var O=(S==null?void 0:S.nodeName.toLowerCase())!=="p",T=(S==null?void 0:S.getAttribute("face"))===y;if(I){if(O&&!T){var f=C.selection.getSelectionRangeTopNodes();C.selection.createRangeByElem(f[0]),C.selection.moveCursor(f[0].elems[0])}C.selection.setRangeToElem(S),C.selection.createEmptyRange()}C.cmd.do("fontName",y),I&&(C.selection.collapseRange(),C.selection.restoreSelection())}},D.prototype.tryChangeActive=function(){},D}(P.default);c.default=E},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3)),x=function(){function E(m){var D=this;this.itemList=[],(0,w.default)(m).call(m,function(y){var A=typeof y=="string"?y:y.value,C=typeof y=="string"?y:y.name;D.itemList.push({$elem:h.default("<p style=\"font-family:'"+A+"'\">"+C+"</p>"),value:C})})}return E.prototype.getItemList=function(){return this.itemList},E}();c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(24)),h=w.__importDefault(r(3)),x=w.__importDefault(r(332)),E=function(m){w.__extends(D,m);function D(y){var A=this,C=h.default('<div class="w-e-menu" data-title="\u5B57\u53F7">\n                <i class="w-e-icon-text-heigh"></i>\n            </div>'),I=new x.default(y.config.fontSizes),S={width:160,title:"\u8BBE\u7F6E\u5B57\u53F7",type:"list",list:I.getItemList(),clickHandler:function(T){A.command(T)}};return A=m.call(this,C,y,S)||this,A}return D.prototype.command=function(y){var A,C=this.editor,I=C.selection.isSelectionEmpty(),S=(A=C.selection.getSelectionContainerElem())===null||A===void 0?void 0:A.elems[0];S!=null&&(C.cmd.do("fontSize",y),I&&(C.selection.collapseRange(),C.selection.restoreSelection()))},D.prototype.tryChangeActive=function(){},D}(P.default);c.default=E},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(3)),h=function(){function x(E){this.itemList=[];for(var m in E){var D=E[m];this.itemList.push({$elem:P.default('<p style="font-size:'+m+'">'+D.name+"</p>"),value:D.value})}}return x.prototype.getItemList=function(){return this.itemList},x}();c.default=h},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4)),P=d(r(27));(0,b.default)(c,"__esModule",{value:!0});var h=r(2),x=h.__importDefault(r(24)),E=h.__importDefault(r(3)),m=["LI"],D=["UL","BLOCKQUOTE"],y=function(A){h.__extends(C,A);function C(I){var S=this,O=E.default('<div class="w-e-menu" data-title="\u5BF9\u9F50"><i class="w-e-icon-paragraph-left"></i></div>'),T={width:100,title:"\u5BF9\u9F50\u65B9\u5F0F",type:"list",list:[{$elem:E.default('<p>\n                            <i class="w-e-icon-paragraph-left w-e-drop-list-item"></i>\n                            '+I.i18next.t("menus.dropListMenu.justify.\u9760\u5DE6")+"\n                        </p>"),value:"left"},{$elem:E.default('<p>\n                            <i class="w-e-icon-paragraph-center w-e-drop-list-item"></i>\n                            '+I.i18next.t("menus.dropListMenu.justify.\u5C45\u4E2D")+"\n                        </p>"),value:"center"},{$elem:E.default('<p>\n                            <i class="w-e-icon-paragraph-right w-e-drop-list-item"></i>\n                            '+I.i18next.t("menus.dropListMenu.justify.\u9760\u53F3")+"\n                        </p>"),value:"right"},{$elem:E.default('<p>\n                            <i class="w-e-icon-paragraph-justify w-e-drop-list-item"></i>\n                            '+I.i18next.t("menus.dropListMenu.justify.\u4E24\u7AEF")+"\n                        </p>"),value:"justify"}],clickHandler:function(B){S.command(B)}};return S=A.call(this,O,I,T)||this,S}return C.prototype.command=function(I){var S=this.editor,O=S.selection,T=O.getSelectionContainerElem();O.saveRange();var f=S.selection.getSelectionRangeTopNodes();if(T!=null&&T.length)if(this.isSpecialNode(T,f[0])||this.isSpecialTopNode(f[0])){var B=this.getSpecialNodeUntilTop(T,f[0]);if(B==null)return;E.default(B).css("text-align",I)}else(0,w.default)(f).call(f,function(u){u.css("text-align",I)});O.restoreSelection()},C.prototype.getSpecialNodeUntilTop=function(I,S){for(var O=I.elems[0],T=S.elems[0];O!=null;){if((0,P.default)(m).call(m,O==null?void 0:O.nodeName)!==-1||O.parentNode===T)return O;O=O.parentNode}return O},C.prototype.isSpecialNode=function(I,S){var O=this.getSpecialNodeUntilTop(I,S);return O==null?!1:(0,P.default)(m).call(m,O.nodeName)!==-1},C.prototype.isSpecialTopNode=function(I){var S;return I==null?!1:(0,P.default)(D).call(D,(S=I.elems[0])===null||S===void 0?void 0:S.nodeName)!==-1},C.prototype.tryChangeActive=function(){},C}(x.default);c.default=y},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3)),x=P.__importDefault(r(23)),E=P.__importDefault(r(335)),m=P.__importDefault(r(336)),D=r(7),y=function(A){P.__extends(C,A);function C(I){var S=this,O=h.default('<div class="w-e-menu" data-title="\u5F15\u7528">\n                <i class="w-e-icon-quotes-left"></i>\n            </div>');return S=A.call(this,O,I)||this,E.default(I),S}return C.prototype.clickHandler=function(){var I,S,O=this.editor,T=O.selection.isSelectionEmpty(),f=O.selection.getSelectionRangeTopNodes(),B=f[f.length-1],u=this.getTopNodeName();if(u==="BLOCKQUOTE"){var U=h.default(B.childNodes()),L=U.length,F=B;(0,w.default)(U).call(U,function(G){var R=h.default(G);R.insertAfter(F),F=R}),B.remove(),O.selection.moveCursor(U.elems[L-1]),this.tryChangeActive()}else{var N=m.default(f);if(O.$textElem.equal(B)){var H=(I=O.selection.getSelectionContainerElem())===null||I===void 0?void 0:I.elems[0];O.selection.createRangeByElems(H.children[0],H.children[0]),f=O.selection.getSelectionRangeTopNodes(),N=m.default(f),B.append(N)}else N.insertAfter(B);this.delSelectNode(f);var V=(S=N.childNodes())===null||S===void 0?void 0:S.last().getNode();if(V==null)return;V.textContent?O.selection.moveCursor(V):O.selection.moveCursor(V,0),this.tryChangeActive(),h.default(D.EMPTY_P).insertAfter(N);return}T&&(O.selection.collapseRange(),O.selection.restoreSelection())},C.prototype.tryChangeActive=function(){var I,S=this.editor,O=(I=S.selection.getSelectionRangeTopNodes()[0])===null||I===void 0?void 0:I.getNodeName();O==="BLOCKQUOTE"?this.active():this.unActive()},C.prototype.getTopNodeName=function(){var I=this.editor,S=I.selection.getSelectionRangeTopNodes()[0],O=S==null?void 0:S.getNodeName();return O},C.prototype.delSelectNode=function(I){(0,w.default)(I).call(I,function(S){S.remove()})},C}(x.default);c.default=y},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=r(7),h=w.__importDefault(r(3));function x(E){function m(D){var y,A=E.selection.getSelectionContainerElem(),C=E.selection.getSelectionRangeTopNodes()[0];if((C==null?void 0:C.getNodeName())==="BLOCKQUOTE"){if(A.getNodeName()==="BLOCKQUOTE"){var I=(y=A.childNodes())===null||y===void 0?void 0:y.getNode();E.selection.moveCursor(I)}if(A.text()===""){D.preventDefault(),A.remove();var S=h.default(P.EMPTY_P);S.insertAfter(C),E.selection.moveCursor(S.getNode(),0)}C.text()===""&&C.remove()}}E.txt.eventHooks.enterDownEvents.push(m)}c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3));function x(E){var m=h.default("<blockquote></blockquote>");return(0,w.default)(E).call(E,function(D){m.append(D.clone(!0))}),m}c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(26));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(24)),x=P.__importDefault(r(3)),E=r(6),m=function(D){P.__extends(y,D);function y(A){var C,I=this,S=x.default('<div class="w-e-menu" data-title="\u80CC\u666F\u8272">\n                <i class="w-e-icon-paint-brush"></i>\n            </div>'),O={width:120,title:"\u80CC\u666F\u989C\u8272",type:"inline-block",list:(0,w.default)(C=A.config.colors).call(C,function(T){return{$elem:x.default('<i style="color:'+T+';" class="w-e-icon-paint-brush"></i>'),value:T}}),clickHandler:function(f){I.command(f)}};return I=D.call(this,S,A,O)||this,I}return y.prototype.command=function(A){var C,I=this.editor,S=I.selection.isSelectionEmpty(),O=(C=I.selection.getSelectionContainerElem())===null||C===void 0?void 0:C.elems[0];if(O!=null){var T=(O==null?void 0:O.nodeName.toLowerCase())!=="p",f=O==null?void 0:O.style.backgroundColor,B=E.hexToRgb(A)===f;if(S){if(T&&!B){var u=I.selection.getSelectionRangeTopNodes();I.selection.createRangeByElem(u[0]),I.selection.moveCursor(u[0].elems[0])}I.selection.createEmptyRange()}I.cmd.do("backColor",A),S&&(I.selection.collapseRange(),I.selection.restoreSelection())}},y.prototype.tryChangeActive=function(){},y}(h.default);c.default=m},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(26));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(24)),x=P.__importDefault(r(3)),E=function(m){P.__extends(D,m);function D(y){var A,C=this,I=x.default('<div class="w-e-menu" data-title="\u6587\u5B57\u989C\u8272">\n                <i class="w-e-icon-pencil2"></i>\n            </div>'),S={width:120,title:"\u6587\u5B57\u989C\u8272",type:"inline-block",list:(0,w.default)(A=y.config.colors).call(A,function(O){return{$elem:x.default('<i style="color:'+O+';" class="w-e-icon-pencil2"></i>'),value:O}}),clickHandler:function(T){C.command(T)}};return C=m.call(this,I,y,S)||this,C}return D.prototype.command=function(y){var A,C=this.editor,I=C.selection.isSelectionEmpty(),S=(A=C.selection.getSelectionContainerElem())===null||A===void 0?void 0:A.elems[0];if(S!=null){var O=C.selection.getSelectionText();if(S.nodeName==="A"&&S.textContent===O){var T=x.default("<span>&#8203;</span>").getNode();S.appendChild(T)}C.cmd.do("foreColor",y),I&&(C.selection.collapseRange(),C.selection.restoreSelection())}},D.prototype.tryChangeActive=function(){},D}(h.default);c.default=E},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(3)),h=w.__importDefault(r(32)),x=w.__importDefault(r(37)),E=w.__importDefault(r(340)),m=w.__importDefault(r(346)),D=function(y){w.__extends(A,y);function A(C){var I=this,S=P.default('<div class="w-e-menu" data-title="\u89C6\u9891">\n                <i class="w-e-icon-play"></i>\n            </div>');return I=y.call(this,S,C)||this,m.default(C),I}return A.prototype.clickHandler=function(){this.createPanel("")},A.prototype.createPanel=function(C){var I=E.default(this.editor,C),S=new h.default(this,I);S.create()},A.prototype.tryChangeActive=function(){},A}(x.default);c.default=D},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(17));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=r(6),x=P.__importDefault(r(3)),E=P.__importDefault(r(341)),m=r(7);function D(y,A){var C=y.config,I=new E.default(y),S=h.getRandom("input-iframe"),O=h.getRandom("btn-ok"),T=h.getRandom("input-upload"),f=h.getRandom("btn-local-ok");function B(F){y.cmd.do("insertHTML",F+m.EMPTY_P),y.config.onlineVideoCallback(F)}function u(F){var N=y.config.onlineVideoCheck(F);return N===!0?!0:(typeof N=="string"&&y.config.customAlert(N,"error"),!1)}var U=[{title:y.i18next.t("menus.panelMenus.video.\u4E0A\u4F20\u89C6\u9891"),tpl:'<div class="w-e-up-video-container">\n                    <div id="'+f+'" class="w-e-up-btn">\n                        <i class="w-e-icon-upload2"></i>\n                    </div>\n                    <div style="display:none;">\n                        <input id="'+T+'" type="file" accept="video/*"/>\n                    </div>\n                 </div>',events:[{selector:"#"+f,type:"click",fn:function(){var N=x.default("#"+T),H=N.elems[0];if(H)H.click();else return!0}},{selector:"#"+T,type:"change",fn:function(){var N=x.default("#"+T),H=N.elems[0];if(!H)return!0;var V=H.files;return V.length&&I.uploadVideo(V),!0}}]},{title:y.i18next.t("menus.panelMenus.video.\u63D2\u5165\u89C6\u9891"),tpl:'<div>\n                    <input \n                        id="'+S+'" \n                        type="text" \n                        class="block" \n                        placeholder="'+y.i18next.t("\u5982")+'\uFF1A<iframe src=... ></iframe>"/>\n                    </td>\n                    <div class="w-e-button-container">\n                        <button type="button" id="'+O+'" class="right">\n                            '+y.i18next.t("\u63D2\u5165")+"\n                        </button>\n                    </div>\n                </div>",events:[{selector:"#"+O,type:"click",fn:function(){var N,H=x.default("#"+S),V=(0,w.default)(N=H.val()).call(N);if(V&&u(V))return B(V),!0},bindEnter:!0}]}],L={width:300,height:0,tabs:[]};return window.FileReader&&(C.uploadVideoServer||C.customUploadVideo)&&L.tabs.push(U[0]),C.showLinkVideo&&L.tabs.push(U[1]),L}c.default=D},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(132)),P=d(r(57)),h=d(r(4)),x=d(r(27));(0,b.default)(c,"__esModule",{value:!0});var E=r(2),m=r(6),D=E.__importDefault(r(135)),y=E.__importDefault(r(136)),A=r(7),C=r(6),I=function(){function S(O){this.editor=O}return S.prototype.uploadVideo=function(O){var T=this;if(O.length){var f=this.editor,B=f.config,u="validate.",U=function(et){return f.i18next.t(u+et)},L=B.uploadVideoServer,F=B.uploadVideoMaxSize,N=F/1024,H=B.uploadVideoName,V=B.uploadVideoParams,G=B.uploadVideoParamsWithUrl,R=B.uploadVideoHeaders,z=B.uploadVideoHooks,K=B.uploadVideoTimeout,Y=B.withVideoCredentials,q=B.customUploadVideo,Q=B.uploadVideoAccept,ee=[],oe=[];if(m.arrForEach(O,function(Ze){var et=Ze.name,Je=Ze.size/1024/1024;if(!(!et||!Je)){if(!(Q instanceof Array)){oe.push("\u3010"+Q+"\u3011"+U("uploadVideoAccept \u4E0D\u662FArray"));return}if(!(0,w.default)(Q).call(Q,function(gt){return gt===et.split(".")[et.split(".").length-1]})){oe.push("\u3010"+et+"\u3011"+U("\u4E0D\u662F\u89C6\u9891"));return}if(N<Je){oe.push("\u3010"+et+"\u3011"+U("\u5927\u4E8E")+" "+N+"M");return}ee.push(Ze)}}),oe.length){B.customAlert(U("\u89C6\u9891\u9A8C\u8BC1\u672A\u901A\u8FC7")+": \n"+oe.join("\n"),"warning");return}if(ee.length===0){B.customAlert(U("\u4F20\u5165\u7684\u6587\u4EF6\u4E0D\u5408\u6CD5"),"warning");return}if(q&&typeof q=="function"){var pe;q(ee,(0,P.default)(pe=this.insertVideo).call(pe,this));return}var ve=new FormData;if((0,h.default)(ee).call(ee,function(Ze,et){var Je=H||Ze.name;ee.length>1&&(Je=Je+(et+1)),ve.append(Je,Ze)}),L){var Pe=L.split("#");L=Pe[0];var He=Pe[1]||"";(0,h.default)(m).call(m,V,function(Ze,et){G&&((0,x.default)(L).call(L,"?")>0?L+="&":L+="?",L=L+Ze+"="+et),ve.append(Ze,et)}),He&&(L+="#"+He);var Ne=D.default(L,{timeout:K,formData:ve,headers:R,withCredentials:!!Y,beforeSend:function(et){if(z.before)return z.before(et,f,ee)},onTimeout:function(et){B.customAlert(U("\u4E0A\u4F20\u89C6\u9891\u8D85\u65F6"),"error"),z.timeout&&z.timeout(et,f)},onProgress:function(et,Je){var gt=new y.default(f);Je.lengthComputable&&(et=Je.loaded/Je.total,gt.show(et))},onError:function(et){B.customAlert(U("\u4E0A\u4F20\u89C6\u9891\u9519\u8BEF"),"error",U("\u4E0A\u4F20\u89C6\u9891\u9519\u8BEF")+"\uFF0C"+U("\u670D\u52A1\u5668\u8FD4\u56DE\u72B6\u6001")+": "+et.status),z.error&&z.error(et,f)},onFail:function(et,Je){B.customAlert(U("\u4E0A\u4F20\u89C6\u9891\u5931\u8D25"),"error",U("\u4E0A\u4F20\u89C6\u9891\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF")+("\uFF0C"+U("\u8FD4\u56DE\u7ED3\u679C")+": ")+Je),z.fail&&z.fail(et,f,Je)},onSuccess:function(et,Je){if(z.customInsert){var gt;z.customInsert((0,P.default)(gt=T.insertVideo).call(gt,T),Je,f);return}if(Je.errno!="0"){B.customAlert(U("\u4E0A\u4F20\u89C6\u9891\u5931\u8D25"),"error",U("\u4E0A\u4F20\u89C6\u9891\u8FD4\u56DE\u7ED3\u679C\u9519\u8BEF")+"\uFF0C"+U("\u8FD4\u56DE\u7ED3\u679C")+" errno="+Je.errno),z.fail&&z.fail(et,f,Je);return}var Ve=Je.data;T.insertVideo(Ve.url),z.success&&z.success(et,f,Je)}});typeof Ne=="string"&&B.customAlert(Ne,"error")}}},S.prototype.insertVideo=function(O){var T=this.editor,f=T.config,B="validate.",u=function(F,N){return N===void 0&&(N=B),T.i18next.t(N+F)};if(!f.customInsertVideo)C.UA.isFirefox?T.cmd.do("insertHTML",'<p data-we-video-p="true"><video src="'+O+'" controls="controls" style="max-width:100%"></video></p><p>&#8203</p>'):T.cmd.do("insertHTML",'<video src="'+O+'" controls="controls" style="max-width:100%"></video>'+A.EMPTY_P);else{f.customInsertVideo(O);return}var U=document.createElement("video");U.onload=function(){U=null},U.onerror=function(){f.customAlert(u("\u63D2\u5165\u89C6\u9891\u9519\u8BEF"),"error","wangEditor: "+u("\u63D2\u5165\u89C6\u9891\u9519\u8BEF")+"\uFF0C"+u("\u89C6\u9891\u94FE\u63A5")+' "'+O+'"\uFF0C'+u("\u4E0B\u8F7D\u94FE\u63A5\u5931\u8D25")),U=null},U.onabort=function(){return U=null},U.src=O},S}();c.default=I},function(k,c,r){k.exports=r(343)},function(k,c,r){var d=r(344);k.exports=d},function(k,c,r){r(345);var d=r(9);k.exports=d.Date.now},function(k,c,r){var d=r(5);d({target:"Date",stat:!0},{now:function(){return new Date().getTime()}})},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(347)),h=w.__importDefault(r(349));function x(E){P.default(E),h.default(E)}c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.createShowHideFn=void 0;var w=r(2),P=w.__importDefault(r(3)),h=w.__importDefault(r(38)),x=w.__importDefault(r(348));function E(D){var y,A=function(O,T){return T===void 0&&(T=""),D.i18next.t(T+O)};function C(S){var O=[{$elem:P.default("<span class='w-e-icon-trash-o'></span>"),onClick:function(f,B){return B.remove(),!0}},{$elem:P.default("<span>100%</span>"),onClick:function(f,B){return B.attr("width","100%"),B.removeAttr("height"),!0}},{$elem:P.default("<span>50%</span>"),onClick:function(f,B){return B.attr("width","50%"),B.removeAttr("height"),!0}},{$elem:P.default("<span>30%</span>"),onClick:function(f,B){return B.attr("width","30%"),B.removeAttr("height"),!0}},{$elem:P.default("<span>"+A("\u91CD\u7F6E")+"</span>"),onClick:function(f,B){return B.removeAttr("width"),B.removeAttr("height"),!0}},{$elem:P.default("<span>"+A("menus.justify.\u9760\u5DE6")+"</span>"),onClick:function(f,B){return x.default(B,"left"),!0}},{$elem:P.default("<span>"+A("menus.justify.\u5C45\u4E2D")+"</span>"),onClick:function(f,B){return x.default(B,"center"),!0}},{$elem:P.default("<span>"+A("menus.justify.\u9760\u53F3")+"</span>"),onClick:function(f,B){return x.default(B,"right"),!0}}];y=new h.default(D,S,O),y.create()}function I(){y&&(y.remove(),y=null)}return{showVideoTooltip:C,hideVideoTooltip:I}}c.createShowHideFn=E;function m(D){var y=E(D),A=y.showVideoTooltip,C=y.hideVideoTooltip;D.txt.eventHooks.videoClickEvents.push(A),D.txt.eventHooks.clickEvents.push(C),D.txt.eventHooks.keyupEvents.push(C),D.txt.eventHooks.toolbarClickEvents.push(C),D.txt.eventHooks.menuClickEvents.push(C),D.txt.eventHooks.textScrollEvents.push(C),D.txt.eventHooks.changeEvents.push(C)}c.default=m},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(44));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3));function x(m,D){var y=["P"],A=E(m,y);A&&h.default(A).css("text-align",D)}c.default=x;function E(m,D){for(var y,A=m.elems[0];A!=null;){if((0,w.default)(D).call(D,A==null?void 0:A.nodeName))return A;if(((y=A==null?void 0:A.parentNode)===null||y===void 0?void 0:y.nodeName)==="BODY")return null;A=A.parentNode}return A}},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(6);function P(h){if(w.UA.isFirefox){var x=h.txt,E=h.selection,m=x.eventHooks.keydownEvents;m.push(function(D){var y=E.getSelectionContainerElem();if(y){var A=y.getNodeTop(h),C=A.length&&A.prev().length?A.prev():null;C&&C.attr("data-we-video-p")&&E.getCursorPos()===0&&D.keyCode===8&&C.remove()}})}}c.default=P},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(26));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=r(7),x=P.__importDefault(r(3)),E=P.__importDefault(r(32)),m=P.__importDefault(r(37)),D=P.__importDefault(r(351)),y=P.__importDefault(r(364)),A=function(C){P.__extends(I,C);function I(S){var O=this,T=x.default('<div class="w-e-menu" data-title="\u56FE\u7247"><i class="w-e-icon-image"></i></div>'),f=y.default(S);if(f.onlyUploadConf){var B;T=f.onlyUploadConf.$elem,(0,w.default)(B=f.onlyUploadConf.events).call(B,function(u){var U=u.type,L=u.fn||h.EMPTY_FN;T.on(U,function(F){F.stopPropagation(),L(F)})})}return O=C.call(this,T,S)||this,O.imgPanelConfig=f,D.default(S),O}return I.prototype.clickHandler=function(){this.imgPanelConfig.onlyUploadConf||this.createPanel()},I.prototype.createPanel=function(){var S=this.imgPanelConfig,O=new E.default(this,S);this.setPanel(O),O.create()},I.prototype.tryChangeActive=function(){},I}(m.default);c.default=A},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(352)),h=w.__importDefault(r(353)),x=w.__importDefault(r(354)),E=w.__importDefault(r(362)),m=w.__importDefault(r(363));function D(y){P.default(y),h.default(y),x.default(y),E.default(y),m.default(y)}c.default=D},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=r(130),h=w.__importDefault(r(96));function x(y,A){var C=y.config,I=C.pasteFilterStyle,S=C.pasteIgnoreImg,O=P.getPasteHtml(A,I,S);if(O)return!0;var T=P.getPasteText(A);return!!T}function E(y,A){for(var C,I=((C=A.clipboardData)===null||C===void 0?void 0:C.types)||[],S=0;S<I.length;S++){var O=I[S];if(O==="Files")return!0}return!1}function m(y,A){if(!(!E(A,y)&&x(A,y))){var C=P.getPasteImgs(y);if(C.length){var I=new h.default(A);I.uploadImg(C)}}}function D(y){y.txt.eventHooks.pasteEvents.unshift(function(A){m(A,y)})}c.default=D},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(96));function h(x){function E(m){var D=m.dataTransfer&&m.dataTransfer.files;if(!(!D||!D.length)){var y=new P.default(x);y.uploadImg(D)}}x.txt.eventHooks.dropEvents.push(E)}c.default=h},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(31)),P=d(r(355));(0,b.default)(c,"__esModule",{value:!0}),c.createShowHideFn=void 0;var h=r(2),x=h.__importDefault(r(3));r(360);var E=r(6);function m(I,S,O,T,f){I.attr("style","width:"+S+"px; height:"+O+"px; left:"+T+"px; top:"+f+"px;")}function D(I,S){var O=x.default('<div class="w-e-img-drag-mask">\n            <div class="w-e-img-drag-show-size"></div>\n            <div class="w-e-img-drag-rb"></div>\n         </div>');return O.hide(),S.append(O),O}function y(I,S,O){var T=I.getBoundingClientRect(),f=O.getBoundingClientRect(),B=f.width.toFixed(2),u=f.height.toFixed(2);(0,w.default)(S).call(S,".w-e-img-drag-show-size").text(B+"px * "+u+"px"),m(S,(0,P.default)(B),(0,P.default)(u),f.left-T.left,f.top-T.top),S.show()}function A(I){var S=I.$textContainerElem,O,T=D(I,S);function f(U,L){U.on("click",function(F){F.stopPropagation()}),U.on("mousedown",".w-e-img-drag-rb",function(F){if(F.preventDefault(),!O)return;var N=F.clientX,H=F.clientY,V=L.getBoundingClientRect(),G=O.getBoundingClientRect(),R=G.width,z=G.height,K=G.left-V.left,Y=G.top-V.top,q=R/z,Q=R,ee=z,oe=x.default(document);function pe(){oe.off("mousemove",ve),oe.off("mouseup",Pe)}function ve(He){He.stopPropagation(),He.preventDefault(),Q=R+(He.clientX-N),ee=z+(He.clientY-H),Q/ee!=q&&(ee=Q/q),Q=(0,P.default)(Q.toFixed(2)),ee=(0,P.default)(ee.toFixed(2)),(0,w.default)(U).call(U,".w-e-img-drag-show-size").text(Q.toFixed(2).replace(".00","")+"px * "+ee.toFixed(2).replace(".00","")+"px"),m(U,Q,ee,K,Y)}oe.on("mousemove",ve);function Pe(){O.attr("width",Q+""),O.attr("height",ee+"");var He=O.getBoundingClientRect();m(U,Q,ee,He.left-V.left,He.top-V.top),pe()}oe.on("mouseup",Pe),oe.on("mouseleave",pe)})}function B(U){if(E.UA.isIE())return!1;U&&(O=U,y(S,T,O))}function u(){(0,w.default)(S).call(S,".w-e-img-drag-mask").hide()}return f(T,S),x.default(document).on("click",u),I.beforeDestroy(function(){x.default(document).off("click",u)}),{showDrag:B,hideDrag:u}}c.createShowHideFn=A;function C(I){var S=A(I),O=S.showDrag,T=S.hideDrag;I.txt.eventHooks.imgClickEvents.push(O),I.txt.eventHooks.textScrollEvents.push(T),I.txt.eventHooks.keyupEvents.push(T),I.txt.eventHooks.toolbarClickEvents.push(T),I.txt.eventHooks.menuClickEvents.push(T),I.txt.eventHooks.changeEvents.push(T)}c.default=C},function(k,c,r){k.exports=r(356)},function(k,c,r){var d=r(357);k.exports=d},function(k,c,r){r(358);var d=r(9);k.exports=d.parseFloat},function(k,c,r){var d=r(5),b=r(359);d({global:!0,forced:parseFloat!=b},{parseFloat:b})},function(k,c,r){var d=r(8),b=r(90).trim,w=r(68),P=d.parseFloat,h=1/P(w+"-0")!==-1/0;k.exports=h?function(E){var m=b(String(E)),D=P(m);return D===0&&m.charAt(0)=="-"?-0:D}:P},function(k,c,r){var d=r(20),b=r(361);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[k.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var P=d(b,w);k.exports=b.locals||{}},function(k,c,r){var d=r(21);c=d(!1),c.push([k.i,".w-e-text-container {\n  overflow: hidden;\n}\n.w-e-img-drag-mask {\n  position: absolute;\n  z-index: 1;\n  border: 1px dashed #ccc;\n  box-sizing: border-box;\n}\n.w-e-img-drag-mask .w-e-img-drag-rb {\n  position: absolute;\n  right: -5px;\n  bottom: -5px;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: #ccc;\n  cursor: se-resize;\n}\n.w-e-img-drag-mask .w-e-img-drag-show-size {\n  min-width: 110px;\n  height: 22px;\n  line-height: 22px;\n  font-size: 14px;\n  color: #999;\n  position: absolute;\n  left: 0;\n  top: 0;\n  background-color: #999;\n  color: #fff;\n  border-radius: 2px;\n  padding: 0 5px;\n}\n",""]),k.exports=c},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.createShowHideFn=void 0;var w=r(2),P=w.__importDefault(r(3)),h=w.__importDefault(r(38));function x(m){var D,y=function(S,O){return O===void 0&&(O=""),m.i18next.t(O+S)};function A(I){var S=[{$elem:P.default("<span class='w-e-icon-trash-o'></span>"),onClick:function(T,f){return T.selection.createRangeByElem(f),T.selection.restoreSelection(),T.cmd.do("delete"),!0}},{$elem:P.default("<span>30%</span>"),onClick:function(T,f){return f.attr("width","30%"),f.removeAttr("height"),!0}},{$elem:P.default("<span>50%</span>"),onClick:function(T,f){return f.attr("width","50%"),f.removeAttr("height"),!0}},{$elem:P.default("<span>100%</span>"),onClick:function(T,f){return f.attr("width","100%"),f.removeAttr("height"),!0}}];S.push({$elem:P.default("<span>"+y("\u91CD\u7F6E")+"</span>"),onClick:function(T,f){return f.removeAttr("width"),f.removeAttr("height"),!0}}),I.attr("data-href")&&S.push({$elem:P.default("<span>"+y("\u67E5\u770B\u94FE\u63A5")+"</span>"),onClick:function(T,f){var B=f.attr("data-href");return B&&(B=decodeURIComponent(B),window.open(B,"_target")),!0}}),D=new h.default(m,I,S),D.create()}function C(){D&&(D.remove(),D=null)}return{showImgTooltip:A,hideImgTooltip:C}}c.createShowHideFn=x;function E(m){var D=x(m),y=D.showImgTooltip,A=D.hideImgTooltip;m.txt.eventHooks.imgClickEvents.push(y),m.txt.eventHooks.clickEvents.push(A),m.txt.eventHooks.keyupEvents.push(A),m.txt.eventHooks.toolbarClickEvents.push(A),m.txt.eventHooks.menuClickEvents.push(A),m.txt.eventHooks.textScrollEvents.push(A),m.txt.eventHooks.imgDragBarMouseDownEvents.push(A),m.txt.eventHooks.changeEvents.push(A)}c.default=E},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});function w(P){var h=P.txt,x=P.selection,E=h.eventHooks.keydownEvents;E.push(function(m){var D=x.getSelectionContainerElem(),y=x.getRange();if(!(!y||!D||m.keyCode!==8||!x.isSelectionEmpty())){var A=y.startContainer,C=y.startOffset,I=null;if(C===0)for(;A!==D.elems[0]&&D.elems[0].contains(A)&&A.parentNode&&!I;){if(A.previousSibling){I=A.previousSibling;break}A=A.parentNode}else A.nodeType!==3&&(I=A.childNodes[C-1]);if(I){for(var S=I;S.childNodes.length;)S=S.childNodes[S.childNodes.length-1];S instanceof HTMLElement&&S.tagName==="IMG"&&(S.remove(),m.preventDefault())}}})}c.default=w},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(26)),P=d(r(17));(0,b.default)(c,"__esModule",{value:!0});var h=r(2),x=h.__importDefault(r(3)),E=r(6),m=h.__importDefault(r(96));function D(y){var A,C=y.config,I=new m.default(y),S=E.getRandom("up-trigger-id"),O=E.getRandom("up-file-id"),T=E.getRandom("input-link-url"),f=E.getRandom("input-link-url-alt"),B=E.getRandom("input-link-url-href"),u=E.getRandom("btn-link"),U="menus.panelMenus.image.",L=function(q,Q){return Q===void 0&&(Q=U),y.i18next.t(Q+q)};function F(Y,q,Q){var ee=C.linkImgCheck(Y);return ee===!0?!0:(typeof ee=="string"&&C.customAlert(ee,"error"),!1)}var N=C.uploadImgMaxLength===1?"":'multiple="multiple"',H=(0,w.default)(A=C.uploadImgAccept).call(A,function(Y){return"image/"+Y}).join(","),V=function(q,Q,ee){return'<div class="'+q+'" data-title="'+ee+'">\n            <div id="'+S+'" class="w-e-up-btn">\n                <i class="'+Q+'"></i>\n            </div>\n            <div style="display:none;">\n                <input id="'+O+'" type="file" '+N+' accept="'+H+'"/>\n            </div>\n        </div>'},G=[{selector:"#"+S,type:"click",fn:function(){var q=C.uploadImgFromMedia;if(q&&typeof q=="function")return q(),!0;var Q=x.default("#"+O),ee=Q.elems[0];if(ee)ee.click();else return!0}},{selector:"#"+O,type:"change",fn:function(){var q=x.default("#"+O),Q=q.elems[0];if(!Q)return!0;var ee=Q.files;return ee!=null&&ee.length&&I.uploadImg(ee),Q&&(Q.value=""),!0}}],R=['<input\n            id="'+T+'"\n            type="text"\n            class="block"\n            placeholder="'+L("\u56FE\u7247\u5730\u5740")+'"/>'];C.showLinkImgAlt&&R.push('\n        <input\n            id="'+f+'"\n            type="text"\n            class="block"\n            placeholder="'+L("\u56FE\u7247\u6587\u5B57\u8BF4\u660E")+'"/>'),C.showLinkImgHref&&R.push('\n        <input\n            id="'+B+'"\n            type="text"\n            class="block"\n            placeholder="'+L("\u8DF3\u8F6C\u94FE\u63A5")+'"/>');var z=[{title:L("\u4E0A\u4F20\u56FE\u7247"),tpl:V("w-e-up-img-container","w-e-icon-upload2",""),events:G},{title:L("\u7F51\u7EDC\u56FE\u7247"),tpl:"<div>\n                    "+R.join("")+'\n                    <div class="w-e-button-container">\n                        <button type="button" id="'+u+'" class="right">'+L("\u63D2\u5165","")+"</button>\n                    </div>\n                </div>",events:[{selector:"#"+u,type:"click",fn:function(){var q,Q=x.default("#"+T),ee=(0,P.default)(q=Q.val()).call(q);if(ee){var oe;if(C.showLinkImgAlt){var pe;oe=(0,P.default)(pe=x.default("#"+f).val()).call(pe)}var ve;if(C.showLinkImgHref){var Pe;ve=(0,P.default)(Pe=x.default("#"+B).val()).call(Pe)}if(F(ee,oe,ve))return I.insertImg(ee,oe,ve),!0}},bindEnter:!0}]}],K={width:300,height:0,tabs:[],onlyUploadConf:{$elem:x.default(V("w-e-menu","w-e-icon-image","\u56FE\u7247")),events:G}};return window.FileReader&&(C.uploadImgShowBase64||C.uploadImgServer||C.customUploadImg||C.uploadImgFromMedia)&&K.tabs.push(z[0]),C.showLinkImg&&(K.tabs.push(z[1]),K.onlyUploadConf=void 0),K}c.default=D},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3)),x=P.__importDefault(r(24)),E=P.__importDefault(r(366)),m=function(D){P.__extends(y,D);function y(A){var C=this,I=h.default('<div class="w-e-menu" data-title="\u7F29\u8FDB">\n                <i class="w-e-icon-indent-increase"></i>\n            </div>'),S={width:130,title:"\u8BBE\u7F6E\u7F29\u8FDB",type:"list",list:[{$elem:h.default('<p>\n                            <i class="w-e-icon-indent-increase w-e-drop-list-item"></i>\n                            '+A.i18next.t("menus.dropListMenu.indent.\u589E\u52A0\u7F29\u8FDB")+"\n                        <p>"),value:"increase"},{$elem:h.default('<p>\n                            <i class="w-e-icon-indent-decrease w-e-drop-list-item"></i>\n                            '+A.i18next.t("menus.dropListMenu.indent.\u51CF\u5C11\u7F29\u8FDB")+"\n                        <p>"),value:"decrease"}],clickHandler:function(T){C.command(T)}};return C=D.call(this,I,A,S)||this,C}return y.prototype.command=function(A){var C=this.editor,I=C.selection.getSelectionContainerElem();if(I&&C.$textElem.equal(I)){var S=C.selection.getSelectionRangeTopNodes();S.length>0&&(0,w.default)(S).call(S,function(O){E.default(h.default(O),A,C)})}else I&&I.length>0&&(0,w.default)(I).call(I,function(O){E.default(h.default(O),A,C)});C.selection.restoreSelection(),this.tryChangeActive()},y.prototype.tryChangeActive=function(){var A=this.editor,C=A.selection.getSelectionStartElem(),I=h.default(C).getNodeTop(A);I.length<=0||(I.elems[0].style.paddingLeft!=""?this.active():this.unActive())},y}(x.default);c.default=m},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(45)),P=d(r(17));(0,b.default)(c,"__esModule",{value:!0});var h=r(2),x=h.__importDefault(r(367)),E=h.__importDefault(r(368)),m=/^(\d+)(\w+)$/,D=/^(\d+)%$/;function y(C){var I=C.config.indentation;if(typeof I=="string"){if(m.test(I)){var S,O=(0,w.default)(S=(0,P.default)(I).call(I).match(m)).call(S,1,3),T=O[0],f=O[1];return{value:Number(T),unit:f}}else if(D.test(I))return{value:Number((0,P.default)(I).call(I).match(D)[1]),unit:"%"}}else if(I.value!==void 0&&I.unit)return I;return{value:2,unit:"em"}}function A(C,I,S){var O=C.getNodeTop(S),T=/^(P|H[0-9]*)$/;T.test(O.getNodeName())&&(I==="increase"?x.default(O,y(S)):I==="decrease"&&E.default(O,y(S)))}c.default=A},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(45));(0,b.default)(c,"__esModule",{value:!0});function P(h,x){var E=h.elems[0];if(E.style.paddingLeft==="")h.css("padding-left",x.value+x.unit);else{var m=E.style.paddingLeft,D=(0,w.default)(m).call(m,0,m.length-x.unit.length),y=Number(D)+x.value;h.css("padding-left",""+y+x.unit)}}c.default=P},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(45));(0,b.default)(c,"__esModule",{value:!0});function P(h,x){var E=h.elems[0];if(E.style.paddingLeft!==""){var m=E.style.paddingLeft,D=(0,w.default)(m).call(m,0,m.length-x.unit.length),y=Number(D)-x.value;y>0?h.css("padding-left",""+y+x.unit):h.css("padding-left","")}}c.default=P},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(3)),h=w.__importDefault(r(37)),x=w.__importDefault(r(32)),E=w.__importDefault(r(370)),m=function(D){w.__extends(y,D);function y(A){var C=this,I=P.default('<div class="w-e-menu" data-title="\u8868\u60C5">\n                <i class="w-e-icon-happy"></i>\n            </div>');return C=D.call(this,I,A)||this,C}return y.prototype.createPanel=function(){var A=E.default(this.editor),C=new x.default(this,A);C.create()},y.prototype.clickHandler=function(){this.createPanel()},y.prototype.tryChangeActive=function(){},y}(h.default);c.default=m},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(26)),P=d(r(70)),h=d(r(17));(0,b.default)(c,"__esModule",{value:!0});var x=r(2),E=x.__importDefault(r(3));function m(D){var y=D.config.emotions;function A(S){var O=[];if(S.type=="image"){var T;O=(0,w.default)(T=S.content).call(T,function(B){return typeof B=="string"?"":'<span  title="'+B.alt+'">\n                    <img class="eleImg" data-emoji="'+B.alt+'" style src="'+B.src+'" alt="['+B.alt+']">\n                </span>'}),O=(0,P.default)(O).call(O,function(B){return B!==""})}else{var f;O=(0,w.default)(f=S.content).call(f,function(B){return'<span class="eleImg" title="'+B+'">'+B+"</span>"})}return O.join("").replace(/&nbsp;/g,"")}var C=(0,w.default)(y).call(y,function(S){return{title:D.i18next.t("menus.panelMenus.emoticon."+S.title),tpl:"<div>"+A(S)+"</div>",events:[{selector:".eleImg",type:"click",fn:function(T){var f=E.default(T.target),B=f.getNodeName(),u;if(B==="IMG"){var U;u=(0,h.default)(U=f.parent().html()).call(U)}else u="<span>"+f.html()+"</span>";return D.cmd.do("insertHTML",u),!0}}]}}),I={width:300,height:230,tabs:C};return I}c.default=m},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.createListHandle=c.ClassType=void 0;var w=r(2),P=w.__importDefault(r(3)),h=w.__importDefault(r(372)),x=w.__importDefault(r(374)),E=w.__importDefault(r(375)),m=w.__importDefault(r(376)),D=w.__importDefault(r(377)),y;(function(S){S.Wrap="WrapListHandle",S.Join="JoinListHandle",S.StartJoin="StartJoinListHandle",S.EndJoin="EndJoinListHandle",S.Other="OtherListHandle"})(y=c.ClassType||(c.ClassType={}));var A={WrapListHandle:h.default,JoinListHandle:x.default,StartJoinListHandle:E.default,EndJoinListHandle:m.default,OtherListHandle:D.default};function C(S,O,T){if(S===y.Other&&T===void 0)throw new Error("other \u7C7B\u9700\u8981\u4F20\u5165 range");return S!==y.Other?new A[S](O):new A[S](O,T)}c.createListHandle=C;var I=function(){function S(O){this.handle=O,this.handle.exec()}return S.prototype.getSelectionRangeElem=function(){return P.default(this.handle.selectionRangeElem.get())},S}();c.default=I},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3)),x=r(58),E=r(47),m=function(D){P.__extends(y,D);function y(A){return D.call(this,A)||this}return y.prototype.exec=function(){var A=this.options,C=A.listType,I=A.listTarget,S=A.$selectionElem,O=A.$startElem,T=A.$endElem,f,B=[],u=S==null?void 0:S.getNodeName(),U=O.prior,L=T.prior;if(!O.prior&&!T.prior||!(U!=null&&U.prev().length)&&!(L!=null&&L.next().length)){var F;(0,w.default)(F=S==null?void 0:S.children()).call(F,function(K){B.push(h.default(K))}),u===C?f=E.createElementFragment(B,E.createDocumentFragment(),"p"):(f=E.createElement(I),(0,w.default)(B).call(B,function(K){f.appendChild(K.elems[0])})),this.selectionRangeElem.set(f),E.insertBefore(S,f,S.elems[0]),S.remove()}else{for(var N=U;N.length;)B.push(N),L!=null&&L.equal(N)?N=h.default(void 0):N=N.next();var H=U.prev(),V=L.next();if(u===C?f=E.createElementFragment(B,E.createDocumentFragment(),"p"):(f=E.createElement(I),(0,w.default)(B).call(B,function(K){f.append(K.elems[0])})),H.length&&V.length){for(var G=[];V.length;)G.push(V),V=V.next();var R=E.createElement(u);(0,w.default)(G).call(G,function(K){R.append(K.elems[0])}),h.default(R).insertAfter(S),this.selectionRangeElem.set(f);var z=S.next();z.length?E.insertBefore(S,f,z.elems[0]):S.parent().elems[0].append(f)}else if(!H.length)this.selectionRangeElem.set(f),E.insertBefore(S,f,S.elems[0]);else{this.selectionRangeElem.set(f);var z=S.next();z.length?E.insertBefore(S,f,z.elems[0]):S.parent().elems[0].append(f)}}},y}(x.ListHandle);c.default=m},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=function(){function h(){this._element=null}return h.prototype.set=function(x){if(x instanceof DocumentFragment){var E,m=[];(0,w.default)(E=x.childNodes).call(E,function(D){m.push(D)}),x=m}this._element=x},h.prototype.get=function(){return this._element},h.prototype.clear=function(){this._element=null},h}();c.default=P},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3)),x=r(58),E=r(47),m=function(D){P.__extends(y,D);function y(A){return D.call(this,A)||this}return y.prototype.exec=function(){var A,C,I,S,O,T,f,B=this.options,u=B.editor,U=B.listType,L=B.listTarget,F=B.$startElem,N=B.$endElem,H,V=u.selection.getSelectionRangeTopNodes(),G=F==null?void 0:F.getNodeName(),R=N==null?void 0:N.getNodeName();if(G===R)if(V.length>2)if(V.shift(),V.pop(),H=E.createElementFragment(E.filterSelectionNodes(V),E.createDocumentFragment()),G===U)(A=N.children())===null||A===void 0||(0,w.default)(A).call(A,function(He){H.append(He)}),N.remove(),this.selectionRangeElem.set(H),F.elems[0].append(H);else{for(var z=document.createDocumentFragment(),K=document.createDocumentFragment(),Y=E.getStartPoint(F);Y.length;){var q=Y.elems[0];Y=Y.next(),z.append(q)}for(var Q=E.getEndPoint(N),ee=[];Q.length;)ee.unshift(Q.elems[0]),Q=Q.prev();(0,w.default)(ee).call(ee,function(He){K.append(He)});var oe=E.createElement(L);oe.append(z),oe.append(H),oe.append(K),H=oe,this.selectionRangeElem.set(H),h.default(oe).insertAfter(F),!(!((C=F.children())===null||C===void 0)&&C.length)&&F.remove(),!(!((I=N.children())===null||I===void 0)&&I.length)&&N.remove()}else{V.length=0;for(var Y=E.getStartPoint(F);Y.length;)V.push(Y),Y=Y.next();for(var Q=E.getEndPoint(N),ee=[];Q.length;)ee.unshift(Q),Q=Q.prev();V.push.apply(V,ee),G===U?(H=E.createElementFragment(V,E.createDocumentFragment(),"p"),this.selectionRangeElem.set(H),E.insertBefore(F,H,N.elems[0])):(H=E.createElement(L),(0,w.default)(V).call(V,function(et){H.append(et.elems[0])}),this.selectionRangeElem.set(H),h.default(H).insertAfter(F)),!(!((S=F.children())===null||S===void 0)&&S.length)&&N.remove(),!(!((O=N.children())===null||O===void 0)&&O.length)&&N.remove()}else{for(var pe=[],Q=E.getEndPoint(N);Q.length;)pe.unshift(Q),Q=Q.prev();for(var ve=[],Y=E.getStartPoint(F);Y.length;)ve.push(Y),Y=Y.next();if(H=E.createDocumentFragment(),V.shift(),V.pop(),(0,w.default)(ve).call(ve,function(Ze){return H.append(Ze.elems[0])}),H=E.createElementFragment(E.filterSelectionNodes(V),H),(0,w.default)(pe).call(pe,function(Ze){return H.append(Ze.elems[0])}),this.selectionRangeElem.set(H),G===U)F.elems[0].append(H),!(!((T=N.children())===null||T===void 0)&&T.length)&&N.remove();else if(!((f=N.children())===null||f===void 0)&&f.length){var Pe=N.children();E.insertBefore(Pe,H,Pe.elems[0])}else N.elems[0].append(H)}},y}(x.ListHandle);c.default=m},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3)),x=r(58),E=r(47),m=function(D){P.__extends(y,D);function y(A){return D.call(this,A)||this}return y.prototype.exec=function(){var A,C=this.options,I=C.editor,S=C.listType,O=C.listTarget,T=C.$startElem,f,B=I.selection.getSelectionRangeTopNodes(),u=T==null?void 0:T.getNodeName();B.shift();for(var U=[],L=E.getStartPoint(T);L.length;)U.push(L),L=L.next();u===S?(f=E.createDocumentFragment(),(0,w.default)(U).call(U,function(F){return f.append(F.elems[0])}),f=E.createElementFragment(E.filterSelectionNodes(B),f),this.selectionRangeElem.set(f),T.elems[0].append(f)):(f=E.createElement(O),(0,w.default)(U).call(U,function(F){return f.append(F.elems[0])}),f=E.createElementFragment(E.filterSelectionNodes(B),f),this.selectionRangeElem.set(f),h.default(f).insertAfter(T),!(!((A=T.children())===null||A===void 0)&&A.length)&&T.remove())},y}(x.ListHandle);c.default=m},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3)),x=r(58),E=r(47),m=function(D){P.__extends(y,D);function y(A){return D.call(this,A)||this}return y.prototype.exec=function(){var A,C,I=this.options,S=I.editor,O=I.listType,T=I.listTarget,f=I.$endElem,B,u=S.selection.getSelectionRangeTopNodes(),U=f==null?void 0:f.getNodeName();u.pop();for(var L=[],F=E.getEndPoint(f);F.length;)L.unshift(F),F=F.prev();if(U===O)if(B=E.createElementFragment(E.filterSelectionNodes(u),E.createDocumentFragment()),(0,w.default)(L).call(L,function(V){return B.append(V.elems[0])}),this.selectionRangeElem.set(B),!((A=f.children())===null||A===void 0)&&A.length){var N=f.children();E.insertBefore(N,B,N.elems[0])}else f.elems[0].append(B);else{var H=E.filterSelectionNodes(u);H.push.apply(H,L),B=E.createElementFragment(H,E.createElement(T)),this.selectionRangeElem.set(B),h.default(B).insertBefore(f),!(!((C=f.children())===null||C===void 0)&&C.length)&&f.remove()}},y}(x.ListHandle);c.default=m},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=r(58),h=r(47),x=function(E){w.__extends(m,E);function m(D,y){var A=E.call(this,D)||this;return A.range=y,A}return m.prototype.exec=function(){var D=this.options,y=D.editor,A=D.listTarget,C=y.selection.getSelectionRangeTopNodes(),I=h.createElementFragment(h.filterSelectionNodes(C),h.createElement(A));this.selectionRangeElem.set(I),this.range.insertNode(I)},m}(P.ListHandle);c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4)),P=d(r(27));(0,b.default)(c,"__esModule",{value:!0});var h=r(2),x=h.__importDefault(r(24)),E=h.__importDefault(r(3)),m=h.__importDefault(r(379)),D=r(6),y=function(A){h.__extends(C,A);function C(I){var S=this,O=E.default('<div class="w-e-menu" data-title="\u884C\u9AD8">\n                    <i class="w-e-icon-row-height"></i>\n                </div>'),T=new m.default(I,I.config.lineHeights),f={width:100,title:"\u8BBE\u7F6E\u884C\u9AD8",type:"list",list:T.getItemList(),clickHandler:function(u){I.selection.saveRange(),S.command(u)}};return S=A.call(this,O,I,f)||this,S}return C.prototype.command=function(I){var S=this,O,T=window.getSelection?window.getSelection():document.getSelection(),f=["P"],B=this.editor,u="";B.selection.restoreSelection();var U=E.default(B.selection.getSelectionContainerElem());if(U!=null&&U.length){var L=E.default(B.selection.getSelectionContainerElem()),F=E.default(B.selection.getSelectionStartElem()).elems[0],N="",H=[],V="";if(U&&B.$textElem.equal(U)){var G=D.UA.isIE(),R=[],z=[],K=[],Y=E.default(B.selection.getSelectionStartElem()),q=E.default(B.selection.getSelectionEndElem()),Q=(O=B.selection.getRange())===null||O===void 0?void 0:O.commonAncestorContainer.childNodes;z.push(this.getDom(Y.elems[0])),Q==null||(0,w.default)(Q).call(Q,function(Pe,He){Pe===S.getDom(Y.elems[0])&&R.push(He),Pe===S.getDom(q.elems[0])&&R.push(He)});var ee=0,oe=void 0;for(K.push(this.getDom(Y.elems[0]));z[ee]!==this.getDom(q.elems[0]);)oe=E.default(z[ee].nextElementSibling).elems[0],(0,P.default)(f).call(f,E.default(oe).getNodeName())!==-1&&K.push(oe),z.push(oe),ee++;if(E.default(z[0]).getNodeName()!=="P"){ee=0;for(var pe=0;pe<z.length;pe++)if(E.default(z[pe]).getNodeName()==="P"){ee=pe;break}if(ee===0)return;for(var ve=0;ve!==ee;)z.shift(),ve++}this.setRange(z[0],z[z.length-1]),(0,w.default)(z).call(z,function(Pe){N=Pe.getAttribute("style"),H=N?N.split(";"):[],V=S.styleProcessing(H),E.default(Pe).getNodeName()==="P"&&I&&(V+=I?"line-height:"+I+";":""),G?E.default(Pe).css("line-height",I):u+="<"+E.default(Pe).getNodeName().toLowerCase()+' style="'+V+'">'+Pe.innerHTML+"</"+E.default(Pe).getNodeName().toLowerCase()+">"}),u&&this.action(u,B),F=L.elems[0],this.setRange(F.children[R[0]],F.children[R[1]]);return}if(F=this.getDom(F),(0,P.default)(f).call(f,E.default(F).getNodeName())!==-1){if(N=F.getAttribute("style"),H=N?N.split(";"):[],T==null||T.selectAllChildren(F),B.selection.saveRange(),!I){N&&(V=this.styleProcessing(H),V===""?u="<"+E.default(F).getNodeName().toLowerCase()+">"+F.innerHTML+"</"+E.default(F).getNodeName().toLowerCase()+">":u="<"+E.default(F).getNodeName().toLowerCase()+' style="'+V+'">'+F.innerHTML+"</"+E.default(F).getNodeName().toLowerCase()+">",this.action(u,B));return}N?V=this.styleProcessing(H)+("line-height:"+I+";"):V="line-height:"+I+";",u="<"+E.default(F).getNodeName().toLowerCase()+' style="'+V+'">'+F.innerHTML+"</"+E.default(F).getNodeName().toLowerCase()+">",E.default(F).getNodeName()==="BLOCKQUOTE"||D.UA.isIE()?E.default(F).css("line-height",I):this.action(u,B)}}},C.prototype.getDom=function(I){var S=E.default(I).elems[0];if(!S.parentNode)return S;function O(T,f){var B=E.default(T.parentNode);return f.$textElem.equal(B)?T:O(B.elems[0],f)}return S=O(S,this.editor),S},C.prototype.action=function(I,S){S.cmd.do("insertHTML",I)},C.prototype.styleProcessing=function(I){var S="";return(0,w.default)(I).call(I,function(O){O!==""&&(0,P.default)(O).call(O,"line-height")===-1&&(S=S+O+";")}),S},C.prototype.setRange=function(I,S){var O=this.editor,T=window.getSelection?window.getSelection():document.getSelection();T==null||T.removeAllRanges();var f=document.createRange(),B=I,u=S;f.setStart(B,0),f.setEnd(u,1),T==null||T.addRange(f),O.selection.saveRange(),T==null||T.removeAllRanges(),O.selection.restoreSelection()},C.prototype.tryChangeActive=function(){var I=this.editor,S=I.selection.getSelectionContainerElem();if(!(S&&I.$textElem.equal(S))){var O=E.default(I.selection.getSelectionStartElem());if(O.length!==0){O=this.getDom(O.elems[0]);var T=O.getAttribute("style")?O.getAttribute("style"):"";T&&(0,P.default)(T).call(T,"line-height")!==-1?this.active():this.unActive()}}},C}(x.default);c.default=y},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3)),x=function(){function E(m,D){var y=this;this.itemList=[{$elem:h.default("<span>"+m.i18next.t("\u9ED8\u8BA4")+"</span>"),value:""}],(0,w.default)(D).call(D,function(A){y.itemList.push({$elem:h.default("<span>"+A+"</span>"),value:A})})}return E.prototype.getItemList=function(){return this.itemList},E}();c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(3)),h=w.__importDefault(r(23)),x=function(E){w.__extends(m,E);function m(D){var y=this,A=P.default('<div class="w-e-menu" data-title="\u64A4\u9500">\n                <i class="w-e-icon-undo"></i>\n            </div>');return y=E.call(this,A,D)||this,y}return m.prototype.clickHandler=function(){var D=this.editor;D.history.revoke();var y=D.$textElem.children();if(y!=null&&y.length){var A=y.last();D.selection.createRangeByElem(A,!1,!0),D.selection.restoreSelection()}},m.prototype.tryChangeActive=function(){this.editor.isCompatibleMode||(this.editor.history.size[0]?this.active():this.unActive())},m}(h.default);c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(3)),h=w.__importDefault(r(23)),x=function(E){w.__extends(m,E);function m(D){var y=this,A=P.default('<div class="w-e-menu" data-title="\u6062\u590D">\n                <i class="w-e-icon-redo"></i>\n            </div>');return y=E.call(this,A,D)||this,y}return m.prototype.clickHandler=function(){var D=this.editor;D.history.restore();var y=D.$textElem.children();if(y!=null&&y.length){var A=y.last();D.selection.createRangeByElem(A,!1,!0),D.selection.restoreSelection()}},m.prototype.tryChangeActive=function(){this.editor.isCompatibleMode||(this.editor.history.size[1]?this.active():this.unActive())},m}(h.default);c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(37)),h=w.__importDefault(r(3)),x=w.__importDefault(r(383)),E=w.__importDefault(r(32)),m=w.__importDefault(r(392)),D=function(y){w.__extends(A,y);function A(C){var I=this,S=h.default('<div class="w-e-menu" data-title="\u8868\u683C"><i class="w-e-icon-table2"></i></div>');return I=y.call(this,S,C)||this,m.default(C),I}return A.prototype.clickHandler=function(){this.createPanel()},A.prototype.createPanel=function(){var C=x.default(this.editor),I=new E.default(this,C);I.create()},A.prototype.tryChangeActive=function(){},A}(P.default);c.default=D},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(384));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=r(6),x=P.__importDefault(r(3));r(389);var E=P.__importDefault(r(391));function m(y){return y>0&&(0,w.default)(y)}function D(y){var A=new E.default(y),C=h.getRandom("w-col-id"),I=h.getRandom("w-row-id"),S=h.getRandom("btn-link"),O="menus.panelMenus.table.",T=function(U){return y.i18next.t(U)},f=[{title:T(O+"\u63D2\u5165\u8868\u683C"),tpl:'<div>\n                    <div class="w-e-table">\n                        <span>'+T("\u521B\u5EFA")+'</span>\n                        <input id="'+I+'"  type="text" class="w-e-table-input" value="5"/></td>\n                        <span>'+T(O+"\u884C")+'</span>\n                        <input id="'+C+'" type="text" class="w-e-table-input" value="5"/></td>\n                        <span>'+(T(O+"\u5217")+T(O+"\u7684")+T(O+"\u8868\u683C"))+'</span>\n                    </div>\n                    <div class="w-e-button-container">\n                        <button type="button" id="'+S+'" class="right">'+T("\u63D2\u5165")+"</button>\n                    </div>\n                </div>",events:[{selector:"#"+S,type:"click",fn:function(){var U=Number(x.default("#"+C).val()),L=Number(x.default("#"+I).val());return m(L)&&m(U)?(A.createAction(L,U),!0):(y.config.customAlert("\u8868\u683C\u884C\u5217\u8BF7\u8F93\u5165\u6B63\u6574\u6570","warning"),!1)},bindEnter:!0}]}],B={width:330,height:0,tabs:[]};return B.tabs.push(f[0]),B}c.default=D},function(k,c,r){k.exports=r(385)},function(k,c,r){var d=r(386);k.exports=d},function(k,c,r){r(387);var d=r(9);k.exports=d.Number.isInteger},function(k,c,r){var d=r(5),b=r(388);d({target:"Number",stat:!0},{isInteger:b})},function(k,c,r){var d=r(13),b=Math.floor;k.exports=function(P){return!d(P)&&isFinite(P)&&b(P)===P}},function(k,c,r){var d=r(20),b=r(390);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[k.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var P=d(b,w);k.exports=b.locals||{}},function(k,c,r){var d=r(21);c=d(!1),c.push([k.i,".w-e-table {\n  display: flex;\n}\n.w-e-table .w-e-table-input {\n  width: 40px;\n  text-align: center!important;\n  margin: 0 5px;\n}\n",""]),k.exports=c},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=r(7),h=w.__importDefault(r(3)),x=function(){function E(m){this.editor=m}return E.prototype.createAction=function(m,D){var y=this.editor,A=h.default(y.selection.getSelectionContainerElem()),C=h.default(A.elems[0]).parentUntilEditor("UL",y),I=h.default(A.elems[0]).parentUntilEditor("OL",y);if(!(C||I)){var S=this.createTableHtml(m,D);y.cmd.do("insertHTML",S)}},E.prototype.createTableHtml=function(m,D){for(var y="",A="",C=0;C<m;C++){A="";for(var I=0;I<D;I++)C===0?A=A+"<th></th>":A=A+"<td></td>";y=y+"<tr>"+A+"</tr>"}var S='<table border="0" width="100%" cellpadding="0" cellspacing="0"><tbody>'+y+("</tbody></table>"+P.EMPTY_P);return S},E}();c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(393)),h=r(400);function x(E){P.default(E),h.bindEventKeyboardEvent(E),h.bindClickEvent(E)}c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(3)),h=w.__importDefault(r(38)),x=w.__importDefault(r(394)),E=w.__importDefault(r(399)),m=r(7);function D(I){var S;function O(f){var B=new E.default(I),u="menus.panelMenus.table.",U=function(N,H){return H===void 0&&(H=u),I.i18next.t(H+N)},L=[{$elem:P.default("<span>"+U("\u5220\u9664\u8868\u683C")+"</span>"),onClick:function(N,H){return N.selection.createRangeByElem(H),N.selection.restoreSelection(),N.cmd.do("insertHTML",m.EMPTY_P),!0}},{$elem:P.default("<span>"+U("\u6DFB\u52A0\u884C")+"</span>"),onClick:function(N,H){var V=y(N);if(V)return!0;var G=P.default(N.selection.getSelectionStartElem()),R=B.getRowNode(G.elems[0]);if(!R)return!0;var z=Number(B.getCurrentRowIndex(H.elems[0],R)),K=B.getTableHtml(H.elems[0]),Y=B.getTableHtml(x.default.ProcessingRow(P.default(K),z).elems[0]);return Y=C(H,Y),N.selection.createRangeByElem(H),N.selection.restoreSelection(),N.cmd.do("insertHTML",Y),!0}},{$elem:P.default("<span>"+U("\u5220\u9664\u884C")+"</span>"),onClick:function(N,H){var V=y(N);if(V)return!0;var G=P.default(N.selection.getSelectionStartElem()),R=B.getRowNode(G.elems[0]);if(!R)return!0;var z=Number(B.getCurrentRowIndex(H.elems[0],R)),K=B.getTableHtml(H.elems[0]),Y=x.default.DeleteRow(P.default(K),z).elems[0].children[0].children.length,q="";return N.selection.createRangeByElem(H),N.selection.restoreSelection(),Y===0?q=m.EMPTY_P:q=B.getTableHtml(x.default.DeleteRow(P.default(K),z).elems[0]),q=C(H,q),N.cmd.do("insertHTML",q),!0}},{$elem:P.default("<span>"+U("\u6DFB\u52A0\u5217")+"</span>"),onClick:function(N,H){var V=y(N);if(V)return!0;var G=P.default(N.selection.getSelectionStartElem()),R=B.getCurrentColIndex(G.elems[0]),z=B.getTableHtml(H.elems[0]),K=B.getTableHtml(x.default.ProcessingCol(P.default(z),R).elems[0]);return K=C(H,K),N.selection.createRangeByElem(H),N.selection.restoreSelection(),N.cmd.do("insertHTML",K),!0}},{$elem:P.default("<span>"+U("\u5220\u9664\u5217")+"</span>"),onClick:function(N,H){var V=y(N);if(V)return!0;var G=P.default(N.selection.getSelectionStartElem()),R=B.getCurrentColIndex(G.elems[0]),z=B.getTableHtml(H.elems[0]),K=x.default.DeleteCol(P.default(z),R),Y=K.elems[0].children[0].children[0].children.length,q="";return N.selection.createRangeByElem(H),N.selection.restoreSelection(),Y===0?q=m.EMPTY_P:q=B.getTableHtml(K.elems[0]),q=C(H,q),N.cmd.do("insertHTML",q),!0}},{$elem:P.default("<span>"+U("\u8BBE\u7F6E\u8868\u5934")+"</span>"),onClick:function(N,H){var V=y(N);if(V)return!0;var G=P.default(N.selection.getSelectionStartElem()),R=B.getRowNode(G.elems[0]);if(!R)return!0;var z=Number(B.getCurrentRowIndex(H.elems[0],R));z!==0&&(z=0);var K=B.getTableHtml(H.elems[0]),Y=B.getTableHtml(x.default.setTheHeader(P.default(K),z,"th").elems[0]);return Y=C(H,Y),N.selection.createRangeByElem(H),N.selection.restoreSelection(),N.cmd.do("insertHTML",Y),!0}},{$elem:P.default("<span>"+U("\u53D6\u6D88\u8868\u5934")+"</span>"),onClick:function(N,H){var V=P.default(N.selection.getSelectionStartElem()),G=B.getRowNode(V.elems[0]);if(!G)return!0;var R=Number(B.getCurrentRowIndex(H.elems[0],G));R!==0&&(R=0);var z=B.getTableHtml(H.elems[0]),K=B.getTableHtml(x.default.setTheHeader(P.default(z),R,"td").elems[0]);return K=C(H,K),N.selection.createRangeByElem(H),N.selection.restoreSelection(),N.cmd.do("insertHTML",K),!0}}];S=new h.default(I,f,L),S.create()}function T(){S&&(S.remove(),S=null)}return{showTableTooltip:O,hideTableTooltip:T}}function y(I){var S=I.selection.getSelectionStartElem(),O=I.selection.getSelectionEndElem();return(S==null?void 0:S.elems[0])!==(O==null?void 0:O.elems[0])}function A(I){var S=D(I),O=S.showTableTooltip,T=S.hideTableTooltip;I.txt.eventHooks.tableClickEvents.push(O),I.txt.eventHooks.clickEvents.push(T),I.txt.eventHooks.keyupEvents.push(T),I.txt.eventHooks.toolbarClickEvents.push(T),I.txt.eventHooks.menuClickEvents.push(T),I.txt.eventHooks.textScrollEvents.push(T)}c.default=A;function C(I,S){var O=I.elems[0].nextSibling;return(!O||O.innerHTML==="<br>")&&(S+=""+m.EMPTY_P),S}},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(45)),P=d(r(91)),h=d(r(4)),x=d(r(138));(0,b.default)(c,"__esModule",{value:!0});var E=r(2),m=E.__importDefault(r(3));function D(T,f){for(var B=O(T),u=(0,w.default)(Array.prototype).apply(B.children),U=u[0].children.length,L=document.createElement("tr"),F=0;F<U;F++){var N=document.createElement("td");L.appendChild(N)}return(0,P.default)(u).call(u,f+1,0,L),S(B,u),m.default(B.parentNode)}function y(T,f){for(var B=O(T),u=(0,w.default)(Array.prototype).apply(B.children),U=function(N){var H,V=[];for((0,h.default)(H=(0,x.default)(u[N].children)).call(H,function(z){V.push(z)});u[N].children.length!==0;)u[N].removeChild(u[N].children[0]);var G=m.default(V[0]).getNodeName()!=="TH"?document.createElement("td"):document.createElement("th");(0,P.default)(V).call(V,f+1,0,G);for(var R=0;R<V.length;R++)u[N].appendChild(V[R])},L=0;L<u.length;L++)U(L);return S(B,u),m.default(B.parentNode)}function A(T,f){var B=O(T),u=(0,w.default)(Array.prototype).apply(B.children);return(0,P.default)(u).call(u,f,1),S(B,u),m.default(B.parentNode)}function C(T,f){for(var B=O(T),u=(0,w.default)(Array.prototype).apply(B.children),U=function(N){var H,V=[];for((0,h.default)(H=(0,x.default)(u[N].children)).call(H,function(R){V.push(R)});u[N].children.length!==0;)u[N].removeChild(u[N].children[0]);(0,P.default)(V).call(V,f,1);for(var G=0;G<V.length;G++)u[N].appendChild(V[G])},L=0;L<u.length;L++)U(L);return S(B,u),m.default(B.parentNode)}function I(T,f,B){for(var u=O(T),U=(0,w.default)(Array.prototype).apply(u.children),L=U[f].children,F=document.createElement("tr"),N=function(G){var R,z=document.createElement(B),K=L[G];(0,h.default)(R=(0,x.default)(K.childNodes)).call(R,function(Y){z.appendChild(Y)}),F.appendChild(z)},H=0;H<L.length;H++)N(H);return(0,P.default)(U).call(U,f,1,F),S(u,U),m.default(u.parentNode)}function S(T,f){for(;T.children.length!==0;)T.removeChild(T.children[0]);for(var B=0;B<f.length;B++)T.appendChild(f[B])}function O(T){var f=T.elems[0].children[0];return f.nodeName==="COLGROUP"&&(f=T.elems[0].children[T.elems[0].children.length-1]),f}c.default={ProcessingRow:D,ProcessingCol:y,DeleteRow:A,DeleteCol:C,setTheHeader:I}},function(k,c,r){var d=r(396);k.exports=d},function(k,c,r){r(50),r(397);var d=r(9);k.exports=d.Array.from},function(k,c,r){var d=r(5),b=r(398),w=r(114),P=!w(function(h){Array.from(h)});d({target:"Array",stat:!0,forced:P},{from:b})},function(k,c,r){"use strict";var d=r(39),b=r(29),w=r(113),P=r(111),h=r(34),x=r(69),E=r(112);k.exports=function(D){var y=b(D),A=typeof this=="function"?this:Array,C=arguments.length,I=C>1?arguments[1]:void 0,S=I!==void 0,O=E(y),T=0,f,B,u,U,L,F;if(S&&(I=d(I,C>2?arguments[2]:void 0,2)),O!=null&&!(A==Array&&P(O)))for(U=O.call(y),L=U.next,B=new A;!(u=L.call(U)).done;T++)F=S?w(U,I,[u.value,T],!0):u.value,x(B,T,F);else for(f=h(y.length),B=new A(f);f>T;T++)F=S?I(y[T],T):y[T],x(B,T,F);return B.length=T,B}},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4)),P=d(r(138));(0,b.default)(c,"__esModule",{value:!0});var h=r(2),x=h.__importDefault(r(3)),E=function(){function m(D){this.editor=D}return m.prototype.getRowNode=function(D){var y,A=x.default(D).elems[0];return A.parentNode&&(A=(y=x.default(A).parentUntil("TR",A))===null||y===void 0?void 0:y.elems[0]),A},m.prototype.getCurrentRowIndex=function(D,y){var A,C=0,I=D.children[0];return I.nodeName==="COLGROUP"&&(I=D.children[D.children.length-1]),(0,w.default)(A=(0,P.default)(I.children)).call(A,function(S,O){S===y&&(C=O)}),C},m.prototype.getCurrentColIndex=function(D){var y,A,C=0,I=x.default(D).getNodeName()==="TD"||x.default(D).getNodeName()==="TH"?D:(A=x.default(D).parentUntil("TD",D))===null||A===void 0?void 0:A.elems[0],S=x.default(I).parent();return(0,w.default)(y=(0,P.default)(S.elems[0].children)).call(y,function(O,T){O===I&&(C=T)}),C},m.prototype.getTableHtml=function(D){var y='<table border="0" width="100%" cellpadding="0" cellspacing="0">'+x.default(D).html()+"</table>";return y},m}();c.default=E},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.bindEventKeyboardEvent=c.bindClickEvent=void 0;var w=r(2),P=w.__importDefault(r(3));function h(m){if(!m.length)return!1;var D=m.elems[0];return D.nodeName==="P"&&D.innerHTML==="<br>"}function x(m){function D(y,A){if(A.detail>=3){var C=window.getSelection();if(C){var I=C.focusNode,S=C.anchorNode,O=P.default(S==null?void 0:S.parentElement);if(!y.isContain(P.default(I))){var T=O.elems[0].tagName==="TD"?O:O.parentUntilEditor("td",m);if(T){var f=m.selection.getRange();f==null||f.setEnd(T.elems[0],T.elems[0].childNodes.length),m.selection.restoreSelection()}}}}}m.txt.eventHooks.tableClickEvents.push(D)}c.bindClickEvent=x;function E(m){var D=m.txt,y=m.selection,A=D.eventHooks.keydownEvents;A.push(function(C){m.selection.saveRange();var I=y.getSelectionContainerElem();if(I){var S=I.getNodeTop(m),O=S.length&&S.prev().length?S.prev():null;if(O&&O.getNodeName()==="TABLE"&&y.isSelectionEmpty()&&y.getCursorPos()===0&&C.keyCode===8){var T=S.next(),f=!!T.length;f&&h(S)&&(S.remove(),m.selection.setRangeToElem(T.elems[0])),C.preventDefault()}}})}c.bindEventKeyboardEvent=E},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(26));(0,b.default)(c,"__esModule",{value:!0}),c.formatCodeHtml=void 0;var P=r(2),h=P.__importDefault(r(37)),x=P.__importDefault(r(3)),E=r(6),m=P.__importDefault(r(402)),D=P.__importDefault(r(139)),y=P.__importDefault(r(32)),A=P.__importDefault(r(403));function C(S,O){if(!O)return O;return O=f(O),O=T(O),O=E.replaceSpecialSymbol(O),O;function T(B){var u=B.match(/<pre[\s|\S]+?\/pre>/g);return u===null||(0,w.default)(u).call(u,function(U){B=B.replace(U,U.replace(/<\/code><code>/g,"\n").replace(/<br>/g,""))}),B}function f(B){var u,U=B.match(/<span\sclass="hljs[\s|\S]+?\/span>/gm);if(!U||!U.length)return B;for(var L=(0,w.default)(u=E.deepClone(U)).call(u,function(N){return N=N.replace(/<span\sclass="hljs[^>]+>/,""),N.replace(/<\/span>/,"")}),F=0;F<U.length;F++)B=B.replace(U[F],L[F]);return f(B)}}c.formatCodeHtml=C;var I=function(S){P.__extends(O,S);function O(T){var f=this,B=x.default('<div class="w-e-menu" data-title="\u4EE3\u7801"><i class="w-e-icon-terminal"></i></div>');return f=S.call(this,B,T)||this,A.default(T),f}return O.prototype.insertLineCode=function(T){var f=this.editor,B=x.default("<code>"+T+"</code>");f.cmd.do("insertElem",B),f.selection.createRangeByElem(B,!1),f.selection.restoreSelection()},O.prototype.clickHandler=function(){var T=this.editor,f=T.selection.getSelectionText();this.isActive||(T.selection.isSelectionEmpty()?this.createPanel("",""):this.insertLineCode(f))},O.prototype.createPanel=function(T,f){var B=m.default(this.editor,T,f),u=new y.default(this,B);u.create()},O.prototype.tryChangeActive=function(){var T=this.editor;D.default(T)?this.active():this.unActive()},O}(h.default);c.default=I},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(26));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=r(6),x=P.__importDefault(r(3)),E=P.__importDefault(r(139)),m=r(7);function D(y,A,C){var I,S=h.getRandom("input-iframe"),O=h.getRandom("select"),T=h.getRandom("btn-ok");function f(L){var F,N=E.default(y);N&&B();var H=(F=y.selection.getSelectionStartElem())===null||F===void 0?void 0:F.elems[0].innerHTML;H&&y.cmd.do("insertHTML",m.EMPTY_P),y.cmd.do("insertHTML",L);var V=y.selection.getSelectionStartElem(),G=V==null?void 0:V.getNodeTop(y);(G==null?void 0:G.getNextSibling().elems.length)===0&&x.default(m.EMPTY_P).insertAfter(G)}function B(){if(E.default(y)){var L,F=y.selection.getSelectionStartElem(),N=F==null?void 0:F.getNodeTop(y);N&&(y.selection.createRangeByElem(N),y.selection.restoreSelection(),L=N)}}var u=function(F){return y.i18next.t(F)},U={width:500,height:0,tabs:[{title:u("menus.panelMenus.code.\u63D2\u5165\u4EE3\u7801"),tpl:'<div>\n                        <select name="" id="'+O+'">\n                            '+(0,w.default)(I=y.config.languageType).call(I,function(L){return"<option "+(C==L?"selected":"")+' value ="'+L+'">'+L+"</option>"})+'\n                        </select>\n                        <textarea id="'+S+'" type="text" class="wang-code-textarea" placeholder="" style="height: 160px">'+A.replace(/&quot;/g,'"')+'</textarea>\n                        <div class="w-e-button-container">\n                            <button type="button" id="'+T+'" class="right">'+(E.default(y)?u("\u4FEE\u6539"):u("\u63D2\u5165"))+"</button>\n                        </div>\n                    </div>",events:[{selector:"#"+T,type:"click",fn:function(){var F,N,H=document.getElementById(S),V=x.default("#"+O),G=V.val(),R=H.value;if(y.highlight?F=y.highlight.highlightAuto(R).value:F="<xmp>"+R+"</xmp>",!!R)return E.default(y)?!1:(N='<pre><code class="'+G+'">'+F+"</code></pre>",f(N),!0)}}]}]};return U}c.default=D},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(404)),h=w.__importDefault(r(405));function x(E){P.default(E),h.default(E)}c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.createShowHideFn=void 0;var w=r(2),P=w.__importDefault(r(3)),h=w.__importDefault(r(38));function x(D){var y;function A(I){var S="menus.panelMenus.code.",O=function(B,u){return u===void 0&&(u=S),D.i18next.t(u+B)},T=[{$elem:P.default("<span>"+O("\u5220\u9664\u4EE3\u7801")+"</span>"),onClick:function(B,u){return u.remove(),!0}}];y=new h.default(D,I,T),y.create()}function C(){y&&(y.remove(),y=null)}return{showCodeTooltip:A,hideCodeTooltip:C}}c.createShowHideFn=x;function E(D,y){var A=y.selection.getSelectionContainerElem(),C=A==null?void 0:A.getNodeTop(y),I=C==null?void 0:C.getNodeName();I==="PRE"&&(D.preventDefault(),y.cmd.do("insertHTML","\n\r"))}function m(D){var y=x(D),A=y.showCodeTooltip,C=y.hideCodeTooltip;D.txt.eventHooks.codeClickEvents.push(A),D.txt.eventHooks.clickEvents.push(C),D.txt.eventHooks.toolbarClickEvents.push(C),D.txt.eventHooks.menuClickEvents.push(C),D.txt.eventHooks.textScrollEvents.push(C)}c.default=m},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=r(7),h=w.__importDefault(r(3));function x(E){var m=E.$textElem,D=E.selection,y=E.txt,A=y.eventHooks.keydownEvents;A.push(function(C){var I;if(C.keyCode===40){var S=D.getSelectionContainerElem(),O=(I=m.children())===null||I===void 0?void 0:I.last();if((S==null?void 0:S.elems[0].tagName)==="XMP"&&(O==null?void 0:O.elems[0].tagName)==="PRE"){var T=h.default(P.EMPTY_P);m.append(T)}}}),A.push(function(C){E.selection.saveRange();var I=D.getSelectionContainerElem();if(I){var S=I.getNodeTop(E),O=S==null?void 0:S.prev(),T=S==null?void 0:S.getNextSibling();if(O.length&&(O==null?void 0:O.getNodeName())==="PRE"&&T.length===0&&D.getCursorPos()===0&&C.keyCode===8){var f=h.default(P.EMPTY_P);m.append(f)}}})}c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(23)),h=w.__importDefault(r(3)),x=w.__importDefault(r(407)),E=r(6),m=r(7),D=function(y){w.__extends(A,y);function A(C){var I=this,S=h.default('<div class="w-e-menu" data-title="\u5206\u5272\u7EBF"><i class="w-e-icon-split-line"></i></div>');return I=y.call(this,S,C)||this,x.default(C),I}return A.prototype.clickHandler=function(){var C=this.editor,I=C.selection.getRange(),S=C.selection.getSelectionContainerElem();if(S!=null&&S.length){var O=h.default(S.elems[0]),T=O.parentUntil("TABLE",S.elems[0]),f=O.children();O.getNodeName()!=="CODE"&&(T&&h.default(T.elems[0]).getNodeName()==="TABLE"||f&&f.length!==0&&h.default(f.elems[0]).getNodeName()==="IMG"&&!(I!=null&&I.collapsed)||this.createSplitLine())}},A.prototype.createSplitLine=function(){var C="<hr/>"+m.EMPTY_P;E.UA.isFirefox&&(C="<hr/><p></p>"),this.editor.cmd.do("insertHTML",C)},A.prototype.tryChangeActive=function(){},A}(P.default);c.default=D},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(408));function h(x){P.default(x)}c.default=h},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(3)),h=w.__importDefault(r(38));function x(m){var D;function y(C){var I=[{$elem:P.default("<span>"+m.i18next.t("menus.panelMenus.\u5220\u9664")+"</span>"),onClick:function(O,T){return O.selection.createRangeByElem(T),O.selection.restoreSelection(),O.cmd.do("delete"),!0}}];D=new h.default(m,C,I),D.create()}function A(){D&&(D.remove(),D=null)}return{showSplitLineTooltip:y,hideSplitLineTooltip:A}}function E(m){var D=x(m),y=D.showSplitLineTooltip,A=D.hideSplitLineTooltip;m.txt.eventHooks.splitLineEvents.push(y),m.txt.eventHooks.clickEvents.push(A),m.txt.eventHooks.keyupEvents.push(A),m.txt.eventHooks.toolbarClickEvents.push(A),m.txt.eventHooks.menuClickEvents.push(A),m.txt.eventHooks.textScrollEvents.push(A)}c.default=E},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3)),x=P.__importDefault(r(23)),E=r(97),m=P.__importDefault(r(415)),D=P.__importDefault(r(140)),y=function(A){P.__extends(C,A);function C(I){var S=this,O=h.default('<div class="w-e-menu" data-title="\u5F85\u529E\u4E8B\u9879">\n                    <i class="w-e-icon-checkbox-checked"></i>\n                </div>');return S=A.call(this,O,I)||this,m.default(I),S}return C.prototype.clickHandler=function(){var I=this.editor;E.isAllTodo(I)?(this.cancelTodo(),this.tryChangeActive()):this.setTodo()},C.prototype.tryChangeActive=function(){E.isAllTodo(this.editor)?this.active():this.unActive()},C.prototype.setTodo=function(){var I=this.editor,S=I.selection.getSelectionRangeTopNodes();(0,w.default)(S).call(S,function(O){var T,f=O==null?void 0:O.getNodeName();if(f==="P"){var B=D.default(O),u=B.getTodo(),U=(T=u.children())===null||T===void 0?void 0:T.getNode();u.insertAfter(O),I.selection.moveCursor(U),O.remove()}}),this.tryChangeActive()},C.prototype.cancelTodo=function(){var I=this.editor,S=I.selection.getSelectionRangeTopNodes();(0,w.default)(S).call(S,function(O){var T,f,B,u=(f=(T=O.childNodes())===null||T===void 0?void 0:T.childNodes())===null||f===void 0?void 0:f.clone(!0),U=h.default("<p></p>");U.append(u),U.insertAfter(O),(B=U.childNodes())===null||B===void 0||B.get(0).remove(),I.selection.moveCursor(U.getNode()),O.remove()})},C}(x.default);c.default=y},function(k,c,r){k.exports=r(411)},function(k,c,r){var d=r(412);k.exports=d},function(k,c,r){var d=r(413),b=Array.prototype;k.exports=function(w){var P=w.every;return w===b||w instanceof Array&&P===b.every?d:P}},function(k,c,r){r(414);var d=r(15);k.exports=d("Array").every},function(k,c,r){"use strict";var d=r(5),b=r(30).every,w=r(67),P=r(22),h=w("every"),x=P("every");d({target:"Array",proto:!0,forced:!h||!x},{every:function(m){return b(this,m,arguments.length>1?arguments[1]:void 0)}})},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3)),x=r(97),E=P.__importDefault(r(140)),m=r(97),D=r(7);function y(A){function C(T){var f,B;if(x.isAllTodo(A)){T.preventDefault();var u=A.selection,U=u.getSelectionRangeTopNodes()[0],L=(f=U.childNodes())===null||f===void 0?void 0:f.get(0),F=(B=window.getSelection())===null||B===void 0?void 0:B.anchorNode,N=u.getRange();if(!(N!=null&&N.collapsed)){var H=N==null?void 0:N.commonAncestorContainer.childNodes,V=N==null?void 0:N.startContainer,G=N==null?void 0:N.endContainer,R=N==null?void 0:N.startOffset,z=N==null?void 0:N.endOffset,K=0,Y=0,q=[];H==null||(0,w.default)(H).call(H,function(et,Je){et.contains(V)&&(K=Je),et.contains(G)&&(Y=Je)}),Y-K>1&&(H==null||(0,w.default)(H).call(H,function(et,Je){Je<=K||Je>=Y||q.push(et)}),(0,w.default)(q).call(q,function(et){et.remove()})),m.dealTextNode(V,R),m.dealTextNode(G,z,!1),A.selection.moveCursor(G,0)}if(U.text()===""){var Q=h.default(D.EMPTY_P);Q.insertAfter(U),u.moveCursor(Q.getNode()),U.remove();return}var ee=u.getCursorPos(),oe=x.getCursorNextNode(L==null?void 0:L.getNode(),F,ee),pe=E.default(h.default(oe)),ve=pe.getInputContainer(),Pe=ve.parent().getNode(),He=pe.getTodo(),Ne=ve.getNode().nextSibling;if((L==null?void 0:L.text())===""&&(L==null||L.append(h.default("<br>"))),He.insertAfter(U),!Ne||(Ne==null?void 0:Ne.textContent)===""){if((Ne==null?void 0:Ne.nodeName)!=="BR"){var Ze=h.default("<br>");Ze.insertAfter(ve)}u.moveCursor(Pe,1)}else u.moveCursor(Pe)}}function I(T){var f,B;if(x.isAllTodo(A)){var u=A.selection,U=u.getSelectionRangeTopNodes()[0],L=(f=U.childNodes())===null||f===void 0?void 0:f.getNode(),F=h.default("<p></p>"),N=F.getNode(),H=(B=window.getSelection())===null||B===void 0?void 0:B.anchorNode,V=u.getCursorPos(),G=H.previousSibling;if(U.text()===""){T.preventDefault();var R=h.default(D.EMPTY_P);R.insertAfter(U),U.remove(),u.moveCursor(R.getNode(),0);return}if((G==null?void 0:G.nodeName)==="SPAN"&&G.childNodes[0].nodeName==="INPUT"&&V===0){var z;T.preventDefault(),L==null||(0,w.default)(z=L.childNodes).call(z,function(K,Y){Y!==0&&N.appendChild(K.cloneNode(!0))}),F.insertAfter(U),U.remove()}}}function S(){var T=A.selection,f=T.getSelectionRangeTopNodes()[0];f&&m.isTodo(f)&&f.text()===""&&(h.default(D.EMPTY_P).insertAfter(f),f.remove())}function O(T){T&&T.target instanceof HTMLInputElement&&T.target.type==="checkbox"&&(T.target.checked?T.target.setAttribute("checked","true"):T.target.removeAttribute("checked"))}A.txt.eventHooks.enterDownEvents.push(C),A.txt.eventHooks.deleteUpEvents.push(S),A.txt.eventHooks.deleteDownEvents.push(I),A.txt.eventHooks.clickEvents.push(O)}c.default=y},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.selectorValidator=void 0;var w=r(2),P=w.__importDefault(r(3)),h=r(6),x=r(7),E=w.__importDefault(r(129)),m={border:"1px solid #c9d8db",toolbarBgColor:"#FFF",toolbarBottomBorder:"1px solid #EEE"};function D(A){var C=A.toolbarSelector,I=P.default(C),S=A.textSelector,O=A.config,T=O.height,f=A.i18next,B=P.default("<div></div>"),u=P.default("<div></div>"),U,L,F=null;S==null?(L=I.children(),I.append(B).append(u),B.css("background-color",m.toolbarBgColor).css("border",m.border).css("border-bottom",m.toolbarBottomBorder),u.css("border",m.border).css("border-top","none").css("height",T+"px")):(I.append(B),F=P.default(S).children(),P.default(S).append(u),L=u.children()),U=P.default("<div></div>"),U.attr("contenteditable","true").css("width","100%").css("height","100%");var N,H=A.config.placeholder;H!==E.default.placeholder?N=P.default("<div>"+H+"</div>"):N=P.default("<div>"+f.t(H)+"</div>"),N.addClass("placeholder"),L&&L.length?(U.append(L),N.hide()):U.append(P.default(x.EMPTY_P)),F&&F.length&&(U.append(F),N.hide()),u.append(U),u.append(N),B.addClass("w-e-toolbar").css("z-index",A.zIndex.get("toolbar")),u.addClass("w-e-text-container"),u.css("z-index",A.zIndex.get()),U.addClass("w-e-text");var V=h.getRandom("toolbar-elem");B.attr("id",V);var G=h.getRandom("text-elem");U.attr("id",G);var R=u.getBoundingClientRect().height,z=U.getBoundingClientRect().height;R!==z&&U.css("min-height",R+"px"),A.$toolbarElem=B,A.$textContainerElem=u,A.$textElem=U,A.toolbarElemId=V,A.textElemId=G}c.default=D;function y(A){var C="data-we-id",I=/^wangEditor-\d+$/,S=A.textSelector,O=A.toolbarSelector,T={bar:P.default("<div></div>"),text:P.default("<div></div>")};if(O==null)throw new Error("\u9519\u8BEF\uFF1A\u521D\u59CB\u5316\u7F16\u8F91\u5668\u65F6\u5019\u672A\u4F20\u5165\u4EFB\u4F55\u53C2\u6570\uFF0C\u8BF7\u67E5\u9605\u6587\u6863");if(T.bar=P.default(O),!T.bar.elems.length)throw new Error("\u65E0\u6548\u7684\u8282\u70B9\u9009\u62E9\u5668\uFF1A"+O);if(I.test(T.bar.attr(C)))throw new Error("\u521D\u59CB\u5316\u8282\u70B9\u5DF2\u5B58\u5728\u7F16\u8F91\u5668\u5B9E\u4F8B\uFF0C\u65E0\u6CD5\u91CD\u590D\u521B\u5EFA\u7F16\u8F91\u5668");if(S){if(T.text=P.default(S),!T.text.elems.length)throw new Error("\u65E0\u6548\u7684\u8282\u70B9\u9009\u62E9\u5668\uFF1A"+S);if(I.test(T.text.attr(C)))throw new Error("\u521D\u59CB\u5316\u8282\u70B9\u5DF2\u5B58\u5728\u7F16\u8F91\u5668\u5B9E\u4F8B\uFF0C\u65E0\u6CD5\u91CD\u590D\u521B\u5EFA\u7F16\u8F91\u5668")}T.bar.attr(C,A.id),T.text.attr(C,A.id),A.beforeDestroy(function(){T.bar.removeAttr(C),T.text.removeAttr(C)})}c.selectorValidator=y},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(3)),h=r(7);function x(E,m){var D=E.$textElem,y=D.children();if(!y||!y.length){D.append(P.default(h.EMPTY_P)),x(E);return}var A=y.last();if(m){var C=A.html().toLowerCase(),I=A.getNodeName();if(C!=="<br>"&&C!=="<br/>"||I!=="P"){D.append(P.default(h.EMPTY_P)),x(E);return}}E.selection.createRangeByElem(A,!1,!0),E.config.focus?E.selection.restoreSelection():E.selection.clearWindowSelectionRange()}c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3));function x(C){E(C),m(C),D(C)}function E(C){C.txt.eventHooks.changeEvents.push(function(){var I=C.config.onchange;if(I){var S=C.txt.html()||"";C.isFocus=!0,I(S)}C.txt.togglePlaceholder()})}function m(C){C.isFocus=!1;function I(S){var O=S.target,T=h.default(O),f=C.$textElem,B=C.$toolbarElem,u=f.isContain(T),U=B.isContain(T),L=B.elems[0]==S.target;if(u)C.isFocus||A(C),C.isFocus=!0;else{if(U&&!L||!C.isFocus)return;y(C),C.isFocus=!1}}document.activeElement===C.$textElem.elems[0]&&C.config.focus&&(A(C),C.isFocus=!0),h.default(document).on("click",I),C.beforeDestroy(function(){h.default(document).off("click",I)})}function D(C){C.$textElem.on("compositionstart",function(){C.isComposing=!0,C.txt.togglePlaceholder()}).on("compositionend",function(){C.isComposing=!1,C.txt.togglePlaceholder()})}function y(C){var I,S=C.config,O=S.onblur,T=C.txt.html()||"";(0,w.default)(I=C.txt.eventHooks.onBlurEvents).call(I,function(f){return f()}),O(T)}function A(C){var I=C.config,S=I.onfocus,O=C.txt.html()||"";S(O)}c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});function w(P){var h=P.config,x=h.lang,E=h.languages;if(P.i18next!=null){try{P.i18next.init({ns:"wangEditor",lng:x,defaultNS:"wangEditor",resources:E})}catch(m){throw new Error("i18next:"+m)}return}P.i18next={t:function(D){var y=D.split(".");return y[y.length-1]}}}c.default=w},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(31));(0,b.default)(c,"__esModule",{value:!0}),c.setUnFullScreen=c.setFullScreen=void 0;var P=r(2),h=P.__importDefault(r(3));r(421);var x="w-e-icon-fullscreen",E="w-e-icon-fullscreen_exit",m="w-e-full-screen-editor";c.setFullScreen=function(y){var A=h.default(y.toolbarSelector),C=y.$textContainerElem,I=y.$toolbarElem,S=(0,w.default)(I).call(I,"i."+x),O=y.config;S.removeClass(x),S.addClass(E),A.addClass(m),A.css("z-index",O.zIndexFullScreen);var T=I.getBoundingClientRect();C.css("height","calc(100% - "+T.height+"px)")},c.setUnFullScreen=function(y){var A=h.default(y.toolbarSelector),C=y.$textContainerElem,I=y.$toolbarElem,S=(0,w.default)(I).call(I,"i."+E),O=y.config;S.removeClass(E),S.addClass(x),A.removeClass(m),A.css("z-index","auto"),C.css("height",O.height+"px")};var D=function(A){if(!A.textSelector&&A.config.showFullScreen){var C=A.$toolbarElem,I=h.default('<div class="w-e-menu" data-title="\u5168\u5C4F">\n            <i class="'+x+'"></i>\n        </div>');I.on("click",function(S){var O,T=(0,w.default)(O=h.default(S.currentTarget)).call(O,"i");T.hasClass(x)?(I.attr("data-title","\u53D6\u6D88\u5168\u5C4F"),c.setFullScreen(A)):(I.attr("data-title","\u5168\u5C4F"),c.setUnFullScreen(A))}),C.append(I)}};c.default=D},function(k,c,r){var d=r(20),b=r(422);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[k.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var P=d(b,w);k.exports=b.locals||{}},function(k,c,r){var d=r(21);c=d(!1),c.push([k.i,".w-e-full-screen-editor {\n  position: fixed;\n  width: 100%!important;\n  height: 100%!important;\n  left: 0;\n  top: 0;\n}\n",""]),k.exports=c},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(31));(0,b.default)(c,"__esModule",{value:!0});var P=function(x,E){var m,D=x.isEnable?x.$textElem:(0,w.default)(m=x.$textContainerElem).call(m,".w-e-content-mantle"),y=(0,w.default)(D).call(D,"[id='"+E+"']"),A=y.getOffsetData().top;D.scrollTop(A)};c.default=P},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(128)),h={menu:2,panel:2,toolbar:1,tooltip:1,textContainer:1},x=function(){function E(){this.tier=h,this.baseZIndex=P.default.zIndex}return E.prototype.get=function(m){return m&&this.tier[m]?this.baseZIndex+this.tier[m]:this.baseZIndex},E.prototype.init=function(m){this.baseZIndex==P.default.zIndex&&(this.baseZIndex=m.config.zIndex)},E}();c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(70)),P=d(r(4));(0,b.default)(c,"__esModule",{value:!0});var h=r(2),x=h.__importDefault(r(426)),E=r(6),m=r(7);function D(A,C){return(0,w.default)(A).call(A,function(I){var S=I.type,O=I.target,T=I.attributeName;return S!="attributes"||S=="attributes"&&(T=="contenteditable"||O!=C)})}var y=function(A){h.__extends(C,A);function C(I){var S=A.call(this,function(O,T){var f;if(O=D(O,T.target),(f=S.data).push.apply(f,O),I.isCompatibleMode)S.asyncSave();else if(!I.isComposing)return S.asyncSave()})||this;return S.editor=I,S.data=[],S.asyncSave=m.EMPTY_FN,S}return C.prototype.save=function(){this.data.length&&(this.editor.history.save(this.data),this.data.length=0,this.emit())},C.prototype.emit=function(){var I;(0,P.default)(I=this.editor.txt.eventHooks.changeEvents).call(I,function(S){return S()})},C.prototype.observe=function(){var I=this;A.prototype.observe.call(this,this.editor.$textElem.elems[0]);var S=this.editor.config.onchangeTimeout;this.asyncSave=E.debounce(function(){I.save()},S),this.editor.isCompatibleMode||this.editor.$textElem.on("compositionend",function(){I.asyncSave()})},C}(x.default);c.default=y},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=function(){function P(h,x){var E=this;this.options={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0},this.callback=function(m){h(m,E)},this.observer=new MutationObserver(this.callback),x&&(this.options=x)}return(0,b.default)(P.prototype,"target",{get:function(){return this.node},enumerable:!1,configurable:!0}),P.prototype.observe=function(h){this.node instanceof Node||(this.node=h,this.connect())},P.prototype.connect=function(){if(this.node)return this.observer.observe(this.node,this.options),this;throw new Error("\u8FD8\u672A\u521D\u59CB\u5316\u7ED1\u5B9A\uFF0C\u8BF7\u60A8\u5148\u7ED1\u5B9A\u6709\u6548\u7684 Node \u8282\u70B9")},P.prototype.disconnect=function(){var h=this.observer.takeRecords();h.length&&this.callback(h),this.observer.disconnect()},P}();c.default=w},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(428)),h=w.__importDefault(r(435)),x=w.__importDefault(r(436)),E=function(){function m(D){this.editor=D,this.content=new P.default(D),this.scroll=new h.default(D),this.range=new x.default(D)}return(0,b.default)(m.prototype,"size",{get:function(){return this.scroll.size},enumerable:!1,configurable:!0}),m.prototype.observe=function(){this.content.observe(),this.scroll.observe(),!this.editor.isCompatibleMode&&this.range.observe()},m.prototype.save=function(D){D.length&&(this.content.save(D),this.scroll.save(),!this.editor.isCompatibleMode&&this.range.save())},m.prototype.revoke=function(){this.editor.change.disconnect();var D=this.content.revoke();D&&(this.scroll.revoke(),this.editor.isCompatibleMode||(this.range.revoke(),this.editor.$textElem.focus())),this.editor.change.connect(),D&&this.editor.change.emit()},m.prototype.restore=function(){this.editor.change.disconnect();var D=this.content.restore();D&&(this.scroll.restore(),this.editor.isCompatibleMode||(this.range.restore(),this.editor.$textElem.focus())),this.editor.change.connect(),D&&this.editor.change.emit()},m}();c.default=E},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(429)),h=w.__importDefault(r(433)),x=function(){function E(m){this.editor=m}return E.prototype.observe=function(){this.editor.isCompatibleMode?this.cache=new h.default(this.editor):this.cache=new P.default(this.editor),this.cache.observe()},E.prototype.save=function(m){this.editor.isCompatibleMode?this.cache.save():this.cache.compile(m)},E.prototype.revoke=function(){var m;return(m=this.cache)===null||m===void 0?void 0:m.revoke()},E.prototype.restore=function(){var m;return(m=this.cache)===null||m===void 0?void 0:m.restore()},E}();c.default=x},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(98)),h=w.__importDefault(r(431)),x=r(432),E=function(m){w.__extends(D,m);function D(y){var A=m.call(this,y.config.historyMaxSize)||this;return A.editor=y,A}return D.prototype.observe=function(){this.resetMaxSize(this.editor.config.historyMaxSize)},D.prototype.compile=function(y){return this.save(h.default(y)),this},D.prototype.revoke=function(){return m.prototype.revoke.call(this,function(y){x.revoke(y)})},D.prototype.restore=function(){return m.prototype.restore.call(this,function(y){x.restore(y)})},D}(P.default);c.default=E},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0}),c.CeilStack=void 0;var w=function(){function P(h){h===void 0&&(h=0),this.data=[],this.max=0,this.reset=!1,h=Math.abs(h),h&&(this.max=h)}return P.prototype.resetMax=function(h){h=Math.abs(h),!this.reset&&!isNaN(h)&&(this.max=h,this.reset=!0)},(0,b.default)(P.prototype,"size",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),P.prototype.instack=function(h){return this.data.unshift(h),this.max&&this.size>this.max&&(this.data.length=this.max),this},P.prototype.outstack=function(){return this.data.shift()},P.prototype.clear=function(){return this.data.length=0,this},P}();c.CeilStack=w},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4)),P=d(r(27));(0,b.default)(c,"__esModule",{value:!0}),c.compliePosition=c.complieNodes=c.compileValue=c.compileType=void 0;var h=r(6);function x(I){switch(I){case"childList":return"node";case"attributes":return"attr";default:return"text"}}c.compileType=x;function E(I){switch(I.type){case"attributes":return I.target.getAttribute(I.attributeName)||"";case"characterData":return I.target.textContent;default:return""}}c.compileValue=E;function m(I){var S={};return I.addedNodes.length&&(S.add=h.toArray(I.addedNodes)),I.removedNodes.length&&(S.remove=h.toArray(I.removedNodes)),S}c.complieNodes=m;function D(I){var S;return I.previousSibling?S={type:"before",target:I.previousSibling}:I.nextSibling?S={type:"after",target:I.nextSibling}:S={type:"parent",target:I.target},S}c.compliePosition=D;var y=["UL","OL","H1","H2","H3","H4","H5","H6"];function A(I){var S=[],O=!1,T=[];return(0,w.default)(I).call(I,function(f,B){var u={type:x(f.type),target:f.target,attr:f.attributeName||"",value:E(f)||"",oldValue:f.oldValue||"",nodes:m(f),position:D(f)};if(S.push(u),!!h.UA.isFirefox){if(O&&f.addedNodes.length&&f.addedNodes[0].nodeType==1){var U=f.addedNodes[0],L={type:"node",target:U,attr:"",value:"",oldValue:"",nodes:{add:[O]},position:{type:"parent",target:U}};(0,P.default)(y).call(y,U.nodeName)!=-1?(L.nodes.add=h.toArray(U.childNodes),S.push(L)):O.nodeType==3?(C(U,T)&&(L.nodes.add=h.toArray(U.childNodes)),S.push(L)):(0,P.default)(y).call(y,f.target.nodeName)==-1&&C(U,T)&&(L.nodes.add=h.toArray(U.childNodes),S.push(L))}u.type=="node"&&f.removedNodes.length==1?(O=f.removedNodes[0],T.push(O)):(O=!1,T.length=0)}}),S}c.default=A;function C(I,S){for(var O=0,T=S.length-1;T>0&&I.contains(S[T]);T--)O++;return O}},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(4)),P=d(r(94));(0,b.default)(c,"__esModule",{value:!0}),c.restore=c.revoke=void 0;function h(T,f){var B=T.position.target;switch(T.position.type){case"before":B.nextSibling?(B=B.nextSibling,(0,w.default)(f).call(f,function(u){T.target.insertBefore(u,B)})):(0,w.default)(f).call(f,function(u){T.target.appendChild(u)});break;case"after":(0,w.default)(f).call(f,function(u){T.target.insertBefore(u,B)});break;default:(0,w.default)(f).call(f,function(u){B.appendChild(u)});break}}function x(T){for(var f=0,B=(0,P.default)(T.nodes);f<B.length;f++){var u=B[f],U=u[0],L=u[1];switch(U){case"add":(0,w.default)(L).call(L,function(F){T.target.removeChild(F)});break;default:{h(T,L);break}}}}function E(T){var f=T.target;T.oldValue==null?f.removeAttribute(T.attr):f.setAttribute(T.attr,T.oldValue)}function m(T){T.target.textContent=T.oldValue}var D={node:x,text:m,attr:E};function y(T){for(var f=T.length-1;f>-1;f--){var B=T[f];D[B.type](B)}}c.revoke=y;function A(T){for(var f=0,B=(0,P.default)(T.nodes);f<B.length;f++){var u=B[f],U=u[0],L=u[1];switch(U){case"add":{h(T,L);break}default:{(0,w.default)(L).call(L,function(F){F.parentNode.removeChild(F)});break}}}}function C(T){T.target.textContent=T.value}function I(T){T.target.setAttribute(T.attr,T.value)}var S={node:A,text:C,attr:I};function O(T){for(var f=0,B=T;f<B.length;f++){var u=B[f];S[u.type](u)}}c.restore=O},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(434),P=function(){function h(x){this.editor=x,this.data=new w.TailChain}return h.prototype.observe=function(){this.data.resetMax(this.editor.config.historyMaxSize),this.data.insertLast(this.editor.$textElem.html())},h.prototype.save=function(){return this.data.insertLast(this.editor.$textElem.html()),this},h.prototype.revoke=function(){var x=this.data.prev();return x?(this.editor.$textElem.html(x),!0):!1},h.prototype.restore=function(){var x=this.data.next();return x?(this.editor.$textElem.html(x),!0):!1},h}();c.default=P},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(91));(0,b.default)(c,"__esModule",{value:!0}),c.TailChain=void 0;var P=function(){function h(){this.data=[],this.max=0,this.point=0,this.isRe=!1}return h.prototype.resetMax=function(x){x=Math.abs(x),x&&(this.max=x)},(0,b.default)(h.prototype,"size",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),h.prototype.insertLast=function(x){if(this.isRe){var E;(0,w.default)(E=this.data).call(E,this.point+1),this.isRe=!1}for(this.data.push(x);this.max&&this.size>this.max;)this.data.shift();return this.point=this.size-1,this},h.prototype.current=function(){return this.data[this.point]},h.prototype.prev=function(){if(!this.isRe&&(this.isRe=!0),this.point--,this.point<0){this.point=0;return}return this.current()},h.prototype.next=function(){if(!this.isRe&&(this.isRe=!0),this.point++,this.point>=this.size){this.point=this.size-1;return}return this.current()},h}();c.TailChain=P},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(98)),h=function(x){w.__extends(E,x);function E(m){var D=x.call(this,m.config.historyMaxSize)||this;return D.editor=m,D.last=0,D.target=m.$textElem.elems[0],D}return E.prototype.observe=function(){var m=this;this.target=this.editor.$textElem.elems[0],this.editor.$textElem.on("scroll",function(){m.last=m.target.scrollTop}),this.resetMaxSize(this.editor.config.historyMaxSize)},E.prototype.save=function(){return x.prototype.save.call(this,[this.last,this.target.scrollTop]),this},E.prototype.revoke=function(){var m=this;return x.prototype.revoke.call(this,function(D){m.target.scrollTop=D[0]})},E.prototype.restore=function(){var m=this;return x.prototype.restore.call(this,function(D){m.target.scrollTop=D[1]})},E}(P.default);c.default=h},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=r(2),P=w.__importDefault(r(98)),h=w.__importDefault(r(3)),x=r(6);function E(D){return{start:[D.startContainer,D.startOffset],end:[D.endContainer,D.endOffset],root:D.commonAncestorContainer,collapsed:D.collapsed}}var m=function(D){w.__extends(y,D);function y(A){var C=D.call(this,A.config.historyMaxSize)||this;return C.editor=A,C.lastRange=E(document.createRange()),C.root=A.$textElem.elems[0],C.updateLastRange=x.debounce(function(){C.lastRange=E(C.rangeHandle)},A.config.onchangeTimeout),C}return(0,b.default)(y.prototype,"rangeHandle",{get:function(){var C=document.getSelection();return C&&C.rangeCount?C.getRangeAt(0):document.createRange()},enumerable:!1,configurable:!0}),y.prototype.observe=function(){var A=this;this.root=this.editor.$textElem.elems[0],this.resetMaxSize(this.editor.config.historyMaxSize);function C(){var S=A.rangeHandle;(A.root===S.commonAncestorContainer||A.root.contains(S.commonAncestorContainer))&&(A.editor.isComposing||A.updateLastRange())}function I(S){(S.key=="Backspace"||S.key=="Delete")&&A.updateLastRange()}h.default(document).on("selectionchange",C),this.editor.beforeDestroy(function(){h.default(document).off("selectionchange",C)}),A.editor.$textElem.on("keydown",I)},y.prototype.save=function(){var A=E(this.rangeHandle);return D.prototype.save.call(this,[this.lastRange,A]),this.lastRange=A,this},y.prototype.set=function(A){try{if(A){var C=this.rangeHandle;return C.setStart.apply(C,A.start),C.setEnd.apply(C,A.end),this.editor.menus.changeActive(),!0}}catch(I){return!1}return!1},y.prototype.revoke=function(){var A=this;return D.prototype.revoke.call(this,function(C){A.set(C[0])})},y.prototype.restore=function(){var A=this;return D.prototype.restore.call(this,function(C){A.set(C[1])})},y}(P.default);c.default=m},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(31));(0,b.default)(c,"__esModule",{value:!0});var P=r(2),h=P.__importDefault(r(3));r(438);function x(E){var m=!1,D,y;E.txt.eventHooks.changeEvents.push(function(){m&&(0,w.default)(D).call(D,".w-e-content-preview").html(E.$textElem.html())});function A(){if(!m){E.$textElem.hide();var I=E.zIndex.get("textContainer"),S=E.txt.html();D=h.default('<div class="w-e-content-mantle" style="z-index:'+I+'">\n                <div class="w-e-content-preview w-e-text">'+S+"</div>\n            </div>"),E.$textContainerElem.append(D);var O=E.zIndex.get("menu");y=h.default('<div class="w-e-menue-mantle" style="z-index:'+O+'"></div>'),E.$toolbarElem.append(y),m=!0,E.isEnable=!1}}function C(){m&&(D.remove(),y.remove(),E.$textElem.show(),m=!1,E.isEnable=!0)}return{disable:A,enable:C}}c.default=x},function(k,c,r){var d=r(20),b=r(439);b=b.__esModule?b.default:b,typeof b=="string"&&(b=[[k.i,b,""]]);var w={};w.insert="head",w.singleton=!1;var P=d(b,w);k.exports=b.locals||{}},function(k,c,r){var d=r(21);c=d(!1),c.push([k.i,".w-e-content-mantle {\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n}\n.w-e-content-mantle .w-e-content-preview {\n  width: 100%;\n  min-height: 100%;\n  padding: 0 10px;\n  line-height: 1.5;\n}\n.w-e-content-mantle .w-e-content-preview img {\n  cursor: default;\n}\n.w-e-content-mantle .w-e-content-preview img:hover {\n  box-shadow: none;\n}\n.w-e-menue-mantle {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n}\n",""]),k.exports=c},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0});var w=function(){function P(h){var x=this;this.editor=h;var E=function(){var D=document.activeElement;D===h.$textElem.elems[0]&&x.emit()};window.document.addEventListener("selectionchange",E),this.editor.beforeDestroy(function(){window.document.removeEventListener("selectionchange",E)})}return P.prototype.emit=function(){var h,x=this.editor.config.onSelectionChange;if(x){var E=this.editor.selection;E.saveRange(),E.isSelectionEmpty()||x({text:E.getSelectionText(),html:(h=E.getSelectionContainerElem())===null||h===void 0?void 0:h.elems[0].innerHTML,selection:E})}},P}();c.default=w},function(k,c,r){"use strict";var d=r(0),b=d(r(1)),w=d(r(127)),P=d(r(94)),h=d(r(4));(0,b.default)(c,"__esModule",{value:!0}),c.registerPlugin=void 0;var x=r(2),E=x.__importDefault(r(87)),m=r(6);function D(A,C,I){if(!A)throw new TypeError("name is not define");if(!C)throw new TypeError("options is not define");if(!C.intention)throw new TypeError("options.intention is not define");if(C.intention&&typeof C.intention!="function")throw new TypeError("options.intention is not function");I[A]&&console.warn("plugin "+A+" \u5DF2\u5B58\u5728\uFF0C\u5DF2\u8986\u76D6\u3002"),I[A]=C}c.registerPlugin=D;function y(A){var C=(0,w.default)({},m.deepClone(E.default.globalPluginsFunctionList),m.deepClone(A.pluginsFunctionList)),I=(0,P.default)(C);(0,h.default)(I).call(I,function(S){var O=S[0],T=S[1];console.info("plugin "+O+" initializing");var f=T.intention,B=T.config;f(A,B),console.info("plugin "+O+" initialization complete")})}c.default=y},function(k,c,r){"use strict";var d=r(0),b=d(r(1));(0,b.default)(c,"__esModule",{value:!0})}]).default})},7145:function(ce,k,c){var r=c(66266),d=c(42584),b=c(62681);function w(h,x){var E=new b(x);return E.process(h)}k=ce.exports=w,k.filterXSS=w,k.FilterXSS=b,function(){for(var h in r)k[h]=r[h];for(var x in d)k[x]=d[x]}(),typeof window<"u"&&(window.filterXSS=ce.exports);function P(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}P()&&(self.filterXSS=ce.exports)},84515:function(ce){"use strict";ce.exports=canvg},29750:function(ce){"use strict";ce.exports=dompurify},75177:function(ce){"use strict";ce.exports=html2canvas}},Ol={};function It(ce){var k=Ol[ce];if(k!==void 0)return k.exports;var c=Ol[ce]={id:ce,loaded:!1,exports:{}};return Il[ce].call(c.exports,c,c.exports,It),c.loaded=!0,c.exports}It.m=Il,function(){It.amdO={}}(),function(){var ce=[];It.O=function(k,c,r,d){if(c){d=d||0;for(var b=ce.length;b>0&&ce[b-1][2]>d;b--)ce[b]=ce[b-1];ce[b]=[c,r,d];return}for(var w=1/0,b=0;b<ce.length;b++){for(var c=ce[b][0],r=ce[b][1],d=ce[b][2],P=!0,h=0;h<c.length;h++)(d&!1||w>=d)&&Object.keys(It.O).every(function(A){return It.O[A](c[h])})?c.splice(h--,1):(P=!1,d<w&&(w=d));if(P){ce.splice(b--,1);var x=r();x!==void 0&&(k=x)}}return k}}(),function(){It.n=function(ce){var k=ce&&ce.__esModule?function(){return ce.default}:function(){return ce};return It.d(k,{a:k}),k}}(),function(){var ce=Object.getPrototypeOf?function(c){return Object.getPrototypeOf(c)}:function(c){return c.__proto__},k;It.t=function(c,r){if(r&1&&(c=this(c)),r&8||typeof c=="object"&&c&&(r&4&&c.__esModule||r&16&&typeof c.then=="function"))return c;var d=Object.create(null);It.r(d);var b={};k=k||[null,ce({}),ce([]),ce(ce)];for(var w=r&2&&c;typeof w=="object"&&!~k.indexOf(w);w=ce(w))Object.getOwnPropertyNames(w).forEach(function(P){return b[P]=function(){return c[P]}});return b.default=function(){return c},It.d(d,b),d}}(),function(){It.d=function(ce,k){for(var c in k)It.o(k,c)&&!It.o(ce,c)&&Object.defineProperty(ce,c,{enumerable:!0,get:k[c]})}}(),function(){It.f={},It.e=function(ce){return Promise.all(Object.keys(It.f).reduce(function(k,c){return It.f[c](ce,k),k},[]))}}(),function(){It.u=function(ce){return""+ce+"-"+{164:"aa2f50e2014df2d29794",848:"517f24ce58e098d788e5",856:"343ff6288383fe0e57dd"}[ce]+".js"}}(),function(){It.miniCssF=function(ce){}}(),function(){It.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(ce){if(typeof window=="object")return window}}()}(),function(){It.hmd=function(ce){return ce=Object.create(ce),ce.children||(ce.children=[]),Object.defineProperty(ce,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+ce.id)}}),ce}}(),function(){It.o=function(ce,k){return Object.prototype.hasOwnProperty.call(ce,k)}}(),function(){var ce={},k="@mb2023/mb-workspace:";It.l=function(c,r,d,b){if(ce[c]){ce[c].push(r);return}var w,P;if(d!==void 0)for(var h=document.getElementsByTagName("script"),x=0;x<h.length;x++){var E=h[x];if(E.getAttribute("src")==c||E.getAttribute("data-webpack")==k+d){w=E;break}}w||(P=!0,w=document.createElement("script"),w.charset="utf-8",w.timeout=120,It.nc&&w.setAttribute("nonce",It.nc),w.setAttribute("data-webpack",k+d),w.src=c),ce[c]=[r];var m=function(y,A){w.onerror=w.onload=null,clearTimeout(D);var C=ce[c];if(delete ce[c],w.parentNode&&w.parentNode.removeChild(w),C&&C.forEach(function(I){return I(A)}),y)return y(A)},D=setTimeout(m.bind(null,void 0,{type:"timeout",target:w}),12e4);w.onerror=m.bind(null,w.onerror),w.onload=m.bind(null,w.onload),P&&document.head.appendChild(w)}}(),function(){It.r=function(ce){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ce,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ce,"__esModule",{value:!0})}}(),function(){It.nmd=function(ce){return ce.paths=[],ce.children||(ce.children=[]),ce}}(),function(){It.j=96}(),function(){It.p="/mb-workspace/"}(),function(){var ce={96:0};It.f.j=function(r,d){var b=It.o(ce,r)?ce[r]:void 0;if(b!==0)if(b)d.push(b[2]);else{var w=new Promise(function(E,m){return b=ce[r]=[E,m]});d.push(b[2]=w);var P=It.p+It.u(r),h=new Error,x=function(E){if(It.o(ce,r)&&(b=ce[r],b!==0&&(ce[r]=void 0),b)){var m=E&&(E.type==="load"?"missing":E.type),D=E&&E.target&&E.target.src;h.message="Loading chunk "+r+" failed.\n("+m+": "+D+")",h.name="ChunkLoadError",h.type=m,h.request=D,b[1](h)}};It.l(P,x,"chunk-"+r,r)}},It.O.j=function(r){return ce[r]===0};var k=function(r,d){var b=d[0],w=d[1],P=d[2],h,x,E=0;if(b.some(function(D){return ce[D]!==0})){for(h in w)It.o(w,h)&&(It.m[h]=w[h]);if(P)var m=P(It)}for(r&&r(d);E<b.length;E++)x=b[E],It.o(ce,x)&&ce[x]&&ce[x][0](),ce[x]=0;return It.O(m)},c=self.webpackChunk_mb2023_mb_workspace=self.webpackChunk_mb2023_mb_workspace||[];c.forEach(k.bind(null,0)),c.push=k.bind(null,c.push.bind(c))}(),function(){It.nc=void 0}(),It.O(void 0,[736],function(){return It(76557)}),It.O(void 0,[736],function(){return It(10477)}),It.O(void 0,[736],function(){return It(62669)}),It.O(void 0,[736],function(){return It(12403)});var Dl=It.O(void 0,[736],function(){return It(79172)});Dl=It.O(Dl)})();

//# sourceMappingURL=preview-html-zip-8978790eaf6891893209.js.map